export function getHtml(){
  return "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Admin</title>\n    <script type=\"module\" crossorigin>var e5=Object.defineProperty;var H2=n=>{throw TypeError(n)};var t5=(n,e,t)=>e in n?e5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Lv=(n,e,t)=>t5(n,typeof e!=\"symbol\"?e+\"\":e,t),Bv=(n,e,t)=>e.has(n)||H2(\"Cannot \"+t);var Io=(n,e,t)=>(Bv(n,e,\"read from private field\"),t?t.call(n):e.get(n)),lf=(n,e,t)=>e.has(n)?H2(\"Cannot add the same private member more than once\"):e instanceof WeakSet?e.add(n):e.set(n,t),Fv=(n,e,t,r)=>(Bv(n,e,\"write to private field\"),r?r.call(n,t):e.set(n,t),t),q2=(n,e,t)=>(Bv(n,e,\"access private method\"),t);(function(){const e=document.createElement(\"link\").relList;if(e&&e.supports&&e.supports(\"modulepreload\"))return;for(const i of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type===\"childList\")for(const o of s.addedNodes)o.tagName===\"LINK\"&&o.rel===\"modulepreload\"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin===\"use-credentials\"?s.credentials=\"include\":i.crossOrigin===\"anonymous\"?s.credentials=\"omit\":s.credentials=\"same-origin\",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const n5=\"5\";typeof window<\"u\"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(n5);let Lu=!1,r5=!1;function i5(){Lu=!0}i5();const Cb=1,Sb=2,Y_=4,s5=8,o5=16,a5=1,l5=2,G_=4,c5=8,u5=16,f5=4,Q_=1,d5=2,mi=Symbol(),d0=!1,hs=2,Z_=4,qd=8,Em=16,Co=32,Bu=64,sg=128,go=256,og=512,ai=1024,So=2048,rl=4096,Uo=8192,Fu=16384,$_=32768,ju=65536,ek=1<<17,h5=1<<19,tk=1<<20,lo=Symbol(\"$state\"),nk=Symbol(\"legacy props\"),p5=Symbol(\"\");var zu=Array.isArray,g5=Array.prototype.indexOf,_b=Array.from,rk=Object.defineProperty,Ko=Object.getOwnPropertyDescriptor,ik=Object.getOwnPropertyDescriptors,m5=Object.prototype,v5=Array.prototype,kb=Object.getPrototypeOf;function Pc(n){return typeof n==\"function\"}const Gr=()=>{};function y5(n){return n()}function ag(n){for(var e=0;e<n.length;e++)n[e]()}let lg=!1,h0=[];function sk(){lg=!1;const n=h0.slice();h0=[],ag(n)}function Wd(n){lg||(lg=!0,queueMicrotask(sk)),h0.push(n)}function b5(){lg&&sk()}function ok(n){return n===this.v}function Tm(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n==\"object\"||typeof n==\"function\"}function w5(n,e){return n!==e}function Ab(n){return!Tm(n,this.v)}function x5(n){throw new Error(\"https://svelte.dev/e/effect_in_teardown\")}function C5(){throw new Error(\"https://svelte.dev/e/effect_in_unowned_derived\")}function S5(n){throw new Error(\"https://svelte.dev/e/effect_orphan\")}function _5(){throw new Error(\"https://svelte.dev/e/effect_update_depth_exceeded\")}function ak(n){throw new Error(\"https://svelte.dev/e/lifecycle_legacy_only\")}function k5(n){throw new Error(\"https://svelte.dev/e/props_invalid_value\")}function A5(){throw new Error(\"https://svelte.dev/e/state_descriptors_fixed\")}function O5(){throw new Error(\"https://svelte.dev/e/state_prototype_fixed\")}function E5(){throw new Error(\"https://svelte.dev/e/state_unsafe_local_read\")}function T5(){throw new Error(\"https://svelte.dev/e/state_unsafe_mutation\")}function vi(n,e){var t={f:0,v:n,reactions:null,equals:ok,rv:0,wv:0};return t}function ss(n){return lk(vi(n))}function Mm(n,e=!1){var r;const t=vi(n);return e||(t.equals=Ab),Lu&&nn!==null&&nn.l!==null&&((r=nn.l).s??(r.s=[])).push(t),t}function H(n,e=!1){return lk(Mm(n,e))}function lk(n){return Ln!==null&&!Jo&&Ln.f&hs&&(co===null?R5([n]):co.push(n)),n}function Ui(n,e){return S(n,Ft(()=>c(n))),e}function S(n,e){return Ln!==null&&!Jo&&Wu()&&Ln.f&(hs|Em)&&(co===null||!co.includes(n))&&T5(),Zf(n,e)}function Zf(n,e){return n.equals(e)||(n.v,n.v=e,n.wv=pk(),ck(n,So),Wu()&&Cn!==null&&Cn.f&ai&&!(Cn.f&(Co|Bu))&&(Lo===null?D5([n]):Lo.push(n))),e}function W2(n,e=1){var t=c(n),r=e===1?t++:t--;return S(n,t),r}function ck(n,e){var t=n.reactions;if(t!==null)for(var r=Wu(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;a&So||!r&&o===Cn||(Qi(o,e),a&(ai|go)&&(a&hs?ck(o,rl):Rm(o)))}}function Fn(n){var e=hs|So,t=Ln!==null&&Ln.f&hs?Ln:null;return Cn===null||t!==null&&t.f&go?e|=go:Cn.f|=tk,{ctx:nn,deps:null,effects:null,equals:ok,f:e,fn:n,reactions:null,rv:0,v:null,wv:0,parent:t??Cn}}function he(n){const e=Fn(n);return e.equals=Ab,e}function Ob(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)vo(e[t])}}function M5(n){for(var e=n.parent;e!==null;){if(!(e.f&hs))return e;e=e.parent}return null}function uk(n){var e,t=Cn;ps(M5(n));try{Ob(n),e=mk(n)}finally{ps(t)}return e}function fk(n){var e=uk(n),t=(El||n.f&go)&&n.deps!==null?rl:ai;Qi(n,t),n.equals(e)||(n.v=e,n.wv=pk())}function P5(n){Ob(n),td(n,0),Qi(n,Fu),n.v=n.deps=n.ctx=n.reactions=null}const dk=0,I5=1;let Tp=!1,Mp=dk,$f=!1,ed=null,Jc=!1,Eb=!1;function U2(n){Jc=n}function K2(n){Eb=n}let Ol=[],Xc=0;let Ln=null,Jo=!1;function mo(n){Ln=n}let Cn=null;function ps(n){Cn=n}let co=null;function R5(n){co=n}let Ei=null,Vi=0,Lo=null;function D5(n){Lo=n}let hk=1,cg=0,El=!1,Ia=null;function pk(){return++hk}function Vu(n){var u;var e=n.f;if(e&So)return!0;if(e&rl){var t=n.deps,r=(e&go)!==0;if(t!==null){var i,s,o=(e&og)!==0,a=r&&Cn!==null&&!El,l=t.length;if(o||a){for(i=0;i<l;i++)s=t[i],(o||!((u=s==null?void 0:s.reactions)!=null&&u.includes(n)))&&(s.reactions??(s.reactions=[])).push(n);o&&(n.f^=og)}for(i=0;i<l;i++)if(s=t[i],Vu(s)&&fk(s),s.wv>n.wv)return!0}(!r||Cn!==null&&!El)&&Qi(n,ai)}return!1}function N5(n,e){for(var t=e;t!==null;){if(t.f&sg)try{t.fn(n);return}catch{t.f^=sg}t=t.parent}throw Tp=!1,n}function L5(n){return(n.f&Fu)===0&&(n.parent===null||(n.parent.f&sg)===0)}function Pm(n,e,t,r){if(Tp){if(t===null&&(Tp=!1),L5(e))throw n;return}t!==null&&(Tp=!0);{N5(n,e);return}}function gk(n,e,t=0){var r=n.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];s.f&hs?gk(s,e,t+1):e===s&&(t===0?Qi(s,So):s.f&ai&&Qi(s,rl),Rm(s))}}function mk(n){var p;var e=Ei,t=Vi,r=Lo,i=Ln,s=El,o=co,a=nn,l=Jo,u=n.f;Ei=null,Vi=0,Lo=null,Ln=u&(Co|Bu)?null:n,El=(u&go)!==0&&(!Jc||(i===null||l)&&n.parent!==null),co=null,Y2(n.ctx),Jo=!1,cg++;try{var f=(0,n.fn)(),d=n.deps;if(Ei!==null){var h;if(td(n,Vi),d!==null&&Vi>0)for(d.length=Vi+Ei.length,h=0;h<Ei.length;h++)d[Vi+h]=Ei[h];else n.deps=d=Ei;if(!El)for(h=Vi;h<d.length;h++)((p=d[h]).reactions??(p.reactions=[])).push(n)}else d!==null&&Vi<d.length&&(td(n,Vi),d.length=Vi);if(Wu()&&Lo!==null&&!(n.f&(hs|rl|So)))for(h=0;h<Lo.length;h++)gk(Lo[h],n);return i!==null&&cg++,f}finally{Ei=e,Vi=t,Lo=r,Ln=i,El=s,co=o,Y2(a),Jo=l}}function B5(n,e){let t=e.reactions;if(t!==null){var r=g5.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&e.f&hs&&(Ei===null||!Ei.includes(e))&&(Qi(e,rl),e.f&(go|og)||(e.f^=og),Ob(e),td(e,0))}function td(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)B5(n,t[r])}function Im(n){var e=n.f;if(!(e&Fu)){Qi(n,ai);var t=Cn,r=nn;Cn=n;try{e&Em?X5(n):Ak(n),kk(n);var i=mk(n);n.teardown=typeof i==\"function\"?i:null,n.wv=hk;var s=n.deps,o;d0&&r5&&n.f&So}catch(a){Pm(a,n,t,r||n.ctx)}finally{Cn=t}}}function vk(){if(Xc>1e3){Xc=0;try{_5()}catch(n){if(ed!==null)Pm(n,ed,null);else throw n}}Xc++}function yk(n){var e=n.length;if(e!==0){vk();var t=Jc;Jc=!0;try{for(var r=0;r<e;r++){var i=n[r];i.f&ai||(i.f^=ai);var s=[];bk(i,s),F5(s)}}finally{Jc=t}}}function F5(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];if(!(r.f&(Fu|Uo)))try{Vu(r)&&(Im(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Ok(r):r.fn=null))}catch(i){Pm(i,r,null,r.ctx)}}}function j5(){if($f=!1,Xc>1001)return;const n=Ol;Ol=[],yk(n),$f||(Xc=0,ed=null)}function Rm(n){Mp===dk&&($f||($f=!0,queueMicrotask(j5))),ed=n;for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(Bu|Co)){if(!(t&ai))return;e.f^=ai}}Ol.push(e)}function bk(n,e){var t=n.first,r=[];e:for(;t!==null;){var i=t.f,s=(i&Co)!==0,o=s&&(i&ai)!==0,a=t.next;if(!o&&!(i&Uo))if(i&qd){if(s)t.f^=ai;else{var l=Ln;try{Ln=t,Vu(t)&&Im(t)}catch(h){Pm(h,t,null,t.ctx)}finally{Ln=l}}var u=t.first;if(u!==null){t=u;continue}}else i&Z_&&r.push(t);if(a===null){let h=t.parent;for(;h!==null;){if(n===h)break e;var f=h.next;if(f!==null){t=f;continue e}h=h.parent}}t=a}for(var d=0;d<r.length;d++)u=r[d],e.push(u),bk(u,e)}function wk(n){var e=Mp,t=Ol;try{vk();const i=[];Mp=I5,Ol=i,$f=!1,yk(t);var r=n==null?void 0:n();return b5(),(Ol.length>0||i.length>0)&&wk(),Xc=0,ed=null,r}finally{Mp=e,Ol=t}}async function Pn(){await Promise.resolve(),wk()}function c(n){var e=n.f,t=(e&hs)!==0;if(t&&e&Fu){var r=uk(n);return P5(n),r}if(Ia!==null&&Ia.add(n),Ln!==null&&!Jo){co!==null&&co.includes(n)&&E5();var i=Ln.deps;n.rv<cg&&(n.rv=cg,Ei===null&&i!==null&&i[Vi]===n?Vi++:Ei===null?Ei=[n]:Ei.push(n))}else if(t&&n.deps===null&&n.effects===null){var s=n,o=s.parent;o!==null&&!(o.f&go)&&(s.f^=go)}return t&&(s=n,Vu(s)&&fk(s)),n.v}function z5(n){var e=Ia;Ia=new Set;var t=Ia,r;try{if(Ft(n),e!==null)for(r of Ia)e.add(r)}finally{Ia=e}return t}function jv(n){var e=z5(()=>Ft(n));for(var t of e)if(t.f&ek)for(const r of t.deps||[])r.f&hs||Zf(r,r.v);else Zf(t,t.v)}function Ft(n){var e=Jo;try{return Jo=!0,n()}finally{Jo=e}}const V5=-7169;function Qi(n,e){n.f=n.f&V5|e}function z(n){if(!(typeof n!=\"object\"||!n||n instanceof EventTarget)){if(lo in n)p0(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t==\"object\"&&t&&lo in t&&p0(t)}}}function p0(n,e=new Set){if(typeof n==\"object\"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{p0(n[r],e)}catch{}const t=kb(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=ik(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}function H5(n){console.warn(\"https://svelte.dev/e/legacy_recursive_reactive_block\")}let Tb=!1;function Wt(n,e=null,t){if(typeof n!=\"object\"||n===null||lo in n)return n;const r=kb(n);if(r!==m5&&r!==v5)return n;var i=new Map,s=zu(n),o=vi(0);s&&i.set(\"length\",vi(n.length));var a;return new Proxy(n,{defineProperty(l,u,f){(!(\"value\"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&A5();var d=i.get(u);return d===void 0?(d=vi(f.value),i.set(u,d)):S(d,Wt(f.value,a)),!0},deleteProperty(l,u){var f=i.get(u);if(f===void 0)u in l&&i.set(u,vi(mi));else{if(s&&typeof u==\"string\"){var d=i.get(\"length\"),h=Number(u);Number.isInteger(h)&&h<d.v&&S(d,h)}S(f,mi),J2(o)}return!0},get(l,u,f){var g;if(u===lo)return n;var d=i.get(u),h=u in l;if(d===void 0&&(!h||(g=Ko(l,u))!=null&&g.writable)&&(d=vi(Wt(h?l[u]:mi,a)),i.set(u,d)),d!==void 0){var p=c(d);return p===mi?void 0:p}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&\"value\"in f){var d=i.get(u);d&&(f.value=c(d))}else if(f===void 0){var h=i.get(u),p=h==null?void 0:h.v;if(h!==void 0&&p!==mi)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(l,u){var p;if(u===lo)return!0;var f=i.get(u),d=f!==void 0&&f.v!==mi||Reflect.has(l,u);if(f!==void 0||Cn!==null&&(!d||(p=Ko(l,u))!=null&&p.writable)){f===void 0&&(f=vi(d?Wt(l[u],a):mi),i.set(u,f));var h=c(f);if(h===mi)return!1}return d},set(l,u,f,d){var k;var h=i.get(u),p=u in l;if(s&&u===\"length\")for(var g=f;g<h.v;g+=1){var m=i.get(g+\"\");m!==void 0?S(m,mi):g in l&&(m=vi(mi),i.set(g+\"\",m))}h===void 0?(!p||(k=Ko(l,u))!=null&&k.writable)&&(h=vi(void 0),S(h,Wt(f,a)),i.set(u,h)):(p=h.v!==mi,S(h,Wt(f,a)));var b=Reflect.getOwnPropertyDescriptor(l,u);if(b!=null&&b.set&&b.set.call(d,f),!p){if(s&&typeof u==\"string\"){var v=i.get(\"length\"),w=Number(u);Number.isInteger(w)&&w>=v.v&&S(v,w+1)}J2(o)}return!0},ownKeys(l){c(o);var u=Reflect.ownKeys(l).filter(h=>{var p=i.get(h);return p===void 0||p.v!==mi});for(var[f,d]of i)d.v!==mi&&!(f in l)&&u.push(f);return u},setPrototypeOf(){O5()}})}function J2(n,e=1){S(n,n.v+e)}function X2(n){return n!==null&&typeof n==\"object\"&&lo in n?n[lo]:n}function q5(n,e){return Object.is(X2(n),X2(e))}var mr,xk,Ck;function W5(){if(mr===void 0){mr=window;var n=Element.prototype,e=Node.prototype;xk=Ko(e,\"firstChild\").get,Ck=Ko(e,\"nextSibling\").get,n.__click=void 0,n.__className=\"\",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Dm(n=\"\"){return document.createTextNode(n)}function Ki(n){return xk.call(n)}function Nm(n){return Ck.call(n)}function V(n,e){return Ki(n)}function be(n,e){{var t=Ki(n);return t instanceof Comment&&t.data===\"\"?Nm(t):t}}function K(n,e=1,t=!1){let r=n;for(;e--;)r=Nm(r);return r}function U5(n){n.textContent=\"\"}function Sk(n){Cn===null&&Ln===null&&S5(),Ln!==null&&Ln.f&go&&Cn===null&&C5(),Eb&&x5()}function K5(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Hu(n,e,t,r=!0){var i=(n&Bu)!==0,s=Cn,o={ctx:nn,deps:null,nodes_start:null,nodes_end:null,f:n|So,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,wv:0};if(t){var a=Jc;try{U2(!0),Im(o),o.f|=$_}catch(f){throw vo(o),f}finally{U2(a)}}else e!==null&&Rm(o);var l=t&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(tk|sg))===0;if(!l&&!i&&r&&(s!==null&&K5(o,s),Ln!==null&&Ln.f&hs)){var u=Ln;(u.effects??(u.effects=[])).push(o)}return o}function Mb(n){const e=Hu(qd,null,!1);return Qi(e,ai),e.teardown=n,e}function g0(n){Sk();var e=Cn!==null&&(Cn.f&Co)!==0&&nn!==null&&!nn.m;if(e){var t=nn;(t.e??(t.e=[])).push({fn:n,effect:Cn,reaction:Ln})}else{var r=En(n);return r}}function _k(n){return Sk(),qu(n)}function J5(n){const e=Hu(Bu,n,!0);return(t={})=>new Promise(r=>{t.outro?pu(e,()=>{vo(e),r(void 0)}):(vo(e),r(void 0))})}function En(n){return Hu(Z_,n,!1)}function Z(n,e){var t=nn,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=qu(()=>{n(),!r.ran&&(r.ran=!0,S(t.l.r2,!0),Ft(e))})}function wt(){var n=nn;qu(()=>{if(c(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&ai&&Qi(t,rl),Vu(t)&&Im(t),e.ran=!1}n.l.r2.v=!1}})}function qu(n){return Hu(qd,n,!0)}function pe(n,e=[],t=Fn){const r=e.map(t);return sc(()=>n(...r.map(c)))}function sc(n,e=0){return Hu(qd|Em|e,n,!0)}function ta(n,e=!0){return Hu(qd|Co,n,!0,e)}function kk(n){var e=n.teardown;if(e!==null){const t=Eb,r=Ln;K2(!0),mo(null);try{e.call(null)}finally{K2(t),mo(r)}}}function Ak(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;vo(t,e),t=r}}function X5(n){for(var e=n.first;e!==null;){var t=e.next;e.f&Co||vo(e),e=t}}function vo(n,e=!0){var t=!1;if((e||n.f&h5)&&n.nodes_start!==null){for(var r=n.nodes_start,i=n.nodes_end;r!==null;){var s=r===i?null:Nm(r);r.remove(),r=s}t=!0}Ak(n,e&&!t),td(n,0),Qi(n,Fu);var o=n.transitions;if(o!==null)for(const l of o)l.stop();kk(n);var a=n.parent;a!==null&&a.first!==null&&Ok(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Ok(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function pu(n,e){var t=[];Pb(n,t,!0),Ek(t,()=>{vo(n),e&&e()})}function Ek(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function Pb(n,e,t){if(!(n.f&Uo)){if(n.f^=Uo,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&ju)!==0||(r.f&Co)!==0;Pb(r,e,s?t:!1),r=i}}}function ug(n){Tk(n,!0)}function Tk(n,e){if(n.f&Uo){n.f^=Uo,n.f&ai||(n.f^=ai),Vu(n)&&(Qi(n,So),Rm(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&ju)!==0||(t.f&Co)!==0;Tk(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}function oc(n){throw new Error(\"https://svelte.dev/e/lifecycle_outside_component\")}let nn=null;function Y2(n){nn=n}function gs(n){return Ib().get(n)}function nd(n,e){return Ib().set(n,e),e}function Y5(n){return Ib().has(n)}function Pe(n,e=!1,t){nn={p:nn,c:null,e:null,m:!1,s:n,x:null,l:null},Lu&&!e&&(nn.l={s:null,u:null,r1:[],r2:vi(!1)})}function Ie(n){const e=nn;if(e!==null){n!==void 0&&(e.x=n);const o=e.e;if(o!==null){var t=Cn,r=Ln;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];ps(s.effect),mo(s.reaction),En(s.fn)}}finally{ps(t),mo(r)}}nn=e.p,e.m=!0}return n||{}}function Wu(){return!Lu||nn!==null&&nn.l===null}function Ib(n){return nn===null&&oc(),nn.c??(nn.c=new Map(G5(nn)||void 0))}function G5(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function Q5(n){return n.endsWith(\"capture\")&&n!==\"gotpointercapture\"&&n!==\"lostpointercapture\"}const Z5=[\"beforeinput\",\"click\",\"change\",\"dblclick\",\"contextmenu\",\"focusin\",\"focusout\",\"input\",\"keydown\",\"keyup\",\"mousedown\",\"mousemove\",\"mouseout\",\"mouseover\",\"mouseup\",\"pointerdown\",\"pointermove\",\"pointerout\",\"pointerover\",\"pointerup\",\"touchend\",\"touchmove\",\"touchstart\"];function $5(n){return Z5.includes(n)}const eM={formnovalidate:\"formNoValidate\",ismap:\"isMap\",nomodule:\"noModule\",playsinline:\"playsInline\",readonly:\"readOnly\",defaultvalue:\"defaultValue\",defaultchecked:\"defaultChecked\",srcobject:\"srcObject\",novalidate:\"noValidate\",allowfullscreen:\"allowFullscreen\",disablepictureinpicture:\"disablePictureInPicture\",disableremoteplayback:\"disableRemotePlayback\"};function tM(n){return n=n.toLowerCase(),eM[n]??n}const nM=[\"touchstart\",\"touchmove\"];function rM(n){return nM.includes(n)}function iM(n,e){if(e){const t=document.body;n.autofocus=!0,Wd(()=>{document.activeElement===t&&n.focus()})}}let G2=!1;function sM(){G2||(G2=!0,document.addEventListener(\"reset\",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Mk(n){var e=Ln,t=Cn;mo(null),ps(null);try{return n()}finally{mo(e),ps(t)}}function Pk(n,e,t,r=t){n.addEventListener(e,()=>Mk(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),sM()}const Ik=new Set,m0=new Set;function Rk(n,e,t,r={}){function i(s){if(r.capture||_f.call(e,s),!s.cancelBubble)return Mk(()=>t==null?void 0:t.call(this,s))}return n.startsWith(\"pointer\")||n.startsWith(\"touch\")||n===\"wheel\"?Wd(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function ve(n,e,t,r,i){var s={capture:r,passive:i},o=Rk(n,e,t,s);(e===document.body||e===window||e===document)&&Mb(()=>{e.removeEventListener(n,o,s)})}function pa(n){for(var e=0;e<n.length;e++)Ik.add(n[e]);for(var t of m0)t(n)}function _f(n){var w;var e=this,t=e.ownerDocument,r=n.type,i=((w=n.composedPath)==null?void 0:w.call(n))||[],s=i[0]||n.target,o=0,a=n.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||n.target,s!==e){rk(n,\"currentTarget\",{configurable:!0,get(){return s||t}});var f=Ln,d=Cn;mo(null),ps(null);try{for(var h,p=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var m=s[\"__\"+r];if(m!==void 0&&!s.disabled)if(zu(m)){var[b,...v]=m;b.apply(s,[n,...v])}else m.call(s,n)}catch(k){h?p.push(k):h=k}if(n.cancelBubble||g===e||g===null)break;s=g}if(h){for(let k of p)queueMicrotask(()=>{throw k});throw h}}finally{n.__root=e,delete n.currentTarget,mo(f),ps(d)}}}function Rb(n){var e=document.createElement(\"template\");return e.innerHTML=n,e.content}function zl(n,e){var t=Cn;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function ee(n,e){var t=(e&Q_)!==0,r=(e&d5)!==0,i,s=!n.startsWith(\"<!>\");return()=>{i===void 0&&(i=Rb(s?n:\"<!>\"+n),t||(i=Ki(i)));var o=r?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=Ki(o),l=o.lastChild;zl(a,l)}else zl(o,o);return o}}function Nt(n,e,t=\"svg\"){var r=!n.startsWith(\"<!>\"),i=(e&Q_)!==0,s=`<${t}>${r?n:\"<!>\"+n}</${t}>`,o;return()=>{if(!o){var a=Rb(s),l=Ki(a);if(i)for(o=document.createDocumentFragment();Ki(l);)o.appendChild(Ki(l));else o=Ki(l)}var u=o.cloneNode(!0);if(i){var f=Ki(u),d=u.lastChild;zl(f,d)}else zl(u,u);return u}}function Ar(n=\"\"){{var e=Dm(n+\"\");return zl(e,e),e}}function Ue(){var n=document.createDocumentFragment(),e=document.createComment(\"\"),t=Dm();return n.append(e,t),zl(e,t),n}function B(n,e){n!==null&&n.before(e)}let v0=!0;function Ke(n,e){var t=e==null?\"\":typeof e==\"object\"?e+\"\":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t==null?\"\":t+\"\")}function oM(n,e){return aM(n,e)}const bc=new Map;function aM(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:o=!0}){W5();var a=new Set,l=d=>{for(var h=0;h<d.length;h++){var p=d[h];if(!a.has(p)){a.add(p);var g=rM(p);e.addEventListener(p,_f,{passive:g});var m=bc.get(p);m===void 0?(document.addEventListener(p,_f,{passive:g}),bc.set(p,1)):bc.set(p,m+1)}}};l(_b(Ik)),m0.add(l);var u=void 0,f=J5(()=>{var d=t??e.appendChild(Dm());return ta(()=>{if(s){Pe({});var h=nn;h.c=s}i&&(r.$$events=i),v0=o,u=n(d,r)||{},v0=!0,s&&Ie()}),()=>{var g;for(var h of a){e.removeEventListener(h,_f);var p=bc.get(h);--p===0?(document.removeEventListener(h,_f),bc.delete(h)):bc.set(h,p)}m0.delete(l),d!==t&&((g=d.parentNode)==null||g.removeChild(d))}});return lM.set(u,f),u}let lM=new WeakMap;function oe(n,e,t=!1){var r=n,i=null,s=null,o=mi,a=t?ju:0,l=!1;const u=(d,h=!0)=>{l=!0,f(h,d)},f=(d,h)=>{o!==(o=d)&&(o?(i?ug(i):h&&(i=ta(()=>h(r))),s&&pu(s,()=>{s=null})):(s?ug(s):h&&(s=ta(()=>h(r))),i&&pu(i,()=>{i=null})))};sc(()=>{l=!1,e(u),l||f(null,null)},a)}function Dk(n,e,t){var r=n,i=mi,s,o=Wu()?w5:Tm;sc(()=>{o(i,i=e())&&(s&&pu(s),s=ta(()=>t(r)))})}function un(n,e){return e}function cM(n,e,t,r){for(var i=[],s=e.length,o=0;o<s;o++)Pb(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;U5(l),l.append(t),r.clear(),Aa(n,e[0].prev,e[s-1].next)}Ek(i,()=>{for(var u=0;u<s;u++){var f=e[u];a||(r.delete(f.k),Aa(n,f.prev,f.next)),vo(f.e,!a)}})}function Dt(n,e,t,r,i,s=null){var o=n,a={items:new Map,first:null},l=(e&Y_)!==0;if(l){var u=n;o=u.appendChild(Dm())}var f=null,d=!1,h=he(()=>{var p=t();return zu(p)?p:p==null?[]:_b(p)});sc(()=>{var p=c(h),g=p.length;d&&g===0||(d=g===0,uM(p,a,o,i,e,r,t),s!==null&&(g===0?f?ug(f):f=ta(()=>s(o)):f!==null&&pu(f,()=>{f=null})),c(h))})}function uM(n,e,t,r,i,s,o){var _,L,M,N;var a=(i&s5)!==0,l=(i&(Cb|Sb))!==0,u=n.length,f=e.items,d=e.first,h=d,p,g=null,m,b=[],v=[],w,k,x,C;if(a)for(C=0;C<u;C+=1)w=n[C],k=s(w,C),x=f.get(k),x!==void 0&&((_=x.a)==null||_.measure(),(m??(m=new Set)).add(x));for(C=0;C<u;C+=1){if(w=n[C],k=s(w,C),x=f.get(k),x===void 0){var T=h?h.e.nodes_start:t;g=dM(T,e,g,g===null?e.first:g.next,w,k,C,r,i,o),f.set(k,g),b=[],v=[],h=g.next;continue}if(l&&fM(x,w,C,i),x.e.f&Uo&&(ug(x.e),a&&((L=x.a)==null||L.unfix(),(m??(m=new Set)).delete(x))),x!==h){if(p!==void 0&&p.has(x)){if(b.length<v.length){var A=v[0],O;g=A.prev;var R=b[0],D=b[b.length-1];for(O=0;O<b.length;O+=1)Q2(b[O],A,t);for(O=0;O<v.length;O+=1)p.delete(v[O]);Aa(e,R.prev,D.next),Aa(e,g,R),Aa(e,D,A),h=A,g=D,C-=1,b=[],v=[]}else p.delete(x),Q2(x,h,t),Aa(e,x.prev,x.next),Aa(e,x,g===null?e.first:g.next),Aa(e,g,x),g=x;continue}for(b=[],v=[];h!==null&&h.k!==k;)h.e.f&Uo||(p??(p=new Set)).add(h),v.push(h),h=h.next;if(h===null)continue;x=h}b.push(x),g=x,h=x.next}if(h!==null||p!==void 0){for(var E=p===void 0?[]:_b(p);h!==null;)h.e.f&Uo||E.push(h),h=h.next;var I=E.length;if(I>0){var P=i&Y_&&u===0?t:null;if(a){for(C=0;C<I;C+=1)(M=E[C].a)==null||M.measure();for(C=0;C<I;C+=1)(N=E[C].a)==null||N.fix()}cM(e,E,P,f)}}a&&Wd(()=>{var F;if(m!==void 0)for(x of m)(F=x.a)==null||F.apply()}),Cn.first=e.first&&e.first.e,Cn.last=g&&g.e}function fM(n,e,t,r){r&Cb&&Zf(n.v,e),r&Sb?Zf(n.i,t):n.i=t}function dM(n,e,t,r,i,s,o,a,l,u){var f=(l&Cb)!==0,d=(l&o5)===0,h=f?d?Mm(i):vi(i):i,p=l&Sb?vi(o):o,g={i:p,v:h,k:s,a:null,e:null,prev:t,next:r};try{return g.e=ta(()=>a(n,h,p,u),Tb),g.e.prev=t&&t.e,g.e.next=r&&r.e,t===null?e.first=g:(t.next=g,t.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Q2(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==r;){var o=Nm(s);i.before(s),s=o}}function Aa(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Db(n,e,t,r,i){var s=n,o=\"\",a;sc(()=>{o!==(o=e()??\"\")&&(a!==void 0&&(vo(a),a=void 0),o!==\"\"&&(a=ta(()=>{var l=o+\"\";t&&(l=`<svg>${l}</svg>`);var u=Rb(l);if((t||r)&&(u=Ki(u)),zl(Ki(u),u.lastChild),t||r)for(;Ki(u);)s.before(Ki(u));else s.before(u)})))})}function en(n,e,t,r,i){var a;var s=(a=e.$$slots)==null?void 0:a[t],o=!1;s===!0&&(s=e[t===\"default\"?\"children\":t],o=!0),s===void 0?i!==null&&i(n):s(n,o?()=>r:r)}function Nk(n){const e={};n.children&&(e.default=!0);for(const t in n.$$slots)e[t]=!0;return e}function Lk(n,e,...t){var r=n,i=Gr,s;sc(()=>{i!==(i=e())&&(s&&(vo(s),s=null),s=ta(()=>i(r,...t)))},ju)}function gu(n,e,t){var r=n,i,s;sc(()=>{i!==(i=e())&&(s&&(pu(s),s=null),i&&(s=ta(()=>t(r,i))))},ju)}function tn(n,e,t){En(()=>{var r=Ft(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var i=!1,s={};qu(()=>{var o=t();z(o),i&&Tm(s,o)&&(s=o,r.update(o))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Bk(n){var e,t,r=\"\";if(typeof n==\"string\"||typeof n==\"number\")r+=n;else if(typeof n==\"object\")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Bk(n[e]))&&(r&&(r+=\" \"),r+=t)}else for(t in n)n[t]&&(r&&(r+=\" \"),r+=t);return r}function hM(){for(var n,e,t=0,r=\"\",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Bk(n))&&(r&&(r+=\" \"),r+=e);return r}function qr(n){return typeof n==\"object\"?hM(n):n??\"\"}function na(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!==\"PROGRESS\")||(n.value=e??\"\")}function y0(n,e){e?n.hasAttribute(\"selected\")||n.setAttribute(\"selected\",\"\"):n.removeAttribute(\"selected\")}function Ee(n,e,t,r){var i=n.__attributes??(n.__attributes={});i[e]!==(i[e]=t)&&(e===\"style\"&&\"__styles\"in n&&(n.__styles={}),e===\"loading\"&&(n[p5]=t),t==null?n.removeAttribute(e):typeof t!=\"string\"&&Fk(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function Ti(n,e,t,r,i=!1,s=!1,o=!1){var a=e||{},l=n.tagName===\"OPTION\";for(var u in e)u in t||(t[u]=null);t.class&&(t.class=qr(t.class)),r!==void 0&&(t.class=t.class?t.class+\" \"+r:r);var f=Fk(n),d=n.__attributes??(n.__attributes={});for(const v in t){let w=t[v];if(l&&v===\"value\"&&w==null){n.value=n.__value=\"\",a[v]=w;continue}var h=a[v];if(w!==h){a[v]=w;var p=v[0]+v[1];if(p!==\"$$\"){if(p===\"on\"){const k={},x=\"$$\"+v;let C=v.slice(2);var g=$5(C);if(Q5(C)&&(C=C.slice(0,-7),k.capture=!0),!g&&h){if(w!=null)continue;n.removeEventListener(C,a[x],k),a[x]=null}if(w!=null)if(g)n[`__${C}`]=w,pa([C]);else{let T=function(A){a[v].call(this,A)};a[x]=Rk(C,n,T,k)}else g&&(n[`__${C}`]=void 0)}else if(v===\"style\"&&w!=null)n.style.cssText=w+\"\";else if(v===\"autofocus\")iM(n,!!w);else if(v===\"__value\"||v===\"value\"&&w!=null)n.value=n[v]=n.__value=w;else if(v===\"selected\"&&l)y0(n,w);else{var m=v;i||(m=tM(m));var b=m===\"defaultValue\"||m===\"defaultChecked\";if(w==null&&!s&&!b)if(d[v]=null,m===\"value\"||m===\"checked\"){let k=n;if(m===\"value\"){let x=k.defaultValue;k.removeAttribute(m),k.defaultValue=x}else{let x=k.defaultChecked;k.removeAttribute(m),k.defaultChecked=x}}else n.removeAttribute(v);else b||f.includes(m)&&(s||typeof w!=\"string\")?n[m]=w:typeof w!=\"function\"&&Ee(n,m,w)}v===\"style\"&&\"__styles\"in n&&(n.__styles={})}}}return a}var Z2=new Map;function Fk(n){var e=Z2.get(n.nodeName);if(e)return e;Z2.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=ik(r);for(var s in t)t[s].set&&e.push(s);r=kb(r)}return e}function ac(n,e,t){var r=n.__className,i=jk(e,t);(r!==i||Tb)&&(i===\"\"?n.removeAttribute(\"class\"):n.setAttribute(\"class\",i),n.__className=i)}function zr(n,e,t){var r=n.__className,i=jk(e,t);(r!==i||Tb)&&(e==null&&!t?n.removeAttribute(\"class\"):n.className=i,n.__className=i)}function jk(n,e){return(n??\"\")+(e?\" \"+e:\"\")}function Fe(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function Zn(n,e,t,r){var i=n.__styles??(n.__styles={});i[e]!==t&&(i[e]=t,t==null?n.style.removeProperty(e):n.style.setProperty(e,t,\"\"))}const pM=()=>performance.now(),Fo={tick:n=>requestAnimationFrame(n),now:()=>pM(),tasks:new Set};function zk(){const n=Fo.now();Fo.tasks.forEach(e=>{e.c(n)||(Fo.tasks.delete(e),e.f())}),Fo.tasks.size!==0&&Fo.tick(zk)}function gM(n){let e;return Fo.tasks.size===0&&Fo.tick(zk),{promise:new Promise(t=>{Fo.tasks.add(e={c:n,f:t})}),abort(){Fo.tasks.delete(e)}}}function xh(n,e){n.dispatchEvent(new CustomEvent(e))}function mM(n){if(n===\"float\")return\"cssFloat\";if(n===\"offset\")return\"cssOffset\";if(n.startsWith(\"--\"))return n;const e=n.split(\"-\");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join(\"\")}function $2(n){const e={},t=n.split(\";\");for(const r of t){const[i,s]=r.split(\":\");if(!i||s===void 0)break;const o=mM(i.trim());e[o]=s.trim()}return e}const vM=n=>n;function yM(n,e,t,r){var i=(n&f5)!==0,s=\"both\",o,a=e.inert,l=e.style.overflow,u,f;function d(){var b=Ln,v=Cn;mo(null),ps(null);try{return o??(o=t()(e,(r==null?void 0:r())??{},{direction:s}))}finally{mo(b),ps(v)}}var h={is_global:i,in(){e.inert=a,xh(e,\"introstart\"),u=b0(e,d(),f,1,()=>{xh(e,\"introend\"),u==null||u.abort(),u=o=void 0,e.style.overflow=l})},out(b){e.inert=!0,xh(e,\"outrostart\"),f=b0(e,d(),u,0,()=>{xh(e,\"outroend\"),b==null||b()})},stop:()=>{u==null||u.abort(),f==null||f.abort()}},p=Cn;if((p.transitions??(p.transitions=[])).push(h),v0){var g=i;if(!g){for(var m=p.parent;m&&m.f&ju;)for(;(m=m.parent)&&!(m.f&Em););g=!m||(m.f&$_)!==0}g&&En(()=>{Ft(()=>h.in())})}}function b0(n,e,t,r,i){var s=r===1;if(Pc(e)){var o,a=!1;return Wd(()=>{if(!a){var b=e({direction:s?\"in\":\"out\"});o=b0(n,b,t,r,i)}}),{abort:()=>{a=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:Gr,deactivate:Gr,reset:Gr,t:()=>r};const{delay:l=0,css:u,tick:f,easing:d=vM}=e;var h=[];if(s&&t===void 0&&(f&&f(0,1),u)){var p=$2(u(0,1));h.push(p,p)}var g=()=>1-r,m=n.animate(h,{duration:l});return m.onfinish=()=>{var b=(t==null?void 0:t.t())??1-r;t==null||t.abort();var v=r-b,w=e.duration*Math.abs(v),k=[];if(w>0){var x=!1;if(u)for(var C=Math.ceil(w/16.666666666666668),T=0;T<=C;T+=1){var A=b+v*d(T/C),O=$2(u(A,1-A));k.push(O),x||(x=O.overflow===\"hidden\")}x&&(n.style.overflow=\"hidden\"),g=()=>{var R=m.currentTime;return b+v*d(R/w)},f&&gM(()=>{if(m.playState!==\"running\")return!1;var R=g();return f(R,1-R),!0})}m=n.animate(k,{duration:w,fill:\"forwards\"}),m.onfinish=()=>{g=()=>r,f==null||f(r,1-r),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Gr)},deactivate:()=>{i=Gr},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>g()}}function Ji(n,e,t=e){var r=Wu();Pk(n,\"input\",i=>{var s=i?n.defaultValue:n.value;if(s=zv(n)?Vv(s):s,t(s),r&&s!==(s=e())){var o=n.selectionStart,a=n.selectionEnd;n.value=s??\"\",a!==null&&(n.selectionStart=o,n.selectionEnd=Math.min(a,n.value.length))}}),Ft(e)==null&&n.value&&t(zv(n)?Vv(n.value):n.value),qu(()=>{var i=e();zv(n)&&i===Vv(n.value)||n.type===\"date\"&&!i&&!n.value||i!==n.value&&(n.value=i??\"\")})}function zv(n){var e=n.type;return e===\"number\"||e===\"range\"}function Vv(n){return n===\"\"?null:+n}function St(n,e,t){var r=Ko(n,e);r&&r.set&&(n[e]=t,Mb(()=>{n[e]=null}))}function rd(n,e,t){if(n.multiple)return bM(n,e);for(var r of n.options){var i=zf(r);if(q5(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function w0(n,e){let t=!0;En(()=>{e&&rd(n,Ft(e),t),t=!1;var r=new MutationObserver(()=>{var i=n.__value;rd(n,i)});return r.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"value\"]}),()=>{r.disconnect()}})}function jf(n,e,t=e){var r=!0;Pk(n,\"change\",i=>{var s=i?\"[selected]\":\":checked\",o;if(n.multiple)o=[].map.call(n.querySelectorAll(s),zf);else{var a=n.querySelector(s)??n.querySelector(\"option:not([disabled])\");o=a&&zf(a)}t(o)}),En(()=>{var i=e();if(rd(n,i,r),r&&i===void 0){var s=n.querySelector(\":checked\");s!==null&&(i=zf(s),t(i))}n.__value=i,r=!1}),w0(n)}function bM(n,e){for(var t of n.options)t.selected=~e.indexOf(zf(t))}function zf(n){return\"__value\"in n?n.__value:n.value}var Da,du,Hd,km,Vk;const Am=class Am{constructor(e){lf(this,km);lf(this,Da,new WeakMap);lf(this,du);lf(this,Hd);Fv(this,Hd,e)}observe(e,t){var r=Io(this,Da).get(e)||new Set;return r.add(t),Io(this,Da).set(e,r),q2(this,km,Vk).call(this).observe(e,Io(this,Hd)),()=>{var i=Io(this,Da).get(e);i.delete(t),i.size===0&&(Io(this,Da).delete(e),Io(this,du).unobserve(e))}}};Da=new WeakMap,du=new WeakMap,Hd=new WeakMap,km=new WeakSet,Vk=function(){return Io(this,du)??Fv(this,du,new ResizeObserver(e=>{for(var t of e){Am.entries.set(t.target,t);for(var r of Io(this,Da).get(t.target)||[])r(t)}}))},Lv(Am,\"entries\",new WeakMap);let x0=Am;var wM=new x0({box:\"border-box\"});function ex(n,e,t){var r=wM.observe(n,()=>t(n[e]));En(()=>(Ft(()=>t(n[e])),r))}function tx(n,e){return n===e||(n==null?void 0:n[lo])===e}function _n(n={},e,t,r){return En(()=>{var i,s;return qu(()=>{i=s,s=[],Ft(()=>{n!==t(...s)&&(e(n,...s),i&&tx(t(...i),n)&&e(null,...i))})}),()=>{Wd(()=>{s&&tx(t(...s),n)&&e(null,...s)})}}),n}function xM(n){return function(...e){var t=e[0];t.target===this&&(n==null||n.apply(this,e))}}function Os(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function _a(n){return function(...e){var t=e[0];return t.preventDefault(),n==null?void 0:n.apply(this,e)}}function Ne(n=!1){const e=nn,t=e.l.u;if(!t)return;let r=()=>z(e.s);if(n){let i=0,s={};const o=Fn(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});r=()=>c(o)}t.b.length&&_k(()=>{nx(e,r),ag(t.b)}),g0(()=>{const i=Ft(()=>t.m.map(y5));return()=>{for(const s of i)typeof s==\"function\"&&s()}}),t.a.length&&g0(()=>{nx(e,r),ag(t.a)})}function nx(n,e){if(n.l.s)for(const t of n.l.s)c(t);e()}function Ud(n){var e=vi(0);return function(){return arguments.length===1?(S(e,c(e)+1),arguments[0]):(c(e),n())}}function Bt(n,e){var s;var t=(s=n.$$events)==null?void 0:s[e.type],r=zu(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function cr(n){nn===null&&oc(),Lu&&nn.l!==null?Nb(nn).m.push(n):g0(()=>{const e=Ft(n);if(typeof e==\"function\")return e})}function Hr(n){nn===null&&oc(),cr(()=>()=>Ft(n))}function CM(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function il(){const n=nn;return n===null&&oc(),(e,t,r)=>{var s;const i=(s=n.s.$$events)==null?void 0:s[e];if(i){const o=zu(i)?i.slice():[i],a=CM(e,t,r);for(const l of o)l.call(n.x,a);return!a.defaultPrevented}return!0}}function SM(n){nn===null&&oc(),nn.l===null&&ak(),Nb(nn).b.push(n)}function _M(n){nn===null&&oc(),nn.l===null&&ak(),Nb(nn).a.push(n)}function Nb(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}function Lb(n,e,t){if(n==null)return e(void 0),t&&t(void 0),Gr;const r=Ft(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const wc=[];function Br(n,e){return{subscribe:ht(n,e).subscribe}}function ht(n,e=Gr){let t=null;const r=new Set;function i(a){if(Tm(n,a)&&(n=a,t)){const l=!wc.length;for(const u of r)u[1](),wc.push(u,n);if(l){for(let u=0;u<wc.length;u+=2)wc[u][0](wc[u+1]);wc.length=0}}}function s(a){i(a(n))}function o(a,l=Gr){const u=[a,l];return r.add(u),r.size===1&&(t=e(i,s)||Gr),a(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function Is(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error(\"derived() expects stores as input, got a falsy value\");const s=e.length<2;return Br(t,(o,a)=>{let l=!1;const u=[];let f=0,d=Gr;const h=()=>{if(f)return;d();const g=e(r?u[0]:u,o,a);s?o(g):d=typeof g==\"function\"?g:Gr},p=i.map((g,m)=>Lb(g,b=>{u[m]=b,f&=~(1<<m),l&&h()},()=>{f|=1<<m}));return l=!0,h(),function(){ag(p),d(),l=!1}})}function Ze(n){let e;return Lb(n,t=>e=t)(),e}let Ch=!1,C0=Symbol();function Ae(n,e,t){const r=t[e]??(t[e]={store:null,source:Mm(void 0),unsubscribe:Gr});if(r.store!==n&&!(C0 in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=Gr;else{var i=!0;r.unsubscribe=Lb(n,s=>{i?r.source.v=s:S(r.source,s)}),i=!1}return n&&C0 in t?Ze(n):c(r.source)}function kM(n,e,t){let r=t[e];return r&&r.store!==n&&(r.unsubscribe(),r.unsubscribe=Gr),n}function Rs(n,e){return n.set(e),e}function Tn(){const n={};function e(){Mb(()=>{for(var t in n)n[t].unsubscribe();rk(n,C0,{enumerable:!1,value:!0})})}return[n,e]}function qi(n,e,t){return n.set(t),e}function AM(n){var e=Ch;try{return Ch=!1,[n(),Ch]}finally{Ch=e}}const OM={get(n,e){if(!n.exclude.includes(e))return c(n.version),e in n.special?n.special[e]():n.props[e]},set(n,e,t){return e in n.special||(n.special[e]=y({get[e](){return n.props[e]}},e,G_)),n.special[e](t),W2(n.version),!0},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},deleteProperty(n,e){return n.exclude.includes(e)||(n.exclude.push(e),W2(n.version)),!0},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function Jn(n,e){return new Proxy({props:n,exclude:e,special:{},version:vi(0)},OM)}const EM={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Pc(r)&&(r=r()),typeof r==\"object\"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];Pc(i)&&(i=i());const s=Ko(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Pc(r)&&(r=r()),typeof r==\"object\"&&r!==null&&e in r){const i=Ko(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){if(e===lo||e===nk)return!1;for(let t of n.props)if(Pc(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props){Pc(t)&&(t=t());for(const r in t)e.includes(r)||e.push(r)}return e}};function Qr(...n){return new Proxy({props:n},EM)}function rx(n){for(var e=Cn,t=Cn;e!==null&&!(e.f&(Co|Bu));)e=e.parent;try{return ps(e),n()}finally{ps(t)}}function y(n,e,t,r){var A;var i=(t&a5)!==0,s=!Lu||(t&l5)!==0,o=(t&c5)!==0,a=(t&u5)!==0,l=!1,u;o?[u,l]=AM(()=>n[e]):u=n[e];var f=lo in n||nk in n,d=o&&(((A=Ko(n,e))==null?void 0:A.set)??(f&&e in n&&(O=>n[e]=O)))||void 0,h=r,p=!0,g=!1,m=()=>(g=!0,p&&(p=!1,a?h=Ft(r):h=r),h);u===void 0&&r!==void 0&&(d&&s&&k5(),u=m(),d&&d(u));var b;if(s)b=()=>{var O=n[e];return O===void 0?m():(p=!0,g=!1,O)};else{var v=rx(()=>(i?Fn:he)(()=>n[e]));v.f|=ek,b=()=>{var O=c(v);return O!==void 0&&(h=void 0),O===void 0?h:O}}if(!(t&G_))return b;if(d){var w=n.$$legacy;return function(O,R){return arguments.length>0?((!s||!R||w||l)&&d(R?b():O),O):b()}}var k=!1,x=!1,C=Mm(u),T=rx(()=>Fn(()=>{var O=b(),R=c(C);return k?(k=!1,x=!0,R):(x=!1,C.v=O)}));return i||(T.equals=Ab),function(O,R){if(Ia!==null&&(k=x,b(),c(C)),arguments.length>0){const D=R?c(T):s&&o?Wt(O):O;return T.equals(D)||(k=!0,S(C,D),g&&h!==void 0&&(h=D),Ft(()=>c(T))),O}return c(T)}}function ts(n){_k(()=>{n();var e=Cn;e.f&So&&(H5(),Qi(e,rl))})}function TM(){const n=nn;return n===null&&oc(),e=>t=>{var i;const r=(i=n.s.$$events)==null?void 0:i[e];if(r){const s=zu(r)?r.slice():[r];for(const o of s)o.call(n.x,t);return!t.defaultPrevented}return!0}}function Hk(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a=\"\",l=n.split(\"/\");for(l[0]||l.shift();i=l.shift();)t=i[0],t===\"*\"?(o.push(\"wild\"),a+=\"/(.*)\"):t===\":\"?(r=i.indexOf(\"?\",1),s=i.indexOf(\".\",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?\"(?:/([^/]+?))?\":\"/([^/]+?)\",~s&&(a+=(~r?\"?\":\"\")+\"\\\\\"+i.substring(s))):a+=\"/\"+i;return{keys:o,pattern:new RegExp(\"^\"+a+\"/?$\",\"i\")}}function ix(){const n=window.location.href.indexOf(\"#/\");let e=n>-1?window.location.href.substr(n+1):\"/\";const t=e.indexOf(\"?\");let r=\"\";return t>-1&&(r=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:r}}const Kd=Br(null,function(e){e(ix());const t=()=>{e(ix())};return window.addEventListener(\"hashchange\",t,!1),function(){window.removeEventListener(\"hashchange\",t,!1)}});Is(Kd,n=>n.location);Is(Kd,n=>n.querystring);const sx=ht(void 0);async function ox(n){if(!n||n.length<1||n.charAt(0)!=\"/\"&&n.indexOf(\"#/\")!==0)throw Error(\"Invalid parameter location\");await Pn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)==\"#\"?\"\":\"#\")+n}function MM(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function PM(n,e){Pe(e,!1);let t=y(e,\"routes\",24,()=>({})),r=y(e,\"prefix\",8,\"\"),i=y(e,\"restoreScrollState\",8,!1);class s{constructor(T,A){if(!A||typeof A!=\"function\"&&(typeof A!=\"object\"||A._sveltesparouter!==!0))throw Error(\"Invalid component object\");if(!T||typeof T==\"string\"&&(T.length<1||T.charAt(0)!=\"/\"&&T.charAt(0)!=\"*\")||typeof T==\"object\"&&!(T instanceof RegExp))throw Error('Invalid value for \"path\" argument - strings must start with / or *');const{pattern:O,keys:R}=Hk(T);this.path=T,typeof A==\"object\"&&A._sveltesparouter===!0?(this.component=A.component,this.conditions=A.conditions||[],this.userData=A.userData,this.props=A.props||{}):(this.component=()=>Promise.resolve(A),this.conditions=[],this.props={}),this._pattern=O,this._keys=R}match(T){if(r()){if(typeof r()==\"string\")if(T.startsWith(r()))T=T.substr(r().length)||\"/\";else return null;else if(r()instanceof RegExp){const D=T.match(r());if(D&&D[0])T=T.substr(D[0].length)||\"/\";else return null}}const A=this._pattern.exec(T);if(A===null)return null;if(this._keys===!1)return A;const O={};let R=0;for(;R<this._keys.length;){try{O[this._keys[R]]=decodeURIComponent(A[R+1]||\"\")||null}catch{O[this._keys[R]]=null}R++}return O}async checkConditions(T){for(let A=0;A<this.conditions.length;A++)if(!await this.conditions[A](T))return!1;return!0}}const o=[];t()instanceof Map?t().forEach((C,T)=>{o.push(new s(T,C))}):Object.keys(t()).forEach(C=>{o.push(new s(C,t()[C]))});let a=H(null),l=H(null),u=H({});const f=il();async function d(C,T){await Pn(),f(C,T)}let h=null,p=null;i()&&(p=C=>{C.state&&(C.state.__svelte_spa_router_scrollY||C.state.__svelte_spa_router_scrollX)?h=C.state:h=null},window.addEventListener(\"popstate\",p),_M(()=>{MM(h)}));let g=null,m=null;const b=Kd.subscribe(async C=>{g=C;let T=0;for(;T<o.length;){const A=o[T].match(C.location);if(!A){T++;continue}const O={route:o[T].path,location:C.location,querystring:C.querystring,userData:o[T].userData,params:A&&typeof A==\"object\"&&Object.keys(A).length?A:null};if(!await o[T].checkConditions(O)){S(a,null),m=null,d(\"conditionsFailed\",O);return}d(\"routeLoading\",Object.assign({},O));const R=o[T].component;if(m!=R){R.loading?(S(a,R.loading),m=R,S(l,R.loadingParams),S(u,{}),d(\"routeLoaded\",Object.assign({},O,{component:c(a),name:c(a).name,params:c(l)}))):(S(a,null),m=null);const D=await R();if(C!=g)return;S(a,D&&D.default||D),m=R}A&&typeof A==\"object\"&&Object.keys(A).length?S(l,A):S(l,null),S(u,o[T].props),d(\"routeLoaded\",Object.assign({},O,{component:c(a),name:c(a).name,params:c(l)})).then(()=>{sx.set(c(l))});return}S(a,null),m=null,sx.set(void 0)});Hr(()=>{b(),p&&window.removeEventListener(\"popstate\",p)}),Z(()=>z(i()),()=>{history.scrollRestoration=i()?\"manual\":\"auto\"}),wt(),Ne();var v=Ue(),w=be(v);{var k=C=>{var T=Ue(),A=be(T);gu(A,()=>c(a),(O,R)=>{R(O,Qr({get params(){return c(l)}},()=>c(u),{$$events:{routeEvent(D){Bt.call(this,e,D)}}}))}),B(C,T)},x=C=>{var T=Ue(),A=be(T);gu(A,()=>c(a),(O,R)=>{R(O,Qr(()=>c(u),{$$events:{routeEvent(D){Bt.call(this,e,D)}}}))}),B(C,T)};oe(w,C=>{c(l)?C(k):C(x,!1)})}B(n,v),Ie()}function Si(n){if(typeof n==\"string\"||typeof n==\"number\")return\"\"+n;let e=\"\";if(Array.isArray(n))for(let t=0,r;t<n.length;t++)(r=Si(n[t]))!==\"\"&&(e+=(e&&\" \")+r);else for(let t in n)n[t]&&(e+=(e&&\" \")+t);return e}var IM={value:()=>{}};function Lm(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+\"\")||r in t||/[\\s.]/.test(r))throw new Error(\"illegal type: \"+r);t[r]=[]}return new Pp(t)}function Pp(n){this._=n}function RM(n,e){return n.trim().split(/^|\\s+/).map(function(t){var r=\"\",i=t.indexOf(\".\");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:r}})}Pp.prototype=Lm.prototype={constructor:Pp,on:function(n,e){var t=this._,r=RM(n+\"\",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=DM(t[i],n.name)))return i;return}if(e!=null&&typeof e!=\"function\")throw new Error(\"invalid callback: \"+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=ax(t[i],n.name,e);else if(e==null)for(i in t)t[i]=ax(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Pp(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function DM(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function ax(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=IM,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var S0=\"http://www.w3.org/1999/xhtml\";const lx={svg:\"http://www.w3.org/2000/svg\",xhtml:S0,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Bm(n){var e=n+=\"\",t=e.indexOf(\":\");return t>=0&&(e=n.slice(0,t))!==\"xmlns\"&&(n=n.slice(t+1)),lx.hasOwnProperty(e)?{space:lx[e],local:n}:n}function NM(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===S0&&e.documentElement.namespaceURI===S0?e.createElement(n):e.createElementNS(t,n)}}function LM(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function qk(n){var e=Bm(n);return(e.local?LM:NM)(e)}function BM(){}function Bb(n){return n==null?BM:function(){return this.querySelector(n)}}function FM(n){typeof n!=\"function\"&&(n=Bb(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,f=0;f<o;++f)(l=s[f])&&(u=n.call(l,l.__data__,f,s))&&(\"__data__\"in l&&(u.__data__=l.__data__),a[f]=u);return new Zi(r,this._parents)}function jM(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function zM(){return[]}function Wk(n){return n==null?zM:function(){return this.querySelectorAll(n)}}function VM(n){return function(){return jM(n.apply(this,arguments))}}function HM(n){typeof n==\"function\"?n=VM(n):n=Wk(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(n.call(l,l.__data__,u,o)),i.push(l));return new Zi(r,i)}function Uk(n){return function(){return this.matches(n)}}function Kk(n){return function(e){return e.matches(n)}}var qM=Array.prototype.find;function WM(n){return function(){return qM.call(this.children,n)}}function UM(){return this.firstElementChild}function KM(n){return this.select(n==null?UM:WM(typeof n==\"function\"?n:Kk(n)))}var JM=Array.prototype.filter;function XM(){return Array.from(this.children)}function YM(n){return function(){return JM.call(this.children,n)}}function GM(n){return this.selectAll(n==null?XM:YM(typeof n==\"function\"?n:Kk(n)))}function QM(n){typeof n!=\"function\"&&(n=Uk(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new Zi(r,this._parents)}function Jk(n){return new Array(n.length)}function ZM(){return new Zi(this._enter||this._groups.map(Jk),this._parents)}function fg(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}fg.prototype={constructor:fg,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function $M(n){return function(){return n}}function eP(n,e,t,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new fg(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function tP(n,e,t,r,i,s,o){var a,l,u=new Map,f=e.length,d=s.length,h=new Array(f),p;for(a=0;a<f;++a)(l=e[a])&&(h[a]=p=o.call(l,l.__data__,a,e)+\"\",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(n,s[a],a,s)+\"\",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):t[a]=new fg(n,s[a]);for(a=0;a<f;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function nP(n){return n.__data__}function rP(n,e){if(!arguments.length)return Array.from(this,nP);var t=e?tP:eP,r=this._parents,i=this._groups;typeof n!=\"function\"&&(n=$M(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var f=r[u],d=i[u],h=d.length,p=iP(n.call(f,f&&f.__data__,u,r)),g=p.length,m=a[u]=new Array(g),b=o[u]=new Array(g),v=l[u]=new Array(h);t(f,d,m,b,v,p,e);for(var w=0,k=0,x,C;w<g;++w)if(x=m[w]){for(w>=k&&(k=w+1);!(C=b[k])&&++k<g;);x._next=C||null}}return o=new Zi(o,r),o._enter=a,o._exit=l,o}function iP(n){return typeof n==\"object\"&&\"length\"in n?n:Array.from(n)}function sP(){return new Zi(this._exit||this._groups.map(Jk),this._parents)}function oP(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n==\"function\"?(r=n(r),r&&(r=r.selection())):r=r.append(n+\"\"),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function aP(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=t[l],f=r[l],d=u.length,h=a[l]=new Array(d),p,g=0;g<d;++g)(p=u[g]||f[g])&&(h[g]=p);for(;l<i;++l)a[l]=t[l];return new Zi(a,this._parents)}function lP(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function cP(n){n||(n=uP);function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],a=o.length,l=i[s]=new Array(a),u,f=0;f<a;++f)(u=o[f])&&(l[f]=u);l.sort(e)}return new Zi(i,this._parents).order()}function uP(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function fP(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function dP(){return Array.from(this)}function hP(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function pP(){let n=0;for(const e of this)++n;return n}function gP(){return!this.node()}function mP(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,a;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this}function vP(n){return function(){this.removeAttribute(n)}}function yP(n){return function(){this.removeAttributeNS(n.space,n.local)}}function bP(n,e){return function(){this.setAttribute(n,e)}}function wP(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function xP(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function CP(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function SP(n,e){var t=Bm(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?yP:vP:typeof e==\"function\"?t.local?CP:xP:t.local?wP:bP)(t,e))}function Xk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function _P(n){return function(){this.style.removeProperty(n)}}function kP(n,e,t){return function(){this.style.setProperty(n,e,t)}}function AP(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function OP(n,e,t){return arguments.length>1?this.each((e==null?_P:typeof e==\"function\"?AP:kP)(n,e,t??\"\")):mu(this.node(),n)}function mu(n,e){return n.style.getPropertyValue(e)||Xk(n).getComputedStyle(n,null).getPropertyValue(e)}function EP(n){return function(){delete this[n]}}function TP(n,e){return function(){this[n]=e}}function MP(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function PP(n,e){return arguments.length>1?this.each((e==null?EP:typeof e==\"function\"?MP:TP)(n,e)):this.node()[n]}function Yk(n){return n.trim().split(/^|\\s+/)}function Fb(n){return n.classList||new Gk(n)}function Gk(n){this._node=n,this._names=Yk(n.getAttribute(\"class\")||\"\")}Gk.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(n){return this._names.indexOf(n)>=0}};function Qk(n,e){for(var t=Fb(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function Zk(n,e){for(var t=Fb(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function IP(n){return function(){Qk(this,n)}}function RP(n){return function(){Zk(this,n)}}function DP(n,e){return function(){(e.apply(this,arguments)?Qk:Zk)(this,n)}}function NP(n,e){var t=Yk(n+\"\");if(arguments.length<2){for(var r=Fb(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e==\"function\"?DP:e?IP:RP)(t,e))}function LP(){this.textContent=\"\"}function BP(n){return function(){this.textContent=n}}function FP(n){return function(){var e=n.apply(this,arguments);this.textContent=e??\"\"}}function jP(n){return arguments.length?this.each(n==null?LP:(typeof n==\"function\"?FP:BP)(n)):this.node().textContent}function zP(){this.innerHTML=\"\"}function VP(n){return function(){this.innerHTML=n}}function HP(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??\"\"}}function qP(n){return arguments.length?this.each(n==null?zP:(typeof n==\"function\"?HP:VP)(n)):this.node().innerHTML}function WP(){this.nextSibling&&this.parentNode.appendChild(this)}function UP(){return this.each(WP)}function KP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JP(){return this.each(KP)}function XP(n){var e=typeof n==\"function\"?n:qk(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function YP(){return null}function GP(n,e){var t=typeof n==\"function\"?n:qk(n),r=e==null?YP:typeof e==\"function\"?e:Bb(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function QP(){var n=this.parentNode;n&&n.removeChild(this)}function ZP(){return this.each(QP)}function $P(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function eI(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function tI(n){return this.select(n?eI:$P)}function nI(n){return arguments.length?this.property(\"__data__\",n):this.node().__data__}function rI(n){return function(e){n.call(this,e,this.__data__)}}function iI(n){return n.trim().split(/^|\\s+/).map(function(e){var t=\"\",r=e.indexOf(\".\");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function sI(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function oI(n,e,t){return function(){var r=this.__on,i,s=rI(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function aI(n,e,t){var r=iI(n+\"\"),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,f;l<u;++l)for(i=0,f=a[l];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?oI:sI,i=0;i<s;++i)this.each(a(r[i],e,t));return this}function $k(n,e,t){var r=Xk(n),i=r.CustomEvent;typeof i==\"function\"?i=new i(e,t):(i=r.document.createEvent(\"Event\"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function lI(n,e){return function(){return $k(this,n,e)}}function cI(n,e){return function(){return $k(this,n,e.apply(this,arguments))}}function uI(n,e){return this.each((typeof e==\"function\"?cI:lI)(n,e))}function*fI(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var e4=[null];function Zi(n,e){this._groups=n,this._parents=e}function Jd(){return new Zi([[document.documentElement]],e4)}function dI(){return this}Zi.prototype=Jd.prototype={constructor:Zi,select:FM,selectAll:HM,selectChild:KM,selectChildren:GM,filter:QM,data:rP,enter:ZM,exit:sP,join:oP,merge:aP,selection:dI,order:lP,sort:cP,call:fP,nodes:dP,node:hP,size:pP,empty:gP,each:mP,attr:SP,style:OP,property:PP,classed:NP,text:jP,html:qP,raise:UP,lower:JP,append:XP,insert:GP,remove:ZP,clone:tI,datum:nI,on:aI,dispatch:uI,[Symbol.iterator]:fI};function os(n){return typeof n==\"string\"?new Zi([[document.querySelector(n)]],[document.documentElement]):new Zi([[n]],e4)}function hI(n){let e;for(;e=n.sourceEvent;)n=e;return n}function ks(n,e){if(n=hI(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const pI={passive:!1},id={capture:!0,passive:!1};function Hv(n){n.stopImmediatePropagation()}function Yc(n){n.preventDefault(),n.stopImmediatePropagation()}function t4(n){var e=n.document.documentElement,t=os(n).on(\"dragstart.drag\",Yc,id);\"onselectstart\"in e?t.on(\"selectstart.drag\",Yc,id):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect=\"none\")}function n4(n,e){var t=n.document.documentElement,r=os(n).on(\"dragstart.drag\",null);e&&(r.on(\"click.drag\",Yc,id),setTimeout(function(){r.on(\"click.drag\",null)},0)),\"onselectstart\"in t?r.on(\"selectstart.drag\",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Sh=n=>()=>n;function _0(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}_0.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function gI(n){return!n.ctrlKey&&!n.button}function mI(){return this.parentNode}function vI(n,e){return e??{x:n.x,y:n.y}}function yI(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function bI(){var n=gI,e=mI,t=vI,r=yI,i={},s=Lm(\"start\",\"drag\",\"end\"),o=0,a,l,u,f,d=0;function h(x){x.on(\"mousedown.drag\",p).filter(r).on(\"touchstart.drag\",b).on(\"touchmove.drag\",v,pI).on(\"touchend.drag touchcancel.drag\",w).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function p(x,C){if(!(f||!n.call(this,x,C))){var T=k(this,e.call(this,x,C),x,C,\"mouse\");T&&(os(x.view).on(\"mousemove.drag\",g,id).on(\"mouseup.drag\",m,id),t4(x.view),Hv(x),u=!1,a=x.clientX,l=x.clientY,T(\"start\",x))}}function g(x){if(Yc(x),!u){var C=x.clientX-a,T=x.clientY-l;u=C*C+T*T>d}i.mouse(\"drag\",x)}function m(x){os(x.view).on(\"mousemove.drag mouseup.drag\",null),n4(x.view,u),Yc(x),i.mouse(\"end\",x)}function b(x,C){if(n.call(this,x,C)){var T=x.changedTouches,A=e.call(this,x,C),O=T.length,R,D;for(R=0;R<O;++R)(D=k(this,A,x,C,T[R].identifier,T[R]))&&(Hv(x),D(\"start\",x,T[R]))}}function v(x){var C=x.changedTouches,T=C.length,A,O;for(A=0;A<T;++A)(O=i[C[A].identifier])&&(Yc(x),O(\"drag\",x,C[A]))}function w(x){var C=x.changedTouches,T=C.length,A,O;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),A=0;A<T;++A)(O=i[C[A].identifier])&&(Hv(x),O(\"end\",x,C[A]))}function k(x,C,T,A,O,R){var D=s.copy(),E=ks(R||T,C),I,P,_;if((_=t.call(x,new _0(\"beforestart\",{sourceEvent:T,target:h,identifier:O,active:o,x:E[0],y:E[1],dx:0,dy:0,dispatch:D}),A))!=null)return I=_.x-E[0]||0,P=_.y-E[1]||0,function L(M,N,F){var j=E,Y;switch(M){case\"start\":i[O]=L,Y=o++;break;case\"end\":delete i[O],--o;case\"drag\":E=ks(F||N,C),Y=o;break}D.call(M,x,new _0(M,{sourceEvent:N,subject:_,target:h,identifier:O,active:Y,x:E[0]+I,y:E[1]+P,dx:E[0]-j[0],dy:E[1]-j[1],dispatch:D}),A)}}return h.filter=function(x){return arguments.length?(n=typeof x==\"function\"?x:Sh(!!x),h):n},h.container=function(x){return arguments.length?(e=typeof x==\"function\"?x:Sh(x),h):e},h.subject=function(x){return arguments.length?(t=typeof x==\"function\"?x:Sh(x),h):t},h.touchable=function(x){return arguments.length?(r=typeof x==\"function\"?x:Sh(!!x),h):r},h.on=function(){var x=s.on.apply(s,arguments);return x===s?h:x},h.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,h):Math.sqrt(d)},h}function jb(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function r4(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Xd(){}var sd=.7,dg=1/sd,Gc=\"\\\\s*([+-]?\\\\d+)\\\\s*\",od=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",uo=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",wI=/^#([0-9a-f]{3,8})$/,xI=new RegExp(`^rgb\\\\(${Gc},${Gc},${Gc}\\\\)$`),CI=new RegExp(`^rgb\\\\(${uo},${uo},${uo}\\\\)$`),SI=new RegExp(`^rgba\\\\(${Gc},${Gc},${Gc},${od}\\\\)$`),_I=new RegExp(`^rgba\\\\(${uo},${uo},${uo},${od}\\\\)$`),kI=new RegExp(`^hsl\\\\(${od},${uo},${uo}\\\\)$`),AI=new RegExp(`^hsla\\\\(${od},${uo},${uo},${od}\\\\)$`),cx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jb(Xd,ad,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:ux,formatHex:ux,formatHex8:OI,formatHsl:EI,formatRgb:fx,toString:fx});function ux(){return this.rgb().formatHex()}function OI(){return this.rgb().formatHex8()}function EI(){return i4(this).formatHsl()}function fx(){return this.rgb().formatRgb()}function ad(n){var e,t;return n=(n+\"\").trim().toLowerCase(),(e=wI.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?dx(e):t===3?new Di(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?_h(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?_h(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xI.exec(n))?new Di(e[1],e[2],e[3],1):(e=CI.exec(n))?new Di(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=SI.exec(n))?_h(e[1],e[2],e[3],e[4]):(e=_I.exec(n))?_h(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kI.exec(n))?gx(e[1],e[2]/100,e[3]/100,1):(e=AI.exec(n))?gx(e[1],e[2]/100,e[3]/100,e[4]):cx.hasOwnProperty(n)?dx(cx[n]):n===\"transparent\"?new Di(NaN,NaN,NaN,0):null}function dx(n){return new Di(n>>16&255,n>>8&255,n&255,1)}function _h(n,e,t,r){return r<=0&&(n=e=t=NaN),new Di(n,e,t,r)}function TI(n){return n instanceof Xd||(n=ad(n)),n?(n=n.rgb(),new Di(n.r,n.g,n.b,n.opacity)):new Di}function k0(n,e,t,r){return arguments.length===1?TI(n):new Di(n,e,t,r??1)}function Di(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}jb(Di,k0,r4(Xd,{brighter(n){return n=n==null?dg:Math.pow(dg,n),new Di(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?sd:Math.pow(sd,n),new Di(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Di(Rl(this.r),Rl(this.g),Rl(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hx,formatHex:hx,formatHex8:MI,formatRgb:px,toString:px}));function hx(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function MI(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function px(){const n=hg(this.opacity);return`${n===1?\"rgb(\":\"rgba(\"}${Rl(this.r)}, ${Rl(this.g)}, ${Rl(this.b)}${n===1?\")\":`, ${n})`}`}function hg(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Rl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Tl(n){return n=Rl(n),(n<16?\"0\":\"\")+n.toString(16)}function gx(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Es(n,e,t,r)}function i4(n){if(n instanceof Es)return new Es(n.h,n.s,n.l,n.opacity);if(n instanceof Xd||(n=ad(n)),!n)return new Es;if(n instanceof Es)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Es(o,a,l,n.opacity)}function PI(n,e,t,r){return arguments.length===1?i4(n):new Es(n,e,t,r??1)}function Es(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}jb(Es,PI,r4(Xd,{brighter(n){return n=n==null?dg:Math.pow(dg,n),new Es(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?sd:Math.pow(sd,n),new Es(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Di(qv(n>=240?n-240:n+120,i,r),qv(n,i,r),qv(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Es(mx(this.h),kh(this.s),kh(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=hg(this.opacity);return`${n===1?\"hsl(\":\"hsla(\"}${mx(this.h)}, ${kh(this.s)*100}%, ${kh(this.l)*100}%${n===1?\")\":`, ${n})`}`}}));function mx(n){return n=(n||0)%360,n<0?n+360:n}function kh(n){return Math.max(0,Math.min(1,n||0))}function qv(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const s4=n=>()=>n;function II(n,e){return function(t){return n+t*e}}function RI(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function DI(n){return(n=+n)==1?o4:function(e,t){return t-e?RI(e,t,n):s4(isNaN(e)?t:e)}}function o4(n,e){var t=e-n;return t?II(n,t):s4(isNaN(n)?e:n)}const vx=function n(e){var t=DI(e);function r(i,s){var o=t((i=k0(i)).r,(s=k0(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),u=o4(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+\"\"}}return r.gamma=n,r}(1);function Oa(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var A0=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Wv=new RegExp(A0.source,\"g\");function NI(n){return function(){return n}}function LI(n){return function(e){return n(e)+\"\"}}function BI(n,e){var t=A0.lastIndex=Wv.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+\"\",e=e+\"\";(r=A0.exec(n))&&(i=Wv.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Oa(r,i)})),t=Wv.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?LI(l[0].x):NI(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(u);return a.join(\"\")})}var yx=180/Math.PI,O0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a4(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*yx,skewX:Math.atan(l)*yx,scaleX:o,scaleY:a}}var Ah;function FI(n){const e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(n+\"\");return e.isIdentity?O0:a4(e.a,e.b,e.c,e.d,e.e,e.f)}function jI(n){return n==null||(Ah||(Ah=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Ah.setAttribute(\"transform\",n),!(n=Ah.transform.baseVal.consolidate()))?O0:(n=n.matrix,a4(n.a,n.b,n.c,n.d,n.e,n.f))}function l4(n,e,t,r){function i(u){return u.length?u.pop()+\" \":\"\"}function s(u,f,d,h,p,g){if(u!==d||f!==h){var m=p.push(\"translate(\",null,e,null,t);g.push({i:m-4,x:Oa(u,d)},{i:m-2,x:Oa(f,h)})}else(d||h)&&p.push(\"translate(\"+d+e+h+t)}function o(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(i(d)+\"rotate(\",null,r)-2,x:Oa(u,f)})):f&&d.push(i(d)+\"rotate(\"+f+r)}function a(u,f,d,h){u!==f?h.push({i:d.push(i(d)+\"skewX(\",null,r)-2,x:Oa(u,f)}):f&&d.push(i(d)+\"skewX(\"+f+r)}function l(u,f,d,h,p,g){if(u!==d||f!==h){var m=p.push(i(p)+\"scale(\",null,\",\",null,\")\");g.push({i:m-4,x:Oa(u,d)},{i:m-2,x:Oa(f,h)})}else(d!==1||h!==1)&&p.push(i(p)+\"scale(\"+d+\",\"+h+\")\")}return function(u,f){var d=[],h=[];return u=n(u),f=n(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,h),o(u.rotate,f.rotate,d,h),a(u.skewX,f.skewX,d,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(p){for(var g=-1,m=h.length,b;++g<m;)d[(b=h[g]).i]=b.x(p);return d.join(\"\")}}}var zI=l4(FI,\"px, \",\"px)\",\"deg)\"),VI=l4(jI,\", \",\")\",\")\"),HI=1e-12;function bx(n){return((n=Math.exp(n))+1/n)/2}function qI(n){return((n=Math.exp(n))-1/n)/2}function WI(n){return((n=Math.exp(2*n))-1)/(n+1)}const UI=function n(e,t,r){function i(s,o){var a=s[0],l=s[1],u=s[2],f=o[0],d=o[1],h=o[2],p=f-a,g=d-l,m=p*p+g*g,b,v;if(m<HI)v=Math.log(h/u)/e,b=function(A){return[a+A*p,l+A*g,u*Math.exp(e*A*v)]};else{var w=Math.sqrt(m),k=(h*h-u*u+r*m)/(2*u*t*w),x=(h*h-u*u-r*m)/(2*h*t*w),C=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(x*x+1)-x);v=(T-C)/e,b=function(A){var O=A*v,R=bx(C),D=u/(t*w)*(R*WI(e*O+C)-qI(C));return[a+D*p,l+D*g,u*R/bx(e*O+C)]}}return b.duration=v*1e3*e/Math.SQRT2,b}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},i}(Math.SQRT2,2,4);var vu=0,kf=0,cf=0,c4=1e3,pg,Af,gg=0,Vl=0,Fm=0,ld=typeof performance==\"object\"&&performance.now?performance:Date,u4=typeof window==\"object\"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function zb(){return Vl||(u4(KI),Vl=ld.now()+Fm)}function KI(){Vl=0}function mg(){this._call=this._time=this._next=null}mg.prototype=f4.prototype={constructor:mg,restart:function(n,e,t){if(typeof n!=\"function\")throw new TypeError(\"callback is not a function\");t=(t==null?zb():+t)+(e==null?0:+e),!this._next&&Af!==this&&(Af?Af._next=this:pg=this,Af=this),this._call=n,this._time=t,E0()},stop:function(){this._call&&(this._call=null,this._time=1/0,E0())}};function f4(n,e,t){var r=new mg;return r.restart(n,e,t),r}function JI(){zb(),++vu;for(var n=pg,e;n;)(e=Vl-n._time)>=0&&n._call.call(void 0,e),n=n._next;--vu}function wx(){Vl=(gg=ld.now())+Fm,vu=kf=0;try{JI()}finally{vu=0,YI(),Vl=0}}function XI(){var n=ld.now(),e=n-gg;e>c4&&(Fm-=e,gg=n)}function YI(){for(var n,e=pg,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:pg=t);Af=n,E0(r)}function E0(n){if(!vu){kf&&(kf=clearTimeout(kf));var e=n-Vl;e>24?(n<1/0&&(kf=setTimeout(wx,n-ld.now()-Fm)),cf&&(cf=clearInterval(cf))):(cf||(gg=ld.now(),cf=setInterval(XI,c4)),vu=1,u4(wx))}}function xx(n,e,t){var r=new mg;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var GI=Lm(\"start\",\"end\",\"cancel\",\"interrupt\"),QI=[],d4=0,Cx=1,T0=2,Ip=3,Sx=4,M0=5,Rp=6;function jm(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;ZI(n,t,{name:e,index:r,group:i,on:GI,tween:QI,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:d4})}function Vb(n,e){var t=Ks(n,e);if(t.state>d4)throw new Error(\"too late; already scheduled\");return t}function _o(n,e){var t=Ks(n,e);if(t.state>Ip)throw new Error(\"too late; already running\");return t}function Ks(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error(\"transition not found\");return t}function ZI(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=f4(s,0,t.time);function s(u){t.state=Cx,t.timer.restart(o,t.delay,t.time),t.delay<=u&&o(u-t.delay)}function o(u){var f,d,h,p;if(t.state!==Cx)return l();for(f in r)if(p=r[f],p.name===t.name){if(p.state===Ip)return xx(o);p.state===Sx?(p.state=Rp,p.timer.stop(),p.on.call(\"interrupt\",n,n.__data__,p.index,p.group),delete r[f]):+f<e&&(p.state=Rp,p.timer.stop(),p.on.call(\"cancel\",n,n.__data__,p.index,p.group),delete r[f])}if(xx(function(){t.state===Ip&&(t.state=Sx,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=T0,t.on.call(\"start\",n,n.__data__,t.index,t.group),t.state===T0){for(t.state=Ip,i=new Array(h=t.tween.length),f=0,d=-1;f<h;++f)(p=t.tween[f].value.call(n,n.__data__,t.index,t.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var f=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=M0,1),d=-1,h=i.length;++d<h;)i[d].call(n,f);t.state===M0&&(t.on.call(\"end\",n,n.__data__,t.index,t.group),l())}function l(){t.state=Rp,t.timer.stop(),delete r[e];for(var u in r)return;delete n.__transition}}function Dp(n,e){var t=n.__transition,r,i,s=!0,o;if(t){e=e==null?null:e+\"\";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>T0&&r.state<M0,r.state=Rp,r.timer.stop(),r.on.call(i?\"interrupt\":\"cancel\",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function $I(n){return this.each(function(){Dp(this,n)})}function e7(n,e){var t,r;return function(){var i=_o(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function t7(n,e,t){var r,i;if(typeof t!=\"function\")throw new Error;return function(){var s=_o(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function n7(n,e){var t=this._id;if(n+=\"\",arguments.length<2){for(var r=Ks(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?e7:t7)(t,n,e))}function Hb(n,e,t){var r=n._id;return n.each(function(){var i=_o(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Ks(i,r).value[e]}}function h4(n,e){var t;return(typeof e==\"number\"?Oa:e instanceof ad?vx:(t=ad(e))?(e=t,vx):BI)(n,e)}function r7(n){return function(){this.removeAttribute(n)}}function i7(n){return function(){this.removeAttributeNS(n.space,n.local)}}function s7(n,e,t){var r,i=t+\"\",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function o7(n,e,t){var r,i=t+\"\",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function a7(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+\"\",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function l7(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+\"\",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function c7(n,e){var t=Bm(n),r=t===\"transform\"?VI:h4;return this.attrTween(n,typeof e==\"function\"?(t.local?l7:a7)(t,r,Hb(this,\"attr.\"+n,e)):e==null?(t.local?i7:r7)(t):(t.local?o7:s7)(t,r,e))}function u7(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function f7(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function d7(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&f7(n,s)),t}return i._value=e,i}function h7(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&u7(n,s)),t}return i._value=e,i}function p7(n,e){var t=\"attr.\"+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=\"function\")throw new Error;var r=Bm(n);return this.tween(t,(r.local?d7:h7)(r,e))}function g7(n,e){return function(){Vb(this,n).delay=+e.apply(this,arguments)}}function m7(n,e){return e=+e,function(){Vb(this,n).delay=e}}function v7(n){var e=this._id;return arguments.length?this.each((typeof n==\"function\"?g7:m7)(e,n)):Ks(this.node(),e).delay}function y7(n,e){return function(){_o(this,n).duration=+e.apply(this,arguments)}}function b7(n,e){return e=+e,function(){_o(this,n).duration=e}}function w7(n){var e=this._id;return arguments.length?this.each((typeof n==\"function\"?y7:b7)(e,n)):Ks(this.node(),e).duration}function x7(n,e){if(typeof e!=\"function\")throw new Error;return function(){_o(this,n).ease=e}}function C7(n){var e=this._id;return arguments.length?this.each(x7(e,n)):Ks(this.node(),e).ease}function S7(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!=\"function\")throw new Error;_o(this,n).ease=t}}function _7(n){if(typeof n!=\"function\")throw new Error;return this.each(S7(this._id,n))}function k7(n){typeof n!=\"function\"&&(n=Uk(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new ra(r,this._parents,this._name,this._id)}function A7(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=t[a],f=l.length,d=o[a]=new Array(f),h,p=0;p<f;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<r;++a)o[a]=e[a];return new ra(o,this._parents,this._name,this._id)}function O7(n){return(n+\"\").trim().split(/^|\\s+/).every(function(e){var t=e.indexOf(\".\");return t>=0&&(e=e.slice(0,t)),!e||e===\"start\"})}function E7(n,e,t){var r,i,s=O7(e)?Vb:_o;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}function T7(n,e){var t=this._id;return arguments.length<2?Ks(this.node(),t).on.on(n):this.each(E7(t,n,e))}function M7(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function P7(){return this.on(\"end.remove\",M7(this._id))}function I7(n){var e=this._name,t=this._id;typeof n!=\"function\"&&(n=Bb(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),f,d,h=0;h<l;++h)(f=a[h])&&(d=n.call(f,f.__data__,h,a))&&(\"__data__\"in f&&(d.__data__=f.__data__),u[h]=d,jm(u[h],e,t,h,u,Ks(f,t)));return new ra(s,this._parents,e,t)}function R7(n){var e=this._name,t=this._id;typeof n!=\"function\"&&(n=Wk(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var h=n.call(f,f.__data__,d,l),p,g=Ks(f,t),m=0,b=h.length;m<b;++m)(p=h[m])&&jm(p,e,t,m,h,g);s.push(h),o.push(f)}return new ra(s,o,e,t)}var D7=Jd.prototype.constructor;function N7(){return new D7(this._groups,this._parents)}function L7(n,e){var t,r,i;return function(){var s=mu(this,n),o=(this.style.removeProperty(n),mu(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function p4(n){return function(){this.style.removeProperty(n)}}function B7(n,e,t){var r,i=t+\"\",s;return function(){var o=mu(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function F7(n,e,t){var r,i,s;return function(){var o=mu(this,n),a=t(this),l=a+\"\";return a==null&&(l=a=(this.style.removeProperty(n),mu(this,n))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function j7(n,e){var t,r,i,s=\"style.\"+e,o=\"end.\"+s,a;return function(){var l=_o(this,n),u=l.on,f=l.value[s]==null?a||(a=p4(e)):void 0;(u!==t||i!==f)&&(r=(t=u).copy()).on(o,i=f),l.on=r}}function z7(n,e,t){var r=(n+=\"\")==\"transform\"?zI:h4;return e==null?this.styleTween(n,L7(n,r)).on(\"end.style.\"+n,p4(n)):typeof e==\"function\"?this.styleTween(n,F7(n,r,Hb(this,\"style.\"+n,e))).each(j7(this._id,n)):this.styleTween(n,B7(n,r,e),t).on(\"end.style.\"+n,null)}function V7(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function H7(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&V7(n,o,t)),r}return s._value=e,s}function q7(n,e,t){var r=\"style.\"+(n+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=\"function\")throw new Error;return this.tween(r,H7(n,e,t??\"\"))}function W7(n){return function(){this.textContent=n}}function U7(n){return function(){var e=n(this);this.textContent=e??\"\"}}function K7(n){return this.tween(\"text\",typeof n==\"function\"?U7(Hb(this,\"text\",n)):W7(n==null?\"\":n+\"\"))}function J7(n){return function(e){this.textContent=n.call(this,e)}}function X7(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&J7(i)),e}return r._value=n,r}function Y7(n){var e=\"text\";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!=\"function\")throw new Error;return this.tween(e,X7(n))}function G7(){for(var n=this._name,e=this._id,t=g4(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var f=Ks(l,e);jm(l,n,t,u,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ra(r,this._parents,n,t)}function Q7(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};t.each(function(){var u=_o(this,r),f=u.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var Z7=0;function ra(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function g4(){return++Z7}var Ro=Jd.prototype;ra.prototype={constructor:ra,select:I7,selectAll:R7,selectChild:Ro.selectChild,selectChildren:Ro.selectChildren,filter:k7,merge:A7,selection:N7,transition:G7,call:Ro.call,nodes:Ro.nodes,node:Ro.node,size:Ro.size,empty:Ro.empty,each:Ro.each,on:T7,attr:c7,attrTween:p7,style:z7,styleTween:q7,text:K7,textTween:Y7,remove:P7,tween:n7,delay:v7,duration:w7,ease:C7,easeVarying:_7,end:Q7,[Symbol.iterator]:Ro[Symbol.iterator]};function $7(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var e9={time:null,delay:0,duration:250,ease:$7};function t9(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function n9(n){var e,t;n instanceof ra?(e=n._id,n=n._name):(e=g4(),(t=e9).time=zb(),n=n==null?null:n+\"\");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&jm(l,n,e,u,o,t||t9(l,e));return new ra(r,this._parents,n,e)}Jd.prototype.interrupt=$I;Jd.prototype.transition=n9;const Oh=n=>()=>n;function r9(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Vo(n,e,t){this.k=n,this.x=e,this.y=t}Vo.prototype={constructor:Vo,scale:function(n){return n===1?this:new Vo(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Vo(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};var zm=new Vo(1,0,0);m4.prototype=Vo.prototype;function m4(n){for(;!n.__zoom;)if(!(n=n.parentNode))return zm;return n.__zoom}function Uv(n){n.stopImmediatePropagation()}function uf(n){n.preventDefault(),n.stopImmediatePropagation()}function i9(n){return(!n.ctrlKey||n.type===\"wheel\")&&!n.button}function s9(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute(\"viewBox\")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function _x(){return this.__zoom||zm}function o9(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function a9(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function l9(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function v4(){var n=i9,e=s9,t=l9,r=o9,i=a9,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=UI,u=Lm(\"start\",\"zoom\",\"end\"),f,d,h,p=500,g=150,m=0,b=10;function v(_){_.property(\"__zoom\",_x).on(\"wheel.zoom\",O,{passive:!1}).on(\"mousedown.zoom\",R).on(\"dblclick.zoom\",D).filter(i).on(\"touchstart.zoom\",E).on(\"touchmove.zoom\",I).on(\"touchend.zoom touchcancel.zoom\",P).style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}v.transform=function(_,L,M,N){var F=_.selection?_.selection():_;F.property(\"__zoom\",_x),_!==F?C(_,L,M,N):F.interrupt().each(function(){T(this,arguments).event(N).start().zoom(null,typeof L==\"function\"?L.apply(this,arguments):L).end()})},v.scaleBy=function(_,L,M,N){v.scaleTo(_,function(){var F=this.__zoom.k,j=typeof L==\"function\"?L.apply(this,arguments):L;return F*j},M,N)},v.scaleTo=function(_,L,M,N){v.transform(_,function(){var F=e.apply(this,arguments),j=this.__zoom,Y=M==null?x(F):typeof M==\"function\"?M.apply(this,arguments):M,ie=j.invert(Y),Q=typeof L==\"function\"?L.apply(this,arguments):L;return t(k(w(j,Q),Y,ie),F,o)},M,N)},v.translateBy=function(_,L,M,N){v.transform(_,function(){return t(this.__zoom.translate(typeof L==\"function\"?L.apply(this,arguments):L,typeof M==\"function\"?M.apply(this,arguments):M),e.apply(this,arguments),o)},null,N)},v.translateTo=function(_,L,M,N,F){v.transform(_,function(){var j=e.apply(this,arguments),Y=this.__zoom,ie=N==null?x(j):typeof N==\"function\"?N.apply(this,arguments):N;return t(zm.translate(ie[0],ie[1]).scale(Y.k).translate(typeof L==\"function\"?-L.apply(this,arguments):-L,typeof M==\"function\"?-M.apply(this,arguments):-M),j,o)},N,F)};function w(_,L){return L=Math.max(s[0],Math.min(s[1],L)),L===_.k?_:new Vo(L,_.x,_.y)}function k(_,L,M){var N=L[0]-M[0]*_.k,F=L[1]-M[1]*_.k;return N===_.x&&F===_.y?_:new Vo(_.k,N,F)}function x(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function C(_,L,M,N){_.on(\"start.zoom\",function(){T(this,arguments).event(N).start()}).on(\"interrupt.zoom end.zoom\",function(){T(this,arguments).event(N).end()}).tween(\"zoom\",function(){var F=this,j=arguments,Y=T(F,j).event(N),ie=e.apply(F,j),Q=M==null?x(ie):typeof M==\"function\"?M.apply(F,j):M,te=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),U=F.__zoom,se=typeof L==\"function\"?L.apply(F,j):L,le=l(U.invert(Q).concat(te/U.k),se.invert(Q).concat(te/se.k));return function(W){if(W===1)W=se;else{var ce=le(W),fe=te/ce[2];W=new Vo(fe,Q[0]-ce[0]*fe,Q[1]-ce[1]*fe)}Y.zoom(null,W)}})}function T(_,L,M){return!M&&_.__zooming||new A(_,L)}function A(_,L){this.that=_,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,L),this.taps=0}A.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit(\"start\")),this},zoom:function(_,L){return this.mouse&&_!==\"mouse\"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&_!==\"touch\"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&_!==\"touch\"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit(\"zoom\"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit(\"end\")),this},emit:function(_){var L=os(this.that).datum();u.call(_,this.that,new r9(_,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),L)}};function O(_,...L){if(!n.apply(this,arguments))return;var M=T(this,L).event(_),N=this.__zoom,F=Math.max(s[0],Math.min(s[1],N.k*Math.pow(2,r.apply(this,arguments)))),j=ks(_);if(M.wheel)(M.mouse[0][0]!==j[0]||M.mouse[0][1]!==j[1])&&(M.mouse[1]=N.invert(M.mouse[0]=j)),clearTimeout(M.wheel);else{if(N.k===F)return;M.mouse=[j,N.invert(j)],Dp(this),M.start()}uf(_),M.wheel=setTimeout(Y,g),M.zoom(\"mouse\",t(k(w(N,F),M.mouse[0],M.mouse[1]),M.extent,o));function Y(){M.wheel=null,M.end()}}function R(_,...L){if(h||!n.apply(this,arguments))return;var M=_.currentTarget,N=T(this,L,!0).event(_),F=os(_.view).on(\"mousemove.zoom\",Q,!0).on(\"mouseup.zoom\",te,!0),j=ks(_,M),Y=_.clientX,ie=_.clientY;t4(_.view),Uv(_),N.mouse=[j,this.__zoom.invert(j)],Dp(this),N.start();function Q(U){if(uf(U),!N.moved){var se=U.clientX-Y,le=U.clientY-ie;N.moved=se*se+le*le>m}N.event(U).zoom(\"mouse\",t(k(N.that.__zoom,N.mouse[0]=ks(U,M),N.mouse[1]),N.extent,o))}function te(U){F.on(\"mousemove.zoom mouseup.zoom\",null),n4(U.view,N.moved),uf(U),N.event(U).end()}}function D(_,...L){if(n.apply(this,arguments)){var M=this.__zoom,N=ks(_.changedTouches?_.changedTouches[0]:_,this),F=M.invert(N),j=M.k*(_.shiftKey?.5:2),Y=t(k(w(M,j),N,F),e.apply(this,L),o);uf(_),a>0?os(this).transition().duration(a).call(C,Y,N,_):os(this).call(v.transform,Y,N,_)}}function E(_,...L){if(n.apply(this,arguments)){var M=_.touches,N=M.length,F=T(this,L,_.changedTouches.length===N).event(_),j,Y,ie,Q;for(Uv(_),Y=0;Y<N;++Y)ie=M[Y],Q=ks(ie,this),Q=[Q,this.__zoom.invert(Q),ie.identifier],F.touch0?!F.touch1&&F.touch0[2]!==Q[2]&&(F.touch1=Q,F.taps=0):(F.touch0=Q,j=!0,F.taps=1+!!f);f&&(f=clearTimeout(f)),j&&(F.taps<2&&(d=Q[0],f=setTimeout(function(){f=null},p)),Dp(this),F.start())}}function I(_,...L){if(this.__zooming){var M=T(this,L).event(_),N=_.changedTouches,F=N.length,j,Y,ie,Q;for(uf(_),j=0;j<F;++j)Y=N[j],ie=ks(Y,this),M.touch0&&M.touch0[2]===Y.identifier?M.touch0[0]=ie:M.touch1&&M.touch1[2]===Y.identifier&&(M.touch1[0]=ie);if(Y=M.that.__zoom,M.touch1){var te=M.touch0[0],U=M.touch0[1],se=M.touch1[0],le=M.touch1[1],W=(W=se[0]-te[0])*W+(W=se[1]-te[1])*W,ce=(ce=le[0]-U[0])*ce+(ce=le[1]-U[1])*ce;Y=w(Y,Math.sqrt(W/ce)),ie=[(te[0]+se[0])/2,(te[1]+se[1])/2],Q=[(U[0]+le[0])/2,(U[1]+le[1])/2]}else if(M.touch0)ie=M.touch0[0],Q=M.touch0[1];else return;M.zoom(\"touch\",t(k(Y,ie,Q),M.extent,o))}}function P(_,...L){if(this.__zooming){var M=T(this,L).event(_),N=_.changedTouches,F=N.length,j,Y;for(Uv(_),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<F;++j)Y=N[j],M.touch0&&M.touch0[2]===Y.identifier?delete M.touch0:M.touch1&&M.touch1[2]===Y.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(Y=ks(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<b)){var ie=os(this).on(\"dblclick.zoom\");ie&&ie.apply(this,arguments)}}}return v.wheelDelta=function(_){return arguments.length?(r=typeof _==\"function\"?_:Oh(+_),v):r},v.filter=function(_){return arguments.length?(n=typeof _==\"function\"?_:Oh(!!_),v):n},v.touchable=function(_){return arguments.length?(i=typeof _==\"function\"?_:Oh(!!_),v):i},v.extent=function(_){return arguments.length?(e=typeof _==\"function\"?_:Oh([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),v):e},v.scaleExtent=function(_){return arguments.length?(s[0]=+_[0],s[1]=+_[1],v):[s[0],s[1]]},v.translateExtent=function(_){return arguments.length?(o[0][0]=+_[0][0],o[1][0]=+_[1][0],o[0][1]=+_[0][1],o[1][1]=+_[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(_){return arguments.length?(t=_,v):t},v.duration=function(_){return arguments.length?(a=+_,v):a},v.interpolate=function(_){return arguments.length?(l=_,v):l},v.on=function(){var _=u.on.apply(u,arguments);return _===u?v:_},v.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,v):Math.sqrt(m)},v.tapDistance=function(_){return arguments.length?(b=+_,v):b},v}const Yd={error001:()=>\"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001\",error002:()=>\"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",error003:n=>`Node type \"${n}\" not found. Using fallback type \"default\".`,error004:()=>\"The React Flow parent container needs a width and a height to render the graph.\",error005:()=>\"Only child nodes can use a parent extent.\",error006:()=>\"Can't create edge. An edge needs a source and a target.\",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type \"${n}\" doesn't exist.`,error008:(n,{id:e,sourceHandle:t,targetHandle:r})=>`Couldn't create edge for ${n} handle id: \"${n===\"source\"?t:r}\", edge id: ${e}.`,error010:()=>\"Handle: No node id found. Make sure to only use a Handle inside a custom Node.\",error011:n=>`Edge type \"${n}\" not found. Using fallback type \"default\".`,error012:n=>`Node with id \"${n}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,error013:(n=\"react\")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>\"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.\"},vg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Hl;(function(n){n.Strict=\"strict\",n.Loose=\"loose\"})(Hl||(Hl={}));var Va;(function(n){n.Free=\"free\",n.Vertical=\"vertical\",n.Horizontal=\"horizontal\"})(Va||(Va={}));var yg;(function(n){n.Partial=\"partial\",n.Full=\"full\"})(yg||(yg={}));const P0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Qc;(function(n){n.Bezier=\"default\",n.Straight=\"straight\",n.Step=\"step\",n.SmoothStep=\"smoothstep\",n.SimpleBezier=\"simplebezier\"})(Qc||(Qc={}));var cd;(function(n){n.Arrow=\"arrow\",n.ArrowClosed=\"arrowclosed\"})(cd||(cd={}));var Rt;(function(n){n.Left=\"left\",n.Top=\"top\",n.Right=\"right\",n.Bottom=\"bottom\"})(Rt||(Rt={}));const kx={[Rt.Left]:Rt.Right,[Rt.Right]:Rt.Left,[Rt.Top]:Rt.Bottom,[Rt.Bottom]:Rt.Top};function c9(n,e){if(!n&&!e)return!0;if(!n||!e||n.size!==e.size)return!1;if(!n.size&&!e.size)return!0;for(const t of n.keys())if(!e.has(t))return!1;return!0}function Ax(n,e,t){if(!t)return;const r=[];n.forEach((i,s)=>{e!=null&&e.has(s)||r.push(i)}),r.length&&t(r)}function u9(n){return n===null?null:n?\"valid\":\"invalid\"}const f9=n=>\"id\"in n&&\"source\"in n&&\"target\"in n,y4=n=>\"id\"in n&&\"internals\"in n&&!(\"source\"in n)&&!(\"target\"in n),Gd=(n,e=[0,0])=>{const{width:t,height:r}=sl(n),i=n.origin??e,s=t*i[0],o=r*i[1];return{x:n.position.x-s,y:n.position.y-o}},Qd=(n,e={})=>{if(n.size===0)return{x:0,y:0,width:0,height:0};let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return n.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=D0(r);t=qb(t,i)}}),Wb(t)},b4=(n,e,[t,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Hm(e,[t,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of n.values()){const{measured:f,selectable:d=!0,hidden:h=!1}=u;if(o&&!d||h)continue;const p=f.width??u.width??u.initialWidth??null,g=f.height??u.height??u.initialHeight??null,m=Ub(a,Vm(u)),b=(p??0)*(g??0),v=s&&m>0;(!u.internals.handleBounds||v||m>=b||u.dragging)&&l.push(u)}return l},I0=(n,e)=>{const t=new Set;return n.forEach(r=>{t.add(r.id)}),e.filter(r=>t.has(r.source)||t.has(r.target))};function Ox(n,e){const t=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return n.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&t.set(i.id,i)}),t}async function Ex({nodes:n,width:e,height:t,panZoom:r,minZoom:i,maxZoom:s},o){if(n.size===0)return Promise.resolve(!1);const a=Qd(n),l=S4(a,e,t,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(l,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function d9({nodeId:n,nextPosition:e,nodeLookup:t,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=t.get(n),a=o.parentId?t.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let d=i;if(o.extent===\"parent\"&&!o.expandParent)if(!a)s==null||s(\"005\",Yd.error005());else{const p=a.measured.width,g=a.measured.height;p&&g&&(d=[[l,u],[l+p,u+g]])}else a&&bu(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const h=bu(d)?ql(e,d,o.measured):e;return{position:{x:h.x-l+o.measured.width*f[0],y:h.y-u+o.measured.height*f[1]},positionAbsolute:h}}async function h9({nodesToRemove:n=[],edgesToRemove:e=[],nodes:t,edges:r,onBeforeDelete:i}){const s=new Set(n.map(h=>h.id)),o=[];for(const h of t){if(h.deletable===!1)continue;const p=s.has(h.id),g=!p&&h.parentId&&o.find(m=>m.id===h.parentId);(p||g)&&o.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),f=I0(o,l);for(const h of l)a.has(h.id)&&!f.find(g=>g.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:o};const d=await i({nodes:o,edges:f});return typeof d==\"boolean\"?d?{edges:f,nodes:o}:{edges:[],nodes:[]}:d}const yu=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),ql=(n={x:0,y:0},e,t)=>({x:yu(n.x,e[0][0],e[1][0]-((t==null?void 0:t.width)??0)),y:yu(n.y,e[0][1],e[1][1]-((t==null?void 0:t.height)??0))});function w4(n,e,t){const{width:r,height:i}=sl(t),{x:s,y:o}=t.internals.positionAbsolute;return ql(n,[[s,o],[s+r,o+i]],e)}const Tx=(n,e,t)=>n<e?yu(Math.abs(n-e),1,e)/e:n>t?-yu(Math.abs(n-t),1,e)/e:0,x4=(n,e,t=15,r=40)=>{const i=Tx(n.x,r,e.width-r)*t,s=Tx(n.y,r,e.height-r)*t;return[i,s]},qb=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),R0=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),Wb=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),Vm=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=y4(n)?n.internals.positionAbsolute:Gd(n,e);return{x:t,y:r,width:((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0,height:((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0}},D0=(n,e=[0,0])=>{var i,s;const{x:t,y:r}=y4(n)?n.internals.positionAbsolute:Gd(n,e);return{x:t,y:r,x2:t+(((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0),y2:r+(((s=n.measured)==null?void 0:s.height)??n.height??n.initialHeight??0)}},C4=(n,e)=>Wb(qb(R0(n),R0(e))),Ub=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},ud=n=>!isNaN(n)&&isFinite(n),p9=(n,e)=>{},Kb=(n,e=[1,1])=>({x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}),Hm=({x:n,y:e},[t,r,i],s=!1,o=[1,1])=>{const a={x:(n-t)/i,y:(e-r)/i};return s?Kb(a,o):a},g9=({x:n,y:e},[t,r,i])=>({x:n*i+t,y:e*i+r}),S4=(n,e,t,r,i,s)=>{const o=e/(n.width*(1+s)),a=t/(n.height*(1+s)),l=Math.min(o,a),u=yu(l,r,i),f=n.x+n.width/2,d=n.y+n.height/2,h=e/2-f*u,p=t/2-d*u;return{x:h,y:p,zoom:u}},bg=()=>{var n;return typeof navigator<\"u\"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf(\"Mac\"))>=0};function bu(n){return n!==void 0&&n!==\"parent\"}function sl(n){var e,t;return{width:((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth??0,height:((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight??0}}function _4(n){var e,t;return(((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth)!==void 0&&(((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight)!==void 0}function Kv(n,{snapGrid:e=[0,0],snapToGrid:t=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Xo(n),a=Hm({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=t?Kb(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const Jb=n=>({width:n.offsetWidth,height:n.offsetHeight}),m9=n=>{var e;return((e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n))||(window==null?void 0:window.document)},v9=[\"INPUT\",\"SELECT\",\"TEXTAREA\"];function y9(n){var r,i;const e=((i=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:i[0])||n.target;return(e==null?void 0:e.nodeType)!==1?!1:v9.includes(e.nodeName)||e.hasAttribute(\"contenteditable\")||!!e.closest(\".nokey\")}const k4=n=>\"clientX\"in n,Xo=(n,e)=>{var s,o;const t=k4(n),r=t?n.clientX:(s=n.touches)==null?void 0:s[0].clientX,i=t?n.clientY:(o=n.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Mx=(n,e,t,r,i)=>{const s=e.querySelectorAll(`.${n}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute(\"data-handleid\"),type:n,nodeId:i,position:o.getAttribute(\"data-handlepos\"),x:(a.left-t.left)/r,y:(a.top-t.top)/r,...Jb(o)}})};function b9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=n*.125+i*.375+o*.375+t*.125,u=e*.125+s*.375+a*.375+r*.125,f=Math.abs(l-n),d=Math.abs(u-e);return[l,u,f,d]}function Eh(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function Px({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}){switch(n){case Rt.Left:return[e-Eh(e-r,s),t];case Rt.Right:return[e+Eh(r-e,s),t];case Rt.Top:return[e,t-Eh(t-i,s)];case Rt.Bottom:return[e,t+Eh(i-t,s)]}}function A4({sourceX:n,sourceY:e,sourcePosition:t=Rt.Bottom,targetX:r,targetY:i,targetPosition:s=Rt.Top,curvature:o=.25}){const[a,l]=Px({pos:t,x1:n,y1:e,x2:r,y2:i,c:o}),[u,f]=Px({pos:s,x1:r,y1:i,x2:n,y2:e,c:o}),[d,h,p,g]=b9({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${n},${e} C${a},${l} ${u},${f} ${r},${i}`,d,h,p,g]}function O4({sourceX:n,sourceY:e,targetX:t,targetY:r}){const i=Math.abs(t-n)/2,s=t<n?t+i:t-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function w9({sourceNode:n,targetNode:e,selected:t=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=t||e.selected||n.selected,o=Math.max(n.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function x9({sourceNode:n,targetNode:e,width:t,height:r,transform:i}){const s=qb(D0(n),D0(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:t/i[2],height:r/i[2]};return Ub(o,Wb(s))>0}const C9=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`xy-edge__${n}${e||\"\"}-${t}${r||\"\"}`,S9=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),_9=(n,e)=>{if(!n.source||!n.target)return e;let t;return f9(n)?t={...n}:t={...n,id:C9(n)},S9(t,e)?e:(t.sourceHandle===null&&delete t.sourceHandle,t.targetHandle===null&&delete t.targetHandle,e.concat(t))};function N0({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[i,s,o,a]=O4({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,i,s,o,a]}const Ix={[Rt.Left]:{x:-1,y:0},[Rt.Right]:{x:1,y:0},[Rt.Top]:{x:0,y:-1},[Rt.Bottom]:{x:0,y:1}},k9=({source:n,sourcePosition:e=Rt.Bottom,target:t})=>e===Rt.Left||e===Rt.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},Rx=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function A9({source:n,sourcePosition:e=Rt.Bottom,target:t,targetPosition:r=Rt.Top,center:i,offset:s}){const o=Ix[e],a=Ix[r],l={x:n.x+o.x*s,y:n.y+o.y*s},u={x:t.x+a.x*s,y:t.y+a.y*s},f=k9({source:l,sourcePosition:e,target:u}),d=f.x!==0?\"x\":\"y\",h=f[d];let p=[],g,m;const b={x:0,y:0},v={x:0,y:0},[w,k,x,C]=O4({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(o[d]*a[d]===-1){g=i.x??w,m=i.y??k;const A=[{x:g,y:l.y},{x:g,y:u.y}],O=[{x:l.x,y:m},{x:u.x,y:m}];o[d]===h?p=d===\"x\"?A:O:p=d===\"x\"?O:A}else{const A=[{x:l.x,y:u.y}],O=[{x:u.x,y:l.y}];if(d===\"x\"?p=o.x===h?O:A:p=o.y===h?A:O,e===r){const P=Math.abs(n[d]-t[d]);if(P<=s){const _=Math.min(s-1,s-P);o[d]===h?b[d]=(l[d]>n[d]?-1:1)*_:v[d]=(u[d]>t[d]?-1:1)*_}}if(e!==r){const P=d===\"x\"?\"y\":\"x\",_=o[d]===a[P],L=l[P]>u[P],M=l[P]<u[P];(o[d]===1&&(!_&&L||_&&M)||o[d]!==1&&(!_&&M||_&&L))&&(p=d===\"x\"?A:O)}const R={x:l.x+b.x,y:l.y+b.y},D={x:u.x+v.x,y:u.y+v.y},E=Math.max(Math.abs(R.x-p[0].x),Math.abs(D.x-p[0].x)),I=Math.max(Math.abs(R.y-p[0].y),Math.abs(D.y-p[0].y));E>=I?(g=(R.x+D.x)/2,m=p[0].y):(g=p[0].x,m=(R.y+D.y)/2)}return[[n,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+v.x,y:u.y+v.y},t],g,m,x,C]}function O9(n,e,t,r){const i=Math.min(Rx(n,e)/2,Rx(e,t)/2,r),{x:s,y:o}=e;if(n.x===s&&s===t.x||n.y===o&&o===t.y)return`L${s} ${o}`;if(n.y===o){const u=n.x<t.x?-1:1,f=n.y<t.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*f}`}const a=n.x<t.x?1:-1,l=n.y<t.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function wg({sourceX:n,sourceY:e,sourcePosition:t=Rt.Bottom,targetX:r,targetY:i,targetPosition:s=Rt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[f,d,h,p,g]=A9({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[f.reduce((b,v,w)=>{let k=\"\";return w>0&&w<f.length-1?k=O9(f[w-1],v,f[w+1],o):k=`${w===0?\"M\":\"L\"}${v.x} ${v.y}`,b+=k,b},\"\"),d,h,p,g]}function Dx(n){var e;return n&&!!(n.internals.handleBounds||(e=n.handles)!=null&&e.length)&&!!(n.measured.width||n.width||n.initialWidth)}function E9(n){var d;const{sourceNode:e,targetNode:t}=n;if(!Dx(e)||!Dx(t))return null;const r=e.internals.handleBounds||Nx(e.handles),i=t.internals.handleBounds||Nx(t.handles),s=Lx((r==null?void 0:r.source)??[],n.sourceHandle),o=Lx(n.connectionMode===Hl.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),n.targetHandle);if(!s||!o)return(d=n.onError)==null||d.call(n,\"008\",Yd.error008(s?\"target\":\"source\",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const a=(s==null?void 0:s.position)||Rt.Bottom,l=(o==null?void 0:o.position)||Rt.Top,u=fd(e,s,a),f=fd(t,o,l);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function Nx(n){if(!n)return null;const e=[],t=[];for(const r of n)r.width=r.width??1,r.height=r.height??1,r.type===\"source\"?e.push(r):r.type===\"target\"&&t.push(r);return{source:e,target:t}}function fd(n,e,t=Rt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+n.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+n.internals.positionAbsolute.y,{width:o,height:a}=e??sl(n);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??t){case Rt.Top:return{x:i+o/2,y:s};case Rt.Right:return{x:i+o,y:s+a/2};case Rt.Bottom:return{x:i+o/2,y:s+a};case Rt.Left:return{x:i,y:s+a/2}}}function Lx(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function L0(n,e){return n?typeof n==\"string\"?n:`${e?`${e}__`:\"\"}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join(\"&\")}`:\"\"}function T9(n,{id:e,defaultColor:t,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return n.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l==\"object\"){const u=L0(l,e);s.has(u)||(o.push({id:u,color:l.color||t,...l}),s.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Xb={nodeOrigin:[0,0],nodeExtent:vg,elevateNodesOnSelect:!0,defaults:{}},M9={...Xb,checkEquality:!0};function Yb(n,e){const t={...n};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function P9(n,e,t){const r=Yb(Xb,t);for(const i of n.values())if(i.parentId)Gb(i,n,e,r);else{const s=Gd(i,r.nodeOrigin),o=bu(i.extent)?i.extent:r.nodeExtent,a=ql(s,o,sl(i));i.internals.positionAbsolute=a}}function E4(n,e,t,r){var a,l;const i=Yb(M9,r),s=new Map(e),o=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),t.clear();for(const u of n){let f=s.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=Gd(u,i.nodeOrigin),h=bu(u.extent)?u.extent:i.nodeExtent,p=ql(d,h,sl(u));f={...i.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(l=u.measured)==null?void 0:l.height},internals:{positionAbsolute:p,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:T4(u,o),userNode:u}},e.set(u.id,f)}u.parentId&&Gb(f,e,t,r)}}function I9(n,e){if(!n.parentId)return;const t=e.get(n.parentId);t?t.set(n.id,n):e.set(n.parentId,new Map([[n.id,n]]))}function Gb(n,e,t,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=Yb(Xb,r),a=n.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}I9(n,t);const u=i?1e3:0,{x:f,y:d,z:h}=R9(n,l,s,o,u),{positionAbsolute:p}=n.internals,g=f!==p.x||d!==p.y;(g||h!==n.internals.z)&&e.set(n.id,{...n,internals:{...n.internals,positionAbsolute:g?{x:f,y:d}:p,z:h}})}function T4(n,e){return(ud(n.zIndex)?n.zIndex:0)+(n.selected?e:0)}function R9(n,e,t,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=sl(n),l=Gd(n,t),u=bu(n.extent)?ql(l,n.extent,a):l;let f=ql({x:s+u.x,y:o+u.y},r,a);n.extent===\"parent\"&&(f=w4(f,a,e));const d=T4(n,i),h=e.internals.z??0;return{x:f.x,y:f.y,z:h>d?h:d}}function D9(n,e,t,r=[0,0]){var o;const i=[],s=new Map;for(const a of n){const l=e.get(a.parentId);if(!l)continue;const u=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??Vm(l),f=C4(u,a.rect);s.set(a.parentId,{expandedRect:f,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},u)=>{var k;const f=l.internals.positionAbsolute,d=sl(l),h=l.origin??r,p=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,g=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,m=Math.max(d.width,Math.round(a.width)),b=Math.max(d.height,Math.round(a.height)),v=(m-d.width)*h[0],w=(b-d.height)*h[1];(p>0||g>0||v||w)&&(i.push({id:u,type:\"position\",position:{x:l.position.x-p+v,y:l.position.y-g+w}}),(k=t.get(u))==null||k.forEach(x=>{n.some(C=>C.id===x.id)||i.push({id:x.id,type:\"position\",position:{x:x.position.x+p,y:x.position.y+g}})})),(d.width<a.width||d.height<a.height||p||g)&&i.push({id:u,type:\"dimensions\",setAttributes:!0,dimensions:{width:m+(p?h[0]*p-v:0),height:b+(g?h[1]*g-w:0)}})}),i}function N9(n,e,t,r,i,s){const o=r==null?void 0:r.querySelector(\".xyflow__viewport\");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const h of n.values()){const p=e.get(h.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const g=Jb(h.nodeElement),m=p.measured.width!==g.width||p.measured.height!==g.height;if(!!(g.width&&g.height&&(m||!p.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),w=bu(p.extent)?p.extent:s;let{positionAbsolute:k}=p.internals;p.parentId&&p.extent===\"parent\"?k=w4(k,g,e.get(p.parentId)):w&&(k=ql(k,w,g));const x={...p,measured:g,internals:{...p.internals,positionAbsolute:k,handleBounds:{source:Mx(\"source\",h.nodeElement,v,f,p.id),target:Mx(\"target\",h.nodeElement,v,f,p.id)}}};e.set(p.id,x),p.parentId&&Gb(x,e,t,{nodeOrigin:i}),a=!0,m&&(l.push({id:p.id,type:\"dimensions\",dimensions:g}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Vm(x,i)}))}}if(d.length>0){const h=D9(d,e,t,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function L9({delta:n,panZoom:e,transform:t,translateExtent:r,width:i,height:s}){if(!e||!n.x&&!n.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:t[0]+n.x,y:t[1]+n.y,zoom:t[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==t[0]||o.y!==t[1]||o.k!==t[2]);return Promise.resolve(a)}function Bx(n,e,t,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(t,e)),o=`${i}-${n}`;const l=r.get(o)||new Map;if(r.set(o,l.set(t,e)),s){o=`${i}-${n}-${s}`;const u=r.get(o)||new Map;r.set(o,u.set(t,e))}}function M4(n,e,t){n.clear(),e.clear();for(const r of t){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},u=`${i}-${o}--${s}-${a}`,f=`${s}-${a}--${i}-${o}`;Bx(\"source\",l,f,n,i,o),Bx(\"target\",l,u,n,s,a),e.set(r.id,r)}}function P4(n,e){if(!n.parentId)return!1;const t=e.get(n.parentId);return t?t.selected?!0:P4(t,e):!1}function Fx(n,e,t){var i;let r=n;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===t)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function B9(n,e,t,r){const i=new Map;for(const[s,o]of n)if((o.selected||o.id===r)&&(!o.parentId||!P4(o,n))&&(o.draggable||e&&typeof o.draggable>\"u\")){const a=n.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:t.x-a.internals.positionAbsolute.x,y:t.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function Jv({nodeId:n,dragItems:e,nodeLookup:t,dragging:r=!0}){var o,a,l;const i=[];for(const[u,f]of e){const d=(o=t.get(u))==null?void 0:o.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!n)return[i[0],i];const s=(a=t.get(n))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(n))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function F9({onNodeMouseDown:n,getStoreItems:e,onDragStart:t,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},f=null,d=!1,h=null,p=!1;function g({noDragClassName:b,handleSelector:v,domNode:w,isSelectable:k,nodeId:x,nodeClickDistance:C=0}){h=os(w);function T({x:D,y:E},I){const{nodeLookup:P,nodeExtent:_,snapGrid:L,snapToGrid:M,nodeOrigin:N,onNodeDrag:F,onSelectionDrag:j,onError:Y,updateNodePositions:ie}=e();s={x:D,y:E};let Q=!1,te={x:0,y:0,x2:0,y2:0};if(a.size>1&&_){const U=Qd(a);te=R0(U)}for(const[U,se]of a){if(!P.has(U))continue;let le={x:D-se.distance.x,y:E-se.distance.y};M&&(le=Kb(le,L));let W=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];if(a.size>1&&_&&!se.extent){const{positionAbsolute:J}=se.internals,ae=J.x-te.x+_[0][0],re=J.x+se.measured.width-te.x2+_[1][0],$=J.y-te.y+_[0][1],ne=J.y+se.measured.height-te.y2+_[1][1];W=[[ae,$],[re,ne]]}const{position:ce,positionAbsolute:fe}=d9({nodeId:U,nextPosition:le,nodeLookup:P,nodeExtent:W,nodeOrigin:N,onError:Y});Q=Q||se.position.x!==ce.x||se.position.y!==ce.y,se.position=ce,se.internals.positionAbsolute=fe}if(Q&&(ie(a,!0),I&&(r||F||!x&&j))){const[U,se]=Jv({nodeId:x,dragItems:a,nodeLookup:P});r==null||r(I,a,U,se),F==null||F(I,U,se),x||j==null||j(I,se)}}async function A(){if(!f)return;const{transform:D,panBy:E,autoPanSpeed:I}=e(),[P,_]=x4(u,f,I);(P!==0||_!==0)&&(s.x=(s.x??0)-P/D[2],s.y=(s.y??0)-_/D[2],await E({x:P,y:_})&&T(s,null)),o=requestAnimationFrame(A)}function O(D){var Q;const{nodeLookup:E,multiSelectionActive:I,nodesDraggable:P,transform:_,snapGrid:L,snapToGrid:M,selectNodesOnDrag:N,onNodeDragStart:F,onSelectionDragStart:j,unselectNodesAndEdges:Y}=e();d=!0,(!N||!k)&&!I&&x&&((Q=E.get(x))!=null&&Q.selected||Y()),k&&N&&x&&(n==null||n(x));const ie=Kv(D.sourceEvent,{transform:_,snapGrid:L,snapToGrid:M,containerBounds:f});if(s=ie,a=B9(E,P,ie,x),a.size>0&&(t||F||!x&&j)){const[te,U]=Jv({nodeId:x,dragItems:a,nodeLookup:E});t==null||t(D.sourceEvent,a,te,U),F==null||F(D.sourceEvent,te,U),x||j==null||j(D.sourceEvent,U)}}const R=bI().clickDistance(C).on(\"start\",D=>{const{domNode:E,nodeDragThreshold:I,transform:P,snapGrid:_,snapToGrid:L}=e();f=(E==null?void 0:E.getBoundingClientRect())||null,p=!1,I===0&&O(D),s=Kv(D.sourceEvent,{transform:P,snapGrid:_,snapToGrid:L,containerBounds:f}),u=Xo(D.sourceEvent,f)}).on(\"drag\",D=>{const{autoPanOnNodeDrag:E,transform:I,snapGrid:P,snapToGrid:_,nodeDragThreshold:L,nodeLookup:M}=e(),N=Kv(D.sourceEvent,{transform:I,snapGrid:P,snapToGrid:_,containerBounds:f});if((D.sourceEvent.type===\"touchmove\"&&D.sourceEvent.touches.length>1||x&&!M.has(x))&&(p=!0),!p){if(!l&&E&&d&&(l=!0,A()),!d){const F=N.xSnapped-(s.x??0),j=N.ySnapped-(s.y??0);Math.sqrt(F*F+j*j)>L&&O(D)}(s.x!==N.xSnapped||s.y!==N.ySnapped)&&a&&d&&(u=Xo(D.sourceEvent,f),T(N,D.sourceEvent))}}).on(\"end\",D=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:E,updateNodePositions:I,onNodeDragStop:P,onSelectionDragStop:_}=e();if(I(a,!1),i||P||!x&&_){const[L,M]=Jv({nodeId:x,dragItems:a,nodeLookup:E,dragging:!1});i==null||i(D.sourceEvent,a,L,M),P==null||P(D.sourceEvent,L,M),x||_==null||_(D.sourceEvent,M)}}}).filter(D=>{const E=D.target;return!D.button&&(!b||!Fx(E,`.${b}`,w))&&(!v||Fx(E,v,w))});h.call(R)}function m(){h==null||h.on(\".drag\",null)}return{update:g,destroy:m}}function j9(n,e,t){const r=[],i={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const s of e.values())Ub(i,Vm(s))>0&&r.push(s);return r}const z9=250;function V9(n,e,t,r){var a,l;let i=[],s=1/0;const o=j9(n,t,e+z9);for(const u of o){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:p}=fd(u,d,d.position,!0),g=Math.sqrt(Math.pow(h-n.x,2)+Math.pow(p-n.y,2));g>e||(g<s?(i=[{...d,x:h,y:p}],s=g):g===s&&i.push({...d,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type===\"source\"?\"target\":\"source\";return i.find(f=>f.type===u)??i[0]}return i[0]}function I4(n,e,t,r,i,s=!1){var u,f,d;const o=r.get(n);if(!o)return null;const a=i===\"strict\"?(u=o.internals.handleBounds)==null?void 0:u[e]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(t?a==null?void 0:a.find(h=>h.id===t):a==null?void 0:a[0])??null;return l&&s?{...l,...fd(o,l,l.position,!0)}:l}function R4(n,e){return n||(e!=null&&e.classList.contains(\"target\")?\"target\":e!=null&&e.classList.contains(\"source\")?\"source\":null)}function H9(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}const D4=()=>!0;function q9(n,{connectionMode:e,connectionRadius:t,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:f,flowId:d,panBy:h,cancelConnection:p,onConnectStart:g,onConnect:m,onConnectEnd:b,isValidConnection:v=D4,onReconnectEnd:w,updateConnection:k,getTransform:x,getFromHandle:C,autoPanSpeed:T}){const A=m9(n.target);let O=0,R;const{x:D,y:E}=Xo(n),I=A==null?void 0:A.elementFromPoint(D,E),P=R4(s,I),_=a==null?void 0:a.getBoundingClientRect();if(!_||!P)return;const L=I4(i,P,r,l,e);if(!L)return;let M=Xo(n,_),N=!1,F=null,j=!1,Y=null;function ie(){if(!f||!_)return;const[fe,J]=x4(M,_,T);h({x:fe,y:J}),O=requestAnimationFrame(ie)}const Q={...L,nodeId:i,type:P,position:L.position},te=l.get(i),se={inProgress:!0,isValid:null,from:fd(te,Q,Rt.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:te,to:M,toHandle:null,toPosition:kx[Q.position],toNode:null};k(se);let le=se;g==null||g(n,{nodeId:i,handleId:r,handleType:P});function W(fe){if(!C()||!Q){ce(fe);return}const J=x();M=Xo(fe,_),R=V9(Hm(M,J,!1,[1,1]),t,l,Q),N||(ie(),N=!0);const ae=N4(fe,{handle:R,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?\"target\":\"source\",isValidConnection:v,doc:A,lib:u,flowId:d,nodeLookup:l});Y=ae.handleDomNode,F=ae.connection,j=H9(!!R,ae.isValid);const re={...le,isValid:j,to:R&&j?g9({x:R.x,y:R.y},J):M,toHandle:ae.toHandle,toPosition:j&&ae.toHandle?ae.toHandle.position:kx[Q.position],toNode:ae.toHandle?l.get(ae.toHandle.nodeId):null};j&&R&&le.toHandle&&re.toHandle&&le.toHandle.type===re.toHandle.type&&le.toHandle.nodeId===re.toHandle.nodeId&&le.toHandle.id===re.toHandle.id&&le.to.x===re.to.x&&le.to.y===re.to.y||(k(re),le=re)}function ce(fe){(R||Y)&&F&&j&&(m==null||m(F));const{inProgress:J,...ae}=le,re={...ae,toPosition:le.toHandle?le.toPosition:null};b==null||b(fe,re),s&&(w==null||w(fe,re)),p(),cancelAnimationFrame(O),N=!1,j=!1,F=null,Y=null,A.removeEventListener(\"mousemove\",W),A.removeEventListener(\"mouseup\",ce),A.removeEventListener(\"touchmove\",W),A.removeEventListener(\"touchend\",ce)}A.addEventListener(\"mousemove\",W),A.addEventListener(\"mouseup\",ce),A.addEventListener(\"touchmove\",W),A.addEventListener(\"touchend\",ce)}function N4(n,{handle:e,connectionMode:t,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:u=D4,nodeLookup:f}){const d=s===\"target\",h=e?o.querySelector(`.${a}-flow__handle[data-id=\"${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}\"]`):null,{x:p,y:g}=Xo(n),m=o.elementFromPoint(p,g),b=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:h,v={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const w=R4(void 0,b),k=b.getAttribute(\"data-nodeid\"),x=b.getAttribute(\"data-handleid\"),C=b.classList.contains(\"connectable\"),T=b.classList.contains(\"connectableend\");if(!k||!w)return v;const A={source:d?k:r,sourceHandle:d?x:i,target:d?r:k,targetHandle:d?i:x};v.connection=A;const R=C&&T&&(t===Hl.Strict?d&&w===\"source\"||!d&&w===\"target\":k!==r||x!==i);v.isValid=R&&u(A),v.toHandle=I4(k,w,x,f,t,!1)}return v}const W9={onPointerDown:q9,isValid:N4};function U9({domNode:n,panZoom:e,getTransform:t,getViewScale:r}){const i=os(n);function s({translateExtent:a,width:l,height:u,zoomStep:f=10,pannable:d=!0,zoomable:h=!0,inversePan:p=!1}){const g=k=>{const x=t();if(k.sourceEvent.type!==\"wheel\"||!e)return;const C=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,T=x[2]*Math.pow(2,C);e.scaleTo(T)};let m=[0,0];const b=k=>{(k.sourceEvent.type===\"mousedown\"||k.sourceEvent.type===\"touchstart\")&&(m=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},v=k=>{const x=t();if(k.sourceEvent.type!==\"mousemove\"&&k.sourceEvent.type!==\"touchmove\"||!e)return;const C=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],T=[C[0]-m[0],C[1]-m[1]];m=C;const A=r()*Math.max(x[2],Math.log(x[2]))*(p?-1:1),O={x:x[0]-T[0]*A,y:x[1]-T[1]*A},R=[[0,0],[l,u]];e.setViewportConstrained({x:O.x,y:O.y,zoom:x[2]},R,a)},w=v4().on(\"start\",b).on(\"zoom\",d?v:null).on(\"zoom.wheel\",h?g:null);i.call(w,{})}function o(){i.on(\"zoom\",null)}return{update:s,destroy:o,pointer:ks}}const K9=(n,e)=>n.x!==e.x||n.y!==e.y||n.zoom!==e.k,qm=n=>({x:n.x,y:n.y,zoom:n.k}),Xv=({x:n,y:e,zoom:t})=>zm.translate(n,e).scale(t),Lc=(n,e)=>n.target.closest(`.${e}`),L4=(n,e)=>e===2&&Array.isArray(n)&&n.includes(2),Yv=(n,e=0,t=()=>{})=>{const r=typeof e==\"number\"&&e>0;return r||t(),r?n.transition().duration(e).on(\"end\",t):n},B4=n=>{const e=n.ctrlKey&&bg()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*e};function J9({zoomPanValues:n,noWheelClassName:e,d3Selection:t,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return f=>{if(Lc(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=t.property(\"__zoom\").k||1;if(f.ctrlKey&&o){const b=ks(f),v=B4(f),w=d*Math.pow(2,v);r.scaleTo(t,w,b,f);return}const h=f.deltaMode===1?20:1;let p=i===Va.Vertical?0:f.deltaX*h,g=i===Va.Horizontal?0:f.deltaY*h;!bg()&&f.shiftKey&&i!==Va.Vertical&&(p=f.deltaY*h,g=0),r.translateBy(t,-(p/d)*s,-(g/d)*s,{internal:!0});const m=qm(t.property(\"__zoom\"));clearTimeout(n.panScrollTimeout),n.isPanScrolling||(n.isPanScrolling=!0,a==null||a(f,m)),n.isPanScrolling&&(l==null||l(f,m),n.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),n.isPanScrolling=!1},150))}}function X9({noWheelClassName:n,preventScrolling:e,d3ZoomHandler:t}){return function(r,i){if(!e&&r.type===\"wheel\"&&!r.ctrlKey||Lc(r,n))return null;r.preventDefault(),t.call(this,r,i)}}function Y9({zoomPanValues:n,onDraggingChange:e,onPanZoomStart:t}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=qm(r.transform);n.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,n.isZoomingOrPanning=!0,n.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)===\"mousedown\"&&e(!0),t&&(t==null||t(r.sourceEvent,i))}}function G9({zoomPanValues:n,panOnDrag:e,onPaneContextMenu:t,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;n.usedRightMouseButton=!!(t&&L4(e,n.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,qm(s.transform)))}}function Q9({zoomPanValues:n,panOnDrag:e,panOnScroll:t,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(n.isZoomingOrPanning=!1,s&&L4(e,n.mouseButton??0)&&!n.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),n.usedRightMouseButton=!1,r(!1),i&&K9(n.prevViewport,o.transform))){const l=qm(o.transform);n.prevViewport=l,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},t?150:0)}}}function Z9({zoomActivationKeyPressed:n,zoomOnScroll:e,zoomOnPinch:t,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u}){return f=>{var g;const d=n||e,h=t&&f.ctrlKey;if(f.button===1&&f.type===\"mousedown\"&&(Lc(f,`${u}-flow__node`)||Lc(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!t||o||Lc(f,a)&&f.type===\"wheel\"||Lc(f,l)&&(f.type!==\"wheel\"||i&&f.type===\"wheel\"&&!n)||!t&&f.ctrlKey&&f.type===\"wheel\")return!1;if(!t&&f.type===\"touchstart\"&&((g=f.touches)==null?void 0:g.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&f.type===\"wheel\"||!r&&(f.type===\"mousedown\"||f.type===\"touchstart\")||Array.isArray(r)&&!r.includes(f.button)&&f.type===\"mousedown\")return!1;const p=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type===\"wheel\")&&p}}function $9({domNode:n,minZoom:e,maxZoom:t,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=n.getBoundingClientRect(),h=v4().clickDistance(!ud(r)||r<0?0:r).scaleExtent([e,t]).translateExtent(i),p=os(n).call(h);k({x:s.x,y:s.y,zoom:yu(s.zoom,e,t)},[[0,0],[d.width,d.height]],i);const g=p.on(\"wheel.zoom\"),m=p.on(\"dblclick.zoom\");h.wheelDelta(B4);function b(I,P){return p?new Promise(_=>{h==null||h.transform(Yv(p,P==null?void 0:P.duration,()=>_(!0)),I)}):Promise.resolve(!1)}function v({noWheelClassName:I,noPanClassName:P,onPaneContextMenu:_,userSelectionActive:L,panOnScroll:M,panOnDrag:N,panOnScrollMode:F,panOnScrollSpeed:j,preventScrolling:Y,zoomOnPinch:ie,zoomOnScroll:Q,zoomOnDoubleClick:te,zoomActivationKeyPressed:U,lib:se,onTransformChange:le}){L&&!f.isZoomingOrPanning&&w();const ce=M&&!U&&!L?J9({zoomPanValues:f,noWheelClassName:I,d3Selection:p,d3Zoom:h,panOnScrollMode:F,panOnScrollSpeed:j,zoomOnPinch:ie,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):X9({noWheelClassName:I,preventScrolling:Y,d3ZoomHandler:g});if(p.on(\"wheel.zoom\",ce,{passive:!1}),!L){const J=Y9({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:a});h.on(\"start\",J);const ae=G9({zoomPanValues:f,panOnDrag:N,onPaneContextMenu:!!_,onPanZoom:o,onTransformChange:le});h.on(\"zoom\",ae);const re=Q9({zoomPanValues:f,panOnDrag:N,panOnScroll:M,onPaneContextMenu:_,onPanZoomEnd:l,onDraggingChange:u});h.on(\"end\",re)}const fe=Z9({zoomActivationKeyPressed:U,panOnDrag:N,zoomOnScroll:Q,panOnScroll:M,zoomOnDoubleClick:te,zoomOnPinch:ie,userSelectionActive:L,noPanClassName:P,noWheelClassName:I,lib:se});h.filter(fe),te?p.on(\"dblclick.zoom\",m):p.on(\"dblclick.zoom\",null)}function w(){h.on(\"zoom\",null)}async function k(I,P,_){const L=Xv(I),M=h==null?void 0:h.constrain()(L,P,_);return M&&await b(M),new Promise(N=>N(M))}async function x(I,P){const _=Xv(I);return await b(_,P),new Promise(L=>L(_))}function C(I){if(p){const P=Xv(I),_=p.property(\"__zoom\");(_.k!==I.zoom||_.x!==I.x||_.y!==I.y)&&(h==null||h.transform(p,P,null,{sync:!0}))}}function T(){const I=p?m4(p.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function A(I,P){return p?new Promise(_=>{h==null||h.scaleTo(Yv(p,P==null?void 0:P.duration,()=>_(!0)),I)}):Promise.resolve(!1)}function O(I,P){return p?new Promise(_=>{h==null||h.scaleBy(Yv(p,P==null?void 0:P.duration,()=>_(!0)),I)}):Promise.resolve(!1)}function R(I){h==null||h.scaleExtent(I)}function D(I){h==null||h.translateExtent(I)}function E(I){const P=!ud(I)||I<0?0:I;h==null||h.clickDistance(P)}return{update:v,destroy:w,setViewport:x,setViewportConstrained:k,getViewport:T,scaleTo:A,scaleBy:O,setScaleExtent:R,setTranslateExtent:D,syncViewport:C,setClickDistance:E}}var jx;(function(n){n.Line=\"line\",n.Handle=\"handle\"})(jx||(jx={}));var eR=ee('<div role=\"button\" tabindex=\"-1\"><!></div>');function Na(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(te,\"$connectable\",t),s=()=>Ae(ce,\"$connectionRadius\",t),o=()=>Ae(le,\"$domNode\",t),a=()=>Ae(W,\"$nodeLookup\",t),l=()=>Ae(se,\"$connectionMode\",t),u=()=>Ae(ae,\"$lib\",t),f=()=>Ae(Be,\"$autoPanOnConnect\",t),d=()=>Ae($e,\"$flowId\",t),h=()=>Ae(J,\"$isValidConnectionStore\",t),p=()=>Ae($,\"$onedgecreate\",t),g=()=>Ae(ye,\"$onConnectAction\",t),m=()=>Ae(Re,\"$onConnectStartAction\",t),b=()=>Ae(je,\"$onConnectEndAction\",t),v=()=>Ae(fe,\"$viewport\",t),w=()=>Ae(Ve,\"$connection\",t),k=()=>Ae(Le,\"$edges\",t),x=()=>Ae(Ce,\"$connectionLookup\",t),C=H(),T=H(),A=H(),O=H(),R=H(),D=H(),E=H(),I=H();let P=y(e,\"id\",8,void 0),_=y(e,\"type\",8,\"source\"),L=y(e,\"position\",24,()=>Rt.Top),M=y(e,\"style\",8,void 0),N=y(e,\"isValidConnection\",8,void 0),F=y(e,\"onconnect\",8,void 0),j=y(e,\"ondisconnect\",8,void 0),Y=y(e,\"isConnectable\",8,void 0),ie=y(e,\"class\",8,void 0);const Q=gs(\"svelteflow__node_id\"),te=gs(\"svelteflow__node_connectable\"),U=Er(),{connectionMode:se,domNode:le,nodeLookup:W,connectionRadius:ce,viewport:fe,isValidConnection:J,lib:ae,addEdge:re,onedgecreate:$,panBy:ne,cancelConnection:G,updateConnection:De,autoPanOnConnect:Be,edges:Le,connectionLookup:Ce,onconnect:ye,onconnectstart:Re,onconnectend:je,flowId:$e,connection:Ve}=U;function ot(Je){const Ye=k4(Je);(Ye&&Je.button===0||!Ye)&&W9.onPointerDown(Je,{handleId:c(A),nodeId:Q,isTarget:c(C),connectionRadius:s(),domNode:o(),nodeLookup:a(),connectionMode:l(),lib:u(),autoPanOnConnect:f(),flowId:d(),isValidConnection:N()??h(),updateConnection:De,cancelConnection:G,panBy:ne,onConnect:Me=>{var ue;const Se=p()?p()(Me):Me;Se&&(re(Se),(ue=g())==null||ue(Me))},onConnectStart:(Me,Se)=>{var ue;(ue=m())==null||ue(Me,{nodeId:Se.nodeId,handleId:Se.handleId,handleType:Se.handleType})},onConnectEnd:(Me,Se)=>{var ue;(ue=b())==null||ue(Me,Se)},getTransform:()=>[v().x,v().y,v().zoom],getFromHandle:()=>w().fromHandle})}let we=H(null),He=H();Z(()=>z(_()),()=>{S(C,_()===\"target\")}),Z(()=>(z(Y()),i()),()=>{S(T,Y()!==void 0?Y():i())}),Z(()=>z(P()),()=>{S(A,P()||null)}),Z(()=>(z(F()),z(j()),k(),x(),z(_()),z(P())),()=>{(F()||j())&&(k(),S(He,x().get(`${Q}-${_()}${P()?`-${P()}`:\"\"}`)))}),Z(()=>(c(we),c(He),z(j()),z(F())),()=>{if(c(we)&&!c9(c(He),c(we))){const Je=c(He)??new Map;Ax(c(we),Je,j()),Ax(Je,c(we),F())}S(we,c(He)??new Map)}),Z(()=>w(),()=>{S(O,!!w().fromHandle)}),Z(()=>(w(),z(_()),c(A)),()=>{var Je,Ye,Me;S(R,((Je=w().fromHandle)==null?void 0:Je.nodeId)===Q&&((Ye=w().fromHandle)==null?void 0:Ye.type)===_()&&((Me=w().fromHandle)==null?void 0:Me.id)===c(A))}),Z(()=>(w(),z(_()),c(A)),()=>{var Je,Ye,Me;S(D,((Je=w().toHandle)==null?void 0:Je.nodeId)===Q&&((Ye=w().toHandle)==null?void 0:Ye.type)===_()&&((Me=w().toHandle)==null?void 0:Me.id)===c(A))}),Z(()=>(l(),w(),z(_()),c(A)),()=>{var Je,Ye,Me;S(E,l()===Hl.Strict?((Je=w().fromHandle)==null?void 0:Je.type)!==_():Q!==((Ye=w().fromHandle)==null?void 0:Ye.nodeId)||c(A)!==((Me=w().fromHandle)==null?void 0:Me.id))}),Z(()=>(c(D),w()),()=>{S(I,c(D)&&w().isValid)}),wt(),Ne();var nt=eR();Ee(nt,\"data-nodeid\",Q);var Xe=V(nt);en(Xe,e,\"default\",{},null),pe(Je=>{Ee(nt,\"data-handleid\",c(A)),Ee(nt,\"data-handlepos\",L()),Ee(nt,\"data-id\",`${d()??\"\"}-${Q??\"\"}-${P()||\"\"}-${_()??\"\"}`),zr(nt,qr(Je)),Ee(nt,\"style\",M()),Fe(nt,\"valid\",c(I)),Fe(nt,\"connectingto\",c(D)),Fe(nt,\"connectingfrom\",c(R)),Fe(nt,\"source\",!c(C)),Fe(nt,\"target\",c(C)),Fe(nt,\"connectablestart\",c(T)),Fe(nt,\"connectableend\",c(T)),Fe(nt,\"connectable\",c(T)),Fe(nt,\"connectionindicator\",c(T)&&(!c(O)||c(E)))},[()=>Si([\"svelte-flow__handle\",`svelte-flow__handle-${L()}`,\"nodrag\",\"nopan\",L(),ie()])],he),ve(\"mousedown\",nt,ot),ve(\"touchstart\",nt,ot),B(n,nt),Ie(),r()}var tR=ee(\"<!> <!>\",1);function B0(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"data\",\"targetPosition\",\"sourcePosition\"]),Pe(e,!1);let r=y(e,\"data\",24,()=>({label:\"Node\"})),i=y(e,\"targetPosition\",8,void 0),s=y(e,\"sourcePosition\",8,void 0);Ne();var o=tR(),a=be(o);const l=he(()=>i()??Rt.Top);Na(a,{type:\"target\",get position(){return c(l)}});var u=K(a),f=K(u);const d=he(()=>s()??Rt.Bottom);Na(f,{type:\"source\",get position(){return c(d)}}),pe(()=>{var h;return Ke(u,` ${((h=r())==null?void 0:h.label)??\"\"} `)}),B(n,o),Ie()}var nR=ee(\" <!>\",1);function rR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"data\",\"sourcePosition\"]),Pe(e,!1);let r=y(e,\"data\",24,()=>({label:\"Node\"})),i=y(e,\"sourcePosition\",8,void 0);Ne();var s=nR(),o=be(s),a=K(o);const l=he(()=>i()??Rt.Bottom);Na(a,{type:\"source\",get position(){return c(l)}}),pe(()=>{var u;return Ke(o,`${((u=r())==null?void 0:u.label)??\"\"} `)}),B(n,s),Ie()}var iR=ee(\" <!>\",1);function sR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"data\",\"targetPosition\"]),Pe(e,!1);let r=y(e,\"data\",24,()=>({label:\"Node\"})),i=y(e,\"targetPosition\",8,void 0);Ne();var s=iR(),o=be(s),a=K(o);const l=he(()=>i()??Rt.Top);Na(a,{type:\"target\",get position(){return c(l)}}),pe(()=>{var u;return Ke(o,`${((u=r())==null?void 0:u.label)??\"\"} `)}),B(n,s),Ie()}function oR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[])}function zx(n,e,t){if(!e)return;const r=t?e.querySelector(t):e;r&&r.appendChild(n)}function Gv(n,{target:e,domNode:t}){return zx(n,t,e),{async update({target:r,domNode:i}){zx(n,i,r)},destroy(){n.parentNode&&n.parentNode.removeChild(n)}}}var aR=ee(\"<div><!></div>\");function lR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(s,\"$domNode\",t),{domNode:s}=Er();Ne();var o=aR(),a=V(o);en(a,e,\"default\",{},null),tn(o,(l,u)=>Gv==null?void 0:Gv(l,u),()=>({target:\".svelte-flow__edgelabel-renderer\",domNode:i()})),B(n,o),Ie(),r()}function F4(){const{edgeLookup:n,selectionRect:e,selectionRectMode:t,multiselectionKeyPressed:r,addSelectedEdges:i,unselectNodesAndEdges:s,elementsSelectable:o}=Er();return a=>{const l=Ze(n).get(a);if(!l){console.warn(\"012\",Yd.error012(a));return}(l.selectable||Ze(o)&&typeof l.selectable>\"u\")&&(e.set(null),t.set(null),l.selected?l.selected&&Ze(r)&&s({nodes:[],edges:[l]}):i([a]))}}var cR=ee('<div class=\"svelte-flow__edge-label\" role=\"button\" tabindex=\"-1\"><!></div>');function uR(n,e){Pe(e,!1);let t=y(e,\"style\",8,void 0),r=y(e,\"x\",8,void 0),i=y(e,\"y\",8,void 0);const s=F4(),o=gs(\"svelteflow__edge_id\");Ne(),lR(n,{children:(a,l)=>{var u=cR(),f=V(u);en(f,e,\"default\",{},null),pe(()=>{Ee(u,\"style\",\"pointer-events: all;\"+t()),Zn(u,\"transform\",`translate(-50%, -50%) translate(${r()??\"\"}px,${i()??\"\"}px)`)}),ve(\"keyup\",u,()=>{}),ve(\"click\",u,()=>{o&&s(o)}),B(a,u)},$$slots:{default:!0}}),Ie()}var fR=Nt('<path fill=\"none\" class=\"svelte-flow__edge-interaction\"></path>'),dR=Nt('<path fill=\"none\"></path><!><!>',1);function Wm(n,e){Pe(e,!1);let t=y(e,\"id\",8,void 0),r=y(e,\"path\",8),i=y(e,\"label\",8,void 0),s=y(e,\"labelX\",8,void 0),o=y(e,\"labelY\",8,void 0),a=y(e,\"labelStyle\",8,void 0),l=y(e,\"markerStart\",8,void 0),u=y(e,\"markerEnd\",8,void 0),f=y(e,\"style\",8,void 0),d=y(e,\"interactionWidth\",8,20),h=y(e,\"class\",8,void 0),p=d()===void 0?20:d();Ne();var g=dR(),m=be(g),b=K(m);{var v=x=>{var C=fR();Ee(C,\"stroke-opacity\",0),Ee(C,\"stroke-width\",p),pe(()=>Ee(C,\"d\",r())),B(x,C)};oe(b,x=>{p&&x(v)})}var w=K(b);{var k=x=>{uR(x,{get x(){return s()},get y(){return o()},get style(){return a()},children:(C,T)=>{var A=Ar();pe(()=>Ke(A,i())),B(C,A)},$$slots:{default:!0}})};oe(w,x=>{i()&&x(k)})}pe(x=>{Ee(m,\"id\",t()),Ee(m,\"d\",r()),ac(m,qr(x)),Ee(m,\"marker-start\",l()),Ee(m,\"marker-end\",u()),Ee(m,\"style\",f())},[()=>Si([\"svelte-flow__edge-path\",h()])],he),B(n,g),Ie()}function F0(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"label\",\"labelStyle\",\"style\",\"markerStart\",\"markerEnd\",\"interactionWidth\",\"sourceX\",\"sourceY\",\"sourcePosition\",\"targetX\",\"targetY\",\"targetPosition\"]),Pe(e,!1);const r=H(),i=H(),s=H();let o=y(e,\"label\",8,void 0),a=y(e,\"labelStyle\",8,void 0),l=y(e,\"style\",8,void 0),u=y(e,\"markerStart\",8,void 0),f=y(e,\"markerEnd\",8,void 0),d=y(e,\"interactionWidth\",8,void 0),h=y(e,\"sourceX\",8),p=y(e,\"sourceY\",8),g=y(e,\"sourcePosition\",8),m=y(e,\"targetX\",8),b=y(e,\"targetY\",8),v=y(e,\"targetPosition\",8);Z(()=>(c(r),c(i),c(s),z(h()),z(p()),z(m()),z(b()),z(g()),z(v())),()=>{(w=>(S(r,w[0]),S(i,w[1]),S(s,w[2])))(A4({sourceX:h(),sourceY:p(),targetX:m(),targetY:b(),sourcePosition:g(),targetPosition:v()}))}),wt(),Ne(),Wm(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(s)},get label(){return o()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return f()},get interactionWidth(){return d()},get style(){return l()}}),Ie()}function hR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"label\",\"labelStyle\",\"style\",\"markerStart\",\"markerEnd\",\"interactionWidth\",\"sourceX\",\"sourceY\",\"sourcePosition\",\"targetX\",\"targetY\",\"targetPosition\"]),Pe(e,!1);const r=H(),i=H(),s=H();let o=y(e,\"label\",8,void 0),a=y(e,\"labelStyle\",8,void 0),l=y(e,\"style\",8,void 0),u=y(e,\"markerStart\",8,void 0),f=y(e,\"markerEnd\",8,void 0),d=y(e,\"interactionWidth\",8,void 0),h=y(e,\"sourceX\",8),p=y(e,\"sourceY\",8),g=y(e,\"sourcePosition\",8),m=y(e,\"targetX\",8),b=y(e,\"targetY\",8),v=y(e,\"targetPosition\",8);Z(()=>(c(r),c(i),c(s),z(h()),z(p()),z(m()),z(b()),z(g()),z(v())),()=>{(w=>(S(r,w[0]),S(i,w[1]),S(s,w[2])))(wg({sourceX:h(),sourceY:p(),targetX:m(),targetY:b(),sourcePosition:g(),targetPosition:v()}))}),wt(),Ne(),Wm(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(s)},get label(){return o()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return f()},get interactionWidth(){return d()},get style(){return l()}}),Ie()}function pR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"label\",\"labelStyle\",\"style\",\"markerStart\",\"markerEnd\",\"interactionWidth\",\"sourceX\",\"sourceY\",\"targetX\",\"targetY\"]),Pe(e,!1);const r=H(),i=H(),s=H();let o=y(e,\"label\",8,void 0),a=y(e,\"labelStyle\",8,void 0),l=y(e,\"style\",8,void 0),u=y(e,\"markerStart\",8,void 0),f=y(e,\"markerEnd\",8,void 0),d=y(e,\"interactionWidth\",8,void 0),h=y(e,\"sourceX\",8),p=y(e,\"sourceY\",8),g=y(e,\"targetX\",8),m=y(e,\"targetY\",8);Z(()=>(c(r),c(i),c(s),z(h()),z(p()),z(g()),z(m())),()=>{(b=>(S(r,b[0]),S(i,b[1]),S(s,b[2])))(N0({sourceX:h(),sourceY:p(),targetX:g(),targetY:m()}))}),wt(),Ne(),Wm(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(s)},get label(){return o()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return f()},get interactionWidth(){return d()},get style(){return l()}}),Ie()}function gR(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]);Jn(t,[\"label\",\"labelStyle\",\"style\",\"markerStart\",\"markerEnd\",\"interactionWidth\",\"sourceX\",\"sourceY\",\"sourcePosition\",\"targetX\",\"targetY\",\"targetPosition\"]),Pe(e,!1);const r=H(),i=H(),s=H();let o=y(e,\"label\",8,void 0),a=y(e,\"labelStyle\",8,void 0),l=y(e,\"style\",8,void 0),u=y(e,\"markerStart\",8,void 0),f=y(e,\"markerEnd\",8,void 0),d=y(e,\"interactionWidth\",8,void 0),h=y(e,\"sourceX\",8),p=y(e,\"sourceY\",8),g=y(e,\"sourcePosition\",8),m=y(e,\"targetX\",8),b=y(e,\"targetY\",8),v=y(e,\"targetPosition\",8);Z(()=>(c(r),c(i),c(s),z(h()),z(p()),z(m()),z(b()),z(g()),z(v())),()=>{(w=>(S(r,w[0]),S(i,w[1]),S(s,w[2])))(wg({sourceX:h(),sourceY:p(),targetX:m(),targetY:b(),sourcePosition:g(),targetPosition:v(),borderRadius:0}))}),wt(),Ne(),Wm(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(s)},get label(){return o()},get labelStyle(){return a()},get markerStart(){return u()},get markerEnd(){return f()},get interactionWidth(){return d()},get style(){return l()}}),Ie()}function mR(n,e){const t=n.set,r=e.set,i=Ze(n),s=Ze(e);let a=i.length===0&&s.length>0?s:i;n.set(a);const l=u=>{const f=t(u);return a=f,r(a),f};n.set=e.set=l,n.update=e.update=u=>l(u(a))}function vR(n,e){const t=n.set,r=e.set;let i=Ze(e);n.set(i);const s=o=>{t(o),r(o),i=o};n.set=e.set=s,n.update=e.update=o=>s(o(i))}const yR=(n,e,t)=>{if(!t)return;const r=Ze(n),i=e.set,s=t.set;let o=t?Ze(t):{x:0,y:0,zoom:1};e.set(o),e.set=a=>(i(a),s(a),o=a,a),t.set=a=>(r==null||r.syncViewport(a),i(a),s(a),o=a,a),e.update=a=>{e.set(a(o))},t.update=a=>{t.set(a(o))}},bR=(n,e,t,r=[0,0],i=vg)=>{const{subscribe:s,set:o,update:a}=ht([]);let l=n,u={},f=!0;const d=m=>(E4(m,e,t,{elevateNodesOnSelect:f,nodeOrigin:r,nodeExtent:i,defaults:u,checkEquality:!1}),l=m,o(l),l),h=m=>d(m(l)),p=m=>{u=m},g=m=>{f=m.elevateNodesOnSelect??f};return d(l),{subscribe:s,set:d,update:h,setDefaultOptions:p,setOptions:g}},wR=(n,e,t,r)=>{const{subscribe:i,set:s,update:o}=ht([]);let a=n,l={};const u=h=>{const p=l?h.map(g=>({...l,...g})):h;M4(e,t,p),a=p,s(a)},f=h=>u(h(a)),d=h=>{l=h};return u(a),{subscribe:i,set:u,update:f,setDefaultOptions:d}},j4={input:rR,output:sR,default:B0,group:oR},z4={straight:pR,smoothstep:hR,default:F0,step:gR},xR=({nodes:n=[],edges:e=[],width:t,height:r,fitView:i,nodeOrigin:s,nodeExtent:o})=>{const a=new Map,l=new Map,u=new Map,f=new Map,d=s??[0,0],h=o??vg;E4(n,a,l,{nodeExtent:h,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),M4(u,f,e);let p={x:0,y:0,zoom:1};if(i&&t&&r){const g=Qd(a,{filter:m=>!!((m.width||m.initialWidth)&&(m.height||m.initialHeight))});p=S4(g,t,r,.5,2,.1)}return{flowId:ht(null),nodes:bR(n,a,l,d,h),nodeLookup:Br(a),parentLookup:Br(l),edgeLookup:Br(f),visibleNodes:Br([]),edges:wR(e,u,f),visibleEdges:Br([]),connectionLookup:Br(u),height:ht(500),width:ht(500),minZoom:ht(.5),maxZoom:ht(2),nodeOrigin:ht(d),nodeDragThreshold:ht(1),nodeExtent:ht(h),translateExtent:ht(vg),autoPanOnNodeDrag:ht(!0),autoPanOnConnect:ht(!0),fitViewOnInit:ht(!1),fitViewOnInitDone:ht(!1),fitViewOptions:ht(void 0),panZoom:ht(null),snapGrid:ht(null),dragging:ht(!1),selectionRect:ht(null),selectionKeyPressed:ht(!1),multiselectionKeyPressed:ht(!1),deleteKeyPressed:ht(!1),panActivationKeyPressed:ht(!1),zoomActivationKeyPressed:ht(!1),selectionRectMode:ht(null),selectionMode:ht(yg.Partial),nodeTypes:ht(j4),edgeTypes:ht(z4),viewport:ht(p),connectionMode:ht(Hl.Strict),domNode:ht(null),connection:Br(P0),connectionLineType:ht(Qc.Bezier),connectionRadius:ht(20),isValidConnection:ht(()=>!0),nodesDraggable:ht(!0),nodesConnectable:ht(!0),elementsSelectable:ht(!0),selectNodesOnDrag:ht(!0),markers:Br([]),defaultMarkerColor:ht(\"#b1b1b7\"),lib:Br(\"svelte\"),onlyRenderVisibleElements:ht(!1),onerror:ht(p9),ondelete:ht(void 0),onedgecreate:ht(void 0),onconnect:ht(void 0),onconnectstart:ht(void 0),onconnectend:ht(void 0),onbeforedelete:ht(void 0),nodesInitialized:ht(!1),edgesInitialized:ht(!1),viewportInitialized:ht(!1),initialized:Br(!1)}};function CR(n){const e=Is([n.edges,n.nodes,n.nodeLookup,n.onlyRenderVisibleElements,n.viewport,n.width,n.height],([t,,r,i,s,o,a])=>i&&o&&a?t.filter(u=>{const f=r.get(u.source),d=r.get(u.target);return f&&d&&x9({sourceNode:f,targetNode:d,width:o,height:a,transform:[s.x,s.y,s.zoom]})}):t);return Is([e,n.nodes,n.nodeLookup,n.connectionMode,n.onerror],([t,,r,i,s])=>t.reduce((a,l)=>{const u=r.get(l.source),f=r.get(l.target);if(!u||!f)return a;const d=E9({id:l.id,sourceNode:u,targetNode:f,sourceHandle:l.sourceHandle||null,targetHandle:l.targetHandle||null,connectionMode:i,onError:s});return d&&a.push({...l,zIndex:w9({selected:l.selected,zIndex:l.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...d}),a},[]))}function SR(n){return Is([n.nodeLookup,n.onlyRenderVisibleElements,n.width,n.height,n.viewport,n.nodes],([e,t,r,i,s])=>{const o=[s.x,s.y,s.zoom];return t?b4(e,{x:0,y:0,width:r,height:i},o,!0):Array.from(e.values())})}const Qb=Symbol();function _R({nodes:n,edges:e,width:t,height:r,fitView:i,nodeOrigin:s,nodeExtent:o}){const a=xR({nodes:n,edges:e,width:t,height:r,fitView:i,nodeOrigin:s,nodeExtent:o});function l(M){a.nodeTypes.set({...j4,...M})}function u(M){a.edgeTypes.set({...z4,...M})}function f(M){const N=Ze(a.edges);a.edges.set(_9(M,N))}const d=(M,N=!1)=>{var j;const F=Ze(a.nodeLookup);for(const[Y,ie]of M){const Q=(j=F.get(Y))==null?void 0:j.internals.userNode;Q&&(Q.position=ie.position,Q.dragging=N)}a.nodes.update(Y=>Y)};function h(M){var ie,Q,te;const N=Ze(a.nodeLookup),F=Ze(a.parentLookup),{changes:j,updatedInternals:Y}=N9(M,N,Ze(a.parentLookup),Ze(a.domNode),Ze(a.nodeOrigin));if(Y){if(P9(N,F,{nodeOrigin:s,nodeExtent:o}),!Ze(a.fitViewOnInitDone)&&Ze(a.fitViewOnInit)){const U=Ze(a.fitViewOptions),se=g({...U,nodes:U==null?void 0:U.nodes});a.fitViewOnInitDone.set(se)}for(const U of j){const se=(ie=N.get(U.id))==null?void 0:ie.internals.userNode;if(se)switch(U.type){case\"dimensions\":{const le={...se.measured,...U.dimensions};U.setAttributes&&(se.width=((Q=U.dimensions)==null?void 0:Q.width)??se.width,se.height=((te=U.dimensions)==null?void 0:te.height)??se.height),se.measured=le;break}case\"position\":se.position=U.position??se.position;break}}a.nodes.update(U=>U),Ze(a.nodesInitialized)||a.nodesInitialized.set(!0)}}function p(M){const N=Ze(a.panZoom),F=Ze(a.domNode);if(!N||!F)return Promise.resolve(!1);const{width:j,height:Y}=Jb(F),ie=Ox(Ze(a.nodeLookup),M);return Ex({nodes:ie,width:j,height:Y,minZoom:Ze(a.minZoom),maxZoom:Ze(a.maxZoom),panZoom:N},M)}function g(M){const N=Ze(a.panZoom);if(!N)return!1;const F=Ox(Ze(a.nodeLookup),M);return Ex({nodes:F,width:Ze(a.width),height:Ze(a.height),minZoom:Ze(a.minZoom),maxZoom:Ze(a.maxZoom),panZoom:N},M),F.size>0}function m(M,N){const F=Ze(a.panZoom);return F?F.scaleBy(M,N):Promise.resolve(!1)}function b(M){return m(1.2,M)}function v(M){return m(1/1.2,M)}function w(M){const N=Ze(a.panZoom);N&&(N.setScaleExtent([M,Ze(a.maxZoom)]),a.minZoom.set(M))}function k(M){const N=Ze(a.panZoom);N&&(N.setScaleExtent([Ze(a.minZoom),M]),a.maxZoom.set(M))}function x(M){const N=Ze(a.panZoom);N&&(N.setTranslateExtent(M),a.translateExtent.set(M))}function C(M){let N=!1;return M.forEach(F=>{F.selected&&(F.selected=!1,N=!0)}),N}function T(M){var N;(N=Ze(a.panZoom))==null||N.setClickDistance(M)}function A(M){C((M==null?void 0:M.nodes)||Ze(a.nodes))&&a.nodes.set(Ze(a.nodes)),C((M==null?void 0:M.edges)||Ze(a.edges))&&a.edges.set(Ze(a.edges))}a.deleteKeyPressed.subscribe(async M=>{var N;if(M){const F=Ze(a.nodes),j=Ze(a.edges),Y=F.filter(U=>U.selected),ie=j.filter(U=>U.selected),{nodes:Q,edges:te}=await h9({nodesToRemove:Y,edgesToRemove:ie,nodes:F,edges:j,onBeforeDelete:Ze(a.onbeforedelete)});(Q.length||te.length)&&(a.nodes.update(U=>U.filter(se=>!Q.some(le=>le.id===se.id))),a.edges.update(U=>U.filter(se=>!te.some(le=>le.id===se.id))),(N=Ze(a.ondelete))==null||N({nodes:Q,edges:te}))}});function O(M){const N=Ze(a.multiselectionKeyPressed);a.nodes.update(F=>F.map(j=>{const Y=M.includes(j.id),ie=N&&j.selected||Y;return j.selected=ie,j})),N||a.edges.update(F=>F.map(j=>(j.selected=!1,j)))}function R(M){const N=Ze(a.multiselectionKeyPressed);a.edges.update(F=>F.map(j=>{const Y=M.includes(j.id),ie=N&&j.selected||Y;return j.selected=ie,j})),N||a.nodes.update(F=>F.map(j=>(j.selected=!1,j)))}function D(M){var F;const N=(F=Ze(a.nodes))==null?void 0:F.find(j=>j.id===M);if(!N){console.warn(\"012\",Yd.error012(M));return}a.selectionRect.set(null),a.selectionRectMode.set(null),N.selected?N.selected&&Ze(a.multiselectionKeyPressed)&&A({nodes:[N],edges:[]}):O([M])}function E(M){const N=Ze(a.viewport);return L9({delta:M,panZoom:Ze(a.panZoom),transform:[N.x,N.y,N.zoom],translateExtent:Ze(a.translateExtent),width:Ze(a.width),height:Ze(a.height)})}const I=ht(P0),P=M=>{I.set({...M})};function _(){I.set(P0)}function L(){a.fitViewOnInitDone.set(!1),a.selectionRect.set(null),a.selectionRectMode.set(null),a.snapGrid.set(null),a.isValidConnection.set(()=>!0),A(),_()}return{...a,visibleEdges:CR(a),visibleNodes:SR(a),connection:Is([I,a.viewport],([M,N])=>M.inProgress?{...M,to:Hm(M.to,[N.x,N.y,N.zoom])}:{...M}),markers:Is([a.edges,a.defaultMarkerColor,a.flowId],([M,N,F])=>T9(M,{defaultColor:N,id:F})),initialized:(()=>{let M=!1;const N=Ze(a.nodes).length,F=Ze(a.edges).length;return Is([a.nodesInitialized,a.edgesInitialized,a.viewportInitialized],([j,Y,ie])=>M||(N===0?M=ie:F===0?M=ie&&j:M=ie&&j&&Y,M))})(),syncNodeStores:M=>mR(a.nodes,M),syncEdgeStores:M=>vR(a.edges,M),syncViewport:M=>yR(a.panZoom,a.viewport,M),setNodeTypes:l,setEdgeTypes:u,addEdge:f,updateNodePositions:d,updateNodeInternals:h,zoomIn:b,zoomOut:v,fitView:M=>p(M),setMinZoom:w,setMaxZoom:k,setTranslateExtent:x,setPaneClickDistance:T,unselectNodesAndEdges:A,addSelectedNodes:O,addSelectedEdges:R,handleNodeSelection:D,panBy:E,updateConnection:P,cancelConnection:_,reset:L}}function Er(){const n=gs(Qb);if(!n)throw new Error(\"In order to use useStore you need to wrap your component in a <SvelteFlowProvider />\");return n.getStore()}function kR({nodes:n,edges:e,width:t,height:r,fitView:i,nodeOrigin:s,nodeExtent:o}){const a=_R({nodes:n,edges:e,width:t,height:r,fitView:i,nodeOrigin:s,nodeExtent:o});return nd(Qb,{getStore:()=>a}),a}function Qv(n,e){const{panZoom:t,minZoom:r,maxZoom:i,initialViewport:s,viewport:o,dragging:a,translateExtent:l,paneClickDistance:u}=e,f=$9({domNode:n,minZoom:r,maxZoom:i,translateExtent:l,viewport:s,paneClickDistance:u,onDraggingChange:a.set}),d=f.getViewport();return o.set(d),t.set(f),f.update(e),{update(h){f.update(h)}}}var AR=ee('<div class=\"svelte-flow__zoom svelte-4xkw84\"><!></div>');function OR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(F,\"$panActivationKeyPressed\",t),s=()=>Ae(P,\"$minZoom\",t),o=()=>Ae(_,\"$maxZoom\",t),a=()=>Ae(j,\"$zoomActivationKeyPressed\",t),l=()=>Ae(I,\"$selectionRect\",t),u=()=>Ae(M,\"$translateExtent\",t),f=()=>Ae(N,\"$lib\",t),d=H(),h=H(),p=H();let g=y(e,\"initialViewport\",8,void 0),m=y(e,\"onMoveStart\",8,void 0),b=y(e,\"onMove\",8,void 0),v=y(e,\"onMoveEnd\",8,void 0),w=y(e,\"panOnScrollMode\",8),k=y(e,\"preventScrolling\",8),x=y(e,\"zoomOnScroll\",8),C=y(e,\"zoomOnDoubleClick\",8),T=y(e,\"zoomOnPinch\",8),A=y(e,\"panOnDrag\",8),O=y(e,\"panOnScroll\",8),R=y(e,\"paneClickDistance\",8);const{viewport:D,panZoom:E,selectionRect:I,minZoom:P,maxZoom:_,dragging:L,translateExtent:M,lib:N,panActivationKeyPressed:F,zoomActivationKeyPressed:j,viewportInitialized:Y}=Er(),ie=U=>D.set({x:U[0],y:U[1],zoom:U[2]});cr(()=>{Rs(Y,!0)}),Z(()=>z(g()),()=>{S(d,g()||{x:0,y:0,zoom:1})}),Z(()=>(i(),z(A())),()=>{S(h,i()||A())}),Z(()=>(i(),z(O())),()=>{S(p,i()||O())}),wt(),Ne();var Q=AR(),te=V(Q);en(te,e,\"default\",{},null),tn(Q,(U,se)=>Qv==null?void 0:Qv(U,se),()=>({viewport:D,minZoom:s(),maxZoom:o(),initialViewport:c(d),dragging:L,panZoom:E,onPanZoomStart:m(),onPanZoom:b(),onPanZoomEnd:v(),zoomOnScroll:x(),zoomOnDoubleClick:C(),zoomOnPinch:T(),panOnScroll:c(p),panOnDrag:c(h),panOnScrollSpeed:.5,panOnScrollMode:w()||Va.Free,zoomActivationKeyPressed:a(),preventScrolling:typeof k()==\"boolean\"?k():!0,noPanClassName:\"nopan\",noWheelClassName:\"nowheel\",userSelectionActive:!!l(),translateExtent:u(),lib:f(),paneClickDistance:R(),onTransformChange:ie})),B(n,Q),Ie(),r()}function Vx(n,e){return t=>{t.target===e&&(n==null||n(t))}}function Hx(n){return e=>{const t=n.includes(e.id);return e.selected!==t&&(e.selected=t),e}}var ER=ee('<div class=\"svelte-flow__pane svelte-1esy7hx\"><!></div>');function TR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(_,\"$panActivationKeyPressed\",t),s=()=>Ae(I,\"$selectionKeyPressed\",t),o=()=>Ae(D,\"$selectionRect\",t),a=()=>Ae(R,\"$elementsSelectable\",t),l=()=>Ae(E,\"$selectionRectMode\",t),u=()=>Ae(T,\"$edges\",t),f=()=>Ae(C,\"$nodeLookup\",t),d=()=>Ae(A,\"$viewport\",t),h=()=>Ae(P,\"$selectionMode\",t),p=()=>Ae(O,\"$dragging\",t),g=H(),m=H(),b=H();let v=y(e,\"panOnDrag\",8,void 0),w=y(e,\"selectionOnDrag\",8,void 0);const k=il(),{nodes:x,nodeLookup:C,edges:T,viewport:A,dragging:O,elementsSelectable:R,selectionRect:D,selectionRectMode:E,selectionKeyPressed:I,selectionMode:P,panActivationKeyPressed:_,unselectNodesAndEdges:L}=Er();let M=H(),N=null,F=[],j=!1;function Y(fe){if(j){j=!1;return}k(\"paneclick\",{event:fe}),L(),E.set(null)}function ie(fe){var re,$;if(N=c(M).getBoundingClientRect(),!R||!c(m)||fe.button!==0||fe.target!==c(M)||!N)return;($=(re=fe.target)==null?void 0:re.setPointerCapture)==null||$.call(re,fe.pointerId);const{x:J,y:ae}=Xo(fe,N);L(),D.set({width:0,height:0,startX:J,startY:ae,x:J,y:ae})}function Q(fe){if(!c(m)||!N||!o())return;j=!0;const J=Xo(fe,N),ae=o().startX??0,re=o().startY??0,$={...o(),x:J.x<ae?J.x:ae,y:J.y<re?J.y:re,width:Math.abs(J.x-ae),height:Math.abs(J.y-re)},ne=F.map(Le=>Le.id),G=I0(F,u()).map(Le=>Le.id);F=b4(f(),$,[d().x,d().y,d().zoom],h()===yg.Partial,!0);const De=I0(F,u()).map(Le=>Le.id),Be=F.map(Le=>Le.id);(ne.length!==Be.length||Be.some(Le=>!ne.includes(Le)))&&x.update(Le=>Le.map(Hx(Be))),(G.length!==De.length||De.some(Le=>!G.includes(Le)))&&T.update(Le=>Le.map(Hx(De))),E.set(\"user\"),D.set($)}function te(fe){var J,ae;fe.button===0&&((ae=(J=fe.target)==null?void 0:J.releasePointerCapture)==null||ae.call(J,fe.pointerId),!c(m)&&l()===\"user\"&&fe.target===c(M)&&(Y==null||Y(fe)),D.set(null),F.length>0&&Rs(E,\"nodes\"),s()&&(j=!1))}const U=fe=>{var J;if(Array.isArray(c(g))&&((J=c(g))!=null&&J.includes(2))){fe.preventDefault();return}k(\"panecontextmenu\",{event:fe})};Z(()=>(i(),z(v())),()=>{S(g,i()||v())}),Z(()=>(s(),o(),z(w()),c(g)),()=>{S(m,s()||o()||w()&&c(g)!==!0)}),Z(()=>(a(),c(m),l()),()=>{S(b,a()&&(c(m)||l()===\"user\"))}),wt(),Ne();var se=ER(),le=Fn(()=>c(b)?void 0:Vx(Y,c(M))),W=Fn(()=>Vx(U,c(M))),ce=V(se);en(ce,e,\"default\",{},null),_n(se,fe=>S(M,fe),()=>c(M)),pe(fe=>{Fe(se,\"draggable\",fe),Fe(se,\"dragging\",p()),Fe(se,\"selection\",c(m))},[()=>v()===!0||Array.isArray(v())&&v().includes(0)],he),ve(\"click\",se,function(...fe){var J;(J=c(le))==null||J.apply(this,fe)}),ve(\"pointerdown\",se,function(...fe){var J;(J=c(b)?ie:void 0)==null||J.apply(this,fe)}),ve(\"pointermove\",se,function(...fe){var J;(J=c(b)?Q:void 0)==null||J.apply(this,fe)}),ve(\"pointerup\",se,function(...fe){var J;(J=c(b)?te:void 0)==null||J.apply(this,fe)}),ve(\"contextmenu\",se,function(...fe){var J;(J=c(W))==null||J.apply(this,fe)}),B(n,se),Ie(),r()}var MR=ee('<div class=\"svelte-flow__viewport xyflow__viewport svelte-1floaup\"><!></div>');function PR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(s,\"$viewport\",t),{viewport:s}=Er();Ne();var o=MR(),a=V(o);en(a,e,\"default\",{},null),pe(()=>Ee(o,\"style\",`transform: translate(${i().x??\"\"}px, ${i().y??\"\"}px) scale(${i().zoom??\"\"})`)),B(n,o),Ie(),r()}function Zc(n,e){const{store:t,onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o}=e,a=F9({onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o,getStoreItems:()=>{const u=Ze(t.snapGrid),f=Ze(t.viewport);return{nodes:Ze(t.nodes),nodeLookup:Ze(t.nodeLookup),edges:Ze(t.edges),nodeExtent:Ze(t.nodeExtent),snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:Ze(t.nodeOrigin),multiSelectionActive:Ze(t.multiselectionKeyPressed),domNode:Ze(t.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:Ze(t.autoPanOnNodeDrag),nodesDraggable:Ze(t.nodesDraggable),selectNodesOnDrag:Ze(t.selectNodesOnDrag),nodeDragThreshold:Ze(t.nodeDragThreshold),unselectNodesAndEdges:t.unselectNodesAndEdges,updateNodePositions:t.updateNodePositions,panBy:t.panBy}}});function l(u,f){if(f.disabled){a.destroy();return}a.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return l(n,e),{update(u){l(n,u)},destroy(){a.destroy()}}}function IR({width:n,height:e,initialWidth:t,initialHeight:r,measuredWidth:i,measuredHeight:s}){if(i===void 0&&s===void 0){const o=n??t,a=e??r;return{width:o?`width:${o}px;`:\"\",height:a?`height:${a}px;`:\"\"}}return{width:n?`width:${n}px;`:\"\",height:e?`height:${e}px;`:\"\"}}var RR=ee(\"<div><!></div>\");function DR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(W,\"$nodeTypes\",t),s=()=>Ae(re,\"$elementsSelectable\",t),o=()=>Ae($,\"$nodesDraggable\",t),a=()=>Ae(Be,\"$connectableStore\",t),l=H(void 0,!0),u=H(void 0,!0),f=H(void 0,!0),d=H(void 0,!0);let h=y(e,\"node\",9),p=y(e,\"id\",9),g=y(e,\"data\",25,()=>({})),m=y(e,\"selected\",9,!1),b=y(e,\"draggable\",9,void 0),v=y(e,\"selectable\",9,void 0),w=y(e,\"connectable\",9,!0),k=y(e,\"deletable\",9,!0),x=y(e,\"hidden\",9,!1),C=y(e,\"dragging\",9,!1),T=y(e,\"resizeObserver\",9,null),A=y(e,\"style\",9,void 0),O=y(e,\"type\",9,\"default\"),R=y(e,\"isParent\",9,!1),D=y(e,\"positionX\",9),E=y(e,\"positionY\",9),I=y(e,\"sourcePosition\",9,void 0),P=y(e,\"targetPosition\",9,void 0),_=y(e,\"zIndex\",9),L=y(e,\"measuredWidth\",9,void 0),M=y(e,\"measuredHeight\",9,void 0),N=y(e,\"initialWidth\",9,void 0),F=y(e,\"initialHeight\",9,void 0),j=y(e,\"width\",9,void 0),Y=y(e,\"height\",9,void 0),ie=y(e,\"dragHandle\",9,void 0),Q=y(e,\"initialized\",9,!1),te=y(e,\"parentId\",9,void 0),U=y(e,\"nodeClickDistance\",9,void 0),se=y(e,\"class\",9,\"\");const le=Er(),{nodeTypes:W,nodeDragThreshold:ce,selectNodesOnDrag:fe,handleNodeSelection:J,updateNodeInternals:ae,elementsSelectable:re,nodesDraggable:$}=le;let ne=H(void 0,!0),G=H(null,!0);const De=il(),Be=ht(w());let Le=H(void 0,!0),Ce=H(void 0,!0),ye=H(void 0,!0);nd(\"svelteflow__node_id\",p()),nd(\"svelteflow__node_connectable\",Be),Hr(()=>{var ot;c(G)&&((ot=T())==null||ot.unobserve(c(G)))});function Re(ot){v()&&(!Ze(fe)||!b()||Ze(ce)>0)&&J(p()),De(\"nodeclick\",{node:h().internals.userNode,event:ot})}Z(()=>z(O()),()=>{S(l,O()||\"default\")}),Z(()=>(i(),c(l)),()=>{S(u,!!i()[c(l)])}),Z(()=>(i(),c(l),B0),()=>{S(f,i()[c(l)]||B0)}),Z(()=>(c(u),z(O())),()=>{c(u)||console.warn(\"003\",Yd.error003(O()))}),Z(()=>(z(j()),z(Y()),z(N()),z(F()),z(L()),z(M())),()=>{S(d,IR({width:j(),height:Y(),initialWidth:N(),initialHeight:F(),measuredWidth:L(),measuredHeight:M()}))}),Z(()=>z(w()),()=>{Be.set(!!w())}),Z(()=>(c(Le),c(l),c(Ce),z(I()),c(ye),z(P()),z(p()),c(ne)),()=>{(c(Le)&&c(l)!==c(Le)||c(Ce)&&I()!==c(Ce)||c(ye)&&P()!==c(ye))&&requestAnimationFrame(()=>ae(new Map([[p(),{id:p(),nodeElement:c(ne),force:!0}]]))),S(Le,c(l)),S(Ce,I()),S(ye,P())}),Z(()=>(z(T()),c(ne),c(G),z(Q())),()=>{T()&&(c(ne)!==c(G)||!Q())&&(c(G)&&T().unobserve(c(G)),c(ne)&&T().observe(c(ne)),S(G,c(ne)))}),wt(),Ne(!0);var je=Ue(),$e=be(je);{var Ve=ot=>{var we=RR(),He=V(we);const nt=he(()=>m()??!1),Xe=he(()=>v()??s()??!0),Je=he(()=>k()??!0),Ye=he(()=>b()??o()??!0);gu(He,()=>c(f),(Me,Se)=>{Se(Me,{get data(){return g()},get id(){return p()},get selected(){return c(nt)},get selectable(){return c(Xe)},get deletable(){return c(Je)},get sourcePosition(){return I()},get targetPosition(){return P()},get zIndex(){return _()},get dragging(){return C()},get draggable(){return c(Ye)},get dragHandle(){return ie()},get parentId(){return te()},get type(){return c(l)},get isConnectable(){return a()},get positionAbsoluteX(){return D()},get positionAbsoluteY(){return E()},get width(){return j()},get height(){return Y()}})}),tn(we,(Me,Se)=>Zc==null?void 0:Zc(Me,Se),()=>({nodeId:p(),isSelectable:v(),disabled:!1,handleSelector:ie(),noDragClass:\"nodrag\",nodeClickDistance:U(),onNodeMouseDown:J,onDrag:(Me,Se,ue,vt)=>{De(\"nodedrag\",{event:Me,targetNode:ue,nodes:vt})},onDragStart:(Me,Se,ue,vt)=>{De(\"nodedragstart\",{event:Me,targetNode:ue,nodes:vt})},onDragStop:(Me,Se,ue,vt)=>{De(\"nodedragstop\",{event:Me,targetNode:ue,nodes:vt})},store:le})),_n(we,Me=>S(ne,Me),()=>c(ne)),En(()=>ve(\"click\",we,Re)),En(()=>ve(\"mouseenter\",we,Me=>De(\"nodemouseenter\",{node:h(),event:Me}))),En(()=>ve(\"mouseleave\",we,Me=>De(\"nodemouseleave\",{node:h(),event:Me}))),En(()=>ve(\"mousemove\",we,Me=>De(\"nodemousemove\",{node:h(),event:Me}))),En(()=>ve(\"contextmenu\",we,Me=>De(\"nodecontextmenu\",{node:h(),event:Me}))),pe(Me=>{Ee(we,\"data-id\",p()),zr(we,qr(Me)),Ee(we,\"style\",`${A()??\"\"};${c(d).width??\"\"}${c(d).height??\"\"}`),Fe(we,\"dragging\",C()),Fe(we,\"selected\",m()),Fe(we,\"draggable\",b()),Fe(we,\"connectable\",w()),Fe(we,\"selectable\",v()),Fe(we,\"nopan\",b()),Fe(we,\"parent\",R()),Zn(we,\"z-index\",_()),Zn(we,\"transform\",`translate(${D()??\"\"}px, ${E()??\"\"}px)`),Zn(we,\"visibility\",Q()?\"visible\":\"hidden\")},[()=>Si([\"svelte-flow__node\",`svelte-flow__node-${c(l)}`,se()])],he),B(ot,we)};oe($e,ot=>{x()||ot(Ve)})}B(n,je),Ie(),r()}var NR=ee('<div class=\"svelte-flow__nodes svelte-tf4uy4\"></div>');function LR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(f,\"$visibleNodes\",t),s=()=>Ae(d,\"$nodesDraggable\",t),o=()=>Ae(p,\"$elementsSelectable\",t),a=()=>Ae(h,\"$nodesConnectable\",t),l=()=>Ae(m,\"$parentLookup\",t);let u=y(e,\"nodeClickDistance\",8,0);const{visibleNodes:f,nodesDraggable:d,nodesConnectable:h,elementsSelectable:p,updateNodeInternals:g,parentLookup:m}=Er(),b=typeof ResizeObserver>\"u\"?null:new ResizeObserver(w=>{const k=new Map;w.forEach(x=>{const C=x.target.getAttribute(\"data-id\");k.set(C,{id:C,nodeElement:x.target,force:!0})}),g(k)});Hr(()=>{b==null||b.disconnect()}),Ne();var v=NR();Dt(v,5,i,w=>w.id,(w,k)=>{const x=he(()=>!!c(k).selected),C=he(()=>!!c(k).hidden),T=he(()=>!!(c(k).draggable||s()&&typeof c(k).draggable>\"u\")),A=he(()=>!!(c(k).selectable||o()&&typeof c(k).selectable>\"u\")),O=he(()=>!!(c(k).connectable||a()&&typeof c(k).connectable>\"u\")),R=he(()=>c(k).deletable??!0),D=he(()=>l().has(c(k).id)),E=he(()=>c(k).type??\"default\"),I=he(()=>c(k).internals.z??0),P=he(()=>_4(c(k)));DR(w,{get node(){return c(k)},get id(){return c(k).id},get data(){return c(k).data},get selected(){return c(x)},get hidden(){return c(C)},get draggable(){return c(T)},get selectable(){return c(A)},get connectable(){return c(O)},get deletable(){return c(R)},get positionX(){return c(k).internals.positionAbsolute.x},get positionY(){return c(k).internals.positionAbsolute.y},get isParent(){return c(D)},get style(){return c(k).style},get class(){return c(k).class},get type(){return c(E)},get sourcePosition(){return c(k).sourcePosition},get targetPosition(){return c(k).targetPosition},get dragging(){return c(k).dragging},get zIndex(){return c(I)},get dragHandle(){return c(k).dragHandle},get initialized(){return c(P)},get width(){return c(k).width},get height(){return c(k).height},get initialWidth(){return c(k).initialWidth},get initialHeight(){return c(k).initialHeight},get measuredWidth(){return c(k).measured.width},get measuredHeight(){return c(k).measured.height},get parentId(){return c(k).parentId},resizeObserver:b,get nodeClickDistance(){return u()},$$events:{nodeclick(_){Bt.call(this,e,_)},nodemouseenter(_){Bt.call(this,e,_)},nodemousemove(_){Bt.call(this,e,_)},nodemouseleave(_){Bt.call(this,e,_)},nodedrag(_){Bt.call(this,e,_)},nodedragstart(_){Bt.call(this,e,_)},nodedragstop(_){Bt.call(this,e,_)},nodecontextmenu(_){Bt.call(this,e,_)}}})}),B(n,v),Ie(),r()}var BR=Nt('<svg><g role=\"img\"><!></g></svg>');function FR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(se,\"$edgeTypes\",t),s=()=>Ae(le,\"$flowId\",t),o=()=>Ae(W,\"$elementsSelectable\",t),a=()=>Ae(U,\"$edgeLookup\",t),l=H(void 0,!0),u=H(void 0,!0),f=H(void 0,!0),d=H(void 0,!0),h=H(void 0,!0);let p=y(e,\"id\",9),g=y(e,\"type\",9,\"default\"),m=y(e,\"source\",9,\"\"),b=y(e,\"target\",9,\"\"),v=y(e,\"data\",25,()=>({})),w=y(e,\"style\",9,void 0),k=y(e,\"zIndex\",9,void 0),x=y(e,\"animated\",9,!1),C=y(e,\"selected\",9,!1),T=y(e,\"selectable\",9,void 0),A=y(e,\"deletable\",9,void 0),O=y(e,\"hidden\",9,!1),R=y(e,\"label\",9,void 0),D=y(e,\"labelStyle\",9,void 0),E=y(e,\"markerStart\",9,void 0),I=y(e,\"markerEnd\",9,void 0),P=y(e,\"sourceHandle\",9,void 0),_=y(e,\"targetHandle\",9,void 0),L=y(e,\"sourceX\",9),M=y(e,\"sourceY\",9),N=y(e,\"targetX\",9),F=y(e,\"targetY\",9),j=y(e,\"sourcePosition\",9),Y=y(e,\"targetPosition\",9),ie=y(e,\"ariaLabel\",9,void 0),Q=y(e,\"interactionWidth\",9,void 0),te=y(e,\"class\",9,\"\");nd(\"svelteflow__edge_id\",p());const{edgeLookup:U,edgeTypes:se,flowId:le,elementsSelectable:W}=Er(),ce=il(),fe=F4();function J(G){const De=a().get(p());De&&(fe(p()),ce(\"edgeclick\",{event:G,edge:De}))}function ae(G,De){const Be=a().get(p());Be&&ce(De,{event:G,edge:Be})}Z(()=>z(g()),()=>{S(l,g()||\"default\")}),Z(()=>(i(),c(l),F0),()=>{S(u,i()[c(l)]||F0)}),Z(()=>(z(E()),s()),()=>{S(f,E()?`url('#${L0(E(),s())}')`:void 0)}),Z(()=>(z(I()),s()),()=>{S(d,I()?`url('#${L0(I(),s())}')`:void 0)}),Z(()=>(z(T()),o()),()=>{S(h,T()??o())}),wt(),Ne(!0);var re=Ue(),$=be(re);{var ne=G=>{var De=BR(),Be=V(De),Le=V(Be);const Ce=he(()=>A()??!0);gu(Le,()=>c(u),(ye,Re)=>{Re(ye,{get id(){return p()},get source(){return m()},get target(){return b()},get sourceX(){return L()},get sourceY(){return M()},get targetX(){return N()},get targetY(){return F()},get sourcePosition(){return j()},get targetPosition(){return Y()},get animated(){return x()},get selected(){return C()},get label(){return R()},get labelStyle(){return D()},get data(){return v()},get style(){return w()},get interactionWidth(){return Q()},get selectable(){return c(h)},get deletable(){return c(Ce)},get type(){return c(l)},get sourceHandleId(){return P()},get targetHandleId(){return _()},get markerStart(){return c(f)},get markerEnd(){return c(d)}})}),pe(ye=>{Zn(De,\"z-index\",k()),ac(Be,qr(ye)),Ee(Be,\"data-id\",p()),Ee(Be,\"aria-label\",ie()===null?void 0:ie()?ie():`Edge from ${m()} to ${b()}`),Fe(Be,\"animated\",x()),Fe(Be,\"selected\",C()),Fe(Be,\"selectable\",c(h))},[()=>Si([\"svelte-flow__edge\",te()])],he),ve(\"click\",Be,J),ve(\"contextmenu\",Be,ye=>{ae(ye,\"edgecontextmenu\")}),ve(\"mouseenter\",Be,ye=>{ae(ye,\"edgemouseenter\")}),ve(\"mouseleave\",Be,ye=>{ae(ye,\"edgemouseleave\")}),B(G,De)};oe($,G=>{O()||G(ne)})}B(n,re),Ie(),r()}function jR(n,e){Pe(e,!1);let t=y(e,\"onMount\",8,void 0),r=y(e,\"onDestroy\",8,void 0);cr(()=>{var i;return(i=t())==null||i(),r()}),Ne(),Ie()}var zR=Nt(\"<defs></defs>\");function VR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(s,\"$markers\",t),{markers:s}=Er();Ne();var o=zR();Dt(o,5,i,a=>a.id,(a,l)=>{UR(a,Qr(()=>c(l)))}),B(n,o),Ie(),r()}var HR=Nt('<polyline stroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\" points=\"-5,-4 0,0 -5,4\"></polyline>'),qR=Nt('<polyline stroke-linecap=\"round\" stroke-linejoin=\"round\" points=\"-5,-4 0,0 -5,4 -5,-4\"></polyline>'),WR=Nt('<marker class=\"svelte-flow__arrowhead\" viewBox=\"-10 -10 20 20\" refX=\"0\" refY=\"0\"><!></marker>');function UR(n,e){Pe(e,!1);let t=y(e,\"id\",8),r=y(e,\"type\",8),i=y(e,\"width\",8,12.5),s=y(e,\"height\",8,12.5),o=y(e,\"markerUnits\",8,\"strokeWidth\"),a=y(e,\"orient\",8,\"auto-start-reverse\"),l=y(e,\"color\",8,void 0),u=y(e,\"strokeWidth\",8,void 0);Ne();var f=WR(),d=V(f);{var h=g=>{var m=HR();pe(()=>{Ee(m,\"stroke\",l()),Ee(m,\"stroke-width\",u())}),B(g,m)},p=g=>{var m=Ue(),b=be(m);{var v=w=>{var k=qR();pe(()=>{Ee(k,\"stroke\",l()),Ee(k,\"stroke-width\",u()),Ee(k,\"fill\",l())}),B(w,k)};oe(b,w=>{r()===cd.ArrowClosed&&w(v)},!0)}B(g,m)};oe(d,g=>{r()===cd.Arrow?g(h):g(p,!1)})}pe(()=>{Ee(f,\"id\",t()),Ee(f,\"markerWidth\",`${i()}`),Ee(f,\"markerHeight\",`${s()}`),Ee(f,\"markerUnits\",o()),Ee(f,\"orient\",a())}),B(n,f),Ie()}var KR=ee('<div class=\"svelte-flow__edges\"><svg class=\"svelte-flow__marker\"><!></svg> <!> <!></div>');function JR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(a,\"$visibleEdges\",t),s=()=>Ae(f,\"$elementsSelectable\",t);let o=y(e,\"defaultEdgeOptions\",8);const{visibleEdges:a,edgesInitialized:l,edges:{setDefaultOptions:u},elementsSelectable:f}=Er();cr(()=>{o()&&u(o())}),Ne();var d=KR(),h=V(d),p=V(h);VR(p,{});var g=K(h,2);Dt(g,1,i,v=>v.id,(v,w)=>{const k=he(()=>c(w).selectable??s()),x=he(()=>c(w).type||\"default\");FR(v,{get id(){return c(w).id},get source(){return c(w).source},get target(){return c(w).target},get data(){return c(w).data},get style(){return c(w).style},get animated(){return c(w).animated},get selected(){return c(w).selected},get selectable(){return c(k)},get deletable(){return c(w).deletable},get hidden(){return c(w).hidden},get label(){return c(w).label},get labelStyle(){return c(w).labelStyle},get markerStart(){return c(w).markerStart},get markerEnd(){return c(w).markerEnd},get sourceHandle(){return c(w).sourceHandle},get targetHandle(){return c(w).targetHandle},get sourceX(){return c(w).sourceX},get sourceY(){return c(w).sourceY},get targetX(){return c(w).targetX},get targetY(){return c(w).targetY},get sourcePosition(){return c(w).sourcePosition},get targetPosition(){return c(w).targetPosition},get ariaLabel(){return c(w).ariaLabel},get interactionWidth(){return c(w).interactionWidth},get class(){return c(w).class},get type(){return c(x)},get zIndex(){return c(w).zIndex},$$events:{edgeclick(C){Bt.call(this,e,C)},edgecontextmenu(C){Bt.call(this,e,C)},edgemouseenter(C){Bt.call(this,e,C)},edgemouseleave(C){Bt.call(this,e,C)}}})});var m=K(g,2);{var b=v=>{jR(v,{onMount:()=>{Rs(l,!0)},onDestroy:()=>{Rs(l,!1)}})};oe(m,v=>{i().length>0&&v(b)})}B(n,d),Ie(),r()}var XR=ee('<div class=\"svelte-flow__selection svelte-1iugwpu\"></div>');function V4(n,e){let t=y(e,\"x\",8,0),r=y(e,\"y\",8,0),i=y(e,\"width\",8,0),s=y(e,\"height\",8,0),o=y(e,\"isVisible\",8,!0);var a=Ue(),l=be(a);{var u=f=>{var d=XR();pe(()=>{Zn(d,\"width\",typeof i()==\"string\"?i():`${i()}px`),Zn(d,\"height\",typeof s()==\"string\"?s():`${s()}px`),Zn(d,\"transform\",`translate(${t()}px, ${r()}px)`)}),B(f,d)};oe(l,f=>{o()&&f(u)})}B(n,a)}function YR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(o,\"$selectionRect\",t),s=()=>Ae(a,\"$selectionRectMode\",t),{selectionRect:o,selectionRectMode:a}=Er();Ne();const l=he(()=>!!(i()&&s()===\"user\")),u=he(()=>{var p;return(p=i())==null?void 0:p.width}),f=he(()=>{var p;return(p=i())==null?void 0:p.height}),d=he(()=>{var p;return(p=i())==null?void 0:p.x}),h=he(()=>{var p;return(p=i())==null?void 0:p.y});V4(n,{get isVisible(){return c(l)},get width(){return c(u)},get height(){return c(f)},get x(){return c(d)},get y(){return c(h)}}),Ie(),r()}var GR=ee('<div class=\"selection-wrapper nopan svelte-5pxri\" role=\"button\" tabindex=\"-1\"><!></div>');function QR(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(l,\"$selectionRectMode\",t),s=()=>Ae(f,\"$nodeLookup\",t),o=()=>Ae(u,\"$nodes\",t),a=Er(),{selectionRectMode:l,nodes:u,nodeLookup:f}=a,d=il();let h=H(null);function p(w){const k=o().filter(x=>x.selected);d(\"selectioncontextmenu\",{nodes:k,event:w})}function g(w){const k=o().filter(x=>x.selected);d(\"selectionclick\",{nodes:k,event:w})}Z(()=>(i(),s(),o()),()=>{i()===\"nodes\"&&(S(h,Qd(s(),{filter:w=>!!w.selected})),o())}),wt(),Ne();var m=Ue(),b=be(m);{var v=w=>{var k=GR(),x=V(k);V4(x,{width:\"100%\",height:\"100%\",x:0,y:0}),tn(k,(C,T)=>Zc==null?void 0:Zc(C,T),()=>({disabled:!1,store:a,onDrag:(C,T,A,O)=>{d(\"nodedrag\",{event:C,targetNode:null,nodes:O})},onDragStart:(C,T,A,O)=>{d(\"nodedragstart\",{event:C,targetNode:null,nodes:O})},onDragStop:(C,T,A,O)=>{d(\"nodedragstop\",{event:C,targetNode:null,nodes:O})}})),En(()=>ve(\"contextmenu\",k,p)),En(()=>ve(\"click\",k,g)),En(()=>ve(\"keyup\",k,()=>{})),pe(()=>Ee(k,\"style\",`width: ${c(h).width??\"\"}px; height: ${c(h).height??\"\"}px; transform: translate(${c(h).x??\"\"}px, ${c(h).y??\"\"}px)`)),B(w,k)};oe(b,w=>{i()===\"nodes\"&&c(h)&&ud(c(h).x)&&ud(c(h).y)&&w(v)})}B(n,m),Ie(),r()}function On(n,e){let{enabled:t=!0,trigger:r,type:i=\"keydown\"}=e;function s(o){const a=Array.isArray(r)?r:[r],l={alt:o.altKey,ctrl:o.ctrlKey,shift:o.shiftKey,meta:o.metaKey};for(const u of a){const f={modifier:[],preventDefault:!1,enabled:!0,...u},{modifier:d,key:h,callback:p,preventDefault:g,enabled:m}=f;if(m){if(d.length&&!(Array.isArray(d)?d:[d]).map(w=>typeof w==\"string\"?[w]:w).some(w=>w.every(k=>l[k])))continue;if(o.key===h){g&&o.preventDefault();const b={node:n,trigger:f,originalEvent:o};n.dispatchEvent(new CustomEvent(\"shortcut\",{detail:b})),p==null||p(b)}}}}return t&&n.addEventListener(i,s),{update:o=>{const{enabled:a=!0,type:l=\"keydown\"}=o;t&&(!a||i!==l)?n.removeEventListener(i,s):!t&&a&&n.addEventListener(l,s),t=a,i=l,r=o.trigger},destroy:()=>{n.removeEventListener(i,s)}}}function ZR(n,e){Pe(e,!1);let t=y(e,\"selectionKey\",8,\"Shift\"),r=y(e,\"multiSelectionKey\",24,()=>bg()?\"Meta\":\"Control\"),i=y(e,\"deleteKey\",8,\"Backspace\"),s=y(e,\"panActivationKey\",8,\" \"),o=y(e,\"zoomActivationKey\",24,()=>bg()?\"Meta\":\"Control\");const{selectionKeyPressed:a,multiselectionKeyPressed:l,deleteKeyPressed:u,panActivationKeyPressed:f,zoomActivationKeyPressed:d,selectionRect:h}=Er();function p(w){return w!==null&&typeof w==\"object\"}function g(w){return p(w)?w.modifier||[]:[]}function m(w){return w==null?\"\":p(w)?w.key:w}function b(w,k){return(Array.isArray(w)?w:[w]).map(C=>{const T=m(C);return{key:T,modifier:g(C),enabled:T!==null,callback:k}})}function v(){h.set(null),a.set(!1),l.set(!1),u.set(!1),f.set(!1),d.set(!1)}Ne(),ve(\"blur\",mr,v),ve(\"contextmenu\",mr,v),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(t(),()=>a.set(!0)),type:\"keydown\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(t(),()=>a.set(!1)),type:\"keyup\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(r(),()=>l.set(!0)),type:\"keydown\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(r(),()=>l.set(!1)),type:\"keyup\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(i(),w=>{!(w.originalEvent.ctrlKey||w.originalEvent.metaKey||w.originalEvent.shiftKey)&&!y9(w.originalEvent)&&u.set(!0)}),type:\"keydown\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(i(),()=>u.set(!1)),type:\"keyup\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(s(),()=>f.set(!0)),type:\"keydown\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(s(),()=>f.set(!1)),type:\"keyup\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(o(),()=>d.set(!0)),type:\"keydown\"})),tn(mr,(w,k)=>On==null?void 0:On(w,k),()=>({trigger:b(o(),()=>d.set(!1)),type:\"keyup\"})),Ie()}var $R=Nt('<path fill=\"none\" class=\"svelte-flow__connection-path\"></path>'),eD=Nt('<svg class=\"svelte-flow__connectionline\"><g><!><!></g></svg>');function tD(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(p,\"$connection\",t),s=()=>Ae(g,\"$connectionLineType\",t),o=()=>Ae(d,\"$width\",t),a=()=>Ae(h,\"$height\",t);let l=y(e,\"containerStyle\",8,\"\"),u=y(e,\"style\",8,\"\"),f=y(e,\"isCustomComponent\",8,!1);const{width:d,height:h,connection:p,connectionLineType:g}=Er();let m=H(null);Z(()=>(i(),z(f()),s(),c(m),N0),()=>{if(i().inProgress&&!f()){const{from:k,to:x,fromPosition:C,toPosition:T}=i(),A={sourceX:k.x,sourceY:k.y,sourcePosition:C,targetX:x.x,targetY:x.y,targetPosition:T};switch(s()){case Qc.Bezier:(O=>S(m,O[0]))(A4(A));break;case Qc.Step:(O=>S(m,O[0]))(wg({...A,borderRadius:0}));break;case Qc.SmoothStep:(O=>S(m,O[0]))(wg(A));break;default:(O=>S(m,O[0]))(N0(A))}}}),wt(),Ne();var b=Ue(),v=be(b);{var w=k=>{var x=eD(),C=V(x),T=V(C);en(T,e,\"connectionLine\",{},null);var A=K(T);{var O=R=>{var D=$R();pe(()=>{Ee(D,\"d\",c(m)),Ee(D,\"style\",u())}),B(R,D)};oe(A,R=>{f()||R(O)})}pe(R=>{Ee(x,\"width\",o()),Ee(x,\"height\",a()),Ee(x,\"style\",l()),ac(C,qr(R))},[()=>Si([\"svelte-flow__connection\",u9(i().isValid)])],he),B(k,x)};oe(v,k=>{i().inProgress&&k(w)})}B(n,b),Ie(),r()}var nD=ee(\"<div><!></div>\");function Zb(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=Jn(t,[\"position\",\"style\",\"class\"]);Pe(e,!1);const[i,s]=Tn(),o=()=>Ae(d,\"$selectionRectMode\",i),a=H();let l=y(e,\"position\",8,\"top-right\"),u=y(e,\"style\",8,void 0),f=y(e,\"class\",8,void 0);const{selectionRectMode:d}=Er();Z(()=>z(l()),()=>{S(a,`${l()}`.split(\"-\"))}),wt(),Ne();var h=nD();let p;var g=V(h);en(g,e,\"default\",{},null),pe(m=>{p=Ti(h,p,{class:m,style:u(),...r}),Zn(h,\"pointer-events\",o()?\"none\":\"\")},[()=>Si([\"svelte-flow__panel\",f(),...c(a)])],he),B(n,h),Ie(),s()}var rD=ee('<a href=\"https://svelteflow.dev\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Svelte Flow attribution\">Svelte Flow</a>');function iD(n,e){Pe(e,!1);let t=y(e,\"proOptions\",8,void 0),r=y(e,\"position\",8,\"bottom-right\");Ne();var i=Ue(),s=be(i);{var o=a=>{Zb(a,{get position(){return r()},class:\"svelte-flow__attribution\",\"data-message\":\"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us\",children:(l,u)=>{var f=rD();B(l,f)},$$slots:{default:!0}})};oe(s,a=>{var l;(l=t())!=null&&l.hideAttribution||a(o)})}B(n,i),Ie()}function qx(n,{nodeTypes:e,edgeTypes:t,minZoom:r,maxZoom:i,translateExtent:s,paneClickDistance:o}){e!==void 0&&n.setNodeTypes(e),t!==void 0&&n.setEdgeTypes(t),r!==void 0&&n.setMinZoom(r),i!==void 0&&n.setMaxZoom(i),s!==void 0&&n.setTranslateExtent(s),o!==void 0&&n.setPaneClickDistance(o)}const sD=n=>Object.keys(n);function Wx(n,e){sD(e).forEach(t=>{const r=e[t];r!==void 0&&n[t].set(r)})}function oD(){return typeof window>\"u\"||!window.matchMedia?null:window.matchMedia(\"(prefers-color-scheme: dark)\")}function aD(n=\"light\"){return Br(\"light\",t=>{if(n!==\"system\"){t(n);return}const r=oD(),i=()=>t(r!=null&&r.matches?\"dark\":\"light\");return t(r!=null&&r.matches?\"dark\":\"light\"),r==null||r.addEventListener(\"change\",i),()=>{r==null||r.removeEventListener(\"change\",i)}})}var lD=ee('<!> <!> <div class=\"svelte-flow__edgelabel-renderer\"></div> <div class=\"svelte-flow__viewport-portal\"></div> <!> <!>',1),cD=ee(\"<!> <!>\",1),uD=ee(\"<div><!> <!> <!> <!></div>\");function fD(n,e){const t=Nk(e),r=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),i=Jn(r,[\"id\",\"nodes\",\"edges\",\"fitView\",\"fitViewOptions\",\"minZoom\",\"maxZoom\",\"initialViewport\",\"viewport\",\"nodeTypes\",\"edgeTypes\",\"selectionKey\",\"selectionMode\",\"panActivationKey\",\"multiSelectionKey\",\"zoomActivationKey\",\"nodesDraggable\",\"nodesConnectable\",\"nodeDragThreshold\",\"elementsSelectable\",\"snapGrid\",\"deleteKey\",\"connectionRadius\",\"connectionLineType\",\"connectionMode\",\"connectionLineStyle\",\"connectionLineContainerStyle\",\"onMoveStart\",\"onMove\",\"onMoveEnd\",\"isValidConnection\",\"translateExtent\",\"nodeExtent\",\"onlyRenderVisibleElements\",\"panOnScrollMode\",\"preventScrolling\",\"zoomOnScroll\",\"zoomOnDoubleClick\",\"zoomOnPinch\",\"panOnScroll\",\"panOnDrag\",\"selectionOnDrag\",\"autoPanOnConnect\",\"autoPanOnNodeDrag\",\"onerror\",\"ondelete\",\"onedgecreate\",\"attributionPosition\",\"proOptions\",\"defaultEdgeOptions\",\"width\",\"height\",\"colorMode\",\"onconnect\",\"onconnectstart\",\"onconnectend\",\"onbeforedelete\",\"oninit\",\"nodeOrigin\",\"paneClickDistance\",\"nodeClickDistance\",\"defaultMarkerColor\",\"style\",\"class\"]);Pe(e,!1);const[s,o]=Tn(),a=()=>Ae(k(),\"$viewport\",s),l=()=>Ae(Lt,\"$initialized\",s),u=()=>Ae(c(f),\"$colorModeClass\",s),f=H();let d=y(e,\"id\",8,\"1\"),h=y(e,\"nodes\",8),p=y(e,\"edges\",8),g=y(e,\"fitView\",8,void 0),m=y(e,\"fitViewOptions\",8,void 0),b=y(e,\"minZoom\",8,void 0),v=y(e,\"maxZoom\",8,void 0),w=y(e,\"initialViewport\",8,void 0),k=y(e,\"viewport\",8,void 0),x=y(e,\"nodeTypes\",8,void 0),C=y(e,\"edgeTypes\",8,void 0),T=y(e,\"selectionKey\",8,void 0),A=y(e,\"selectionMode\",8,void 0),O=y(e,\"panActivationKey\",8,void 0),R=y(e,\"multiSelectionKey\",8,void 0),D=y(e,\"zoomActivationKey\",8,void 0),E=y(e,\"nodesDraggable\",8,void 0),I=y(e,\"nodesConnectable\",8,void 0),P=y(e,\"nodeDragThreshold\",8,void 0),_=y(e,\"elementsSelectable\",8,void 0),L=y(e,\"snapGrid\",8,void 0),M=y(e,\"deleteKey\",8,void 0),N=y(e,\"connectionRadius\",8,void 0),F=y(e,\"connectionLineType\",8,void 0),j=y(e,\"connectionMode\",24,()=>Hl.Strict),Y=y(e,\"connectionLineStyle\",8,\"\"),ie=y(e,\"connectionLineContainerStyle\",8,\"\"),Q=y(e,\"onMoveStart\",8,void 0),te=y(e,\"onMove\",8,void 0),U=y(e,\"onMoveEnd\",8,void 0),se=y(e,\"isValidConnection\",8,void 0),le=y(e,\"translateExtent\",8,void 0),W=y(e,\"nodeExtent\",8,void 0),ce=y(e,\"onlyRenderVisibleElements\",8,void 0),fe=y(e,\"panOnScrollMode\",24,()=>Va.Free),J=y(e,\"preventScrolling\",8,!0),ae=y(e,\"zoomOnScroll\",8,!0),re=y(e,\"zoomOnDoubleClick\",8,!0),$=y(e,\"zoomOnPinch\",8,!0),ne=y(e,\"panOnScroll\",8,!1),G=y(e,\"panOnDrag\",8,!0),De=y(e,\"selectionOnDrag\",8,void 0),Be=y(e,\"autoPanOnConnect\",8,!0),Le=y(e,\"autoPanOnNodeDrag\",8,!0),Ce=y(e,\"onerror\",8,void 0),ye=y(e,\"ondelete\",8,void 0),Re=y(e,\"onedgecreate\",8,void 0),je=y(e,\"attributionPosition\",8,void 0),$e=y(e,\"proOptions\",8,void 0),Ve=y(e,\"defaultEdgeOptions\",8,void 0),ot=y(e,\"width\",8,void 0),we=y(e,\"height\",8,void 0),He=y(e,\"colorMode\",8,\"light\"),nt=y(e,\"onconnect\",8,void 0),Xe=y(e,\"onconnectstart\",8,void 0),Je=y(e,\"onconnectend\",8,void 0),Ye=y(e,\"onbeforedelete\",8,void 0),Me=y(e,\"oninit\",8,void 0),Se=y(e,\"nodeOrigin\",8,void 0),ue=y(e,\"paneClickDistance\",8,0),vt=y(e,\"nodeClickDistance\",8,0),bt=y(e,\"defaultMarkerColor\",8,\"#b1b1b7\"),Xn=y(e,\"style\",8,void 0),at=y(e,\"class\",8,void 0),_t=H(),fn=H(),Vt=H();const In=a()||w(),rt=Y5(Qb)?Er():kR({nodes:Ze(h()),edges:Ze(p()),width:ot(),height:we(),fitView:g(),nodeOrigin:Se(),nodeExtent:W()});cr(()=>(rt.width.set(c(fn)),rt.height.set(c(Vt)),rt.domNode.set(c(_t)),rt.syncNodeStores(h()),rt.syncEdgeStores(p()),rt.syncViewport(k()),g()!==void 0&&rt.fitViewOnInit.set(g()),m()&&rt.fitViewOptions.set(m()),qx(rt,{nodeTypes:x(),edgeTypes:C(),minZoom:b(),maxZoom:v(),translateExtent:le(),paneClickDistance:ue()}),()=>{rt.reset()}));const{initialized:Lt}=rt;let Ht=H(!1);Z(()=>(c(fn),c(Vt)),()=>{c(fn)!==void 0&&c(Vt)!==void 0&&(rt.width.set(c(fn)),rt.height.set(c(Vt)))}),Z(()=>(c(Ht),l(),z(Me())),()=>{var xe;!c(Ht)&&l()&&((xe=Me())==null||xe(),S(Ht,!0))}),Z(()=>(z(d()),z(F()),z(N()),z(A()),z(L()),z(bt()),z(E()),z(I()),z(_()),z(ce()),z(se()),z(Be()),z(Le()),z(Ce()),z(ye()),z(Re()),z(j()),z(P()),z(nt()),z(Xe()),z(Je()),z(Ye()),z(Se()),Wx),()=>{const xe={flowId:d(),connectionLineType:F(),connectionRadius:N(),selectionMode:A(),snapGrid:L(),defaultMarkerColor:bt(),nodesDraggable:E(),nodesConnectable:I(),elementsSelectable:_(),onlyRenderVisibleElements:ce(),isValidConnection:se(),autoPanOnConnect:Be(),autoPanOnNodeDrag:Le(),onerror:Ce(),ondelete:ye(),onedgecreate:Re(),connectionMode:j(),nodeDragThreshold:P(),onconnect:nt(),onconnectstart:Xe(),onconnectend:Je(),onbeforedelete:Ye(),nodeOrigin:Se()};Wx(rt,xe)}),Z(()=>(z(x()),z(C()),z(b()),z(v()),z(le()),z(ue())),()=>{qx(rt,{nodeTypes:x(),edgeTypes:C(),minZoom:b(),maxZoom:v(),translateExtent:le(),paneClickDistance:ue()})}),Z(()=>z(He()),()=>{kM(S(f,aD(He())),\"$colorModeClass\",s)}),wt(),Ne();var Gt=uD();let kt;var Tt=V(Gt);ZR(Tt,{get selectionKey(){return T()},get deleteKey(){return M()},get panActivationKey(){return O()},get multiSelectionKey(){return R()},get zoomActivationKey(){return D()}});var rr=K(Tt,2);const It=he(()=>fe()===void 0?Va.Free:fe()),Ut=he(()=>J()===void 0?!0:J()),ln=he(()=>ae()===void 0?!0:ae()),hn=he(()=>re()===void 0?!0:re()),kn=he(()=>$()===void 0?!0:$()),mn=he(()=>ne()===void 0?!1:ne()),vn=he(()=>G()===void 0?!0:G()),dr=he(()=>ue()===void 0?0:ue());OR(rr,{initialViewport:In,get onMoveStart(){return Q()},get onMove(){return te()},get onMoveEnd(){return U()},get panOnScrollMode(){return c(It)},get preventScrolling(){return c(Ut)},get zoomOnScroll(){return c(ln)},get zoomOnDoubleClick(){return c(hn)},get zoomOnPinch(){return c(kn)},get panOnScroll(){return c(mn)},get panOnDrag(){return c(vn)},get paneClickDistance(){return c(dr)},children:(xe,Et)=>{const Qt=he(()=>G()===void 0?!0:G());TR(xe,{get panOnDrag(){return c(Qt)},get selectionOnDrag(){return De()},$$events:{paneclick(pt){Bt.call(this,e,pt)},panecontextmenu(pt){Bt.call(this,e,pt)}},children:(pt,hr)=>{var pr=cD(),ir=be(pr);PR(ir,{children:(fi,$i)=>{var _i=lD(),zn=be(_i);JR(zn,{get defaultEdgeOptions(){return Ve()},$$events:{edgeclick(ke){Bt.call(this,e,ke)},edgecontextmenu(ke){Bt.call(this,e,ke)},edgemouseenter(ke){Bt.call(this,e,ke)},edgemouseleave(ke){Bt.call(this,e,ke)}}});var Vn=K(zn,2);tD(Vn,{get containerStyle(){return ie()},get style(){return Y()},isCustomComponent:t.connectionLine,$$slots:{connectionLine:(ke,yt)=>{var Zt=Ue(),Mt=be(Zt);en(Mt,e,\"connectionLine\",{},null),B(ke,Zt)}}});var es=K(Vn,6);LR(es,{get nodeClickDistance(){return vt()},$$events:{nodeclick(ke){Bt.call(this,e,ke)},nodemouseenter(ke){Bt.call(this,e,ke)},nodemousemove(ke){Bt.call(this,e,ke)},nodemouseleave(ke){Bt.call(this,e,ke)},nodedragstart(ke){Bt.call(this,e,ke)},nodedrag(ke){Bt.call(this,e,ke)},nodedragstop(ke){Bt.call(this,e,ke)},nodecontextmenu(ke){Bt.call(this,e,ke)}}});var ge=K(es,2);QR(ge,{$$events:{selectionclick(ke){Bt.call(this,e,ke)},selectioncontextmenu(ke){Bt.call(this,e,ke)},nodedragstart(ke){Bt.call(this,e,ke)},nodedrag(ke){Bt.call(this,e,ke)},nodedragstop(ke){Bt.call(this,e,ke)}}}),B(fi,_i)},$$slots:{default:!0}});var Mr=K(ir,2);YR(Mr,{}),B(pt,pr)},$$slots:{default:!0}})},$$slots:{default:!0}});var sn=K(rr,2);iD(sn,{get proOptions(){return $e()},get position(){return je()}});var tr=K(sn,2);en(tr,e,\"default\",{},null),_n(Gt,xe=>S(_t,xe),()=>c(_t)),pe(xe=>kt=Ti(Gt,kt,{style:Xn(),class:xe,\"data-testid\":\"svelte-flow__wrapper\",...i,role:\"application\"},\"svelte-12wlba6\"),[()=>Si([\"svelte-flow\",at(),u()])],he),ex(Gt,\"clientWidth\",xe=>S(fn,xe)),ex(Gt,\"clientHeight\",xe=>S(Vt,xe)),ve(\"dragover\",Gt,function(xe){Bt.call(this,e,xe)}),ve(\"drop\",Gt,function(xe){Bt.call(this,e,xe)}),B(n,Gt),Ie(),o()}var dD=ee(\"<button><!></button>\");function Th(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=Jn(t,[\"class\",\"bgColor\",\"bgColorHover\",\"color\",\"colorHover\",\"borderColor\"]);Pe(e,!1);let i=y(e,\"class\",8,void 0),s=y(e,\"bgColor\",8,void 0),o=y(e,\"bgColorHover\",8,void 0),a=y(e,\"color\",8,void 0),l=y(e,\"colorHover\",8,void 0),u=y(e,\"borderColor\",8,void 0);Ne();var f=dD();let d;var h=V(f);en(h,e,\"default\",{class:\"button-svg\"},null),pe(p=>{d=Ti(f,d,{type:\"button\",class:p,...r}),Zn(f,\"--xy-controls-button-background-color-props\",s()),Zn(f,\"--xy-controls-button-background-color-hover-props\",o()),Zn(f,\"--xy-controls-button-color-props\",a()),Zn(f,\"--xy-controls-button-color-hover-props\",l()),Zn(f,\"--xy-controls-button-border-color-props\",u())},[()=>Si([\"svelte-flow__controls-button\",i()])],he),ve(\"click\",f,function(p){Bt.call(this,e,p)}),B(n,f),Ie()}var hD=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\"></path></svg>');function pD(n){var e=hD();B(n,e)}var gD=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 5\"><path d=\"M0 0h32v4.2H0z\"></path></svg>');function mD(n){var e=gD();B(n,e)}var vD=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 30\"><path d=\"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\"></path></svg>');function yD(n){var e=vD();B(n,e)}var bD=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 32\"><path d=\"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\"></path></svg>');function wD(n){var e=bD();B(n,e)}var xD=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 32\"><path d=\"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\"></path></svg>');function CD(n){var e=xD();B(n,e)}var SD=ee(\"<!> <!>\",1),_D=ee(\"<!> <!> <!> <!> <!> <!>\",1);function kD(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(F,\"$nodesDraggable\",t),s=()=>Ae(j,\"$nodesConnectable\",t),o=()=>Ae(Y,\"$elementsSelectable\",t),a=()=>Ae(L,\"$viewport\",t),l=()=>Ae(M,\"$minZoom\",t),u=()=>Ae(N,\"$maxZoom\",t),f=H(),d=H(),h=H(),p=H();let g=y(e,\"position\",8,\"bottom-left\"),m=y(e,\"showZoom\",8,!0),b=y(e,\"showFitView\",8,!0),v=y(e,\"showLock\",8,!0),w=y(e,\"buttonBgColor\",8,void 0),k=y(e,\"buttonBgColorHover\",8,void 0),x=y(e,\"buttonColor\",8,void 0),C=y(e,\"buttonColorHover\",8,void 0),T=y(e,\"buttonBorderColor\",8,void 0),A=y(e,\"ariaLabel\",8,void 0),O=y(e,\"style\",8,void 0),R=y(e,\"orientation\",8,\"vertical\"),D=y(e,\"fitViewOptions\",8,void 0),E=y(e,\"class\",8,\"\");const{zoomIn:I,zoomOut:P,fitView:_,viewport:L,minZoom:M,maxZoom:N,nodesDraggable:F,nodesConnectable:j,elementsSelectable:Y}=Er(),ie={bgColor:w(),bgColorHover:k(),color:x(),colorHover:C(),borderColor:T()},Q=()=>{I()},te=()=>{P()},U=()=>{_(D())},se=()=>{S(f,!c(f)),F.set(c(f)),j.set(c(f)),Y.set(c(f))};Z(()=>(i(),s(),o()),()=>{S(f,i()||s()||o())}),Z(()=>(a(),l()),()=>{S(d,a().zoom<=l())}),Z(()=>(a(),u()),()=>{S(h,a().zoom>=u())}),Z(()=>z(R()),()=>{S(p,R()===\"horizontal\"?\"horizontal\":\"vertical\")}),wt(),Ne();const le=he(()=>Si([\"svelte-flow__controls\",c(p),E()])),W=he(()=>A()??\"Svelte Flow controls\");Zb(n,{get class(){return c(le)},get position(){return g()},\"data-testid\":\"svelte-flow__controls\",get\"aria-label\"(){return c(W)},get style(){return O()},children:(ce,fe)=>{var J=_D(),ae=be(J);en(ae,e,\"before\",{},null);var re=K(ae,2);{var $=ye=>{var Re=SD(),je=be(Re);Th(je,Qr({class:\"svelte-flow__controls-zoomin\",title:\"zoom in\",\"aria-label\":\"zoom in\",get disabled(){return c(h)}},ie,{$$events:{click:Q},children:(Ve,ot)=>{pD(Ve)},$$slots:{default:!0}}));var $e=K(je,2);Th($e,Qr({class:\"svelte-flow__controls-zoomout\",title:\"zoom out\",\"aria-label\":\"zoom out\",get disabled(){return c(d)}},ie,{$$events:{click:te},children:(Ve,ot)=>{mD(Ve)},$$slots:{default:!0}})),B(ye,Re)};oe(re,ye=>{m()&&ye($)})}var ne=K(re,2);{var G=ye=>{Th(ye,Qr({class:\"svelte-flow__controls-fitview\",title:\"fit view\",\"aria-label\":\"fit view\"},ie,{$$events:{click:U},children:(Re,je)=>{yD(Re)},$$slots:{default:!0}}))};oe(ne,ye=>{b()&&ye(G)})}var De=K(ne,2);{var Be=ye=>{Th(ye,Qr({class:\"svelte-flow__controls-interactive\",title:\"toggle interactivity\",\"aria-label\":\"toggle interactivity\"},ie,{$$events:{click:se},children:(Re,je)=>{var $e=Ue(),Ve=be($e);{var ot=He=>{CD(He)},we=He=>{wD(He)};oe(Ve,He=>{c(f)?He(ot):He(we,!1)})}B(Re,$e)},$$slots:{default:!0}}))};oe(De,ye=>{v()&&ye(Be)})}var Le=K(De,2);en(Le,e,\"default\",{},null);var Ce=K(Le,2);en(Ce,e,\"after\",{},null),B(ce,J)},$$slots:{default:!0}}),Ie(),r()}var Ha;(function(n){n.Lines=\"lines\",n.Dots=\"dots\",n.Cross=\"cross\"})(Ha||(Ha={}));var AD=Nt(\"<circle></circle>\");function OD(n,e){Pe(e,!1);let t=y(e,\"radius\",8,5),r=y(e,\"class\",8,\"\");Ne();var i=AD();pe(s=>{Ee(i,\"cx\",t()),Ee(i,\"cy\",t()),Ee(i,\"r\",t()),ac(i,qr(s))},[()=>Si([\"svelte-flow__background-pattern\",\"dots\",r()])],he),B(n,i),Ie()}var ED=Nt(\"<path></path>\");function TD(n,e){Pe(e,!1);let t=y(e,\"lineWidth\",8,1),r=y(e,\"dimensions\",8),i=y(e,\"variant\",8,void 0),s=y(e,\"class\",8,\"\");Ne();var o=ED();pe(a=>{Ee(o,\"stroke-width\",t()),Ee(o,\"d\",`M${r()[0]/2} 0 V${r()[1]} M0 ${r()[1]/2} H${r()[0]}`),ac(o,qr(a))},[()=>Si([\"svelte-flow__background-pattern\",i(),s()])],he),B(n,o),Ie()}const MD={[Ha.Dots]:1,[Ha.Lines]:1,[Ha.Cross]:6};var PD=Nt('<svg data-testid=\"svelte-flow__background\"><pattern patternUnits=\"userSpaceOnUse\"><!></pattern><rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\"></rect></svg>');function ID(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(C,\"$flowId\",t),s=()=>Ae(x,\"$viewport\",t),o=H(),a=H(),l=H(),u=H(),f=H();let d=y(e,\"id\",8,void 0),h=y(e,\"variant\",24,()=>Ha.Dots),p=y(e,\"gap\",8,20),g=y(e,\"size\",8,1),m=y(e,\"lineWidth\",8,1),b=y(e,\"bgColor\",8,void 0),v=y(e,\"patternColor\",8,void 0),w=y(e,\"patternClass\",8,void 0),k=y(e,\"class\",8,\"\");const{viewport:x,flowId:C}=Er(),T=g()||MD[h()],A=h()===Ha.Dots,O=h()===Ha.Cross,R=Array.isArray(p())?p():[p(),p()];Z(()=>(i(),z(d())),()=>{S(o,`background-pattern-${i()}-${d()?d():\"\"}`)}),Z(()=>s(),()=>{S(a,[R[0]*s().zoom||1,R[1]*s().zoom||1])}),Z(()=>s(),()=>{S(l,T*s().zoom)}),Z(()=>(c(l),c(a)),()=>{S(u,O?[c(l),c(l)]:c(a))}),Z(()=>(c(l),c(u)),()=>{S(f,A?[c(l)/2,c(l)/2]:[c(u)[0]/2,c(u)[1]/2])}),wt(),Ne();var D=PD(),E=V(D),I=V(E);{var P=M=>{const N=he(()=>c(l)/2);OD(M,{get radius(){return c(N)},get class(){return w()}})},_=M=>{TD(M,{get dimensions(){return c(u)},get variant(){return h()},get lineWidth(){return m()},get class(){return w()}})};oe(I,M=>{A?M(P):M(_,!1)})}var L=K(E);pe(M=>{ac(D,qr(M),\"svelte-1r7pe8d\"),Zn(D,\"--xy-background-color-props\",b()),Zn(D,\"--xy-background-pattern-color-props\",v()),Ee(E,\"id\",c(o)),Ee(E,\"x\",s().x%c(a)[0]),Ee(E,\"y\",s().y%c(a)[1]),Ee(E,\"width\",c(a)[0]),Ee(E,\"height\",c(a)[1]),Ee(E,\"patternTransform\",`translate(-${c(f)[0]},-${c(f)[1]})`),Ee(L,\"fill\",`url(#${c(o)})`)},[()=>Si([\"svelte-flow__background\",k()])],he),B(n,D),Ie(),r()}var RD=Nt(\"<rect></rect>\");function DD(n,e){Pe(e,!1);let t=y(e,\"x\",8),r=y(e,\"y\",8),i=y(e,\"width\",8,0),s=y(e,\"height\",8,0),o=y(e,\"borderRadius\",8,5),a=y(e,\"color\",8,void 0),l=y(e,\"shapeRendering\",8),u=y(e,\"strokeColor\",8,void 0),f=y(e,\"strokeWidth\",8,2),d=y(e,\"selected\",8,!1),h=y(e,\"class\",8,\"\");Ne();var p=RD();pe(g=>{ac(p,qr(g)),Ee(p,\"x\",t()),Ee(p,\"y\",r()),Ee(p,\"rx\",o()),Ee(p,\"ry\",o()),Ee(p,\"width\",i()),Ee(p,\"height\",s()),Ee(p,\"style\",`${a()?`fill: ${a()};`:\"\"}${u()?`stroke: ${u()};`:\"\"}${f()?`stroke-width: ${f()};`:\"\"}`),Ee(p,\"shape-rendering\",l()),Fe(p,\"selected\",d())},[()=>Si([\"svelte-flow__minimap-node\",h()])],he),B(n,p),Ie()}function Zv(n,e){const t=U9({domNode:n,panZoom:e.panZoom,getTransform:()=>{const i=Ze(e.viewport);return[i.x,i.y,i.zoom]},getViewScale:e.getViewScale});function r(i){t.update({translateExtent:i.translateExtent,width:i.width,height:i.height,inversePan:i.inversePan,zoomStep:i.zoomStep,pannable:i.pannable,zoomable:i.zoomable})}return{update:r,destroy(){t.destroy()}}}const $v=n=>n instanceof Function?n:()=>n;var ND=Nt(\"<title> </title>\"),LD=Nt('<svg class=\"svelte-flow__minimap-svg\" role=\"img\"><!><!><path class=\"svelte-flow__minimap-mask\" fill-rule=\"evenodd\" pointer-events=\"none\"></path></svg>');function BD(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(G,\"$flowId\",t),s=()=>Ae(re,\"$viewport\",t),o=()=>Ae($,\"$containerWidth\",t),a=()=>Ae(ne,\"$containerHeight\",t),l=()=>Ae(ae,\"$nodeLookup\",t),u=()=>Ae(J,\"$nodes\",t),f=()=>Ae(De,\"$panZoom\",t),d=()=>Ae(Be,\"$translateExtent\",t),h=H(),p=H(),g=H(),m=H(),b=H(),v=H(),w=H(),k=H(),x=H(),C=H(),T=H(),A=H(),O=H();let R=y(e,\"position\",8,\"bottom-right\"),D=y(e,\"ariaLabel\",8,\"Mini map\"),E=y(e,\"nodeStrokeColor\",8,\"transparent\"),I=y(e,\"nodeColor\",8,void 0),P=y(e,\"nodeClass\",8,\"\"),_=y(e,\"nodeBorderRadius\",8,5),L=y(e,\"nodeStrokeWidth\",8,2),M=y(e,\"bgColor\",8,void 0),N=y(e,\"maskColor\",8,void 0),F=y(e,\"maskStrokeColor\",8,void 0),j=y(e,\"maskStrokeWidth\",8,void 0),Y=y(e,\"width\",8,void 0),ie=y(e,\"height\",8,void 0),Q=y(e,\"pannable\",8,!0),te=y(e,\"zoomable\",8,!0),U=y(e,\"inversePan\",8,void 0),se=y(e,\"zoomStep\",8,void 0),le=y(e,\"style\",8,\"\"),W=y(e,\"class\",8,\"\");const ce=200,fe=150,{nodes:J,nodeLookup:ae,viewport:re,width:$,height:ne,flowId:G,panZoom:De,translateExtent:Be}=Er(),Le=I()===void 0?void 0:$v(I()),Ce=$v(E()),ye=$v(P()),Re=typeof window>\"u\"||window.chrome?\"crispEdges\":\"geometricPrecision\",je=`svelte-flow__minimap-desc-${i()}`;let $e=H(c(h));const Ve=()=>c(v);Z(()=>(s(),o(),a()),()=>{S(h,{x:-s().x/s().zoom,y:-s().y/s().zoom,width:o()/s().zoom,height:a()/s().zoom})}),Z(()=>(l(),c(h),u()),()=>{S($e,l().size>0?C4(Qd(l()),c(h)):c(h)),u()}),Z(()=>z(Y()),()=>{S(p,Y()??ce)}),Z(()=>z(ie()),()=>{S(g,ie()??fe)}),Z(()=>(c($e),c(p)),()=>{S(m,c($e).width/c(p))}),Z(()=>(c($e),c(g)),()=>{S(b,c($e).height/c(g))}),Z(()=>(c(m),c(b)),()=>{S(v,Math.max(c(m),c(b)))}),Z(()=>(c(v),c(p)),()=>{S(w,c(v)*c(p))}),Z(()=>(c(v),c(g)),()=>{S(k,c(v)*c(g))}),Z(()=>c(v),()=>{S(x,5*c(v))}),Z(()=>(c($e),c(w),c(x)),()=>{S(C,c($e).x-(c(w)-c($e).width)/2-c(x))}),Z(()=>(c($e),c(k),c(x)),()=>{S(T,c($e).y-(c(k)-c($e).height)/2-c(x))}),Z(()=>(c(w),c(x)),()=>{S(A,c(w)+c(x)*2)}),Z(()=>(c(k),c(x)),()=>{S(O,c(k)+c(x)*2)}),wt(),Ne();const ot=he(()=>le()+(M()?`;--xy-minimap-background-color-props:${M()}`:\"\")),we=he(()=>Si([\"svelte-flow__minimap\",W()]));Zb(n,{get position(){return R()},get style(){return c(ot)},get class(){return c(we)},\"data-testid\":\"svelte-flow__minimap\",children:(He,nt)=>{var Xe=Ue(),Je=be(Xe);{var Ye=Me=>{var Se=LD();Ee(Se,\"aria-labelledby\",je);var ue=V(Se);{var vt=at=>{var _t=ND();Ee(_t,\"id\",je);var fn=V(_t);pe(()=>Ke(fn,D())),B(at,_t)};oe(ue,at=>{D()&&at(vt)})}var bt=K(ue);Dt(bt,1,u,at=>at.id,(at,_t)=>{var fn=Ue();const Vt=he(()=>l().get(c(_t).id));var In=be(fn);{var rt=Lt=>{const Ht=he(()=>sl(c(Vt))),Gt=he(()=>Le==null?void 0:Le(c(Vt))),kt=he(()=>Ce(c(Vt))),Tt=he(()=>ye(c(Vt)));DD(Lt,Qr({get x(){return c(Vt).internals.positionAbsolute.x},get y(){return c(Vt).internals.positionAbsolute.y}},()=>c(Ht),{get selected(){return c(Vt).selected},get color(){return c(Gt)},get borderRadius(){return _()},get strokeColor(){return c(kt)},get strokeWidth(){return L()},shapeRendering:Re,get class(){return c(Tt)}}))};oe(In,Lt=>{c(Vt)&&_4(c(Vt))&&Lt(rt)})}B(at,fn)});var Xn=K(bt);tn(Se,(at,_t)=>Zv==null?void 0:Zv(at,_t),()=>({panZoom:f(),viewport:re,getViewScale:Ve,translateExtent:d(),width:o(),height:a(),inversePan:U(),zoomStep:se(),pannable:Q(),zoomable:te()})),pe(()=>{Ee(Se,\"width\",c(p)),Ee(Se,\"height\",c(g)),Ee(Se,\"viewBox\",`${c(C)??\"\"} ${c(T)??\"\"} ${c(A)??\"\"} ${c(O)??\"\"}`),Zn(Se,\"--xy-minimap-mask-background-color-props\",N()),Zn(Se,\"--xy-minimap-mask-stroke-color-props\",F()),Zn(Se,\"--xy-minimap-mask-stroke-width-props\",j()?j()*c(v):void 0),Ee(Xn,\"d\",`M${c(C)-c(x)},${c(T)-c(x)}h${c(A)+c(x)*2}v${c(O)+c(x)*2}h${-c(A)-c(x)*2}z\n      M${c(h).x??\"\"},${c(h).y??\"\"}h${c(h).width??\"\"}v${c(h).height??\"\"}h${-c(h).width}z`)}),B(Me,Se)};oe(Je,Me=>{f()&&Me(Ye)})}B(He,Xe)},$$slots:{default:!0}}),Ie(),r()}var FD={};const ey=Symbol.for(\"remult-static1\");let Np={defaultRemultFactory:void 0,remultFactory:void 0,defaultRemult:void 0,asyncContext:void 0,columnsOfType:new Map,allEntities:[],classHelpers:new Map,actionInfo:{allActions:[],runningOnServer:!1,runActionWithoutBlockingUI:n=>n(),startBusyWithProgress:()=>({progress:n=>{},close:()=>{}})},fieldOptionsEnricher:void 0,captionTransformer:void 0,defaultDataProvider:()=>{}};typeof process<\"u\"&&FD.IGNORE_GLOBAL_REMULT_IN_TESTS||typeof globalThis[ey]>\"u\"?(globalThis[ey]=Np,Np.remultFactory=()=>H4()):Np=globalThis[ey];const Ct=Np;function H4(){return Ct.defaultRemult||(Ct.defaultRemult=Ct.defaultRemultFactory()),Ct.defaultRemult}function jD(){Ct.remultFactory=()=>H4()}function Dl(n){const e=n;if(typeof e[dd]==\"function\")return e[dd]();throw Error(\"Error getting repository internal from \"+n)}const dd=Symbol.for(\"getInternal\");class zD{constructor(){this.iAmRemultProxy=!0,this.repoCache=new Map,this.repo=(...e)=>{let t=Ct,r=this.repoCache.get(e[0]);r||this.repoCache.set(e[0],r=new Map);let i=r.get(e[1]);return i||(i={get fields(){return Ct.remultFactory().repo(...e).metadata.fields},[dd](){return t.remultFactory().repo(...e)[dd]()},relations:s=>t.remultFactory().repo(...e).relations(s),validate:(s,...o)=>t.remultFactory().repo(...e).validate(s,...o),addEventListener:(...s)=>t.remultFactory().repo(...e).addEventListener(...s),count:(...s)=>t.remultFactory().repo(...e).count(...s),create:(...s)=>t.remultFactory().repo(...e).create(...s),delete:s=>t.remultFactory().repo(...e).delete(s),deleteMany:s=>t.remultFactory().repo(...e).deleteMany(s),updateMany:(...s)=>t.remultFactory().repo(...e).updateMany(...s),find:(...s)=>t.remultFactory().repo(...e).find(...s),groupBy:(...s)=>t.remultFactory().repo(...e).groupBy(...s),aggregate:(...s)=>t.remultFactory().repo(...e).aggregate(...s),findFirst:(...s)=>t.remultFactory().repo(...e).findFirst(...s),findOne:(...s)=>t.remultFactory().repo(...e).findOne(...s),findId:(s,o)=>t.remultFactory().repo(...e).findId(s,o),toJson:s=>t.remultFactory().repo(...e).toJson(s),fromJson:(s,o)=>t.remultFactory().repo(...e).fromJson(s,o),getEntityRef:(...s)=>t.remultFactory().repo(...e).getEntityRef(...s),insert:s=>t.remultFactory().repo(...e).insert(s),liveQuery:(...s)=>t.remultFactory().repo(...e).liveQuery(...s),get metadata(){return Ct.remultFactory().repo(...e).metadata},query:s=>t.remultFactory().repo(...e).query(s),save:s=>t.remultFactory().repo(...e).save(s),upsert:s=>t.remultFactory().repo(...e).upsert(s),update:(s,o)=>t.remultFactory().repo(...e).update(s,o)},r.set(e[1],i),i)}}get liveQuerySubscriber(){return Ct.remultFactory().liveQuerySubscriber}set liveQuerySubscriber(e){Ct.remultFactory().liveQuerySubscriber=e}get liveQueryStorage(){return Ct.remultFactory().liveQueryStorage}set liveQueryStorage(e){Ct.remultFactory().liveQueryStorage=e}get liveQueryPublisher(){return Ct.remultFactory().liveQueryPublisher}set liveQueryPublisher(e){Ct.remultFactory().liveQueryPublisher=e}initUser(){return Ct.remultFactory().initUser()}call(e,t,...r){return Ct.remultFactory().call(e,t,...r)}get context(){return Ct.remultFactory().context}get dataProvider(){return Ct.remultFactory().dataProvider}set dataProvider(e){Ct.remultFactory().dataProvider=e}get repCache(){return Ct.remultFactory().repCache}authenticated(){return Ct.remultFactory().authenticated()}isAllowed(e){return Ct.remultFactory().isAllowed(e)}isAllowedForInstance(e,t){return Ct.remultFactory().isAllowedForInstance(e,t)}clearAllCache(){return Ct.remultFactory().clearAllCache()}useFetch(e){return Ct.remultFactory().useFetch(e)}get user(){return Ct.remultFactory().user}set user(e){Ct.remultFactory().user=e}get apiClient(){return Ct.remultFactory().apiClient}set apiClient(e){Ct.remultFactory().apiClient=e}get subscriptionServer(){return Ct.remultFactory().subscriptionServer}set subscriptionServer(e){Ct.remultFactory().subscriptionServer=e}}const Xi=new zD;var Ux=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function q4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n}var xc={},Do={},qn={},xa={},Kx;function W4(){if(Kx)return xa;Kx=1,Object.defineProperty(xa,\"__esModule\",{value:!0}),xa.anumber=n,xa.abytes=t,xa.ahash=r,xa.aexists=i,xa.aoutput=s;function n(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(\"positive integer expected, got \"+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name===\"Uint8Array\"}function t(o,...a){if(!e(o))throw new Error(\"Uint8Array expected\");if(a.length>0&&!a.includes(o.length))throw new Error(\"Uint8Array expected of length \"+a+\", got length=\"+o.length)}function r(o){if(typeof o!=\"function\"||typeof o.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");n(o.outputLen),n(o.blockLen)}function i(o,a=!0){if(o.destroyed)throw new Error(\"Hash instance has been destroyed\");if(a&&o.finished)throw new Error(\"Hash#digest() has already been called\")}function s(o,a){t(o);const l=a.outputLen;if(o.length<l)throw new Error(\"digestInto() expects output buffer of length at least \"+l)}return xa}var Pt={},Jx;function VD(){if(Jx)return Pt;Jx=1,Object.defineProperty(Pt,\"__esModule\",{value:!0}),Pt.add5L=Pt.add5H=Pt.add4H=Pt.add4L=Pt.add3H=Pt.add3L=Pt.rotlBL=Pt.rotlBH=Pt.rotlSL=Pt.rotlSH=Pt.rotr32L=Pt.rotr32H=Pt.rotrBL=Pt.rotrBH=Pt.rotrSL=Pt.rotrSH=Pt.shrSL=Pt.shrSH=Pt.toBig=void 0,Pt.fromBig=t,Pt.split=r,Pt.add=v;const n=BigInt(2**32-1),e=BigInt(32);function t(R,D=!1){return D?{h:Number(R&n),l:Number(R>>e&n)}:{h:Number(R>>e&n)|0,l:Number(R&n)|0}}function r(R,D=!1){let E=new Uint32Array(R.length),I=new Uint32Array(R.length);for(let P=0;P<R.length;P++){const{h:_,l:L}=t(R[P],D);[E[P],I[P]]=[_,L]}return[E,I]}const i=(R,D)=>BigInt(R>>>0)<<e|BigInt(D>>>0);Pt.toBig=i;const s=(R,D,E)=>R>>>E;Pt.shrSH=s;const o=(R,D,E)=>R<<32-E|D>>>E;Pt.shrSL=o;const a=(R,D,E)=>R>>>E|D<<32-E;Pt.rotrSH=a;const l=(R,D,E)=>R<<32-E|D>>>E;Pt.rotrSL=l;const u=(R,D,E)=>R<<64-E|D>>>E-32;Pt.rotrBH=u;const f=(R,D,E)=>R>>>E-32|D<<64-E;Pt.rotrBL=f;const d=(R,D)=>D;Pt.rotr32H=d;const h=(R,D)=>R;Pt.rotr32L=h;const p=(R,D,E)=>R<<E|D>>>32-E;Pt.rotlSH=p;const g=(R,D,E)=>D<<E|R>>>32-E;Pt.rotlSL=g;const m=(R,D,E)=>D<<E-32|R>>>64-E;Pt.rotlBH=m;const b=(R,D,E)=>R<<E-32|D>>>64-E;Pt.rotlBL=b;function v(R,D,E,I){const P=(D>>>0)+(I>>>0);return{h:R+E+(P/2**32|0)|0,l:P|0}}const w=(R,D,E)=>(R>>>0)+(D>>>0)+(E>>>0);Pt.add3L=w;const k=(R,D,E,I)=>D+E+I+(R/2**32|0)|0;Pt.add3H=k;const x=(R,D,E,I)=>(R>>>0)+(D>>>0)+(E>>>0)+(I>>>0);Pt.add4L=x;const C=(R,D,E,I,P)=>D+E+I+P+(R/2**32|0)|0;Pt.add4H=C;const T=(R,D,E,I,P)=>(R>>>0)+(D>>>0)+(E>>>0)+(I>>>0)+(P>>>0);Pt.add5L=T;const A=(R,D,E,I,P,_)=>D+E+I+P+_+(R/2**32|0)|0;Pt.add5H=A;const O={fromBig:t,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:l,rotrBH:u,rotrBL:f,rotr32H:d,rotr32L:h,rotlSH:p,rotlSL:g,rotlBH:m,rotlBL:b,add:v,add3L:w,add3H:k,add4L:x,add4H:C,add5H:A,add5L:T};return Pt.default=O,Pt}var ty={},ff={},Xx;function HD(){return Xx||(Xx=1,Object.defineProperty(ff,\"__esModule\",{value:!0}),ff.crypto=void 0,ff.crypto=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0),ff}var Yx;function qD(){return Yx||(Yx=1,function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,\"__esModule\",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.isLE=void 0,n.isBytes=r,n.u8=i,n.u32=s,n.createView=o,n.rotr=a,n.rotl=l,n.byteSwap=u,n.byteSwap32=f,n.bytesToHex=h,n.hexToBytes=m,n.asyncLoop=v,n.utf8ToBytes=w,n.toBytes=k,n.concatBytes=x,n.checkOpts=T,n.wrapConstructor=A,n.wrapConstructorWithOpts=O,n.wrapXOFConstructorWithOpts=R,n.randomBytes=D;const e=HD(),t=W4();function r(E){return E instanceof Uint8Array||ArrayBuffer.isView(E)&&E.constructor.name===\"Uint8Array\"}function i(E){return new Uint8Array(E.buffer,E.byteOffset,E.byteLength)}function s(E){return new Uint32Array(E.buffer,E.byteOffset,Math.floor(E.byteLength/4))}function o(E){return new DataView(E.buffer,E.byteOffset,E.byteLength)}function a(E,I){return E<<32-I|E>>>I}function l(E,I){return E<<I|E>>>32-I>>>0}n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function u(E){return E<<24&4278190080|E<<8&16711680|E>>>8&65280|E>>>24&255}n.byteSwapIfBE=n.isLE?E=>E:E=>u(E);function f(E){for(let I=0;I<E.length;I++)E[I]=u(E[I])}const d=Array.from({length:256},(E,I)=>I.toString(16).padStart(2,\"0\"));function h(E){(0,t.abytes)(E);let I=\"\";for(let P=0;P<E.length;P++)I+=d[E[P]];return I}const p={_0:48,_9:57,A:65,F:70,a:97,f:102};function g(E){if(E>=p._0&&E<=p._9)return E-p._0;if(E>=p.A&&E<=p.F)return E-(p.A-10);if(E>=p.a&&E<=p.f)return E-(p.a-10)}function m(E){if(typeof E!=\"string\")throw new Error(\"hex string expected, got \"+typeof E);const I=E.length,P=I/2;if(I%2)throw new Error(\"hex string expected, got unpadded hex of length \"+I);const _=new Uint8Array(P);for(let L=0,M=0;L<P;L++,M+=2){const N=g(E.charCodeAt(M)),F=g(E.charCodeAt(M+1));if(N===void 0||F===void 0){const j=E[M]+E[M+1];throw new Error('hex string expected, got non-hex character \"'+j+'\" at index '+M)}_[L]=N*16+F}return _}const b=async()=>{};n.nextTick=b;async function v(E,I,P){let _=Date.now();for(let L=0;L<E;L++){P(L);const M=Date.now()-_;M>=0&&M<I||(await(0,n.nextTick)(),_+=M)}}function w(E){if(typeof E!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof E);return new Uint8Array(new TextEncoder().encode(E))}function k(E){return typeof E==\"string\"&&(E=w(E)),(0,t.abytes)(E),E}function x(...E){let I=0;for(let _=0;_<E.length;_++){const L=E[_];(0,t.abytes)(L),I+=L.length}const P=new Uint8Array(I);for(let _=0,L=0;_<E.length;_++){const M=E[_];P.set(M,L),L+=M.length}return P}class C{clone(){return this._cloneInto()}}n.Hash=C;function T(E,I){if(I!==void 0&&{}.toString.call(I)!==\"[object Object]\")throw new Error(\"Options should be object or undefined\");return Object.assign(E,I)}function A(E){const I=_=>E().update(k(_)).digest(),P=E();return I.outputLen=P.outputLen,I.blockLen=P.blockLen,I.create=()=>E(),I}function O(E){const I=(_,L)=>E(L).update(k(_)).digest(),P=E({});return I.outputLen=P.outputLen,I.blockLen=P.blockLen,I.create=_=>E(_),I}function R(E){const I=(_,L)=>E(L).update(k(_)).digest(),P=E({});return I.outputLen=P.outputLen,I.blockLen=P.blockLen,I.create=_=>E(_),I}function D(E=32){if(e.crypto&&typeof e.crypto.getRandomValues==\"function\")return e.crypto.getRandomValues(new Uint8Array(E));if(e.crypto&&typeof e.crypto.randomBytes==\"function\")return e.crypto.randomBytes(E);throw new Error(\"crypto.getRandomValues must be defined\")}}(ty)),ty}var Gx;function WD(){if(Gx)return qn;Gx=1,Object.defineProperty(qn,\"__esModule\",{value:!0}),qn.shake256=qn.shake128=qn.keccak_512=qn.keccak_384=qn.keccak_256=qn.keccak_224=qn.sha3_512=qn.sha3_384=qn.sha3_256=qn.sha3_224=qn.Keccak=void 0,qn.keccakP=b;const n=W4(),e=VD(),t=qD(),r=[],i=[],s=[],o=BigInt(0),a=BigInt(1),l=BigInt(2),u=BigInt(7),f=BigInt(256),d=BigInt(113);for(let x=0,C=a,T=1,A=0;x<24;x++){[T,A]=[A,(2*T+3*A)%5],r.push(2*(5*A+T)),i.push((x+1)*(x+2)/2%64);let O=o;for(let R=0;R<7;R++)C=(C<<a^(C>>u)*d)%f,C&l&&(O^=a<<(a<<BigInt(R))-a);s.push(O)}const[h,p]=(0,e.split)(s,!0),g=(x,C,T)=>T>32?(0,e.rotlBH)(x,C,T):(0,e.rotlSH)(x,C,T),m=(x,C,T)=>T>32?(0,e.rotlBL)(x,C,T):(0,e.rotlSL)(x,C,T);function b(x,C=24){const T=new Uint32Array(10);for(let A=24-C;A<24;A++){for(let D=0;D<10;D++)T[D]=x[D]^x[D+10]^x[D+20]^x[D+30]^x[D+40];for(let D=0;D<10;D+=2){const E=(D+8)%10,I=(D+2)%10,P=T[I],_=T[I+1],L=g(P,_,1)^T[E],M=m(P,_,1)^T[E+1];for(let N=0;N<50;N+=10)x[D+N]^=L,x[D+N+1]^=M}let O=x[2],R=x[3];for(let D=0;D<24;D++){const E=i[D],I=g(O,R,E),P=m(O,R,E),_=r[D];O=x[_],R=x[_+1],x[_]=I,x[_+1]=P}for(let D=0;D<50;D+=10){for(let E=0;E<10;E++)T[E]=x[D+E];for(let E=0;E<10;E++)x[D+E]^=~T[(E+2)%10]&T[(E+4)%10]}x[0]^=h[A],x[1]^=p[A]}T.fill(0)}class v extends t.Hash{constructor(C,T,A,O=!1,R=24){if(super(),this.blockLen=C,this.suffix=T,this.outputLen=A,this.enableXOF=O,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.anumber)(A),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=(0,t.u32)(this.state)}keccak(){t.isLE||(0,t.byteSwap32)(this.state32),b(this.state32,this.rounds),t.isLE||(0,t.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,n.aexists)(this);const{blockLen:T,state:A}=this;C=(0,t.toBytes)(C);const O=C.length;for(let R=0;R<O;){const D=Math.min(T-this.pos,O-R);for(let E=0;E<D;E++)A[this.pos++]^=C[R++];this.pos===T&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:T,pos:A,blockLen:O}=this;C[A]^=T,T&128&&A===O-1&&this.keccak(),C[O-1]^=128,this.keccak()}writeInto(C){(0,n.aexists)(this,!1),(0,n.abytes)(C),this.finish();const T=this.state,{blockLen:A}=this;for(let O=0,R=C.length;O<R;){this.posOut>=A&&this.keccak();const D=Math.min(A-this.posOut,R-O);C.set(T.subarray(this.posOut,this.posOut+D),O),this.posOut+=D,O+=D}return C}xofInto(C){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(C)}xof(C){return(0,n.anumber)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,n.aoutput)(C,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:T,suffix:A,outputLen:O,rounds:R,enableXOF:D}=this;return C||(C=new v(T,A,O,D,R)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=R,C.suffix=A,C.outputLen=O,C.enableXOF=D,C.destroyed=this.destroyed,C}}qn.Keccak=v;const w=(x,C,T)=>(0,t.wrapConstructor)(()=>new v(C,x,T));qn.sha3_224=w(6,144,224/8),qn.sha3_256=w(6,136,256/8),qn.sha3_384=w(6,104,384/8),qn.sha3_512=w(6,72,512/8),qn.keccak_224=w(1,144,224/8),qn.keccak_256=w(1,136,256/8),qn.keccak_384=w(1,104,384/8),qn.keccak_512=w(1,72,512/8);const k=(x,C,T)=>(0,t.wrapXOFConstructorWithOpts)((A={})=>new v(C,x,A.dkLen===void 0?T:A.dkLen,!0));return qn.shake128=k(31,168,128/8),qn.shake256=k(31,136,256/8),qn}var Qx;function UD(){if(Qx)return Do;Qx=1;const{sha3_512:n}=WD(),e=24,t=32,r=(g=4,m=Math.random)=>{let b=\"\";for(;b.length<g;)b=b+Math.floor(m()*36).toString(36);return b};function i(g){let m=8n,b=0n;for(const v of g.values()){const w=BigInt(v);b=(b<<m)+w}return b}const s=(g=\"\")=>i(n(g)).toString(36).slice(1),o=Array.from({length:26},(g,m)=>String.fromCharCode(m+97)),a=g=>o[Math.floor(g()*o.length)],l=({globalObj:g=typeof Ux<\"u\"?Ux:typeof window<\"u\"?window:{},random:m=Math.random}={})=>{const b=Object.keys(g).toString(),v=b.length?b+r(t,m):r(t,m);return s(v).substring(0,t)},u=g=>()=>g++,f=476782367,d=({random:g=Math.random,counter:m=u(Math.floor(g()*f)),length:b=e,fingerprint:v=l({random:g})}={})=>function(){const k=a(g),x=Date.now().toString(36),C=m().toString(36),T=r(b,g),A=`${x+T+C+v}`;return`${k+s(A).substring(1,b)}`},h=d(),p=(g,{minLength:m=2,maxLength:b=t}={})=>{const v=g.length,w=/^[0-9a-z]+$/;try{if(typeof g==\"string\"&&v>=m&&v<=b&&w.test(g))return!0}finally{}return!1};return Do.getConstants=()=>({defaultLength:e,bigLength:t}),Do.init=d,Do.createId=h,Do.bufToBigInt=i,Do.createCounter=u,Do.createFingerprint=l,Do.isCuid=p,Do}var Zx;function KD(){if(Zx)return xc;Zx=1;const{createId:n,init:e,getConstants:t,isCuid:r}=UD();return xc.createId=n,xc.init=e,xc.getConstants=t,xc.isCuid=r,xc}var $x=KD(),Mh,JD=new Uint8Array(16);function XD(){if(!Mh&&(Mh=typeof crypto<\"u\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<\"u\"&&typeof msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto),!Mh))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return Mh(JD)}const YD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function GD(n){return typeof n==\"string\"&&YD.test(n)}var Kr=[];for(var ny=0;ny<256;++ny)Kr.push((ny+256).toString(16).substr(1));function QD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kr[n[e+0]]+Kr[n[e+1]]+Kr[n[e+2]]+Kr[n[e+3]]+\"-\"+Kr[n[e+4]]+Kr[n[e+5]]+\"-\"+Kr[n[e+6]]+Kr[n[e+7]]+\"-\"+Kr[n[e+8]]+Kr[n[e+9]]+\"-\"+Kr[n[e+10]]+Kr[n[e+11]]+Kr[n[e+12]]+Kr[n[e+13]]+Kr[n[e+14]]+Kr[n[e+15]]).toLowerCase();if(!GD(t))throw TypeError(\"Stringified UUID is invalid\");return t}function j0(n,e,t){n=n||{};var r=n.random||(n.rng||XD)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,QD(r)}const No=class No{};No.number=\"number\",No.date=\"date\",No.checkbox=\"checkbox\",No.password=\"password\",No.email=\"email\",No.tel=\"tel\",No.time=\"time\";let Vf=No;const $t=class $t{};$t.Date={toJson:e=>{if(e===null)return null;if(!e)return\"\";if(typeof e==\"string\"&&(e=new Date(e)),e instanceof Date)return e.toISOString();throw new Error(\"Expected date but got \"+e)},fromJson:e=>{if(e===null)return null;if(e!=null&&e!=\"\"&&!e.startsWith(\"0000-00-00\"))return new Date(Date.parse(e))},toDb:e=>e,fromDb:e=>{if(typeof e==\"number\"&&(e=new Date(e)),typeof e==\"string\"&&(e=new Date(e)),e&&!(e instanceof Date))throw\"expected date but got \"+e;return e},fromInput:e=>$t.Date.fromJson(e),toInput:e=>$t.Date.toJson(e),displayValue:e=>e?e.toLocaleString():\"\"},$t.DateOnly={fromInput:e=>$t.DateOnly.fromJson(e),toInput:e=>$t.DateOnly.toJson(e),toJson:e=>{var t=e;return(typeof t==\"string\"||typeof t==\"number\")&&(t=new Date(t)),!t||t==null?null:t.getHours()==0?new Date(t.valueOf()-t.getTimezoneOffset()*6e4).toISOString().substring(0,10):t.toISOString().substring(0,10)},fromJson:e=>{if(!e||e==\"\"||e==\"0000-00-00\")return null;let t=new Date(Date.parse(e));return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t},inputType:Vf.date,toDb:e=>e?$t.DateOnly.fromJson($t.DateOnly.toJson(e)):null,fromDb:e=>$t.Date.fromDb(e),fieldTypeInDb:\"date\",displayValue:e=>e?e.toLocaleDateString(void 0):\"\"},$t.DateOnlyString={...$t.DateOnly,toDb:e=>{let t=$t.DateOnly.toJson(e);if(t)return t.replace(/-/g,\"\")},fromDb:e=>{if(e===null)return null;if(e)return new Date(e.substring(0,4)+\"-\"+e.substring(4,6)+\"-\"+e.substring(6,8))}},$t.Boolean={toDb:e=>e,inputType:Vf.checkbox,fromDb:e=>$t.Boolean.fromJson(e),fromJson:e=>typeof e==\"boolean\"?e:e===1?!0:e!=null?e.toString().trim().toLowerCase()==\"true\":e,toJson:e=>e,fromInput:e=>$t.Boolean.fromJson(e),toInput:e=>$t.Boolean.toJson(e)},$t.Number={fromDb:e=>{if(e===null)return null;if(e!==void 0)return+e},toDb:e=>e,fromJson:e=>$t.Number.fromDb(e),toJson:e=>$t.Number.toDb(e),fromInput:(e,t)=>{let r=+e;if(e!=null)return r},toInput:(e,t)=>(e==null?void 0:e.toString())??\"\",inputType:Vf.number},$t.String={fromDb:Cc,toDb:Cc,fromJson:Cc,toJson:Cc,fromInput:Cc,toInput:Cc},$t.Integer={...$t.Number,toJson:e=>{let t=$t.Number.toDb(e);return t&&+(+t).toFixed(0)},toDb:e=>$t.Integer.toJson(e),fieldTypeInDb:\"integer\"},$t.Default={fromJson:e=>e,toJson:e=>e,fromDb:e=>$t.JsonString.fromDb(e),toDb:e=>$t.JsonString.toDb(e),fromInput:e=>$t.Default.fromJson(e),toInput:e=>$t.Default.toJson(e),displayValue:e=>e+\"\",fieldTypeInDb:\"\",inputType:\"text\"},$t.JsonString={fromJson:e=>e,toJson:e=>e,fromDb:e=>e==null?null:e?JSON.parse($t.JsonString.fromJson(e)):void 0,toDb:e=>e!==void 0?e===null?null:JSON.stringify($t.JsonString.toJson(e)):void 0,fromInput:e=>$t.JsonString.fromJson(e),toInput:e=>$t.JsonString.toJson(e)},$t.JsonValue={fromJson:e=>e,toJson:e=>e,fromDb:e=>e,toDb:e=>e,fromInput:e=>$t.JsonString.fromJson(e),toInput:e=>$t.JsonString.toJson(e),fieldTypeInDb:\"json\"};let ti=$t;function Cc(n){return n==null?n:typeof n!=\"string\"?n.toString():n}function or(n,e=!0){var r;let t=n[Ic];if(!t&&e)throw new Error(\"item \"+(((r=n.constructor)==null?void 0:r.name)||n)+\" was not initialized using a context\");return t}const Ic=Symbol.for(\"entityMember\"),U4=Symbol.for(\"entityInfo\"),K4=Symbol.for(\"entityInfo_key\");function ls(n,e=!0){if(n===void 0){if(e)throw new Error(\"Undefined is not an entity :)\");return}let t=n[U4];if(!t&&e)throw new Error(n.prototype.constructor.name+\" is not a known entity, did you forget to set @Entity() or did you forget to add the '@' before the call to Entity?\");return t}function ZD(n){return n[K4]}function $D(n){return n.replace(/([a-z])([A-Z])/g,\"$1 $2\").replace(/^./,e=>e.toUpperCase()).replace(\"Email\",\"eMail\")}class eN{constructor(e,t,r){this.repository=e,this.isReferenceRelation=t,this.allowNull=r}toJson(){if(this.storedItem)return this.item===null?null:this.repository.toJson(this.item)}setId(e){this.repository.metadata.idMetadata.field.valueType==Number&&(e=+e),this.id=e}waitLoadOf(e){return e==null?null:Dl(this.repository)._getCachedByIdAsync(e,!1)}get(e){if(e==null)return null;const t=Dl(this.repository)._getCachedById(e,this.isReferenceRelation);return this.isReferenceRelation&&!this.storedItem?!this.allowNull&&(this.id===0||this.id===\"\")?null:void 0:t}set(e){if(e===null&&!this.allowNull&&this.isReferenceRelation&&(this.id==0||this.id==\"\")){this.storedItem={item:null};return}if(this.storedItem=void 0,e)if(typeof e==\"string\"||typeof e==\"number\")this.id=e;else{let t=or(e,!1);t&&!this.isReferenceRelation?(Dl(this.repository)._addToCache(e),this.id=t.getId()):(this.storedItem={item:e},this.id=e[this.repository.metadata.idMetadata.field.key])}else e===null?this.id=null:this.id=void 0}get item(){return this.storedItem?this.storedItem.item:this.get(this.id)}async waitLoad(){return this.waitLoadOf(this.id)}}class Ml{constructor(...e){this.options={},this.readonly=!0,this.allowNull=!1,this.dbReadOnly=!1,this.isServerExpression=!1,this.key=\"\",this.caption=\"\",this.inputType=\"\",this.dbName=\"\",this.fields=e}apiUpdateAllowed(e){throw new Error(\"Method not implemented.\")}displayValue(e){throw new Error(\"Method not implemented.\")}includedInApi(e){throw new Error(\"Method not implemented.\")}toInput(e,t){throw new Error(\"Method not implemented.\")}fromInput(e,t){throw new Error(\"Method not implemented.\")}getDbName(){return Promise.resolve(\"\")}getId(e){let t=i=>e[i.key];typeof e==\"function\"&&(t=e);let r=\"\";return this.fields.forEach(i=>{r.length>0&&(r+=\",\"),r+=i.valueConverter.toJson(t(i))}),r}get valueConverter(){throw new Error(\"cant get value converter of compound id\")}isEqualTo(e){let t={},i=e.toString().split(\",\");return this.fields.forEach((s,o)=>{t[s.key]=s.valueConverter.fromJson(i[o])}),t}}class eC{constructor(e){this.url=e}add(e,t){this.url.indexOf(\"?\")>=0?this.url+=\"&\":this.url+=\"?\",this.url+=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)}addObject(e,t=\"\"){if(e!=null)for(var r in e){let i=e[r];this.add(r+t,i)}}}const tN=\"$count\",nN=Symbol.for(\"GroupByForApiKey\"),rN=[\"sum\",\"avg\",\"min\",\"max\",\"distinctCount\"],J4={error500RetryCount:4};function hd(n){if(!n)return new nC;let e;return e||X4(n)&&(e=new iN(n)),e||typeof n==\"function\"&&(e=new nC(n)),e}function X4(n){let e=n;return!!(e&&e.get&&e.put&&e.post&&e.delete)}class iN{constructor(e){this.http=e}async post(e,t){return await xg(()=>Ph(this.http.post(e,t)))}delete(e){return Ph(this.http.delete(e))}put(e,t){return Ph(this.http.put(e,t))}async get(e){return await xg(()=>Ph(this.http.get(e)))}}async function xg(n){var t,r,i,s;let e=0;for(;;)try{return await n()}catch(o){if(((t=o.message)!=null&&t.startsWith(\"Error occurred while trying to proxy\")||(r=o.message)!=null&&r.startsWith(\"Error occured while trying to proxy\")||(i=o.message)!=null&&i.includes(\"http proxy error\")||(s=o.message)!=null&&s.startsWith(\"Gateway Timeout\")||o.status==500)&&e++<J4.error500RetryCount){await new Promise((a,l)=>{setTimeout(()=>{a({})},500)});continue}throw o}}function Ph(n){let e;return n.toPromise!==void 0?e=n.toPromise():e=n,e.then(t=>t&&(t.status==200||t.status==201)&&t.headers&&t.request&&t.data!==void 0?t.data:t).catch(async t=>{throw await sN(t)})}async function sN(n){var s,o,a;let e=await n;var t;e.error?t=e.error:e.isAxiosError&&(typeof((s=e.response)==null?void 0:s.data)==\"string\"?t=e.response.data:t=(o=e==null?void 0:e.response)==null?void 0:o.data),t||(t=e.message),e.status==0&&e.error.isTrusted&&(t=\"Network Error\"),typeof t==\"string\"&&(t={message:t}),e.modelState&&(t.modelState=e.modelState);let r=e.status;r===void 0&&(r=(a=e.response)==null?void 0:a.status),r!=null&&(t.httpStatusCode=r);var i=Object.assign(t??{},{});return i}const oN=Symbol.for(\"relationInfo\");function aN(n){return n==null?void 0:n[oN]}const z0=Symbol.for(\"fieldRelationInfo\");function Kn(n){if(n)return n[z0]}function lN(n,e,t){for(const r of n.fields.toArray()){const i=aN(r.options);if(i&&!r[z0]){const s=i.toType(),o=e.repo(s,t),a=r.options;r[z0]={type:i.type,toEntity:s,options:a,toRepo:o,getFields:()=>{let l=a.field,u={fields:a.fields,compoundIdField:void 0};function f(p){return Error(`Error for relation: \"${n.metadata.key}.${r.key}\", `+p)}let d=()=>l||u.fields;if(i.type===\"toMany\"&&!d()){for(const p of o.fields.toArray())if(!d()){const g=Kn(p),m=p.options;if(g&&g.toEntity===n.metadata.entityType){if(g.type===\"reference\")l=p.key;else if(g.type===\"toOne\"){if(m.field)l=m.field;else if(m.fields){let b={};for(const v in m.fields)if(Object.prototype.hasOwnProperty.call(m.fields,v)){const w=m.fields[v];b[w]=v}u.fields=b}}}}if(!d())throw f(`No matching field found on target \"${o.metadata.key}\". Please specify field/fields`)}function h(p,g){const m=g.fields.find(p);if(!m)throw f(`Field \"${p}\" was not found in \"${g.key}\".`);return m}i.type===\"reference\"&&(l=r.key),l&&(i.type===\"toOne\"||i.type===\"reference\"?o.metadata.idMetadata.field instanceof Ml?u.compoundIdField=l:u.fields={[o.metadata.idMetadata.field.key]:l}:n.metadata.idMetadata.field instanceof Ml?u.compoundIdField=l:u.fields={[l]:n.metadata.idMetadata.field.key});for(const p in u.fields)Object.prototype.hasOwnProperty.call(u.fields,p)&&(h(p,o.metadata),h(u.fields[p],n.metadata));return u}}}}}let on=class zi{constructor(e){this.apply=e}static throwErrorIfFilterIsEmpty(e,t){if(zi.isFilterEmpty(e))throw{}}static isFilterEmpty(e){if(e.$and){for(const t of e.$and)if(!zi.isFilterEmpty(t))return!1}if(e.$or){for(const t of e.$or)if(zi.isFilterEmpty(t))return!0;return!1}return Object.keys(e).filter(t=>![\"$or\",\"$and\"].includes(t)).length==0}static async getPreciseValues(e,t){const r=new kg;return await zi.fromEntityFilter(e,t).__applyToConsumer(r),r.preciseValues}async getPreciseValues(){const e=new kg;return await this.__applyToConsumer(e),e.preciseValues}static createCustom(e,t=\"\"){let r={key:t,rawFilterTranslator:e};return Object.assign(i=>{if(i==null&&(i={}),!r.key)throw\"Usage of custom filter before a key was assigned to it\";return{[Nl+r.key]:i}},{rawFilterInfo:r})}static entityFilterToJson(e,t){return zi.fromEntityFilter(e,t).toJson()}static entityFilterFromJson(e,t){return Lp(e,{get:r=>t[r]})}static fromEntityFilter(e,t){let r=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){let s=t[i];if(i==\"$or\")r.push(new fN(...s.map(o=>zi.fromEntityFilter(e,o))));else if(i==\"$not\")r.push(new dN(zi.fromEntityFilter(e,s)));else if(i==\"$and\")r.push(new tC(...s.map(o=>zi.fromEntityFilter(e,o))));else if(i.startsWith(Nl))r.push(new zi(o=>{o.custom(i.substring(Nl.length),s)}));else if(i==Y4)r.push(new zi(o=>o.databaseCustom(s)));else{const o=e.fields[i],a=Kn(o),l=o.options;let u=(a==null?void 0:a.type)===\"toOne\"?l.fields?new uN(o,e.fields,l):new cN(e.fields[l.field]):new Cg(o),f=!1;if(s!==void 0&&s!=null){s.$id!==void 0&&(s=s.$id);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const h=s[d];switch(d){case\"$gte\":case\">=\":r.push(u.isGreaterOrEqualTo(h)),f=!0;break;case\"$gt\":case\">\":r.push(u.isGreaterThan(h)),f=!0;break;case\"$lte\":case\"<=\":r.push(u.isLessOrEqualTo(h)),f=!0;break;case\"$lt\":case\"<\":r.push(u.isLessThan(h)),f=!0;break;case\"$ne\":case\"$not\":case\"!=\":case\"$nin\":f=!0,Array.isArray(h)?r.push(u.isNotIn(h)):r.push(u.isDifferentFrom(h));break;case\"$in\":f=!0,r.push(u.isIn(h));break;case\"$contains\":f=!0,r.push(u.contains(h));break;case\"$startsWith\":f=!0,r.push(u.startsWith(h));break;case\"$endsWith\":f=!0,r.push(u.endsWith(h));break;case\"$notContains\":f=!0,r.push(u.notContains(h));break}}Array.isArray(s)&&(f=!0,r.push(u.isIn(s)))}!f&&s!==void 0&&r.push(u.isEqualTo(s))}}return new tC(...r)}__applyToConsumer(e){this.apply(e)}static async resolve(e){return typeof e==\"function\"?await e():e}toJson(){let e=new Sg;return this.__applyToConsumer(e),e.result}static async translateCustomWhere(e,t,r){let i=new _g(async(s,o)=>{let a=[];for(const l in t.entityType){const u=t.entityType[l];u&&u.rawFilterInfo&&u.rawFilterInfo.rawFilterTranslator&&u.rawFilterInfo.key==s&&a.push(await zi.fromEntityFilter(t,await u.rawFilterInfo.rawFilterTranslator(o,r)))}return a});return e.__applyToConsumer(i),await i.resolve(),e=new zi(s=>i.applyTo(s)),e}};class Cg{constructor(e){this.metadata=e}processVal(e){if(ls(this.metadata.valueType,!1)){if(e==null){if(e===null&&!this.metadata.allowNull){const r=Kn(this.metadata);if((r==null?void 0:r.type)===\"reference\")return r.toRepo.metadata.idMetadata.field.options.valueType===Number?0:\"\"}return null}return typeof e==\"string\"||typeof e==\"number\"?e:or(e).getId()}return e}contains(e){return new on(t=>t.containsCaseInsensitive(this.metadata,e))}notContains(e){return new on(t=>t.notContainsCaseInsensitive(this.metadata,e))}startsWith(e){return new on(t=>t.startsWithCaseInsensitive(this.metadata,e))}endsWith(e){return new on(t=>t.endsWithCaseInsensitive(this.metadata,e))}isLessThan(e){return e=this.processVal(e),new on(t=>t.isLessThan(this.metadata,e))}isGreaterOrEqualTo(e){return e=this.processVal(e),new on(t=>t.isGreaterOrEqualTo(this.metadata,e))}isNotIn(e){return new on(t=>{for(const r of e)t.isDifferentFrom(this.metadata,this.processVal(r))})}isDifferentFrom(e){return e=this.processVal(e),e==null&&this.metadata.allowNull?new on(t=>t.isNotNull(this.metadata)):new on(t=>t.isDifferentFrom(this.metadata,e))}isLessOrEqualTo(e){return e=this.processVal(e),new on(t=>t.isLessOrEqualTo(this.metadata,e))}isGreaterThan(e){return e=this.processVal(e),new on(t=>t.isGreaterThan(this.metadata,e))}isEqualTo(e){return e=this.processVal(e),e==null&&this.metadata.allowNull?new on(t=>t.isNull(this.metadata)):new on(t=>t.isEqualTo(this.metadata,e))}isIn(e){return e=e.map(t=>this.processVal(t)),(e==null?void 0:e.length)==1&&e[0]!=null&&e[0]!==null?new on(t=>t.isEqualTo(this.metadata,e[0])):new on(t=>t.isIn(this.metadata,e))}}class cN extends Cg{processVal(e){return e?typeof e==\"string\"||typeof e==\"number\"?e:or(e).getId():null}}class uN{constructor(e,t,r){this.metadata=e,this.fields=t,this.relationOptions=r}processVal(e){throw new Error(\"Invalid for Many To One Relation Field\")}contains(e){throw new Error(\"Invalid for Many To One Relation Field\")}notContains(e){throw new Error(\"Invalid for Many To One Relation Field\")}endsWith(e){throw new Error(\"Invalid for Many To One Relation Field\")}startsWith(e){throw new Error(\"Invalid for Many To One Relation Field\")}isLessThan(e){throw new Error(\"Invalid for Many To One Relation Field\")}isGreaterOrEqualTo(e){throw new Error(\"Invalid for Many To One Relation Field\")}isNotIn(e){return new on(t=>{e.forEach(r=>this.isDifferentFrom(r).__applyToConsumer(t))})}isDifferentFrom(e){return new on(t=>{const r=[];for(const i in this.relationOptions.fields)if(Object.prototype.hasOwnProperty.call(this.relationOptions.fields,i)){const s=this.relationOptions.fields[i];r.push(new on(o=>new Cg(this.fields.find(s)).isDifferentFrom(e[i]).__applyToConsumer(o)))}t.or(r)})}isLessOrEqualTo(e){throw new Error(\"Invalid for Many To One Relation Field\")}isGreaterThan(e){throw new Error(\"Invalid for Many To One Relation Field\")}isEqualTo(e){return new on(t=>{for(const r in this.relationOptions.fields)if(Object.prototype.hasOwnProperty.call(this.relationOptions.fields,r)){const i=this.relationOptions.fields[r];new Cg(this.fields.find(i)).isEqualTo(e[r]).__applyToConsumer(t)}})}isIn(e){return new on(t=>{t.or(e.map(r=>this.isEqualTo(r)))})}}class tC extends on{constructor(...e){super(t=>{for(const r of this.filters)r&&r.__applyToConsumer(t)}),this.filters=e}add(e){this.filters.push(e)}}class fN extends on{constructor(...e){super(t=>{let r=this.filters.filter(i=>i!==void 0);r.length>1?t.or(r):r.length==1&&r[0].__applyToConsumer(t)}),this.filters=e}}class dN extends on{constructor(e){super(t=>{t.not(e)}),this.filter=e}}const Nl=\"$custom$\",Y4=\"$db$\",V0=\"$an array\";class Sg{constructor(){this.result={},this.hasUndefined=!1}databaseCustom(e){throw new Error(\"database custom is not allowed with api calls.\")}custom(e,t){Array.isArray(t)&&(t={[V0]:t}),this.add(Nl+e,t)}add(e,t){t===void 0&&(this.hasUndefined=!0);let r=this.result;if(!r[e]){r[e]=t;return}let i=r[e];i instanceof Array?i.push(t):i=[i,t],r[e]=i}or(e){this.add(\"OR\",e.map(t=>{let r=new Sg;return t.__applyToConsumer(r),r.result}))}not(e){let t=new Sg;e.__applyToConsumer(t),this.add(\"NOT\",t.result)}isNull(e){this.add(e.key+\".null\",!0)}isNotNull(e){this.add(e.key+\".null\",!1)}isIn(e,t){this.add(e.key+\".in\",t.map(r=>e.valueConverter.toJson(r)))}isEqualTo(e,t){this.add(e.key,e.valueConverter.toJson(t))}isDifferentFrom(e,t){this.add(e.key+\".ne\",e.valueConverter.toJson(t))}isGreaterOrEqualTo(e,t){this.add(e.key+\".gte\",e.valueConverter.toJson(t))}isGreaterThan(e,t){this.add(e.key+\".gt\",e.valueConverter.toJson(t))}isLessOrEqualTo(e,t){this.add(e.key+\".lte\",e.valueConverter.toJson(t))}isLessThan(e,t){this.add(e.key+\".lt\",e.valueConverter.toJson(t))}containsCaseInsensitive(e,t){this.add(e.key+\".contains\",t)}notContainsCaseInsensitive(e,t){this.add(e.key+\".notContains\",t)}startsWithCaseInsensitive(e,t){this.add(e.key+\".startsWith\",t)}endsWithCaseInsensitive(e,t){this.add(e.key+\".endsWith\",t)}}function Lp(n,e){let t={};function r(a){t.$and||(t.$and=[]),t.$and.push(a)}function i(a,l){t[a]===void 0?t[a]=l:r({[a]:l})}[...n.fields].forEach(a=>{function l(f,d,h=!1,p=!1){let g=e.get(a.key+f);if(g!==void 0){let m=b=>{let v=b;if(h){let k;typeof b==\"string\"?k=JSON.parse(b):k=b,v=k.map(x=>p?x:a.valueConverter.fromJson(x))}else v=p?v:a.valueConverter.fromJson(v);let w=d(v);w!==void 0&&i(a.key,w)};if(!h&&g instanceof Array)g.forEach(b=>{m(b)});else{h&&typeof g==\"string\"&&(g=JSON.parse(g));const b=o(g);for(const v of b)m(v)}}}l(\"\",f=>f),l(\".gt\",f=>({$gt:f})),l(\".gte\",f=>({$gte:f})),l(\".lt\",f=>({$lt:f})),l(\".lte\",f=>({$lte:f})),l(\".ne\",f=>({$ne:f})),l(\".in\",f=>f,!0);var u=e.get(a.key+\".null\");if(u)switch(u=u.toString().trim().toLowerCase(),u){case\"y\":case\"true\":case\"yes\":i(a.key,null);break;default:i(a.key,{$ne:null});break}l(\".contains\",f=>({$contains:f}),!1,!0),l(\".notContains\",f=>({$notContains:f}),!1,!0),l(\".startsWith\",f=>({$startsWith:f}),!1,!0),l(\".endsWith\",f=>({$endsWith:f}),!1,!0)});let s=e.get(\"OR\");if(s){const l=o(s).map(u=>({$or:u.map(f=>Lp(n,{get:d=>f[d]}))}));l.length==1?t.$or?t.$or.push(l[0].$or):t.$or=l[0].$or:r({$and:l})}if(s=e.get(\"NOT\"),s){let a=o(s);const l=[];for(const u of a)if(Array.isArray(u))for(const f of u)l.push({$not:Lp(n,{get:d=>f[d]})});else l.push({$not:Lp(n,{get:f=>u[f]})});l.length==1&&!t.$not?t=l[0]:r({$and:l})}for(const a in n.entityType){const l=n.entityType[a];if(l&&l.rawFilterInfo&&l.rawFilterInfo.rawFilterTranslator){let u=e.get(Nl+a);if(u!==void 0){const f=d=>{d[V0]!=null&&(d=d[V0]),i(Nl+a,d)};Array.isArray(u)?u.forEach(d=>f(d)):f(u)}}}return t;function o(a){if(!Array.isArray(a))return[a];const l=[],u=[];for(const f of a)Array.isArray(f)?u.push(f):l.push(f);return u.push(l),u}}class _g{constructor(e){this.translateCustom=e,this.commands=[],this.promises=[]}applyTo(e){this.commands.forEach(t=>t(e))}or(e){let t;this.promises.push(Promise.all(e.map(async r=>{let i=new _g(this.translateCustom);return r.__applyToConsumer(i),await i.resolve(),new on(s=>i.applyTo(s))})).then(r=>{t=r})),this.commands.push(r=>r.or(t))}not(e){let t;this.promises.push((async()=>{let r=new _g(this.translateCustom);e.__applyToConsumer(r),await r.resolve(),t=new on(i=>r.applyTo(i))})()),this.commands.push(r=>r.not(t))}isEqualTo(e,t){this.commands.push(r=>r.isEqualTo(e,t))}isDifferentFrom(e,t){this.commands.push(r=>r.isDifferentFrom(e,t))}isNull(e){this.commands.push(t=>t.isNull(e))}isNotNull(e){this.commands.push(t=>t.isNotNull(e))}isGreaterOrEqualTo(e,t){this.commands.push(r=>r.isGreaterOrEqualTo(e,t))}isGreaterThan(e,t){this.commands.push(r=>r.isGreaterThan(e,t))}isLessOrEqualTo(e,t){this.commands.push(r=>r.isLessOrEqualTo(e,t))}isLessThan(e,t){this.commands.push(r=>r.isLessThan(e,t))}containsCaseInsensitive(e,t){this.commands.push(r=>r.containsCaseInsensitive(e,t))}notContainsCaseInsensitive(e,t){this.commands.push(r=>r.notContainsCaseInsensitive(e,t))}startsWithCaseInsensitive(e,t){this.commands.push(r=>r.startsWithCaseInsensitive(e,t))}endsWithCaseInsensitive(e,t){this.commands.push(r=>r.endsWithCaseInsensitive(e,t))}isIn(e,t){this.commands.push(r=>r.isIn(e,t))}custom(e,t){this.promises.push((async()=>{let r=await this.translateCustom(e,t);r&&(Array.isArray(r)?r.forEach(i=>i.__applyToConsumer(this)):r.__applyToConsumer(this))})())}databaseCustom(e){this.commands.push(t=>t.databaseCustom(e))}async resolve(){for(;this.promises.length>0;){let e=this.promises;this.promises=[],await Promise.all(e)}}}class kg{constructor(){this.rawValues={},this.preciseValues=new Proxy(this.rawValues,{get:(e,t)=>{if(t in e){let r=e[t];if(r.bad)return;if(r.values.length>0){const i=Kn(r.field);if(i){if(i.type===\"reference\")return r.values.map(s=>i.toRepo.metadata.idMetadata.getIdFilter(s));throw new Error(\"Only relations toOne without field are supported.\")}return r.values}}}})}ok(e,...t){let r=this.rawValues[e.key];r?r.values.push(...t.filter(i=>!r.values.includes(i))):this.rawValues[e.key]={field:e,bad:!1,values:[...t]}}notOk(e){let t=this.rawValues[e.key];t?t.bad=!0:this.rawValues[e.key]={field:e,bad:!0,values:[]}}not(e){}or(e){const t=e.map(r=>{let i=new kg;return r.__applyToConsumer(i),i});for(const r of t)for(const i in r.rawValues)if(Object.prototype.hasOwnProperty.call(r.rawValues,i)){const s=r.rawValues[i];s&&(s.bad?this.notOk(s.field):this.ok(s.field,...s.values))}for(const r in this.rawValues)if(Object.prototype.hasOwnProperty.call(this.rawValues,r))for(const i of t)i.rawValues[r]||this.notOk(this.rawValues[r].field)}isEqualTo(e,t){this.ok(e,t)}isDifferentFrom(e,t){this.notOk(e)}isNull(e){this.ok(e,null)}isNotNull(e){this.notOk(e)}isGreaterOrEqualTo(e,t){this.notOk(e)}isGreaterThan(e,t){this.notOk(e)}isLessOrEqualTo(e,t){this.notOk(e)}isLessThan(e,t){this.notOk(e)}containsCaseInsensitive(e,t){this.notOk(e)}notContainsCaseInsensitive(e,t){this.notOk(e)}startsWithCaseInsensitive(e,t){this.notOk(e)}endsWithCaseInsensitive(e,t){this.notOk(e)}isIn(e,t){this.ok(e,...t)}custom(e,t){}databaseCustom(e){}}class H0{constructor(e,t){this.apiProvider=e,this.entityRequested=t,this.isProxy=!0}getEntityDataProvider(e){var t;return(t=this.entityRequested)==null||t.call(this,e),new hN(()=>{var r;return G4((r=this.apiProvider())==null?void 0:r.url,e.key)},()=>hd(this.apiProvider().httpClient),e)}async transaction(e){throw new Error(\"Method not implemented.\")}}function G4(n,e){return n==null&&(n=\"/api\"),n+\"/\"+e}function $b(n,e){if(n.include){let t={};for(const r in n.include)if(Object.prototype.hasOwnProperty.call(n.include,r)){let i=n.include[r];if(typeof i==\"object\"){const s=Kn(e.fields.find(r));s&&(i=$b(i,s.toRepo.metadata))}t[r]=i}n={...n,include:t}}return n.where&&(n={...n,where:on.entityFilterToJson(e,n.where)}),n.load&&(n={...n,load:n.load(e.fields).map(t=>t.key)}),n}class hN{constructor(e,t,r){this.url=e,this.http=t,this.entity=r}query(e,t){return this.buildFindRequest(e).run(\"query\",{aggregate:this.buildAggregateOptions(t)}).then(({items:i,aggregates:s})=>({items:i.map(o=>this.translateFromJson(o)),aggregates:s}))}async groupBy(e){const{run:t}=this.buildFindRequest({where:e==null?void 0:e.where,limit:e==null?void 0:e.limit,page:e==null?void 0:e.page}),r=this.buildAggregateOptions(e),i=await t(\"groupBy\",Object.keys(r).length>0?r:void 0);return e!=null&&e.group&&i.forEach(s=>{for(const o of e.group)s[o.key]=o.valueConverter.fromJson(s[o.key])}),i}buildAggregateOptions(e){var t,r,i,s,o,a,l;return{groupBy:(t=e==null?void 0:e.group)==null?void 0:t.map(u=>u.key),sum:(r=e==null?void 0:e.sum)==null?void 0:r.map(u=>u.key),avg:(i=e==null?void 0:e.avg)==null?void 0:i.map(u=>u.key),min:(s=e==null?void 0:e.min)==null?void 0:s.map(u=>u.key),max:(o=e==null?void 0:e.max)==null?void 0:o.map(u=>u.key),distinctCount:(a=e==null?void 0:e.distinctCount)==null?void 0:a.map(u=>u.key),orderBy:(l=e==null?void 0:e.orderBy)==null?void 0:l.map(u=>{var f;return{...u,field:(f=u.field)==null?void 0:f.key}})}}translateFromJson(e){let t={};for(const r of this.entity.fields)t[r.key]=r.valueConverter.fromJson(e[r.key]);return t}translateToJson(e){let t={};for(const r of this.entity.fields)t[r.key]=r.valueConverter.toJson(e[r.key]);return t}async count(e){const{run:t}=this.buildFindRequest({where:e});return t(\"count\").then(r=>+r.count)}async deleteMany(e){const{run:t}=this.buildFindRequest({where:e},\"delete\");return t(\"deleteMany\").then(r=>+r.deleted)}async updateMany(e,t){const{run:r}=this.buildFindRequest({where:e},\"put\");return r(\"updateMany\",this.toJsonOfIncludedKeys(t)).then(i=>+i.updated)}async upsertMany(e){const{run:t}=this.buildFindRequest(void 0);return t(\"upsertMany\",e.map(r=>({where:this.toJsonOfIncludedKeys(r.where),set:r.set!==void 0?this.toJsonOfIncludedKeys(r.set):void 0}))).then(r=>r.map(i=>this.translateFromJson(i)))}find(e){let{run:t}=this.buildFindRequest(e);return t().then(r=>r.map(i=>this.translateFromJson(i)))}buildFindRequest(e,t){t||(t=\"get\");let r=new eC(this.url()),i;if(e){if(e.where&&(i=e.where.toJson(),gN(i,r)&&(i=void 0)),e.orderBy&&e.orderBy.Segments){let o=\"\",a=\"\",l=!1;e.orderBy.Segments.forEach(u=>{o.length>0&&(o+=\",\",a+=\",\"),o+=u.field.key,a+=u.isDescending?\"desc\":\"asc\",u.isDescending&&(l=!0)}),o&&r.add(\"_sort\",o),l&&r.add(\"_order\",a)}e.limit&&r.add(\"_limit\",e.limit),e.page&&r.add(\"_page\",e.page)}const s=(o,a)=>{let l=new eC(r.url);if(!o&&i&&(o=\"get\"),o&&l.add(\"__action\",o),i){if(t===\"put\")return this.http().post(l.url,{set:a,where:i});a={...a,where:i}}return a&&t!=\"put\"?this.http().post(l.url,a):this.http()[t](l.url,a)};return{createKey:()=>JSON.stringify({url:r,filterObject:i}),run:s,subscribe:async o=>({result:await s(mN+o),unsubscribe:async()=>Ct.actionInfo.runActionWithoutBlockingUI(()=>this.http().post(this.url()+\"?__action=endLiveQuery\",{id:o}))})}}update(e,t){return this.http().put(this.url()+(e!=\"\"?\"/\"+encodeURIComponent(e):\"?__action=emptyId\"),this.toJsonOfIncludedKeys(t)).then(r=>this.translateFromJson(r))}toJsonOfIncludedKeys(e){let t={},r=Object.keys(e);for(const i of this.entity.fields)r.includes(i.key)&&(t[i.key]=i.valueConverter.toJson(e[i.key]));return t}async delete(e){if(e==\"\")await this.deleteMany(on.fromEntityFilter(this.entity,this.entity.idMetadata.getIdFilter(e)));else return this.http().delete(this.url()+\"/\"+encodeURIComponent(e))}insert(e){return this.http().post(this.url(),this.translateToJson(e)).then(t=>this.translateFromJson(t))}insertMany(e){return this.http().post(this.url(),e.map(t=>this.translateToJson(t))).then(t=>t.map(r=>this.translateFromJson(r)))}}class nC{constructor(e){this.fetch=e}async get(e){return await xg(async()=>this.myFetch(e).then(t=>t))}put(e,t){return this.myFetch(e,{method:\"put\",body:JSON.stringify(t)})}delete(e){return this.myFetch(e,{method:\"delete\"})}async post(e,t){return await xg(()=>this.myFetch(e,{method:\"post\",body:JSON.stringify(t)}))}myFetch(e,t){const r={};if(t!=null&&t.body&&(r[\"Content-type\"]=\"application/json\"),typeof window<\"u\"&&typeof window.document<\"u\"&&typeof(window.document.cookie!==\"undefined\"))for(const i of window.document.cookie.split(\";\"))i.trim().startsWith(\"XSRF-TOKEN=\")&&(r[\"X-XSRF-TOKEN\"]=i.split(\"=\")[1]);return(this.fetch||fetch)(e,{credentials:\"include\",method:t==null?void 0:t.method,body:t==null?void 0:t.body,headers:r}).then(i=>pN(i)).catch(async i=>{throw await i})}}function pN(n){if(n.status!=204){if(n.status>=200&&n.status<300)return n.json();throw n.json().then(e=>({...e,message:e.message||n.statusText,url:n.url,status:n.status})).catch(()=>{throw{message:n.statusText,url:n.url,status:n.status}})}}function gN(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(Array.isArray(r)&&(r.length>0&&typeof r[0]==\"object\"||r.length>10)||t===\"NOT\")return!1}for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];Array.isArray(r)?t.endsWith(\".in\")?e.add(t,JSON.stringify(r)):r.forEach(i=>e.add(t,i)):t.startsWith(Nl)?e.add(t,JSON.stringify(r)):e.add(t,r)}return!0}const mN=\"liveQuery-\";class Ni{toEntityOrderBy(){let e={};for(const t of this.Segments)t.isDescending?e[t.field.key]=\"desc\":e[t.field.key]=\"asc\";return e}constructor(...e){this.Segments=e}reverse(){let e=new Ni;for(const t of this.Segments)e.Segments.push({field:t.field,isDescending:!t.isDescending});return e}compare(e,t,r){r||(r=i=>i.key);for(let i=0;i<this.Segments.length;i++){let s=this.Segments[i],o=e[r(s.field)],a=t[r(s.field)],l=s.isDescending,u=vN(o,a,l);if(u!=0)return u}return 0}static translateOrderByToSort(e,t){let r=new Ni;if(t){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];let o=e.fields.find(i);const a=l=>{switch(s){case\"desc\":r.Segments.push({field:l,isDescending:!0});break;case\"asc\":r.Segments.push({field:l})}};if(o){const l=Kn(o);if((l==null?void 0:l.type)===\"toOne\"){const u=l.options;if(typeof u.field==\"string\")a(e.fields.find(u.field));else if(u.fields){for(const f in u.fields)if(Object.prototype.hasOwnProperty.call(u.fields,f)){const d=u.fields[f];a(e.fields.find(d.toString()))}}}else a(o)}}}return r}static createUniqueSort(e,t){(!t||Object.keys(t).length===0)&&e.options.defaultOrderBy&&(t=Ni.translateOrderByToSort(e,e.options.defaultOrderBy)),t||(t=new Ni);for(const r of e.idMetadata.fields)t.Segments.find(i=>i.field==r)||t.Segments.push({field:r});return t}static createUniqueEntityOrderBy(e,t){(!t||Object.keys(t).length===0)&&(t=e.options.defaultOrderBy),t?t={...t}:t={};for(const r of e.idMetadata.fields)t[r.key]||(t[r.key]=\"asc\");return t}}function vN(n,e,t){n=rC(n),e=rC(e);let r=0;return n>e?r=1:n<e&&(r=-1),t&&(r*=-1),r}function rC(n){return n==null||n==null?n:n.id!==void 0?n.id:n}const ry=\"stream\";class yN{constructor(e,t,r){this.repo=e,this.query=t,this.unsubscribe=()=>{},this.defaultQueryState=[],this.listeners=[],this.id=j0(),this.queryChannel=`users:${r}:queries:${this.id}`,this.id=this.queryChannel}sendDefaultState(e){e(this.createReducerType(()=>[...this.defaultQueryState],this.allItemsMessage(this.defaultQueryState)))}async setAllItems(e){const t=await Dl(this.repo)._fromJsonArray(e,this.query.options);this.forListeners(r=>{r(()=>t)},this.allItemsMessage(t))}allItemsMessage(e){return[{type:\"all\",data:e}]}forListeners(e,t){e(r=>{if(this.defaultQueryState=r(this.defaultQueryState),t.find(i=>i.type===\"add\"||i.type===\"replace\")&&this.query.options.orderBy){const i=Ni.translateOrderByToSort(this.repo.metadata,this.query.options.orderBy);this.defaultQueryState.sort((s,o)=>i.compare(s,o))}});for(const r of this.listeners)e(i=>{r.next(this.createReducerType(i,t))})}createReducerType(e,t){return{applyChanges:e,changes:t,items:this.defaultQueryState}}async handle(e){{let t=e.filter(({type:i})=>i==\"add\"||i==\"replace\"),r=await Dl(this.repo)._fromJsonArray(t.map(i=>i.data.item),this.query.options);for(let i=0;i<t.length;i++){const s=t[i];s.data.item=r[i]}}this.forListeners(t=>{t(r=>{r||(r=[]);for(const i of e)switch(i.type){case\"all\":this.setAllItems(i.data);break;case\"replace\":{r=r.map(s=>this.repo.metadata.idMetadata.getId(s)===i.data.oldId?i.data.item:s);break}case\"add\":r=r.filter(s=>this.repo.metadata.idMetadata.getId(s)!==this.repo.metadata.idMetadata.getId(i.data.item)),r.push(i.data.item);break;case\"remove\":r=r.filter(s=>this.repo.metadata.idMetadata.getId(s)!==i.data.id);break}return r})},e)}}const bN=\"_liveQueryKeepAlive\";class wN{constructor(e,t){this.apiProvider=e,this.getUserId=t,this.queries=new Map,this.channels=new Map}wrapMessageHandling(e){var t=this.apiProvider().wrapMessageHandling;t?t(e):e()}hasQueriesForTesting(){return this.queries.size>0}runPromise(e){return e}close(){this.queries.clear(),this.channels.clear(),this.closeIfNoListeners()}async subscribeChannel(e,t){let r=()=>{};const i=await this.openIfNoOpened();try{let s=this.channels.get(e);if(!s){this.channels.set(e,s=new xN);try{s.unsubscribe=await i.subscribe(e,o=>this.wrapMessageHandling(()=>s.handle(o)),o=>{t.error(o)})}catch(o){throw t.error(o),o}}s.listeners.push(t),r=()=>{s.listeners.splice(s.listeners.indexOf(t),1),s.listeners.length==0&&(this.channels.delete(e),s.unsubscribe()),this.closeIfNoListeners()}}catch(s){throw t.error(s),s}return()=>{r(),r=()=>{}}}closeIfNoListeners(){this.client&&this.queries.size===0&&this.channels.size===0&&(this.runPromise(this.client.then(e=>e.close())),this.client=void 0,clearInterval(this.interval),this.interval=void 0)}subscribe(e,t,r){let i=!0,s=()=>{i=!1};return this.runPromise(Dl(e)._buildEntityDataProviderFindOptions(t).then(o=>{if(!i)return;const{createKey:a,subscribe:l}=new H0(this.apiProvider).getEntityDataProvider(e.metadata).buildFindRequest(o),u=a();let f=this.queries.get(u);f?f.sendDefaultState(r.next):(this.queries.set(u,f=new yN(e,{entityKey:e.metadata.key,options:t},this.getUserId())),f.subscribeCode=()=>{f.unsubscribe&&(f.unsubscribe(),f.unsubscribe=()=>{}),this.runPromise(this.subscribeChannel(f.queryChannel,{next:d=>this.runPromise(f.handle(d)),complete:()=>{},error:d=>{f.listeners.forEach(h=>h.error(d))}}).then(d=>{if(f.listeners.length==0){d();return}this.runPromise(l(f.queryChannel).then(h=>{if(f.listeners.length===0){h.unsubscribe(),d();return}this.runPromise(f.setAllItems(h.result)),f.unsubscribe=()=>{f.unsubscribe=()=>{},d(),this.runPromise(h.unsubscribe())}}).catch(h=>{f.listeners.forEach(p=>p.error(h)),d(),this.queries.delete(u)}))})).catch(d=>{f.listeners.forEach(h=>h.error(d))})},f.subscribeCode()),f.listeners.push(r),s=()=>{f.listeners.splice(f.listeners.indexOf(r),1),r.complete(),f.listeners.length==0&&(this.queries.delete(u),f.unsubscribe()),this.closeIfNoListeners()}}).catch(o=>{r.error(o)})),()=>{s()}}openIfNoOpened(){return this.client?this.client:(this.interval=setInterval(async()=>{const e=[];for(const t of this.queries.values())e.push(t.queryChannel);if(e.length>0){let t=this.apiProvider();const r=await this.runPromise(await Ct.actionInfo.runActionWithoutBlockingUI(()=>hd(t.httpClient).post(t.url+\"/\"+bN,e)));for(const i of r)for(const s of this.queries.values())s.queryChannel===i&&s.subscribeCode()}},3e4),this.runPromise(this.client=this.apiProvider().subscriptionClient.openConnection(()=>{for(const e of this.queries.values())e.subscribeCode()})))}}class xN{constructor(){this.unsubscribe=()=>{},this.listeners=[]}async handle(e){for(const t of this.listeners)t.next(e)}}class ew{openConnection(e){let t;const r=new Map,i=hd(Xi.apiClient.httpClient);let s=!1,o;const a={close(){o.close()},async subscribe(f,d){let h=r.get(f);return h||(r.set(f,h=[]),await u(f)),h.push(d),()=>{h.splice(h.indexOf(d,1)),h.length==0&&(Ct.actionInfo.runActionWithoutBlockingUI(()=>i.post(Xi.apiClient.url+\"/\"+ry+\"/unsubscribe\",{channel:f,clientId:t})),r.delete(f))}}},l=()=>new Promise(f=>{h();let d=0;function h(){o&&o.close(),o=ew.createEventSource(Xi.apiClient.url+\"/\"+ry),o.onmessage=p=>{let g=JSON.parse(p.data);const m=r.get(g.channel);m&&m.forEach(b=>b(g.data))},o.onerror=p=>{console.error(\"Live Query Event Source Error\",p),o.close(),d++<J4.error500RetryCount&&setTimeout(()=>{h()},500)},o.addEventListener(\"connectionId\",async p=>{if(t=p.data,s){for(const g of r.keys())await u(g);e()}else s=!0,f(a)})}});return l();async function u(f){await Ct.actionInfo.runActionWithoutBlockingUI(()=>i.post(Xi.apiClient.url+\"/\"+ry+\"/subscribe\",{channel:f,clientId:t}))===CN&&await l()}}static createEventSource(e){return new EventSource(e,{withCredentials:!0})}}const CN=\"client connection not found\",SN=Symbol.for(\"serverActionField\");class _N{constructor(e){this.remultObjectStorage=e}static enable(){Ct.remultFactory=()=>{const e=Ct.asyncContext.getStore();if(e)return e.remult;throw new Error(\"remult object was requested outside of a valid request cycle.valid context, try running `withRemult` or run  within initApi or a remult request cycle\")}}static disable(){jD()}async run(e,t){return this.remultObjectStorage?this.remultObjectStorage.run({remult:e},()=>t(e)):t(e)}isInInitRequest(){var e,t;return(t=(e=this.remultObjectStorage)==null?void 0:e.getStore())==null?void 0:t.inInitRequest}setInInitRequest(e){var r,i;const t=(r=this.remultObjectStorage)==null?void 0:r.getStore();t&&(e||(i=this.remultObjectStorage)!=null&&i.isStub)&&(t.inInitRequest=e)}getStore(){if(!this.remultObjectStorage)throw new Error(\"can't use static remult in this environment, `async_hooks` were not initialized\");return this.remultObjectStorage.getStore()}}Ct.asyncContext||(Ct.asyncContext=new _N(void 0));var hu;let Ag=(hu=class{constructor(e){if(this.repo=(t,r)=>{r===void 0&&(r=this.dataProvider);let i=this.repCache.get(r);i||this.repCache.set(r,i=new Map);let s=i.get(t);return s||(i.set(t,s=new nw(t,this,r,jN(t,this))),lN(s,this,r)),s},this.dataProvider=new H0(()=>this.apiClient),this.repCache=new Map,this.liveQueryPublisher={itemChanged:async()=>{}},this.liveQuerySubscriber=new wN(()=>this.apiClient,()=>{var t;return(t=this.user)==null?void 0:t.id}),this.context={},this.apiClient={url:\"/api\",subscriptionClient:new ew},e&&e.getEntityDataProvider){this.dataProvider=e;return}if(X4(e))this.apiClient.httpClient=e;else if(typeof e==\"function\")this.apiClient.httpClient=e;else if(e){const t=e;t.httpClient&&(this.apiClient.httpClient=t.httpClient),t.url&&(this.apiClient.url=t.url),t.subscriptionClient&&(this.apiClient.subscriptionClient=t.subscriptionClient),t.wrapMessageHandling&&(this.apiClient.wrapMessageHandling=t.wrapMessageHandling)}}async initUser(){const t=await hd(this.apiClient.httpClient).get(G4(this.apiClient.url,\"me\"));return this.user=(t==null?void 0:t.id)!=null?t:void 0,this.user}authenticated(){var e;return((e=this.user)==null?void 0:e.id)!==void 0}isAllowed(e){var t,r;if(e!=null){if(e instanceof Array){for(const i of e)if(this.isAllowed(i)===!0)return!0;return!1}return typeof e==\"function\"?e(this):typeof e==\"boolean\"?e:!!(typeof e==\"string\"&&(r=(t=this.user)==null?void 0:t.roles)!=null&&r.includes(e.toString()))}}isAllowedForInstance(e,t){if(Array.isArray(t)){for(const r of t)if(this.isAllowedForInstance(e,r))return!0}else return typeof t==\"function\"?t(e,this):this.isAllowed(t)}useFetch(e){this.dataProvider=new H0(()=>({httpClient:e}))}call(e,t,...r){const i=e[SN];if(!i.doWork)throw Error(\"The method received is not a valid backend method\");return i.doWork(r,t,this.apiClient.url,hd(this.apiClient.httpClient))}clearAllCache(){this.repCache.clear()}},hu.onFind=(e,t)=>{},hu);Ct.defaultRemultFactory=()=>new Ag;class kN{constructor(){this.classes=new Map}}function AN(n,e){let t=n;for(;;){let r=Ct.classHelpers.get(t);r||Ct.classHelpers.set(t,r=new kN),r.classes.set(n,e);let i=Object.getPrototypeOf(t.prototype);if(i==null)break;t=i.constructor}}const Om=class Om{};Om.everyone=()=>!0,Om.authenticated=(...e)=>e.length>1?e[1].authenticated():e.length==1&&e[0].authenticated?e[0].authenticated():Xi.authenticated();let iC=Om;const ON={defaultPageSize:200};function Of(n,e){return e&&Object.assign(n,e),n}class Q4 extends Error{constructor(e){super(e.message),Object.assign(this,e)}}function iy(n,e,t){let r=on.fromEntityFilter(n,e);const i=()=>{};r&&r.__applyToConsumer({custom:i,databaseCustom:i,containsCaseInsensitive:i,notContainsCaseInsensitive:i,startsWithCaseInsensitive:i,endsWithCaseInsensitive:i,isDifferentFrom:i,isEqualTo:(s,o)=>{t[s.key]=o},isGreaterOrEqualTo:i,isGreaterThan:i,isIn:i,isLessOrEqualTo:i,isLessThan:i,isNotNull:i,isNull:i,not:i,or:i})}class Ef{constructor(){this.entityLoaders=new Map,this.promises=[]}load(e,t){let r=this.entityLoaders.get(e.entityType);r||this.entityLoaders.set(e.entityType,r=new EN(e));const i=r.find(t);return this.promises.push(i),i}async resolveAll(){for(const t of this.entityLoaders.values())for(const r of t.queries.values())r.resolve();if(this.promises.length===0)return;const e=this.promises;this.promises=[],await Promise.all(e),await this.resolveAll()}}class EN{constructor(e){this.rel=e,this.queries=new Map}find(e){const{where:t,...r}=$b(e,this.rel.metadata),i=JSON.stringify(r);let s=this.queries.get(i);return s||this.queries.set(i,s=new TN(this.rel)),s.find(e,t)}}class TN{constructor(e){this.rel=e,this.pendingInStatements=new Map,this.whereVariations=new Map}find(e,t){const r=JSON.stringify(t);let i=this.whereVariations.get(r);if(!i){const s=Object.keys(t);if(s.length===1&&typeof t[s[0]]!=\"object\"&&!e.limit){let o=this.pendingInStatements.get(s[0]);o||this.pendingInStatements.set(s[0],o=new MN(this.rel,s[0],e)),this.whereVariations.set(r,i={result:o.find(t)})}else this.whereVariations.set(r,i={result:this.rel.find(e)})}return i.result}resolve(){const e=[...this.pendingInStatements.values()];this.pendingInStatements.clear();for(const t of e)t.resolve()}}class MN{constructor(e,t,r){this.rel=e,this.key=t,this.options=r,this.values=new Map}async resolve(){const e=[...this.values.values()];if(e.length==1){this.rel.find(this.options).then(e[0].resolve,e[0].reject);return}var t={...this.options};t.where={[this.key]:e.map(i=>i.value)},t.limit=1e3,t.page=1;let r=[];try{for(;;){const i=await this.rel.find(t);if(r.push(...i),i.length<t.limit)break;t.page++}for(const i of this.values.values())i.resolve(r.filter(s=>{const a=or(s).fields.find(this.key),l=Kn(a.metadata),u=(l==null?void 0:l.type)===\"reference\"?a.getId():s[this.key];return i.value==u}))}catch(i){for(const s of this.values.values())s.reject(i)}}find(e){const t=e[this.key];let r=this.values.get(t);if(!r){let i,s,o=new Promise((a,l)=>{i=a,s=l});this.values.set(t,r={value:t,resolve:i,reject:s,result:o})}return r.result}}function $c(n,e){return typeof n[e]<\"u\"}const Kc=class Kc{constructor(e){this.sql=e,this.wrapIdentifier=t=>t,this.createdEntities=[],e.wrapIdentifier&&(this.wrapIdentifier=t=>e.wrapIdentifier(t)),$c(e,\"provideMigrationBuilder\")&&(this.provideMigrationBuilder=t=>e.provideMigrationBuilder(t)),$c(e,\"end\")&&(this.end=()=>e.end())}static getDb(e){const t=e||Xi.dataProvider;if($c(t,\"createCommand\"))return t;throw\"the data provider is not an SqlCommandFactory\"}createCommand(){return new IN(this.sql.createCommand(),Kc.LogToConsole)}async execute(e){return await this.createCommand().execute(e)}_getSourceSql(){return this.sql}async ensureSchema(e){this.sql.ensureSchema&&await this.sql.ensureSchema(e)}getEntityDataProvider(e){if(!this.sql.supportsJsonColumnType)for(const t of e.fields.toArray())t.valueConverter.fieldTypeInDb===\"json\"&&(t.valueConverter={...t.valueConverter,toDb:ti.JsonString.toDb,fromDb:ti.JsonString.fromDb});return new q0(e,this,async t=>{this.createdEntities.indexOf(t.$entityName)<0&&(this.createdEntities.push(t.$entityName),await this.sql.entityIsUsedForTheFirstTime(e))},this.sql)}transaction(e){return this.sql.transaction(async t=>{let r=!1;try{await e(new Kc({createCommand:()=>{let i=t.createCommand();return{addParameterAndReturnSqlToken:s=>i.param(s),param:s=>i.param(s),execute:async s=>{if(r)throw\"can't run a command after the transaction was completed\";return i.execute(s)}}},getLimitSqlSyntax:this.sql.getLimitSqlSyntax,entityIsUsedForTheFirstTime:i=>t.entityIsUsedForTheFirstTime(i),transaction:i=>t.transaction(i),supportsJsonColumnType:this.sql.supportsJsonColumnType,wrapIdentifier:this.wrapIdentifier,end:this.end,doesNotSupportReturningSyntax:this.sql.doesNotSupportReturningSyntax,doesNotSupportReturningSyntaxOnlyForUpdate:this.sql.doesNotSupportReturningSyntaxOnlyForUpdate,orderByNullsFirst:this.sql.orderByNullsFirst}))}finally{r=!0}})}static rawFilter(e){return{[Y4]:{buildSql:e}}}static async filterToRaw(e,t,r,i,s){r||(r=new RN);const o=QN(e);var a=new Ho(r,i||await Z4(o.metadata,s));return a._addWhere=!1,await(await Dl(o)._translateWhereToFilter(t)).__applyToConsumer(a),await a.resolveWhere()}};Kc.LogToConsole=!1,Kc.durationThreshold=0;let Og=Kc;const PN=new Map([[\"INSERT\",\"\"],[\"SELECT\",\"\"],[\"UPDATE\",\"\"],[\"DELETE\",\"\"],[\"CREATE\",\"\"],[\"ALTER\",\"\"],[\"DROP\",\"\"],[\"TRUNCATE\",\"\"],[\"GRANT\",\"\"],[\"REVOKE\",\"\"]]);class IN{constructor(e,t){this.origin=e,this.logToConsole=t,this.args={}}addParameterAndReturnSqlToken(e){return this.param(e)}param(e,t){let r=this.origin.param(e);return this.args[r]=e,r}async execute(e){try{let r=new Date,i=await this.origin.execute(e);if(this.logToConsole!==!1){var t=new Date().valueOf()-r.valueOf();if(t>=Og.durationThreshold){const s=t/1e3;if(this.logToConsole===\"oneLiner\"){const o=e.replace(/(\\r\\n|\\n|\\r|\\t)/gm,\" \").replace(/  +/g,\" \").trim(),a=o.split(\" \")[0].toUpperCase();console.info(`${PN.get(a)||\"\"} (${s.toFixed(3)}) ${o} ${JSON.stringify(this.args)}`)}else typeof this.logToConsole==\"function\"?this.logToConsole(s,e,this.args):console.info(e+`\n`,{arguments:this.args,duration:s})}}return i}catch(r){throw console.error((r.message||\"Sql Error\")+`:\n`,e,{arguments:this.args,error:r}),r}}}const N2=class N2{constructor(e,t,r,i){this.entity=e,this.sql=t,this.iAmUsed=r,this.strategy=i}async init(){let e=await Z4(this.entity,t=>this.sql.wrapIdentifier(t));return await this.iAmUsed(e),e}async count(e){let t=await this.init(),r=\"select count(*) count from \"+t.$entityName,i=this.sql.createCommand();if(e){let s=new Ho(i,t);e.__applyToConsumer(s),r+=await s.resolveWhere()}return i.execute(r).then(s=>Number(s.rows[0].count))}async groupBy(e){return await DN(e,await this.init(),this.sql.createCommand(),this.sql._getSourceSql().orderByNullsFirst,this.sql._getSourceSql().getLimitSqlSyntax)}async find(e){let t=await this.init(),{colKeys:r,select:i}=this.buildSelect(t);i=\"select \"+i,i+=`\n from `+t.$entityName;let s=this.sql.createCommand();if(e){if(e.where){let o=new Ho(s,t);e.where.__applyToConsumer(o),i+=await o.resolveWhere()}if(e.limit&&(e.orderBy=Ni.createUniqueSort(this.entity,e.orderBy)),e.orderBy||(e.orderBy=Ni.createUniqueSort(this.entity,new Ni)),e.orderBy){let o=!0,a=[];for(const l of e.orderBy.Segments)a.push(l);for(const l of a)o?(i+=\" Order By \",o=!1):i+=\", \",i+=t.$dbNameOf(l.field),l.isDescending&&(i+=\" desc\"),this.sql._getSourceSql().orderByNullsFirst&&(l.isDescending?i+=\" nulls last\":i+=\" nulls first\")}if(e.limit){let o=1;e.page&&(o=e.page),o<1&&(o=1),i+=\" \"+this.strategy.getLimitSqlSyntax(e.limit,(o-1)*e.limit)}}return s.execute(i).then(o=>o.rows.map(a=>this.buildResultRow(r,a,o)))}buildResultRow(e,t,r){let i={};for(let s=0;s<e.length;s++){const o=e[s];try{i[o.key]=o.valueConverter.fromDb(t[r.getColumnKeyInResultForIndexInSelect(s)])}catch(a){throw new Error(\"Failed to load from db:\"+o.key+`\\r\n`+a)}}return i}buildSelect(e){let t=\"\",r=[];for(const i of this.entity.fields)i.isServerExpression||(r.length>0&&(t+=\", \"),t+=e.$dbNameOf(i),i.options.sqlExpression&&(t+=\" as \"+i.key),r.push(i));return{colKeys:r,select:t}}async update(e,t){let r=await this.init(),i=this.sql.createCommand(),s=\"update \"+r.$entityName+\" set \",o=!1;for(const h of this.entity.fields)if(!oC(h,r)){if(t[h.key]!==void 0){let p=h.valueConverter.toDb(t[h.key]);p!==void 0&&(o?s+=\", \":o=!0,s+=r.$dbNameOf(h)+\" = \"+i.param(p))}}const a=this.entity.idMetadata.getIdFilter(e);let l=new Ho(i,r);on.fromEntityFilter(this.entity,a).__applyToConsumer(l),s+=await l.resolveWhere();let{colKeys:u,select:f}=this.buildSelect(r),d=!0;return this.sql._getSourceSql().doesNotSupportReturningSyntax&&(d=!1),d&&this.sql._getSourceSql().doesNotSupportReturningSyntaxOnlyForUpdate&&(d=!1),d&&(s+=\" returning \"+f),i.execute(s).then(h=>{var p,g;if((g=(p=this.sql._getSourceSql()).afterMutation)==null||g.call(p),!d)return sC(this.entity,this,t,e,\"update\");if(h.rows.length!=1)throw new Error(\"Failed to update row with id \"+e+\", rows updated: \"+h.rows.length);return this.buildResultRow(u,h.rows[0],h)})}async delete(e){let t=await this.init(),r=this.sql.createCommand(),i=new Ho(r,t);on.fromEntityFilter(this.entity,this.entity.idMetadata.getIdFilter(e)).__applyToConsumer(i);let s=\"delete from \"+t.$entityName;return s+=await i.resolveWhere(),r.execute(s).then(()=>{var o,a;(a=(o=this.sql._getSourceSql()).afterMutation)==null||a.call(o)})}async insert(e){let t=await this.init(),r=this.sql.createCommand(),i=\"\",s=\"\",o=!1;for(const f of this.entity.fields)if(!oC(f,t)){let d=f.valueConverter.toDb(e[f.key]);d!=null&&(o?(i+=\", \",s+=\", \"):o=!0,i+=t.$dbNameOf(f),s+=r.param(d))}let a=`insert into ${t.$entityName} (${i}) values (${s})`,{colKeys:l,select:u}=this.buildSelect(t);return this.sql._getSourceSql().doesNotSupportReturningSyntax||(a+=\" returning \"+u),await r.execute(a).then(f=>{var d,h;if((h=(d=this.sql._getSourceSql()).afterMutation)==null||h.call(d),this.sql._getSourceSql().doesNotSupportReturningSyntax)if(KN(this.entity.idMetadata.field)){const p=f.rows[0];if(typeof p!=\"number\")throw new Error(\"Auto increment, for a database that is does not support returning syntax, should return an array with the single last added id. Instead it returned: \"+JSON.stringify(p));return this.find({where:new on(g=>g.isEqualTo(this.entity.idMetadata.field,p))}).then(g=>g[0])}else return sC(this.entity,this,e,void 0,\"insert\");return this.buildResultRow(l,f.rows[0],f)})}};N2.LogToConsole=!1;let q0=N2;class RN{execute(e){throw new Error(\"Method not implemented.\")}addParameterAndReturnSqlToken(e){return this.param(e)}param(e){return e===null?\"null\":(e instanceof Date&&(e=e.toISOString()),typeof e==\"string\"?(e==null&&(e=\"\"),\"'\"+e.replace(/'/g,\"''\")+\"'\"):e.toString())}}function sC(n,e,t,r,i){const s=r!==void 0?n.idMetadata.getIdFilter(r):{};return e.find({where:new on(o=>{for(const a of n.idMetadata.fields)o.isEqualTo(a,t[a.key]??s[a.key])})}).then(o=>{if(o.length!=1)throw new Error(`Failed to ${i} row - result contained ${o.length} rows`);return o[0]})}async function DN(n,e,t,r,i){let s=\"select count(*) as count\",o=\"\";const a=[];if(a.push((d,h)=>{h[tN]=Number(d)}),n!=null&&n.group)for(const d of n==null?void 0:n.group)d.isServerExpression||(s+=\", \"+e.$dbNameOf(d),d.options.sqlExpression&&(s+=\" as \"+d.key),o==\"\"?o=\" group by \":o+=\", \",o+=e.$dbNameOf(d)),a.push((h,p)=>{p[d.key]=d.valueConverter.fromDb(h)});for(const d of rN){const h=n==null?void 0:n[d];if(h)for(const p of h){if(!p.isServerExpression){const m=await e.$dbNameOf(p);s+=`, ${f(d,m)} as ${p.key}_${d}`}const g=p.valueType===Number||d==\"distinctCount\";a.push((m,b)=>{g&&(m=Number(m)),b[p.key]={...b[p.key],[d]:m}})}}if(s+=`\n from `+e.$entityName,n!=null&&n.where){let d=new Ho(t,e);n==null||n.where.__applyToConsumer(d),s+=await d.resolveWhere()}o&&(s+=o);let l=\"\";if(n!=null&&n.orderBy){for(const d of n==null?void 0:n.orderBy){l==\"\"?l=\" order by \":l+=\", \";let h=d.field&&await e.$dbNameOf(d.field);switch(d.operation){case\"count\":h=d.operation+\"(*)\";break;case void 0:break;default:h=f(d.operation,h)}l+=h,d.isDescending&&(l+=\" desc\"),r&&(d.isDescending?l+=\" nulls last\":l+=\" nulls first\")}l&&(s+=l)}if(n!=null&&n.limit){let d=1;n.page&&(d=n.page),d<1&&(d=1),s+=\" \"+i(n.limit,(d-1)*n.limit)}const u=await t.execute(s);return u.rows.map(d=>{let h={};return a.forEach((p,g)=>p(d[u.getColumnKeyInResultForIndexInSelect(g)],h)),h});function f(d,h){return d===\"distinctCount\"?`count (distinct ${h})`:`${d}( ${h} )`}}class Ho{constructor(e,t){this.r=e,this.nameProvider=t,this.where=\"\",this._addWhere=!0,this.promises=[]}async resolveWhere(){for(;this.promises.length>0;){let e=this.promises;this.promises=[];for(const t of e)await t}return this.where}custom(e,t){throw new Error(\"Custom filter should be translated before it gets here\")}or(e){let t=\"\";this.promises.push((async()=>{for(const r of e){let i=new Ho(this.r,this.nameProvider);i._addWhere=!1,r.__applyToConsumer(i);let s=await i.resolveWhere();if(!s)return;s.length>0&&(t.length>0&&(t+=\" or \"),e.length>1?t+=\"(\"+s+\")\":t+=s)}this.addToWhere(\"(\"+t+\")\")})())}not(e){this.promises.push((async()=>{let t=new Ho(this.r,this.nameProvider);t._addWhere=!1,e.__applyToConsumer(t);let r=await t.resolveWhere();r&&this.addToWhere(\"not (\"+r+\")\")})())}isNull(e){this.promises.push((async()=>this.addToWhere(this.nameProvider.$dbNameOf(e)+\" is null\"))())}isNotNull(e){this.promises.push((async()=>this.addToWhere(this.nameProvider.$dbNameOf(e)+\" is not null\"))())}isIn(e,t){this.promises.push((async()=>{t&&t.length>0?this.addToWhere(this.nameProvider.$dbNameOf(e)+\" in (\"+t.map(r=>this.r.param(e.valueConverter.toDb(r))).join(\",\")+\")\"):this.addToWhere(\"1 = 0 /*isIn with no values*/\")})())}isEqualTo(e,t){this.add(e,t,\"=\")}isDifferentFrom(e,t){this.add(e,t,\"<>\")}isGreaterOrEqualTo(e,t){this.add(e,t,\">=\")}isGreaterThan(e,t){this.add(e,t,\">\")}isLessOrEqualTo(e,t){this.add(e,t,\"<=\")}isLessThan(e,t){this.add(e,t,\"<\")}containsCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"%')\")})())}notContainsCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"not lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"%')\")})())}startsWithCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('\"+t.replace(/'/g,\"''\")+\"%')\")})())}endsWithCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"')\")})())}add(e,t,r){this.promises.push((async()=>{let i=this.nameProvider.$dbNameOf(e)+\" \"+r+\" \"+this.r.param(e.valueConverter.toDb(t));this.addToWhere(i)})())}addToWhere(e){this.where.length==0?this._addWhere&&(this.where+=\" where \"):this.where+=\" and \",this.where+=e}databaseCustom(e){this.promises.push((async()=>{if(e!=null&&e.buildSql){let t=new NN(this.r,this.nameProvider.wrapIdentifier),r=await e.buildSql(t);typeof r!=\"string\"&&(r=t.sql),r&&this.addToWhere(\"(\"+r+\")\")}})())}}class NN{constructor(e,t){this.r=e,this.wrapIdentifier=t,this.sql=\"\",this.param=(r,i)=>(typeof i==\"object\"&&i.valueConverter.toDb&&(r=i.valueConverter.toDb(r)),this.r.param(r)),this.filterToRaw=async(r,i)=>Og.filterToRaw(r,i,this,void 0,this.wrapIdentifier),this.param.bind(this),this.filterToRaw.bind(this)}addParameterAndReturnSqlToken(e){return this.param(e)}}function oC(n,e){return n.dbReadOnly||n.isServerExpression||n.options.sqlExpression&&n.dbName!=e.$dbNameOf(n)}async function Z4(n,e){return LN(n,e,!0)}async function LN(n,e,t=!1){let r=typeof e==\"function\"?{wrapIdentifier:e}:e||{};var i=GN(n);r.wrapIdentifier||(r.wrapIdentifier=Xi.dataProvider.wrapIdentifier),r.wrapIdentifier||(r.wrapIdentifier=o=>o);const s={$entityName:await $4(i,r.wrapIdentifier),toString:()=>s.$entityName,$dbNameOf:o=>{var a;return typeof o==\"string\"?a=o:a=o.key,s[a]},wrapIdentifier:r.wrapIdentifier};for(const o of i.fields){let a=await tw(o,i,r.wrapIdentifier,t);o.options.sqlExpression||(typeof r.tableName==\"string\"?a=r.wrapIdentifier(r.tableName)+\".\"+a:r.tableName===!0&&(a=s.$entityName+\".\"+a)),s[o.key]=a}return s}async function $4(n,e=t=>t){if(n.options.sqlExpression){if(typeof n.options.sqlExpression==\"string\")return n.options.sqlExpression;if(typeof n.options.sqlExpression==\"function\"){const t=n.options.sqlExpression;try{return n.options.sqlExpression=\"recursive sqlExpression call for entity '\"+n.key+\"'. \",await t(n)}finally{n.options.sqlExpression=t}}}return e(n.dbName)}const sy=Symbol.for(\"sqlExpressionInProgressKey\");async function tw(n,e,t=i=>i,r=!1){try{if(n.options.sqlExpression){let o;if(typeof n.options.sqlExpression==\"function\"){if(n[sy]&&!r)return\"recursive sqlExpression call for field '\"+n.key+\"'. \\0\";try{n[sy]=!0,o=await n.options.sqlExpression(e),o.includes(\"\\0\")||(n.options.sqlExpression=()=>o)}finally{delete n[sy]}}else o=n.options.sqlExpression;return o||n.dbName}const i=Kn(n);let s=(i==null?void 0:i.type)===\"toOne\"&&n.options.field;if(s){let o=e.fields.find(s);if(o)return tw(o,e,t,r)}return t(n.dbName)}finally{}}Ct.actionInfo;const Nr=class Nr{};Nr.required=Tf(async(e,t)=>!t.valueIsNull()&&t.value!==\"\"&&(t.value!==void 0||Kn(t.metadata)!==void 0),\"Should not be empty\"),Nr.unique=Tf(async(e,t)=>{if(!t.entityRef)throw\"unique validation may only work on columns that are attached to an entity\";return t.isBackend()&&(t.isNew||t.valueChanged())?await t.entityRef.repository.count({[t.metadata.key]:t.value})==0:!0},\"already exists\"),Nr.uniqueOnBackend=Tf(async(e,t)=>t.isBackend()&&(t.isNew||t.valueChanged())?await t.entityRef.repository.count({[t.metadata.key]:t.value})==0:!0,Nr.unique.defaultMessage),Nr.regex=Ca((e,t)=>t.test(e)),Nr.email=Bp(e=>/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e),\"Invalid Email\"),Nr.url=Bp(e=>!!new URL(e),\"Invalid Url\"),Nr.in=Ca((e,t)=>t.includes(e),e=>`Value must be one of: ${e.map(t=>typeof t==\"object\"?(t==null?void 0:t.id)!==void 0?t==null?void 0:t.id:t==null?void 0:t.toString():t).join(\", \")}`),Nr.notNull=Bp(e=>e!=null,\"Should not be null\"),Nr.enum=Ca((e,t)=>Object.values(t).includes(e),e=>`Value must be one of ${Fp(e).join(\", \")}`),Nr.relationExists=Tf(async(e,t)=>t.valueIsNull()||!t.isBackend()?!0:!!await t.load(),\"Relation value does not exist\"),Nr.min=Ca((e,t)=>e>=t,e=>`Value must be bigger than or equal to ${e}`),Nr.max=Ca((e,t)=>e<=t,e=>`Value must be smaller than or equal to ${e}`),Nr.maxLength=Ca((e,t)=>e.length<=t,e=>`Value must be at most ${e} characters`),Nr.minLength=Ca((e,t)=>e.length>=t,e=>`Value must be at least ${e} characters`),Nr.range=Ca((e,[t,r])=>e>=t&&e<=r,([e,t])=>`Value must be between ${e} and ${t}`),Nr.defaultMessage=\"Invalid value\";let Yo=Nr;function Tf(n,e){const t=async(i,s,o)=>{const a=await n(i,s);typeof a==\"string\"&&a.length>0?s.error=a:a||(s.error=typeof o==\"function\"&&o(i,s,void 0)||o||typeof e==\"function\"&&e(i,s,void 0)||e||Yo.defaultMessage)},r=(i,s,o)=>typeof i==\"string\"||i===\"function\"||i===void 0&&s===void 0?async(a,l,u)=>await t(a,l,i||u):t(i,s,o);return Object.defineProperty(r,\"defaultMessage\",{get:()=>e,set:i=>{e=i},enumerable:!0}),Object.assign(r,{withMessage:i=>async(s,o)=>r(s,o,i)})}function Bp(n,e){return Tf((t,r)=>r.value===void 0||r.value===null?!0:n(r.value),e)}function Ca(n,e){const t=BN((r,i,s)=>i.value===void 0||i.value===null?!0:n(i.value,s),(r,i,s)=>typeof e==\"function\"&&e(s)||e,!0);return Object.assign((r,i)=>t(r,i),{get defaultMessage(){return e},set defaultMessage(r){e=r}})}function BN(n,e,t=!1){return Object.assign((i,s)=>async(o,a)=>{const l=await n(o,a,i);typeof l==\"string\"?a.error=l:l||(a.error=s?typeof s==\"function\"?t?s(i):s(o,a,i):s:e?typeof e==\"function\"?e(o,a,i):e:Yo.defaultMessage)},{get defaultMessage(){return e},set defaultMessage(i){e=i}})}function Fp(n){return Object.values(n).filter(e=>typeof n[e]!=\"number\")}function jp(n,e,t=!1){if(!e)return n;const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:n?[n]:[];return t?[...r,...i]:[...i,...r]}class FN{constructor(e,t){this.options=e,this.repo=t,this._count=void 0,this.options||(this.options={}),this.options.pageSize||(this.options.pageSize=ON.defaultPageSize)}async getPage(e){return(e??0)<1&&(e=1),this.repo.find({where:this.options.where,orderBy:this.options.orderBy,limit:this.options.pageSize,page:e,load:this.options.load,include:this.options.include})}async count(){return this._count===void 0&&(this._count=await this.repo.count(this.options.where)),this._count}async forEach(e){let t=0;for await(const r of this)await e(r),t++;return t}async paginator(e){this.options.orderBy=Ni.createUniqueEntityOrderBy(this.repo.metadata,this.options.orderBy);let t={where:{$and:[this.options.where,e]},orderBy:this.options.orderBy,limit:this.options.pageSize,load:this.options.load,include:this.options.include},r=()=>this.repo.find(t);if(this._aggregates===void 0&&$c(this.options,\"aggregate\")){let a=this.options.aggregate;if(this.repo._dataProvider.isProxy){const l=new Ef;r=()=>this.repo._rawFind(t,!1,l,async u=>{const f=await this.repo._edp.query(u,await this.repo.__buildGroupByOptions(a));return this._aggregates=f.aggregates,f.items}).then(async u=>(await l.resolveAll(),u))}else{let l=r();r=async()=>(this._aggregates=await this.repo.aggregate({...a,where:this.options.where}),this._count=this._aggregates.$count,l)}}let i=await r(),s=()=>{throw new Error(\"no more pages\")},o=i.length==this.options.pageSize;if(o){let a=await this.repo._createAfterFilter(this.options.orderBy,i[i.length-1]);s=()=>this.paginator(a)}return{count:()=>this.count(),hasNextPage:o,items:i,nextPage:s,aggregates:this._aggregates}}[Symbol.asyncIterator](){this.options.where||(this.options.where={});let e=this.options.orderBy;this.options.orderBy=Ni.createUniqueEntityOrderBy(this.repo.metadata,e);let t=-1,r,i,s=0;return i=async()=>{if(this.options.progress&&this.options.progress.progress(s++/await this.count()),r===void 0||t==r.items.length){if(r&&!r.hasNextPage)return{value:void 0,done:!0};let o=r;if(r?r=await r.nextPage():r=await this.paginator(),t=0,r.items.length==0)return{value:void 0,done:!0};if(((o==null?void 0:o.items.length)??!1)&&this.repo.getEntityRef(o.items[0]).getId()==this.repo.getEntityRef(r.items[0]).getId())throw new Error(\"pagination failure, returned same first row\")}return t<r.items.length?{value:r.items[t++],done:!1}:{done:!0,value:void 0}},{next:async()=>i()}}}class nw{constructor(e,t,r,i,s){this._entity=e,this._remult=t,this._dataProvider=r,this._info=i,this._defaultFindOptions=s,this._idCache=new Map,this._cache=new Map}_notFoundError(e){return{message:`id ${e} not found in entity ${this.metadata.key}`,httpStatusCode:404}}[dd](){return this}async _createAfterFilter(e,t){let r=new Map;for(const o of Ni.translateOrderByToSort(this.metadata,e).Segments){let a=t[o.field.key];r.set(o.field.key,a)}let i={$or:[]},s=[];for(const o of Ni.translateOrderByToSort(this.metadata,e).Segments){let a={};for(const l of s)a[l.key]=r.get(l.key);s.push(o.field),o.isDescending?a[o.field.key]={$lt:r.get(o.field.key)}:a[o.field.key]={$gt:r.get(o.field.key)},i.$or.push(a)}return i}relations(e){return new Proxy({},{get:(t,r)=>{const i=this.fields.find(r),s=Kn(i);if(!s)throw Error(r+\" is not a relation\");const{toRepo:o,returnNull:a,returnUndefined:l}=this._getFocusedRelationRepo(i,e);return s.type===\"toMany\"?o:{findOne:u=>a?Promise.resolve(null):l?Promise.resolve(void 0):o.findFirst({},u)}}})}_getFocusedRelationRepo(e,t){const r=Kn(e);let i=r.toRepo,{findOptions:s,returnNull:o,returnUndefined:a}=this._findOptionsBasedOnRelation(r,e,void 0,t,i);return{toRepo:new nw(i._entity,i._remult,i._dataProvider,i._info,s),returnNull:o,returnUndefined:a}}get _edp(){return this.__edp?this.__edp:this.__edp=this._dataProvider.getEntityDataProvider(this.metadata)}async aggregate(e){return(await this.groupBy(e))[0]}async groupBy(e){var t=await this.__buildGroupByOptions(e);const r=await this._edp.groupBy(t);if(!(e!=null&&e[nN])&&e.group){const i={include:{}};for(const o of e.group)i.include[o]=!0;const s=new Ef;await this._populateRelationsForFields(t.group,i,r,s),await s.resolveAll()}return r}async __buildGroupByOptions(e){var o,a,l,u,f,d;let t=await this._buildEntityDataProviderFindOptions({...e});const r=h=>{const p=this.metadata.fields.find(h);if(p===void 0)throw Error(`key \"${h}\" not found in entity`);return p},i=h=>{var p;if((p=e==null?void 0:e.group)!=null&&p.includes(h))throw Error(`field \"${h}\" cannot be used both in an aggregate and in group by`);return r(h)};var s={where:t.where,limit:t.limit,page:t.page,group:(o=e==null?void 0:e.group)==null?void 0:o.map(r),sum:(a=e==null?void 0:e.sum)==null?void 0:a.map(i),avg:(l=e==null?void 0:e.avg)==null?void 0:l.map(i),min:(u=e==null?void 0:e.min)==null?void 0:u.map(i),max:(f=e==null?void 0:e.max)==null?void 0:f.map(i),distinctCount:(d=e==null?void 0:e.distinctCount)==null?void 0:d.map(i)};if(e!=null&&e.orderBy){s.orderBy=[];for(const h in e.orderBy)if(Object.prototype.hasOwnProperty.call(e==null?void 0:e.orderBy,h)){const p=e.orderBy[h];if(p){if(typeof p==\"string\")s.orderBy.push({field:h===\"$count\"?void 0:r(h),isDescending:p===\"desc\",operation:h===\"$count\"?\"count\":void 0});else for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g)){const m=p[g];s.orderBy.push({field:this.metadata.fields.find(h),isDescending:m===\"desc\",operation:g})}}}}return s}_getCachedById(e,t){e=e+\"\",this._getCachedByIdAsync(e,t);let r=this._idCache.get(e);if(!(r instanceof Promise))return r}async _getCachedByIdAsync(e,t){e=e+\"\";let r=this._idCache.get(e);if(r instanceof Promise)return await r;if(this._idCache.has(e))return r;if(t)return;this._idCache.set(e,void 0);let i=this.findId(e).then(s=>(s===void 0?r=null:r=s,this._idCache.set(e,r),r));return this._idCache.set(e,i),await i}_addToCache(e){e&&this._idCache.set(this.getEntityRef(e).getId()+\"\",e)}get metadata(){return this._info}addEventListener(e){return this.listeners||(this.listeners=[]),this.listeners.push(e),()=>{this.listeners.splice(this.listeners.indexOf(e),1)}}query(e){return new FN(e,this)}getEntityRef(e){let t=e[Ic];return t||(this._fixTypes(e),t=new Ih(this._info,e,this,this._edp,this._remult,!0),Object.defineProperty(e,Ic,{get:()=>t}),t.saveOriginalData()),t}async delete(e){const t=or(e,!1);if(t)return t.delete();if(typeof e==\"string\"||typeof e==\"number\"){if(this._dataProvider.isProxy)return this._edp.delete(e);{let i=await this.findId(e);if(!i)throw this._notFoundError(e);return await or(i).delete()}}let r=this._getRefForExistingRow(e,void 0);return this._dataProvider.isProxy||await r.reload(),r.delete()}__cleanupPartialObject(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const i=t[r],s=this.fields[i];if(s){const o=Kn(s);o&&o.type===\"toOne\"&&o.options.field&&t.indexOf(o.options.field)>r&&o.toRepo.getEntityRef(e[i]).getId()!==e[o.options.field]&&delete e[i]}}for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r],Kn(this.fields[r]));for(const r of this.fields);}async insert(e){if(Array.isArray(e))if(this._dataProvider.isProxy){let t=[],r=[];for(const i of e){this.__cleanupPartialObject(i);let s=or(e,!1);if(s){if(!s.isNew())throw\"Item is not new\"}else s=await this.getEntityRef(this.create(i));t.push(s),r.push(await s.buildDtoForInsert())}return Bc(await this._edp.insertMany(r),(i,s)=>t[s].processInsertResponseDto(i))}else{let t=[];for(const r of e)t.push(await this.insert(r));return t}else{let t=or(e,!1);if(t){if(!t.isNew())throw\"Item is not new\";return await t.save()}else return this.__cleanupPartialObject(e),await this.getEntityRef(this.create(e)).save()}}get fields(){return this.metadata.fields}async validate(e,...t){{let r=or(e,!1);if(r||(r=this.getEntityRef({...e})),!t||t.length===0)return await r.validate();{r.__clearErrorsAndReportChanged();let i=!1;for(const s of t)await r.fields.find(s).validate()||(i=!0);return i?r.buildErrorInfoObject():void 0}}}__createDto(e){this.__cleanupPartialObject(e);const r=this.getEntityRef({...e}).copyDataToObject(!1),i=Object.keys(e);for(const s of this.fields)(s.dbReadOnly||!i.includes(s.key))&&delete r[s.key];return r}async updateMany({where:e,set:t}){if(this.__cleanupPartialObject(t),on.throwErrorIfFilterIsEmpty(e,\"updateMany\"),this._dataProvider.isProxy)return this._edp.updateMany(await this._translateWhereToFilter(e),this.__createDto({...t}));{let r=0;for await(const i of this.query({where:e,aggregate:void 0}))Of(i,t),await or(i).save(),r++;return r}}async update(e,t){{let i=or(t,!1);if(i)return await i.save()}{let i=or(e,!1);if(i)return Of(e,t),i.save()}this.__cleanupPartialObject(t);let r;if(typeof e==\"object\"?(r=this._getRefForExistingRow(e,this.metadata.idMetadata.getId(e)),Object.assign(r.instance,t)):r=this._getRefForExistingRow(t,e),this._dataProvider.isProxy)return await r.save(Object.keys(t));{const i=await r.reload();if(!i)throw this._notFoundError(r.id);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){let o=r.fields[s];if(t[s]===void 0&&Kn(o.metadata))continue;o&&(i[s]=t[s])}return await this._fixTypes(i),await r.save()}}async upsert(e){if(this._dataProvider.isProxy){let s=await this._edp.upsertMany((Array.isArray(e)?e:[e]).map(l=>{var u;return(u=this._defaultFindOptions)!=null&&u.where&&(iy(this.metadata,this._defaultFindOptions.where,l.where),this._fixTypes(l)),{where:this.__createDto(l.where),set:l.set?this.__createDto(l.set):void 0}}));const o=new Ef,a=await this._loadManyToOneForManyRows(s,{},o);return await o.resolveAll(),Array.isArray(e)?a:a[0]}if(Array.isArray(e))return Bc(e,s=>this.upsert(s));let t=e;var r=await this.findFirst(t.where,{createIfNotFound:!0}),i=or(r,!1);return i.isNew()?(t.set&&Of(r,t.set),await i.save()):t.set?(Of(r,t.set),await i.save()):r}_getRefForExistingRow(e,t){let r=or(e,!1);if(!r){const i=new this._entity(this._remult);for(const o of this._fieldsOf(e)){const a=o.key;i[a]=e[a]}this._fixTypes(i);let s=new Ih(this._info,i,this,this._edp,this._remult,!1);typeof t==\"object\"&&(t=this.metadata.idMetadata.getId(t)),t?(s.id=t,s.originalId=t):s.id=s.getId(),r=s,Object.defineProperty(i,Ic,{get:()=>s})}return r}async save(e){if(Array.isArray(e))return Bc(e,t=>this.save(t));{let t=or(e,!1);if(t)return await t.save();if(e instanceof YN)return await this.getEntityRef(e).save();{let r=this.metadata.idMetadata.getId(e);return r===void 0?this.insert(e):this.update(r,e)}}}liveQuery(e){return e||(e={}),{subscribe:t=>{let r=t;return typeof t==\"function\"&&(r={next:t,complete:()=>{},error:()=>{}}),r.error??(r.error=()=>{}),r.complete??(r.complete=()=>{}),this._remult.liveQuerySubscriber.subscribe(this,e,r)}}}async _rawFind(e,t=!1,r,i){e||(e={}),this._defaultFindOptions&&(e={...this._defaultFindOptions,...e});let s=await this._buildEntityDataProviderFindOptions(e);t&&(delete s.orderBy,delete s.limit),Ag.onFind(this._info,e);const o=await i(s);return await this._loadManyToOneForManyRows(o,e,r)}async find(e,t=!1){const r=new Ef,i=await this._rawFind(e,t,r,s=>this._edp.find(s));return await r.resolveAll(),i}async _buildEntityDataProviderFindOptions(e){e={...e};let t={};return t={},(!e.orderBy||Object.keys(e.orderBy).length===0)&&(this._dataProvider.isProxy||(e.orderBy=this._info.entityInfo.defaultOrderBy)),t.where=await this._translateWhereToFilter(e.where),e.orderBy!==void 0&&(t.orderBy=Ni.translateOrderByToSort(this.metadata,e.orderBy)),e.limit!==void 0&&(t.limit=e.limit),e.page!==void 0&&(t.page=e.page),t}async _fromJsonArray(e,t){const r=new Ef,i=await this._loadManyToOneForManyRows(e.map(s=>{let o={};for(const a of this.metadata.fields.toArray())o[a.key]=a.valueConverter.fromJson(s[a.key]);return o}),t,r);return await r.resolveAll(),i}async _loadManyToOneForManyRows(e,t,r){let i;t!=null&&t.load&&(i=t.load(this.metadata.fields));for(const u of this.metadata.fields)if(ls(u.valueType,!1)&&!Kn(u)){let h=!u.options.lazy;if(i!==void 0&&(h=i.includes(u)),h){let p=this._remult.repo(u.valueType),g=[];for(const m of e){let b=m[u.key];b!=null&&!g.includes(b)&&!p._idCache.has(b+\"\")&&g.push(b)}g.length>0&&await s(p,g)}}async function s(u,f){let d=await u.find({where:u.metadata.idMetadata.getIdFilter(...f)},!0);for(const h of d)u._addToCache(h)}const o=new Set(this.fields.toArray().map(u=>{const f=this.__getRelationAndInclude(u,t);if(f.rel&&!f.incl)return u.key}).filter(u=>u!==void 0));let a=await Bc(e,async u=>await this._mapRawDataToResult(u,i,o));const l=this.metadata.fields.toArray();return this._populateRelationsForFields(l,t,a,r),a}_populateRelationsForFields(e,t,r,i){for(const s of e){let{rel:o,incl:a}=this.__getRelationAndInclude(s,t);if(o)if(a){const l=o.toRepo;for(const u of r){let{findOptions:f,returnNull:d}=this._findOptionsBasedOnRelation(o,s,a,u,l);const h=s.key;if(d)u[h]=null;else{const p=o.toEntity,g=l;i.load({entityType:p,find:m=>g._rawFind(m,!1,i,b=>g._edp.find(b)),metadata:g.metadata},f).then(m=>{m.length==0&&o.type==\"toOne\"||(u[h]=o.type!==\"toMany\"?m.length==0?null:m[0]:m)})}}}else for(const l of r)Reflect.deleteProperty(l,s.key)}}__getRelationAndInclude(e,t){var o;let r=Kn(e),i=e.options.defaultIncluded;const s=(o=t==null?void 0:t.include)==null?void 0:o[e.key];return s!==void 0&&(i=s),{rel:r,incl:i}}_findOptionsBasedOnRelation(e,t,r,i,s){let o=!1,a=!1,l=[],u={},f=[];typeof e.options.findOptions==\"function\"?f.push(e.options.findOptions(i)):typeof e.options.findOptions==\"object\"&&f.push(e.options.findOptions),typeof r==\"object\"&&f.push(r);for(const p of f){p.where&&l.push(p.where);for(const g of[\"limit\",\"include\",\"orderBy\"])p[g]&&(u[g]=p[g])}const d=e.getFields(),h=p=>{const g=or(i,!1);let m=e.type===\"reference\"&&g?g.fields.find(t.key).getId():i[p];return(e.type===\"toOne\"||e.type===\"reference\")&&(m===null?o=!0:m===void 0?a=!0:e.type===\"reference\"&&typeof m==\"object\"&&(m=s.metadata.idMetadata.getId(m))),m};d.compoundIdField&&(e.type===\"toMany\"?l.push({[d.compoundIdField]:this.metadata.idMetadata.getId(i)}):l.push(s.metadata.idMetadata.getIdFilter(h(d.compoundIdField))));for(const p in d.fields)Object.prototype.hasOwnProperty.call(d.fields,p)&&l.push({[p]:h(d.fields[p])});return u.where={$and:l},(e.type===\"toOne\"||e.type===\"reference\")&&u.orderBy&&(u.limit=1),{findOptions:u,returnNull:o,returnUndefined:a}}async _mapRawDataToResult(e,t,r){let i=new this._entity(this._remult),s=new Ih(this._info,i,this,this._edp,this._remult,!1,r);return Object.defineProperty(i,Ic,{get:()=>s}),await s.loadDataFrom(e,t),s.saveOriginalData(),i}toJson(e){return e==null?e:Array.isArray(e)?e.map(t=>this.toJson(t)):typeof e.then==\"function\"?e.then(t=>this.toJson(t)):this.getEntityRef(e).toApiJson(!0)}fromJson(e,t){if(e==null)return e;if(Array.isArray(e))return e.map(i=>this.fromJson(i,t));let r=new this._entity(this._remult);for(const i of this._fieldsOf(e)){const s=i.key;if(ls(i.valueType,!1)){let a=e[i.key];typeof a==\"string\"||typeof a==\"number\"?r[s]=a:r[s]=this._remult.repo(i.valueType).fromJson(a)}else e[s]!==void 0&&(r[s]=i.valueConverter.fromJson(e[i.key]))}if(this._fixTypes(r),t)return this.create(r);{let i=new Ih(this._info,r,this,this._edp,this._remult,!1);return Object.defineProperty(r,Ic,{get:()=>i}),i.id=i.getId(),i.saveOriginalData(),i.originalId=i.id,r}}async count(e){return this._edp.count(await this._translateWhereToFilter(e))}async deleteMany({where:e}){if(on.throwErrorIfFilterIsEmpty(e,\"deleteMany\"),this._dataProvider.isProxy)return this._edp.deleteMany(await this._translateWhereToFilter(e));{let t=0;for await(const r of this.query({where:e,aggregate:void 0}))await or(r).delete(),t++;return t}}async findOne(e,t=!1){let r,i,s=e??{};if(s.useCache){let o=$b(s,this.metadata),a=JSON.stringify(o);if(i=this._cache.get(a),i!==void 0)if(i.value&&this.getEntityRef(i.value).wasDeleted())i=void 0,this._cache.delete(a);else return i.promise;else i={value:void 0,promise:void 0},this._cache.set(a,i)}return r=this.find({...s,limit:1},t).then(async o=>{let a;return o.length>0&&(a=o[0]),!a&&s.createIfNotFound&&(a=this.create(),s.where&&await iy(this.metadata,s.where,a)),a}),i&&(i.promise=r=r.then(o=>(i.value=o,o))),r}async findFirst(e,t,r=!1){if(t||(t={}),e)if(t.where){let i=t.where;t.where={$and:[i,e]}}else t.where=e;return this.findOne(t,r)}_fieldsOf(e){let t=Object.keys(e);return this.metadata.fields.toArray().filter(r=>t.includes(r.key))}create(e){var r;let t=new this._entity(this._remult);if(e){for(const i of this._fieldsOf(e)){const s=i.key;t[s]=e[s]}this._fixTypes(t)}return(r=this._defaultFindOptions)!=null&&r.where&&(iy(this.metadata,this._defaultFindOptions.where,t),this._fixTypes(t)),this.getEntityRef(t),t}async _fixTypes(e){for(const t of this._fieldsOf(e)){const r=e[t.key];if(r!=null)if(t.valueType===Date&&!(r instanceof Date))e[t.key]=t.valueConverter.fromJson(t.valueConverter.toJson(r));else for(const[i,s]of[[String,\"string\"],[Number,\"number\"],[Boolean,\"boolean\"]])t.valueType===i&&typeof r!==s&&(e[t.key]=t.valueConverter.fromJson(t.valueConverter.toJson(r)))}return e}findId(e,t){if(e==null)return Promise.resolve(null);if(typeof e!=\"string\"&&typeof e!=\"number\")throw new Error(\"id can be either number or string, but got: \"+typeof e);return this.findFirst({},{...t,where:this.metadata.idMetadata.getIdFilter(e)},!0)}async _translateWhereToFilter(e){var i,s;let t=e??{};(i=this._defaultFindOptions)!=null&&i.where&&(t={$and:[t,(s=this._defaultFindOptions)==null?void 0:s.where]}),this._dataProvider.isProxy||(this.metadata.options.backendPreprocessFilter&&(t=await this.metadata.options.backendPreprocessFilter(t,{metadata:this.metadata,getFilterPreciseValues:o=>on.getPreciseValues(this.metadata,o||t)})),this.metadata.options.backendPrefilter&&(t={$and:[t,await on.resolve(this.metadata.options.backendPrefilter)]}));let r=await on.fromEntityFilter(this.metadata,t);return r&&!this._dataProvider.isProxy&&(r=await on.translateCustomWhere(r,this.metadata,this._remult)),r}}function jN(n,e){let t=Ct.columnsOfType.get(n);t||Ct.columnsOfType.set(n,t=[]);let r=ls(n)(e),i=ZD(n),s=Object.getPrototypeOf(n);for(;s!=null;){let o=Ct.columnsOfType.get(s);o&&t.unshift(...o.filter(l=>!t.find(u=>u.key==l.key)));let a=ls(s,!1);if(a){let l=a(e);r={...l,...r};let u=[\"saving\",\"saved\",\"deleting\",\"deleted\",\"validation\"];for(const f of u)if(l[f]&&l[f]!==r[f]){let d=r[f];r[f]=async(h,p)=>{await d(h,p),await l[f](h,p)}}}s=Object.getPrototypeOf(s)}return new UN(VN(t,e),r,e,n,i)}class zN{constructor(e,t,r,i,s){this.fieldsMetadata=e,this.instance=t,this.remult=r,this.isNewRow=i,this._isLoading=!1,this.lookups=new Map,this.originalValues={};{let o=r;o!=null&&o.iAmRemultProxy&&(r=Ct.remultFactory())}for(const o of e)if(ls(o.valueType,!1)&&r){let l=new eN(r.repo(o.valueType),!!Kn(o),o.allowNull);this.lookups.set(o.key,l);let u=t[o.key],f;Object.defineProperty(t,o.key,{get:()=>(this._subscribers&&(this._subscribers.reportObserved(),f||(f=this.fields.find(o.key),f._subscribers||(f._subscribers=new Rh)),f._subscribers.reportObserved()),l.item),set:d=>{var h;l.set(d),(h=this._subscribers)==null||h.reportChanged(),f||(f=this.fields.find(o.key),f._subscribers||(f._subscribers=new Rh)),f._subscribers.reportChanged()},enumerable:!(s!=null&&s.has(o.key))}),l.set(u)}else{const l=Kn(o);if((l==null?void 0:l.type)===\"toOne\"){let u=t.hasOwnProperty(o.key),f=t[o.key];i&&!f&&(u=!1),Object.defineProperty(t,o.key,{get:()=>f,set:d=>{if(f=d,d===void 0)return;const h=o.options;if(h.field&&(this.instance[h.field]=l.toRepo.metadata.idMetadata.getId(d)),h.fields){for(const p in h.fields)if(Object.prototype.hasOwnProperty.call(h.fields,p)){const g=h.fields[p];this.instance[g]=d==null?null:d[p]}}},enumerable:!(s!=null&&s.has(o.key))}),u&&(t[o.key]=f)}}}get error(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._error}set error(e){var t;this._error=e,(t=this._subscribers)==null||t.reportChanged()}subscribe(e){return this.initSubscribers(),this._subscribers.subscribe(e)}initSubscribers(){if(!this._subscribers){this._subscribers=new Rh;const e=this._subscribers;for(const t of this.fieldsMetadata){let r=ls(t.valueType,!1),i=this.fields.find(t.key);if(i._subscribers=new Rh,!(r&&this.remult||Kn(t))){let s=this.instance[t.key];Object.defineProperty(this.instance,t.key,{get:()=>(e.reportObserved(),i._subscribers.reportObserved(),s),set:o=>{s=o,e.reportChanged(),i._subscribers.reportChanged()},enumerable:!0})}}}}get isLoading(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._isLoading}set isLoading(e){var t;this._isLoading=e,(t=this._subscribers)==null||t.reportChanged()}async waitLoad(){await Bc([...this.lookups.values()],e=>e.waitLoad())}__assertValidity(){if(!this.hasErrors())throw this.buildErrorInfoObject()}buildErrorInfoObject(){var t;let e={modelState:Object.assign({},this.errors),message:this.error};if(!e.message){for(const r of this.fieldsMetadata)if((t=this.errors)!=null&&t[r.key]){e.message=this.fields[r.key].metadata.caption+\": \"+this.errors[r.key],this.error=e.message;break}}return new Q4(e)}catchSaveErrors(e){let t=e;if(t instanceof Promise)return t.then(i=>this.catchSaveErrors(i));t.error&&(t=t.error),t.message?this.error=t.message:t.Message?this.error=t.Message:this.error=t;let r=t.modelState;throw r||(r=t.ModelState),r&&(this.errors=r),e}__clearErrorsAndReportChanged(){this.errors=void 0,this.error=void 0,this._reportChangedToEntityAndFields()}_reportChangedToEntityAndFields(){if(this._subscribers){this._subscribers.reportChanged();for(const e of this.fields)e._subscribers.reportChanged()}}hasErrors(){var e;return(e=this._subscribers)==null||e.reportObserved(),!this.error&&this.errors==null}copyDataToObject(e=!1){let t={};for(const r of this.fieldsMetadata){let i=this.lookups.get(r.key),s;const o=Kn(r);i?s=i.id:s=this.instance[r.key],o&&e&&!r.allowNull&&s==null&&(o.toRepo.metadata.idMetadata.field.valueType===Number?s=0:s=\"\"),(!o||o.type===\"reference\")&&(s!==void 0&&(s=r.valueConverter.toJson(s),s!=null&&(s=r.valueConverter.fromJson(JSON.parse(JSON.stringify(s))))),t[r.key]=s)}return t}saveOriginalData(){this.originalValues=this.copyDataToObject(),this.saveMoreOriginalData()}saveMoreOriginalData(){}async validate(){if(this.__clearErrorsAndReportChanged(),await this.__performColumnAndEntityValidations(),this.hasErrors(),!this.hasErrors())return this.buildErrorInfoObject()}async __validateEntity(){this.__clearErrorsAndReportChanged(),await this.__performColumnAndEntityValidations(),this.__assertValidity()}async __performColumnAndEntityValidations(){}toApiJson(e=!1,t=!1){let r={};for(const i of this.fieldsMetadata)if(t||!this.remult||i.includedInApi(this.instance)){let s,o=this.lookups.get(i.key),a=!1;o?e?(s=o.toJson(),a=!0,r[i.key]=s):s=o.id:Kn(i)&&!e?a=!0:(s=this.instance[i.key],this.remult||s&&ls(s.constructor,!1)&&(s=or(s).getId())),a||(r[i.key]=i.valueConverter.toJson(s))}return r}async _updateEntityBasedOnApi(e,t=!1){let r=Object.keys(e);for(const i of this.fieldsMetadata)if(r.includes(i.key)&&i.includedInApi(this.instance)&&(!this.remult||t||i.apiUpdateAllowed(this.instance))){let s=this.lookups.get(i.key);s?s.id=e[i.key]:this.instance[i.key]=i.valueConverter.fromJson(e[i.key])}await Bc([...this.fields].filter(i=>!Kn(i.metadata)),i=>i.load())}}class Ih extends zN{constructor(e,t,r,i,s,o,a){if(super(e.fieldsMetadata,t,s,o,a),this.info=e,this.repo=r,this.edp=i,this._isNew=o,this._wasDeleted=!1,this._saving=!1,this.repository=r,this.metadata=e,o)for(const l of e.fieldsMetadata){const u=l.key;l.options.defaultValue&&t[u]===void 0&&(typeof l.options.defaultValue==\"function\"?t[u]=l.options.defaultValue(t):t[u]||(t[u]=l.options.defaultValue))}this.info.entityInfo.entityRefInit&&this.info.entityInfo.entityRefInit(this,t),Ag.entityRefInit&&Ag.entityRefInit(this,t)}clone(){const e=this.toApiJson(!0,!0);return this.repo.fromJson(e,this.isNew())}get relations(){return this.repo.relations(this.instance)}get apiUpdateAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiUpdate)}get apiDeleteAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiDelete)}get apiInsertAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiInsert)}getId(){const e=t=>{let r=this.lookups.get(t.key);return r?r.id:this.instance[t.key]};return this.metadata.idMetadata.field instanceof Ml?this.metadata.idMetadata.field.getId(e):e(this.metadata.idMetadata.field)}saveMoreOriginalData(){this.originalId=this.getId()}wasDeleted(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._wasDeleted}undoChanges(){this.loadDataFrom(this.originalValues),this.__clearErrorsAndReportChanged()}async reload(){return await this.edp.find({where:await this.getIdFilter()}).then(async e=>{if(e.length===0)throw this.repo._notFoundError(this.id);await this.loadDataFrom(e[0]),this.saveOriginalData()}),this._reportChangedToEntityAndFields(),this.instance}get fields(){if(!this._columns){let e=[],t={find:r=>t[typeof r==\"string\"?r:r.key],[Symbol.iterator]:()=>e[Symbol.iterator](),toArray:()=>e};for(const r of this.info.fieldsMetadata)e.push(t[r.key]=new aC(r.options,r,this.instance,this,this));this._columns=t}return this._columns}async save(e){var t,r;try{if(this._saving)throw new Error(\"cannot save while entity is already saving\");if(this._saving=!0,this.wasDeleted())throw new Error(\"cannot save a deleted row\");this.isLoading=!0,e===void 0&&await this.__validateEntity();let i=!1,s=this.buildLifeCycleEvent(()=>i=!0);if(!this.repo._dataProvider.isProxy){for(const f of this.fields)f.metadata.options.saving&&await f.metadata.options.saving(this.instance,f,s);this.info.entityInfo.saving&&await this.info.entityInfo.saving(this.instance,s)}this.__assertValidity();let o=this.copyDataToObject(this.isNew()),a=[];for(const f of this.metadata.fields)if(f.dbReadOnly||e!==void 0&&!e.includes(f.key)){o[f.key]=void 0,a.push(f.key);let d=this.fields.find(f);d.value=d.originalValue}let l,u=this.isNew();try{if((t=this._subscribers)==null||t.reportChanged(),this.isNew())i?l=(l=await this.edp.find({where:await this.getIdFilter()}))[0]:l=await this.edp.insert(o);else{let f={},d=!1;for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const p=o[h];this.fields.find(h).valueChanged()&&!a.includes(h)&&p!==void 0&&(f[h]=p,d=!0)}if(!d)return this.instance;if(i)l=(await this.edp.find({where:await this.getIdFilter()}))[0];else{if(this.id===void 0)throw new Error(\"Invalid operation, id is undefined\");l=await this.edp.update(this.id,f)}}if(l&&await this.loadDataFrom(l),s.id=this.getId(),!this.repo._dataProvider.isProxy&&(this.info.entityInfo.saved&&await this.info.entityInfo.saved(this.instance,s),this.repo.listeners))for(const f of this.repo.listeners)await((r=f.saved)==null?void 0:r.call(f,this.instance,u));return this.repo._remult.liveQueryPublisher.itemChanged(this.repo.metadata.key,[{id:this.getId(),oldId:this.getOriginalId(),deleted:!1}]),this.saveOriginalData(),this._isNew=!1,this.instance}catch(f){throw await this.catchSaveErrors(f)}}finally{this.isLoading=!1,this._reportChangedToEntityAndFields(),this._saving=!1}}async processInsertResponseDto(e){return await this.loadDataFrom(e),this.saveOriginalData(),this._isNew=!1,this.instance}async buildDtoForInsert(){await this.__validateEntity(),this.__assertValidity();let e=this.copyDataToObject(this.isNew());for(const t of this.metadata.fields)if(t.dbReadOnly){e[t.key]=void 0;let r=this.fields.find(t);r.value=r.originalValue}return e}buildLifeCycleEvent(e=()=>{}){const t=this;return{isNew:t.isNew(),fields:t.fields,id:t.getId(),originalId:t.getOriginalId(),metadata:t.repo.metadata,repository:t.repo,preventDefault:()=>e(),relations:t.repo.relations(t.instance)}}async getIdFilter(){return await this.repo._translateWhereToFilter(this.repo.metadata.idMetadata.getIdFilter(this.id))}async delete(){var r;this.__clearErrorsAndReportChanged();let e=!0,t=this.buildLifeCycleEvent(()=>e=!1);this.repo._dataProvider.isProxy||this.info.entityInfo.deleting&&await this.info.entityInfo.deleting(this.instance,t),this.__assertValidity();try{if(e){if(this.id===void 0)throw new Error(\"Invalid operation, id is undefined\");await this.edp.delete(this.id)}if(this.repo._dataProvider.isProxy||this.info.entityInfo.deleted&&await this.info.entityInfo.deleted(this.instance,t),this.repo.listeners)for(const i of this.repo.listeners)await((r=i.deleted)==null?void 0:r.call(i,this.instance));this.repo._remult.liveQueryPublisher.itemChanged(this.repo.metadata.key,[{id:this.getId(),oldId:this.getOriginalId(),deleted:!0}]),this._wasDeleted=!0}catch(i){throw await this.catchSaveErrors(i)}}async loadDataFrom(e,t){for(const r of this.info.fields){let i=this.lookups.get(r.key);i?(i.id=e[r.key],t===void 0?!r.options.lazy&&!Kn(r)&&await i.waitLoad():t.includes(r)&&await i.waitLoad()):Kn(r)||(e[r.key]===void 0?delete this.instance[r.key]:this.instance[r.key]=e[r.key])}await this.calcServerExpression(),this.id=this.getId()}getOriginalId(){return this.originalId}async calcServerExpression(){if(!this.repo._dataProvider.isProxy){for(const e of this.info.fieldsMetadata)if(e.options.serverExpression){const t=await e.options.serverExpression(this.instance);t!==void 0&&(this.instance[e.key]=t)}}}isNew(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._isNew}wasChanged(){var e;(e=this._subscribers)==null||e.reportObserved();for(const t of this.fields){const r=Kn(t.metadata);if((!r||r.type==\"reference\")&&t.valueChanged())return!0}return!1}async __performColumnAndEntityValidations(){var e;for(const t of this.fieldsMetadata)t.options.validate&&await new aC(t.options,t,this.instance,this,this).__performValidation();if(this.info.entityInfo.validation){let t=this.buildLifeCycleEvent(()=>{});await this.info.entityInfo.validation(this.instance,t)}if(this.repo.listeners)for(const t of this.repo.listeners)await((e=t.validating)==null?void 0:e.call(t,this.instance))}}function VN(n,e){return n.map(t=>XN(t.settings(e),e))}class aC{constructor(e,t,r,i,s){this.settings=e,this.metadata=t,this.container=r,this.helper=i,this.rowBase=s,this.target=this.settings.target,this.entityRef=this.helper}subscribe(e){return this._subscribers||this.rowBase.initSubscribers(),this._subscribers.subscribe(e)}valueIsNull(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id===void 0||e.id===null:this.value===null}originalValueIsNull(){return this.reportObserved(),this.rowBase.lookups.get(this.metadata.key),this.rawOriginalValue()===null}get key(){return this.metadata.key}get repo(){var e;return(e=this.helper)==null?void 0:e.repository}async load(){let e=this.rowBase.lookups.get(this.metadata.key),t=Kn(this.metadata);if(t&&this.helper){if(t.type===\"toMany\")return this.container[this.metadata.key]=await this.repo.relations(this.container)[this.key].find();{let r=await this.repo.relations(this.container)[this.metadata.key].findOne();if(r)this.container[this.metadata.key]=r;else return null}}else if(e)return this.valueChanged()&&await e.waitLoadOf(this.rawOriginalValue()),await e.waitLoad();return this.value}reportObserved(){var e,t;(e=this._subscribers)==null||e.reportObserved(),(t=this.rowBase._subscribers)==null||t.reportObserved()}reportChanged(){var e,t;(e=this._subscribers)==null||e.reportChanged(),(t=this.rowBase._subscribers)==null||t.reportChanged()}get error(){if(this.reportObserved(),!!this.rowBase.errors)return this.rowBase.errors[this.metadata.key]}set error(e){this.rowBase.errors||(this.rowBase.errors={}),this.rowBase.errors[this.metadata.key]=e,this.reportChanged()}get displayValue(){return this.reportObserved(),this.value!=null?this.settings.displayValue?this.settings.displayValue(this.container,this.value):this.metadata.valueConverter.displayValue?this.metadata.valueConverter.displayValue(this.value):this.value.toString():\"\"}get value(){return this.container[this.metadata.key]}set value(e){this.container[this.metadata.key]=e}get originalValue(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.get(this.rawOriginalValue()):this.rowBase.originalValues[this.metadata.key]}rawOriginalValue(){return this.rowBase.originalValues[this.metadata.key]}setId(e){this.value=e}getId(){let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id!=null?e.id:null:this.value}get inputValue(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id!=null?e.id.toString():null:this.metadata.valueConverter.toInput(this.value,this.settings.inputType)}set inputValue(e){let t=this.rowBase.lookups.get(this.metadata.key);t?t.setId(e):this.value=this.metadata.valueConverter.fromInput(e,this.settings.inputType)}valueChanged(){this.reportObserved();let e=this.value,t=this.rowBase.lookups.get(this.metadata.key);return t&&(e=t.id),JSON.stringify(this.metadata.valueConverter.toJson(this.rowBase.originalValues[this.metadata.key]))!=JSON.stringify(this.metadata.valueConverter.toJson(e))}async __performValidation(){var e;try{const t=r=>{r!==!0&&r!==void 0&&!this.error&&(typeof r==\"string\"&&r.length>0?this.error=r:this.error=\"invalid value\")};if(this.settings.validate){let r=this,i={entityRef:this.entityRef,get error(){return r.error},set error(s){r.error=s},isNew:((e=this.entityRef)==null?void 0:e.isNew())??!1,load:()=>r.load(),metadata:r.metadata,originalValue:r.originalValue,value:r.value,valueChanged:()=>r.valueChanged(),originalValueIsNull:()=>r.originalValueIsNull(),valueIsNull:()=>r.valueIsNull(),isBackend:()=>{var s,o,a;return!((a=(o=(s=r.rowBase)==null?void 0:s.remult)==null?void 0:o.dataProvider)!=null&&a.isProxy)}};if(Array.isArray(this.settings.validate))for(const s of this.settings.validate)t(await s(this.container,i));else typeof this.settings.validate==\"function\"&&t(await this.settings.validate(this.container,i))}}catch(t){typeof t==\"string\"?this.error=t:this.error=t==null?void 0:t.message}}async validate(){return await this.__performValidation(),!this.error}}let HN={transformCaption:(n,e,t,r)=>t};const oy=Ct.fieldOptionsEnricher||{enrichFieldOptions:n=>n},qN=Ct.captionTransformer||(Ct.captionTransformer=HN);function eA(n,e,t,r){let i;return typeof n==\"function\"?t&&(i=n(t)):n&&(i=n),i=qN.transformCaption(t,e,i??\"\",r),i||(e?$D(e):\"\")}class WN{constructor(e,t,r){this.settings=e,this.entityDefs=t,this.remult=r,this.readonly=!1,this.isServerExpression=!1,this.options=this.settings,this.target=this.settings.target,this.valueConverter=new Proxy(this.settings.valueConverter??{},{get:(i,s)=>{let o=i[s];return typeof o==\"function\"?(...a)=>{try{return i[s](...a)}catch(l){const u=`${String(s)} failed for value ${a==null?void 0:a[0]}. Error: ${typeof l==\"string\"?l:l.message}`;throw new Q4({message:this.caption+\": \"+u,modelState:{[this.key]:u}})}}:o}}),this.allowNull=!!this.settings.allowNull,this.valueType=this.settings.valueType,this.key=this.settings.key,this.inputType=this.settings.inputType,e.serverExpression&&(this.isServerExpression=!0),typeof this.settings.allowApiUpdate==\"boolean\"&&(this.readonly=this.settings.allowApiUpdate),this.inputType||(this.inputType=this.valueConverter.inputType),this.dbName=e.dbName,this.dbName==null&&(this.dbName=e.key),this.caption=eA(e.caption,e.key,r,t)}apiUpdateAllowed(e){return this.options.allowApiUpdate===void 0?!0:this.remult.isAllowedForInstance(e,this.options.allowApiUpdate)}displayValue(e){return this.entityDefs.getEntityMetadataWithoutBreakingTheEntity(e).fields.find(this.key).displayValue}includedInApi(e){return this.options.includeInApi===void 0?!0:this.remult.isAllowedForInstance(e,this.options.includeInApi)}toInput(e,t){return this.valueConverter.toInput(e,t)}fromInput(e,t){return this.valueConverter.fromInput(e,t)}async getDbName(){return tw(this,this.entityDefs)}get dbReadOnly(){return!!this.settings.dbReadOnly}}class UN{constructor(e,t,r,i,s){if(this.entityInfo=t,this.remult=r,this.entityType=i,this.key=s,this.fieldsMetadata=[],this.idMetadata={getId:a=>{if(a==null)return a;const l=or(a,!1);return l?l.getId():this.idMetadata.field instanceof Ml?this.idMetadata.field.getId(a):a[this.idMetadata.field.key]},field:void 0,get fields(){return this.field instanceof Ml?this.field.fields:[this.field]},createIdInFilter:a=>a.length>0?{$or:a.map(l=>this.idMetadata.getIdFilter(or(l).getId()))}:{[this.fields.toArray()[0].key]:[]},isIdField:a=>a.key==this.idMetadata.field.key,getIdFilter:(...a)=>{if(this.idMetadata.field instanceof Ml){let l=this.idMetadata.field;return a.length==1?l.isEqualTo(a[0]):{$or:a.map(u=>l.isEqualTo(u))}}return a.length==1?{[this.idMetadata.field.key]:a[0]}:{[this.idMetadata.field.key]:a}}},this.options=t,this.options.allowApiCrud!==void 0){let a;typeof this.options.allowApiCrud==\"function\"?a=(l,u)=>this.options.allowApiCrud(u):a=this.options.allowApiCrud,this.options.allowApiDelete===void 0&&(this.entityInfo.allowApiDelete=a),this.options.allowApiInsert===void 0&&(this.entityInfo.allowApiInsert=a),this.options.allowApiUpdate===void 0&&(this.entityInfo.allowApiUpdate=a),this.options.allowApiRead===void 0&&(this.options.allowApiRead=this.options.allowApiCrud)}this.options.allowApiRead===void 0&&(this.options.allowApiRead=!0),this.key||(this.key=i.name),t.dbName||(t.dbName=this.key),this.dbName=t.dbName;let o={find:a=>o[typeof a==\"string\"?a:a.key],[Symbol.iterator]:()=>this.fieldsMetadata[Symbol.iterator](),toArray:()=>this.fieldsMetadata};for(const a of e)this.fieldsMetadata.push(o[a.key]=new WN(a,this,r));if(this.fields=o,this.caption=eA(t.caption,this.key,r,this),t.id){let a=typeof t.id==\"string\"?this.fields.find(t.id):Array.isArray(t.id)?t.id.map(l=>this.fields.find(l)):typeof t.id==\"function\"?t.id(this.fields):Object.keys(t.id).map(l=>this.fields.find(l));Array.isArray(a)?a.length>1?this.idMetadata.field=new Ml(...a):a.length==1&&(this.idMetadata.field=a[0]):this.idMetadata.field=a}if(!this.idMetadata.field){const a=this.fields.id;a?this.idMetadata.field=a:this.idMetadata.field=[...this.fields][0]}}apiUpdateAllowed(e){return this.options.allowApiUpdate===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiUpdateAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiUpdate)}get apiReadAllowed(){return this.options.allowApiRead===void 0?!0:this.remult.isAllowed(this.options.allowApiRead)}apiDeleteAllowed(e){return this.options.allowApiDelete===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiDeleteAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiDelete)}apiInsertAllowed(e){return this.options.allowApiUpdate===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiInsertAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiInsert)}getEntityMetadataWithoutBreakingTheEntity(e){let t=or(e,!1);return t||this.remult.repo(this.entityType).getEntityRef({...e})}getDbName(){return $4(this)}}function KN(n){var e,t;return((t=(e=n.options)==null?void 0:e.valueConverter)==null?void 0:t.fieldTypeInDb)===\"autoincrement\"}const JN=Symbol.for(\"storableMember\"),ay=Symbol.for(\"fieldOptionalValues\");function tA(n,e){var r;let t={};for(const i of n)if(i)if(typeof i==\"function\")i(t,e);else{const{validate:s,...o}=i;t.validate=jp(t.validate,s),Object.assign(t,o)}return(r=oy.enrichFieldOptions)==null||r.call(oy,t),t}function XN(n,e){if(n.valueType){let i=n.valueType[JN];i&&(n=tA([...i,n],e))}if(n.valueType==String){let i=n;n.valueConverter||(i.valueConverter=ti.String)}if(n.valueType==Number){let i=n;n.valueConverter||(i.valueConverter=ti.Number)}if(n.valueType==Date){let i=n;n.valueConverter||(i.valueConverter=ti.Date)}if(n.valueType==Boolean){let i=n;i.valueConverter||(i.valueConverter=ti.Boolean)}if(!n.valueConverter){if(ls(n.valueType,!1)){let s;n.valueConverter={toDb:o=>o,fromDb:o=>o},n.valueConverter=new Proxy(n.valueConverter,{get(o,a){if(o[a]===void 0&&s===void 0){if(a===\"inputType\")return\"\";s=e.repo(n.valueType).metadata.idMetadata.field.valueType===Number;for(const l of[\"fieldTypeInDb\",\"toJson\",\"fromJson\",\"toDb\",\"fromDb\"])o[l]=s?ti.Integer[l]:ti.String[l]}return o[a]},set(o,a,l,u){return o[a]=l,!0}})}else n.valueConverter=ti.Default;return n}n.valueConverter.toJson||(n.valueConverter.toJson=i=>i),n.valueConverter.fromJson||(n.valueConverter.fromJson=i=>i);const t=n.valueConverter.fromJson,r=n.valueConverter.toJson;return n.valueConverter.toDb||(n.valueConverter.toDb=i=>r(i)),n.valueConverter.fromDb||(n.valueConverter.fromDb=i=>t(i)),n.valueConverter.toInput||(n.valueConverter.toInput=i=>r(i)),n.valueConverter.fromInput||(n.valueConverter.fromInput=i=>t(i)),n}class YN{get _(){return or(this)}save(){return or(this).save()}assign(e){return Of(this,e),this}delete(){return this._.delete()}isNew(){return this._.isNew()}get $(){return this._.fields}}class Rh{reportChanged(){this._subscribers&&this._subscribers.forEach(e=>e.reportChanged())}reportObserved(){this._subscribers&&this._subscribers.forEach(e=>e.reportObserved())}subscribe(e){let t;return typeof e==\"function\"?t={reportChanged:()=>e(),reportObserved:()=>{}}:t=e,this._subscribers||(this._subscribers=[]),this._subscribers.push(t),()=>this._subscribers=this._subscribers.filter(r=>r!=t)}}function GN(n){return n.metadata?n.metadata:ls(n,!1)?Xi.repo(n).metadata:n}function QN(n){return ls(n,!1)?Xi.repo(n):n}async function Bc(n,e){const t=[];for(let r=0;r<n.length;r++){const i=n[r];t.push(await e(i,r))}return t}const lC=Bp(n=>!isNaN(n)&&isFinite(n));class Fc{static object(...e){return Oi(void 0,...e)}static json(...e){let t=e;return t.valueConverter&&!t.valueConverter.fieldTypeInDb&&(t.valueConverter.fieldTypeInDb=\"json\"),Oi(void 0,{valueConverter:{fieldTypeInDb:\"json\"}},...e)}static dateOnly(...e){return Oi(()=>Date,{valueConverter:ti.DateOnly},...e)}static date(...e){return Oi(()=>Date,...e)}static integer(...e){return Oi(()=>Number,{valueConverter:ti.Integer,validate:lC},...e)}static autoIncrement(...e){return Oi(()=>Number,{allowApiUpdate:!1,dbReadOnly:!0,valueConverter:{...ti.Integer,fieldTypeInDb:\"autoincrement\"}},...e)}static number(...e){return Oi(()=>Number,{validate:lC},...e)}static createdAt(...e){return Oi(()=>Date,{allowApiUpdate:!1,saving:(t,r,{isNew:i})=>{i&&(r.value=new Date)}},...e)}static updatedAt(...e){return Oi(()=>Date,{allowApiUpdate:!1,saving:(t,r)=>{r.value=new Date}},...e)}static uuid(...e){return Oi(()=>String,{allowApiUpdate:!1,defaultValue:()=>j0(),saving:(t,r)=>{r.value||(r.value=j0())}},...e)}static cuid(...e){return Oi(()=>String,{allowApiUpdate:!1,defaultValue:()=>$x.createId(),saving:(t,r)=>{r.value||(r.value=$x.createId())}},...e)}static literal(e,...t){return Fc.string({validate:(r,i)=>Yo.in(e())(r,i),[ay]:e},...t)}static enum(e,...t){let r;return Oi(()=>e(),{validate:(i,s)=>Yo.enum(e())(i,s),[ay]:()=>Fp(e())},...t,i=>{if(i[ay]=()=>Fp(e()),r===void 0){let s=e();r=Fp(s).find(a=>typeof a==\"string\")?ti.String:ti.Integer}i.valueConverter?i.valueConverter.fieldTypeInDb||(i.valueConverter.fieldTypeInDb=r.fieldTypeInDb):i.valueConverter=r})}static string(...e){return Oi(()=>String,...e)}static boolean(...e){return Oi(()=>Boolean,...e)}}function Oi(n,...e){return(t,r,i)=>{const s=typeof r==\"string\"?r:r.name.toString();let o=u=>{let f=tA(e,u);if(f.required&&(f.validate=jp(f.validate,Yo.required,!0)),$c(f,\"maxLength\")){let h=f;h.maxLength&&(h.validate=jp(h.validate,Yo.maxLength(h.maxLength)))}if($c(f,\"minLength\")){let h=f;h.minLength&&(h.validate=jp(h.validate,Yo.minLength(h.minLength)))}!f.valueType&&n&&(f.valueType=n()),f.key||(f.key=s),f.dbName||(f.dbName=f.key);let d=f.valueType;return d||(d=typeof Reflect.getMetadata==\"function\"?Reflect.getMetadata(\"design:type\",t,s):[],f.valueType=d),f.target||(f.target=t),f};ZN(t);let a=Ct.columnsOfType.get(t.constructor);a||(a=[],Ct.columnsOfType.set(t.constructor,a));let l=a.find(u=>u.key==s);if(!l)a.push({key:s,settings:o});else{let u=l.settings;l.settings=f=>{let d=u(f),h=o(f);return Object.assign(d,h)}}}}function ZN(n){if(!n)throw new Error(\"Set the 'experimentalDecorators:true' option in your 'tsconfig' or 'jsconfig' (target undefined)\")}function $N(n,...e){return(t,r)=>{let i=t;for(;i!=null;){for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=t[o];a!=null&&a.rawFilterInfo&&(a.rawFilterInfo.key||(a.rawFilterInfo.key=o))}i=Object.getPrototypeOf(i)}let s=o=>{let a={};for(const u of e)u&&(typeof u==\"function\"?u(a,o):Object.assign(a,u));let l=Object.getPrototypeOf(t);if(l){let u=ls(l,!1);if(u){let f=u(o);f&&(a={...f,...a})}}return a};return Ct.allEntities.push(t),AN(t,{key:n}),t[U4]=s,t[K4]=n,t}}const eL=n=>{const e=[];for(let t=0;t<n;t++){const r=t*360/n;e.push(r)}return e};class tL{constructor(e){Lv(this,\"tables\");const t=eL(e.length);this.tables=e.sort((r,i)=>r.caption.localeCompare(i.caption)).map((r,i)=>{r.color=t[i%t.length];class s{}for(const o of r.fields)switch(o.type){case\"json\":Fc.json()(s.prototype,o.key);break;case\"number\":Fc.number()(s.prototype,o.key);break;case\"boolean\":Fc.boolean()(s.prototype,o.key);break;default:Fc.string()(s.prototype,o.key);break}return $N(r.key,{allowApiCrud:!0,caption:r.caption,id:r.ids})(s),{...r,repo:Xi.repo(s)}})}async getItemsForSelect(e,t){const r=this.tables.find(l=>l.key==e.entityKey);if(!r)return{items:[],$count:0};const i=r.repo,s=t?{[e.captionField]:{$contains:t}}:void 0,[o,a]=await Promise.all([i.find({limit:11,orderBy:{[e.captionField]:\"asc\"},where:s}),i.count(s)]);return{items:o.map(l=>({id:l[e.idField],caption:l[e.captionField]})),$count:a}}async displayValueFor(e,t){const r=e.relationToOne,i=this.tables.find(o=>o.key==r.entityKey);if(!i)return\"Forbidden - \"+t;const s=await i.repo.findId(t);return s?s[r.captionField]?s[r.captionField]:`Can't display ${r.captionField} - ${t}`:t!==void 0?\"not found - \"+t:\"-\"}async displayValueForEach(e,t){const r=e.relationToOne,i=this.tables.find(o=>o.key==r.entityKey);if(!i)return{[e.valFieldKey]:new Map(t.map(o=>[o[e.valFieldKey],`Forbidden (${o[e.valFieldKey]})`]))};const s=await i.repo.find({where:{[r.idField]:{$in:t.map(o=>o[e.valFieldKey])}}});return!s||s.length==0?{[e.valFieldKey]:new Map(t.map(o=>[o[e.valFieldKey],`not found (${o[e.valFieldKey]})`]))}:{[e.valFieldKey]:new Map(s.map(o=>[o.id,o[r.captionField]]))}}getTables(e){return(this.tables??[]).filter(t=>(e.settings.dispayCaption?t.caption:t.key).toLowerCase().includes(e.settings.search.toLowerCase()))}}const nA=typeof window<\"u\",W0=\"LSRemultAdmin_2024_08_29\",Eg={currentLocationHash:\"/\",schema:{},settings:{search:\"\",dispayCaption:!0,confirmDelete:!0,diagramLayoutAlgorithm:\"grid-dfs\",keyForBearerAuth:\"\",apiUrl:\"/api\"}},nL=nA&&JSON.parse(localStorage.getItem(W0))||Eg,rL=()=>{const{set:n,subscribe:e,update:t}=ht(nL);return{set:n,subscribe:e,update:t,reset:()=>{n(Eg),window.location.reload()}}},Sr=rL();Sr.subscribe(n=>{nA&&(n?localStorage.setItem(W0,JSON.stringify(n)):localStorage.setItem(W0,JSON.stringify(Eg)))});function rA(n,e,t){return n.settings.bearerAuth?{...t==null?void 0:t.headers,authorization:\"Bearer \"+n.settings.bearerAuth}:e.settings.keyForBearerAuth?{...t==null?void 0:t.headers,authorization:\"Bearer \"+localStorage.getItem(e.settings.keyForBearerAuth)}:t==null?void 0:t.headers}const iA=typeof window<\"u\",U0=\"SSRemultAdmin_2024_08_23\",Tg={settings:{bearerAuth:\"\"},forbiddenEntities:[]},iL=iA&&JSON.parse(sessionStorage.getItem(U0))||Tg,sL=()=>{const{set:n,subscribe:e,update:t}=ht(iL);return{set:n,subscribe:e,update:t,reset:()=>{n(Tg),window.location.reload()}}},Ka=sL();Ka.subscribe(n=>{iA&&(n?localStorage.setItem(U0,JSON.stringify(n)):localStorage.setItem(U0,JSON.stringify(Tg)))});function oL(){const{subscribe:n,set:e}=ht(),t=()=>{const r=Ze(Sr),i=Ze(Ka),s=r.settings.apiUrl;Xi.apiClient.url=s,Xi.initUser().then(()=>{fetch(`${s}/admin/__entities-metadata`,{headers:rA(i,r)}).then(o=>o.json()).then(o=>{e(new tL(o))})})};return t(),{subscribe:n,reloadEntities:t}}const ga=oL();var aL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><g fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M6.04.5H3.584a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3H6.04z\"></path><path d=\"M2.289 4.479a1.023 1.023 0 1 0 2.046 0a1.023 1.023 0 1 0-2.046 0M7.96 13.5h2.455a3 3 0 0 0 3-3v-7a3 3 0 0 0-3-3H7.96z\"></path><path d=\"M11.71 8.565a1.023 1.023 0 1 0-2.046 0a1.023 1.023 0 1 0 2.046 0\"></path></g></svg>');function lL(n){var e=aL();B(n,e)}var cL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M1.5 2a1 1 0 0 0-1 1v9.5a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-2M.5 5.5h13m-10-5v3m7-3v3M3.5 2h5\"></path></svg>');function uL(n){var e=cL();B(n,e)}var fL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.977 1.125H5.59a1 1 0 0 0-1 1v2.77a2 2 0 0 1-.92 1.684l-.804.515l.803.515a2 2 0 0 1 .921 1.684v2.77a1 1 0 0 0 1 1h.386m2.39-11.938h.386a1 1 0 0 1 1 1v2.77a2 2 0 0 0 .92 1.684l.804.515l-.804.515a2 2 0 0 0-.92 1.684v2.77a1 1 0 0 1-1 1h-.386\"></path></svg>');function sA(n){var e=fL();B(n,e)}var dL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M1 3a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1m3.5-.5h9M1 7.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1M4.5 7h9M1 12a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1m3.5-.5h9\"></path></svg>');function hL(n){var e=dL();B(n,e)}var pL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M.5 4.25h13m-13 5.5h13M11.25.5l-2.5 13m-3-13l-2.5 13\"></path></svg>');function gL(n){var e=pL();B(n,e)}var mL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><path fill=\"gray\" d=\"M212 56v32a12 12 0 0 1-24 0V68h-48v120h20a12 12 0 0 1 0 24H96a12 12 0 0 1 0-24h20V68H68v20a12 12 0 0 1-24 0V56a12 12 0 0 1 12-12h144a12 12 0 0 1 12 12\"></path></svg>');function vL(n){var e=mL();B(n,e)}function oA(n,e){let t=y(e,\"type\",3,\"string\"),r=y(e,\"isSelect\",3,!1);var i=Ue(),s=be(i);{var o=l=>{lL(l)},a=l=>{var u=Ue(),f=be(u);{var d=p=>{hL(p)},h=p=>{var g=Ue(),m=be(g);{var b=w=>{sA(w)},v=w=>{var k=Ue(),x=be(k);{var C=A=>{gL(A)},T=A=>{var O=Ue(),R=be(O);{var D=I=>{uL(I)},E=I=>{vL(I)};oe(R,I=>{t()===\"date\"?I(D):I(E,!1)},!0)}B(A,O)};oe(x,A=>{t()===\"number\"?A(C):A(T,!1)},!0)}B(w,k)};oe(m,w=>{t()===\"json\"?w(b):w(v,!1)},!0)}B(p,g)};oe(f,p=>{r()?p(d):p(h,!1)},!0)}B(l,u)};oe(s,l=>{t()===\"boolean\"?l(o):l(a,!1)})}B(n,i)}var yL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><g fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M5.62 7.38L11.5 1.5l2 2m-4.25.25L11 5.5\"></path><path d=\"M3.5 12.5a3 3 0 1 0 0-6a3 3 0 0 0 0 6\"></path></g></svg>');function aA(n){var e=yL();B(n,e)}var bL=ee('<div class=\"entity-field svelte-6slv8o\"><!> <!> <span> <span><!> <!></span></span> <!> <!></div>'),wL=ee('<div class=\"entity-node svelte-6slv8o\"><div class=\"entity-name svelte-6slv8o\"> </div> <div class=\"entity-fields svelte-6slv8o\"></div></div>');function xL(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(Sr,\"$LSContext\",t),s=()=>e.data.fields;var o=wL(),a=V(o),l=V(a),u=K(a,2);Dt(u,21,s,un,(f,d)=>{var h=bL(),p=V(h);const g=Fn(()=>`${c(d).key}-source-left`);Na(p,{type:\"source\",get position(){return Rt.Left},get id(){return c(g)}});var m=K(p,2);const b=Fn(()=>`${c(d).key}-target-left`);Na(m,{type:\"target\",get position(){return Rt.Left},get id(){return c(b)}});var v=K(m,2),w=V(v),k=K(w),x=V(k);{var C=I=>{aA(I)};oe(x,I=>{Object.keys(e.data.ids).includes(c(d).key)&&I(C)})}var T=K(x,2);const A=Fn(()=>c(d).values&&c(d).values.length>0);oA(T,{get type(){return c(d).type},get isSelect(){return c(A)}});var O=K(v,2);const R=Fn(()=>`${c(d).key}-source-right`);Na(O,{type:\"source\",get position(){return Rt.Right},get id(){return c(R)}});var D=K(O,2);const E=Fn(()=>`${c(d).key}-target-right`);Na(D,{type:\"target\",get position(){return Rt.Right},get id(){return c(E)}}),pe(I=>{Ee(v,\"style\",`display: flex; justify-content: space-between; ${I??\"\"}`),Ke(w,`${(i().settings.dispayCaption?c(d).caption:c(d).key)??\"\"} `)},[()=>Object.keys(e.data.ids).includes(c(d).key)?\"font-weight: bold;\":\"\"]),B(f,h)}),pe(()=>{Ee(o,\"style\",`--color: ${e.data.color??\"\"}`),Ke(l,e.data.caption)}),B(n,o),Ie(),r()}var CL=ee(\"<!> <!> <!>\",1),SL=ee('<div style=\"height:100vh;\"><!></div>');function _L(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(Sr,\"$LSContext\",t),s=()=>Ae(ga,\"$godStore\",t),o=()=>Ae(l,\"$nodes\",t),a=()=>Ae(u,\"$edges\",t),l=ht([]),u=ht([]),f={entity:xL},d=(R,D)=>{const E=i().settings.diagramLayoutAlgorithm,I=R.getTables(D),P=h(E,I),_=Math.ceil(Math.sqrt(I.length+I.length)),L=[],M=Array(_).fill(0);let N=0;P.forEach(F=>{F.forEach(j=>{var Q;const Y=(Q=i().schema)==null?void 0:Q[j.key];let ie;Y?ie={x:i().schema[j.key].x,y:i().schema[j.key].y}:(ie=m(N,j.fields.length,E,M),qi(Sr,Ft(i).schema={...i().schema,[j.key]:{x:ie.x,y:ie.y}},Ft(i)),N++),L.push({id:j.repo.metadata.key,position:ie,data:j,type:\"entity\"})})}),l.set(L),v()};function h(R,D){const E=[],I=new Set;return D.forEach(P=>{if(!I.has(P.key)){const _=[];R===\"grid-dfs\"?g(P,_,I):p(P,_,I),E.push(_)}}),E}function p(R,D,E){const I=[R];for(;I.length>0;){const P=I.shift();E.has(P.key)||(E.add(P.key),D.push(P),P.fields.forEach(_=>{if(_.relationToOne){const L=s().getTables(i()).find(M=>M.key===_.relationToOne.entityKey);L&&!E.has(L.key)&&I.push(L)}}),P.relations.forEach(_=>{const L=s().getTables(i()).find(M=>M.key===_.entityKey);L&&!E.has(L.key)&&I.push(L)}))}}function g(R,D,E){E.add(R.key),D.push(R),R.fields.forEach(I=>{if(I.relationToOne){const P=s().getTables(i()).find(_=>_.key===I.relationToOne.entityKey);P&&!E.has(P.key)&&g(P,D,E)}}),R.relations.forEach(I=>{const P=s().getTables(i()).find(_=>_.key===I.entityKey);P&&!E.has(P.key)&&g(P,D,E)})}function m(R,D,E,I){switch(E){case\"grid-dfs\":return b(D,I);case\"grid-bfs\":return b(D,I);default:return{x:R*300,y:0}}}function b(R,D){const _=D.indexOf(Math.min(...D)),L=_*400,M=D[_];return D[_]+=R*40+200,{x:L,y:M}}function v(){var R;for(const D of s().getTables(i())){for(const E of D.fields)E.relationToOne&&w(D,(R=E.relationToOne)==null?void 0:R.entityKey,E.relationToOne.fields);for(const E of D.relations)s().getTables(i()).find(P=>P.key===E.entityKey)&&w(D,E.entityKey,E.fields)}}function w(R,D,E){const I=s().getTables(i()).find(P=>P.key===D);if(I){const P=o().find(M=>M.id===R.key),_=o().find(M=>M.id===I.key),L=[];for(const M in E)if(Object.prototype.hasOwnProperty.call(E,M)){const N=E[M];L.push({id:`${R.key}-${N}-to-one-${P.id}-${_.id}`,source:P.id,target:_.id,...k(P,_,N,M),markerEnd:{type:cd.ArrowClosed,strokeWidth:4}})}Rs(u,[...a().filter(M=>!L.map(N=>N.id).includes(M.id)),...L])}}function k(R,D,E,I){return{sourceHandle:x(E)+\"-source-\"+(R.position.x>D.position.x?\"left\":\"right\"),targetHandle:x(I)+\"-target-\"+(R.position.x>D.position.x?\"right\":\"left\")}}function x(R){const D=R.split(\"-\");return D[D.length-2]===\"source\"||D[D.length-2]===\"target\"?D.slice(0,D.length-2).join(\"-\"):R}const C=R=>{v()},T=R=>{qi(Sr,Ft(i).schema={...i().schema,[R.detail.targetNode.id]:{x:R.detail.targetNode.position.x,y:R.detail.targetNode.position.y}},Ft(i))};ts(()=>{s()&&i()&&d(s(),i())}),Ne();var A=SL(),O=V(A);fD(O,{nodes:l,edges:u,nodeTypes:f,fitView:!0,snapGrid:[16,16],minZoom:.01,$$events:{nodedrag:C,nodedragstop:T},children:(R,D)=>{var E=CL(),I=be(E);ID(I,{patternColor:\"#aaa\",gap:16});var P=K(I,2);kD(P,{});var _=K(P,2);BD(_,{zoomable:!0,pannable:!0,height:120}),B(R,E)},$$slots:{default:!0}}),B(n,A),Ie(),r()}var kL=ee('<div style=\"height:100vh;\"><div class=\"msg svelte-yni9t8\">Ho Nooo !</div> <div class=\"msg svelte-yni9t8\">- 404 -</div></div>');function AL(n){var e=kL();B(n,e)}var OL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3\"></path></svg>');function EL(n){var e=OL();Ee(e,\"stroke-width\",1.5),B(n,e)}var TL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m8.25 4.5 7.5 7.5-7.5 7.5\"></path></svg>');function lA(n){var e=TL();Ee(e,\"stroke-width\",1.5),B(n,e)}var ML=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"></path></svg>');function cA(n,e){let t=y(e,\"size\",3,\"1em\");var r=ML();Ee(r,\"stroke-width\",1.5),pe(()=>{Ee(r,\"width\",t()),Ee(r,\"height\",t())}),B(n,r)}var PL=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12\"></path></svg>');function IL(n){var e=PL();Ee(e,\"stroke-width\",1.5),B(n,e)}const RL=()=>{const{subscribe:n,update:e}=ht([]),t=(r,i)=>{let s;const o=new Promise(a=>{s=a});return e(a=>[...a,{...r,resolve:s,type:i}]),o};return{confirm:r=>t({config:{title:\"Confirm\",buttonSuccess:\"Confirm\"},children:`\n          \t<p>${r}</p>\n          `},\"confirm\"),confirmDelete:r=>t({config:{title:\"Confirm delete\",description:\"This action can't be undone.\",buttonSuccess:\"Confirm delete\",isWarning:!0},children:r?`Remove : <p>- <b>${r}</b></p>`:\"\"},\"confirmDelete\"),show:r=>t(r,\"custom\"),close:r=>{e(i=>(i[i.length-1].resolve(r),i.pop(),i))},closeAll:()=>{e(r=>(r.forEach(i=>{i.resolve({success:!1})}),[]))},subscribe:n}},yo=RL();var DL=ee('<span class=\"total-count\"> </span>'),NL=(n,e,t)=>e(c(t).id),LL=ee('<button class=\"svelte-177wg27\"><span style=\"width: 100%; text-align: left;\"> </span></button>'),BL=(n,e)=>e(null),FL=ee('<form><input placeholder=\"Search\" class=\"svelte-177wg27\"></form> <div class=\"result-count svelte-177wg27\"><span> </span> <!></div> <div class=\"dialog-list svelte-177wg27\"><!> <button style=\"color: rgb(var(--color-black) / 0.5); margin-top: 1rem;\" class=\"svelte-177wg27\"><span style=\"width: 100%; text-align: left;\">- Unset -</span></button></div>',1);function jL(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(ga,\"$godStore\",t),s=()=>Ae(l,\"$items\",t),o=()=>Ae(u,\"$count\",t),a=()=>Ae(f,\"$search\",t),l=ht([]),u=ht(0),f=ht(\"\"),d=async R=>{const D=await i().getItemsForSelect(e.relation,R);Rs(l,Wt(D.items)),Rs(u,Wt(D.$count))};ts(()=>{e.relation&&d(a())});function h(R){R.preventDefault();let D;l.subscribe(E=>D=E),(D==null?void 0:D.length)===1&&e.onSelect(D[0].id)}function p(R){e.onSelect(R)}var g=FL(),m=be(g),b=V(m),v=K(m,2),w=V(v),k=V(w),x=K(w,2);{var C=R=>{var D=DL(),E=V(D);pe(()=>Ke(E,`/ ${o()??\"\"}`)),B(R,D)};oe(x,R=>{o()>s().length&&R(C)})}var T=K(v,2),A=V(T);Dt(A,1,s,un,(R,D)=>{var E=LL();E.__click=[NL,p,D];var I=V(E),P=V(I);pe(()=>Ke(P,c(D).caption??\"Can't display\")),B(R,E)});var O=K(A,2);O.__click=[BL,p],pe(()=>Ke(k,s().length)),ve(\"submit\",m,h),Ji(b,a,R=>Rs(f,R)),B(n,g),Ie(),r()}pa([\"click\"]);var zL=ee('<span class=\"skeleton svelte-1syc90w\"></span>');function uA(n,e){let t=y(e,\"width\",3,120);var r=zL();pe(()=>Ee(r,\"style\",`--width: ${t()??\"\"}px`)),B(n,r)}var VL=ee('<input value=\"\" disabled style=\"opacity: 0.5; background-color: Gainsboro; cursor: not-allowed;\">'),HL=(n,e,t)=>{yo.show({config:{title:`${e.info.caption} selection`,width:\"400px\"},component:jL,props:{relation:e.info.relationToOne,onSelect:t}})},qL=ee('<button class=\"naked-button svelte-1ualm2c\"><div class=\"btn-txt svelte-1ualm2c\"><span></span> <!></div></button>');function fA(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(ga,\"$godStore\",t);let s=y(e,\"value\",15),o=y(e,\"relationsToOneValues\",19,()=>({})),a=ss(void 0);const l=il();function u(v){l(\"change\",{_data:v})}const f=async v=>{v===null?S(a,\"- Unset -\"):(S(a,Wt(o()[e.info.valFieldKey]&&o()[e.info.valFieldKey].get(s()))),c(a)===void 0&&S(a,Wt(await i().displayValueFor(e.info,s()))))},d=()=>{const v=Math.random();return v>.6?120:v>.3?100:70},h=v=>{s(v),u(s()),yo.close({success:!0,data:{value:s()}})};ts(()=>{f(s())});var p=Ue(),g=be(p);{var m=v=>{var w=VL();B(v,w)},b=v=>{var w=qL();w.__click=[HL,e,h];var k=V(w),x=K(V(k),2);{var C=A=>{const O=Fn(d);uA(A,{get width(){return c(O)}})},T=A=>{var O=Ar();pe(()=>Ke(O,c(a))),B(A,O)};oe(x,A=>{c(a)===void 0?A(C):A(T,!1)})}B(v,w)};oe(g,v=>{(c(a)??\"\").startsWith(\"Can't display\")?v(m):v(b,!1)})}B(n,p),Ie(),r()}pa([\"click\"]);function Tr(n,e=WL(n)){if(!e)return UL;const t=JL(n);return function(...i){console.log(`%c${n}`,`color:${t}`,...i)}}function WL(n){const e=KL(\"debug\");return e!=null&&e.endsWith(\"*\")?n.startsWith(e.slice(0,-1)):n===e}function UL(){}function KL(n){try{if(typeof window<\"u\"&&typeof window.localStorage<\"u\")return window.localStorage[n]}catch{}}function JL(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return cC[Math.abs(e)%cC.length]}const cC=[\"#0000CC\",\"#0099FF\",\"#009400\",\"#8dd200\",\"#CCCC00\",\"#CC9933\",\"#ae04e7\",\"#ff35d7\",\"#FF3333\",\"#FF6600\",\"#FF9933\",\"#FFCC33\"];let uC=0;function jc(){return uC++,uC}function er(n){return Array.isArray(n)}function ur(n){return n!==null&&typeof n==\"object\"&&(n.constructor===void 0||n.constructor.name===\"Object\")}function dA(n){return n&&typeof n==\"object\"?n.op===\"add\":!1}function hA(n){return n&&typeof n==\"object\"?n.op===\"remove\":!1}function rw(n){return n&&typeof n==\"object\"?n.op===\"replace\":!1}function K0(n){return n&&typeof n==\"object\"?n.op===\"copy\":!1}function wu(n){return n&&typeof n==\"object\"?n.op===\"move\":!1}function XL(n,e){return JSON.stringify(n)===JSON.stringify(e)}function YL(n,e){return n===e}function pA(n){return n.slice(0,n.length-1)}function GL(n){return n[n.length-1]}function QL(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YL;if(n.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!t(n[r],e[r]))return!1;return!0}function gA(n){return typeof n==\"object\"&&n!==null}function iw(n){if(er(n)){const e=n.slice();return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else if(ur(n)){const e={...n};return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else return n}function sw(n,e,t){if(n[e]===t)return n;{const r=iw(n);return r[e]=t,r}}function st(n,e){let t=n,r=0;for(;r<e.length;)ur(t)?t=t[e[r]]:er(t)?t=t[parseInt(e[r])]:t=void 0,r++;return t}function Mi(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;const i=e[0],s=Mi(n?n[i]:void 0,e.slice(1),t,r);if(ur(n)||er(n))return sw(n,i,s);if(r){const o=ZL.test(i)?[]:{};return o[i]=s,o}else throw new Error(\"Path does not exist\")}const ZL=/^\\d+$/;function ow(n,e,t){if(e.length===0)return t(n);if(!gA(n))throw new Error(\"Path doesn't exist\");const r=e[0],i=ow(n[r],e.slice(1),t);return sw(n,r,i)}function Um(n,e){if(e.length===0)return n;if(!gA(n))throw new Error(\"Path does not exist\");if(e.length===1){const i=e[0];if(i in n){const s=iw(n);return er(s)&&s.splice(parseInt(i),1),ur(s)&&delete s[i],s}else return n}const t=e[0],r=Um(n[t],e.slice(1));return sw(n,t,r)}function aw(n,e,t){const r=e.slice(0,e.length-1),i=e[e.length-1];return ow(n,r,s=>{if(!Array.isArray(s))throw new TypeError(\"Array expected at path \"+JSON.stringify(r));const o=iw(s);return o.splice(parseInt(i),0,t),o})}function cs(n,e){return n===void 0?!1:e.length===0?!0:n===null?!1:cs(n[e[0]],e.slice(1))}function ms(n){const e=n.split(\"/\");return e.shift(),e.map(t=>t.replace(/~1/g,\"/\").replace(/~0/g,\"~\"))}function mt(n){return n.map(mA).join(\"\")}function mA(n){return\"/\"+String(n).replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function fC(n,e){return n+mA(e)}function Ds(n,e,t){let r=n;for(let i=0;i<e.length;i++){oB(e[i]);let s=e[i];if(t&&t.before){const l=t.before(r,s);if(l!==void 0){if(l.document!==void 0&&(r=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property \".json\" has been renamed to \".document\"');l.operation!==void 0&&(s=l.operation)}}const o=r,a=Ns(r,s.path);if(s.op===\"add\")r=tB(r,a,s.value);else if(s.op===\"remove\")r=eB(r,a);else if(s.op===\"replace\")r=$L(r,a,s.value);else if(s.op===\"copy\")r=nB(r,a,J0(s.from));else if(s.op===\"move\")r=rB(r,a,J0(s.from));else if(s.op===\"test\")iB(r,a,s.value);else throw new Error(\"Unknown JSONPatch operation \"+JSON.stringify(s));if(t&&t.after){const l=t.after(r,s,o);l!==void 0&&(r=l)}}return r}function $L(n,e,t){return Mi(n,e,t)}function eB(n,e){return Um(n,e)}function tB(n,e,t){return Zd(n,e)?aw(n,e,t):Mi(n,e,t)}function nB(n,e,t){const r=st(n,t);if(Zd(n,e))return aw(n,e,r);{const i=st(n,t);return Mi(n,e,i)}}function rB(n,e,t){const r=st(n,t),i=Um(n,t);return Zd(i,e)?aw(i,e,r):Mi(i,e,r)}function iB(n,e,t){if(t===void 0)throw new Error(`Test failed: no value provided (path: \"${mt(e)}\")`);if(!cs(n,e))throw new Error(`Test failed: path not found (path: \"${mt(e)}\")`);const r=st(n,e);if(!XL(r,t))throw new Error(`Test failed, value differs (path: \"${mt(e)}\")`)}function Zd(n,e){if(e.length===0)return!1;const t=st(n,pA(e));return Array.isArray(t)}function sB(n,e){if(GL(e)!==\"-\")return e;const t=pA(e),r=st(n,t);return t.concat(r.length)}function oB(n){if(![\"add\",\"remove\",\"replace\",\"copy\",\"move\",\"test\"].includes(n.op))throw new Error(\"Unknown JSONPatch op \"+JSON.stringify(n.op));if(typeof n.path!=\"string\")throw new Error('Required property \"path\" missing or not a string in operation '+JSON.stringify(n));if((n.op===\"copy\"||n.op===\"move\")&&typeof n.from!=\"string\")throw new Error('Required property \"from\" missing or not a string in operation '+JSON.stringify(n))}function Ns(n,e){return sB(n,ms(e))}function J0(n){return ms(n)}function vA(n,e,t){let r=[];return Ds(n,e,{before:(s,o)=>{let a;const l=Ns(s,o.path);if(o.op===\"add\")a=wA(s,l);else if(o.op===\"remove\")a=bA(s,l);else if(o.op===\"replace\")a=yA(s,l);else if(o.op===\"copy\")a=aB(s,l);else if(o.op===\"move\")a=lB(s,l,J0(o.from));else if(o.op===\"test\")a=[];else throw new Error(\"Unknown JSONPatch operation \"+JSON.stringify(o));let u;if(t&&t.before){const f=t.before(s,o,a);if(f&&f.revertOperations&&(a=f.revertOperations),f&&f.document&&(u=f.document),f&&f.json)throw new Error('Deprecation warning: returned object property \".json\" has been renamed to \".document\"')}if(r=a.concat(r),u!==void 0)return{document:u}}}),r}function yA(n,e){return[{op:\"replace\",path:mt(e),value:st(n,e)}]}function bA(n,e){return[{op:\"add\",path:mt(e),value:st(n,e)}]}function wA(n,e){return Zd(n,e)||!cs(n,e)?[{op:\"remove\",path:mt(e)}]:yA(n,e)}function aB(n,e){return wA(n,e)}function lB(n,e,t){if(e.length<t.length&&QL(t,e))return[{op:\"replace\",path:mt(e),value:n}];const r={op:\"move\",from:mt(e),path:mt(t)};return!Zd(n,e)&&cs(n,e)?[r,...bA(n,e)]:[r]}var Dh={},dC;function cB(){if(dC)return Dh;dC=1;var n={b:\"\\b\",f:\"\\f\",n:`\n`,r:\"\\r\",t:\"\t\",'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\"},e=97;Dh.parse=function(g,m,b){var v={},w=0,k=0,x=0,C=b&&b.bigint&&typeof BigInt<\"u\";return{data:T(\"\",!0),pointers:v};function T(te,U){A();var se;N(te,\"value\");var le=P();switch(le){case\"t\":I(\"rue\"),se=!0;break;case\"f\":I(\"alse\"),se=!1;break;case\"n\":I(\"ull\"),se=null;break;case'\"':se=O();break;case\"[\":se=D(te);break;case\"{\":se=E(te);break;default:_(),\"-0123456789\".indexOf(le)>=0?se=R():Y()}return N(te,\"valueEnd\"),A(),U&&x<g.length&&Y(),se}function A(){e:for(;x<g.length;){switch(g[x]){case\" \":k++;break;case\"\t\":k+=4;break;case\"\\r\":k=0;break;case`\n`:k=0,w++;break;default:break e}x++}}function O(){for(var te=\"\",U;U=P(),U!='\"';)U==\"\\\\\"?(U=P(),U in n?te+=n[U]:U==\"u\"?te+=L():ie()):te+=U;return te}function R(){var te=\"\",U=!0;g[x]==\"-\"&&(te+=P()),te+=g[x]==\"0\"?P():M(),g[x]==\".\"&&(te+=P()+M(),U=!1),(g[x]==\"e\"||g[x]==\"E\")&&(te+=P(),(g[x]==\"+\"||g[x]==\"-\")&&(te+=P()),te+=M(),U=!1);var se=+te;return C&&U&&(se>Number.MAX_SAFE_INTEGER||se<Number.MIN_SAFE_INTEGER)?BigInt(te):se}function D(te){A();var U=[],se=0;if(P()==\"]\")return U;for(_();;){var le=te+\"/\"+se;U.push(T(le)),A();var W=P();if(W==\"]\")break;W!=\",\"&&ie(),A(),se++}return U}function E(te){A();var U={};if(P()==\"}\")return U;for(_();;){var se=j();P()!='\"'&&ie();var le=O(),W=te+\"/\"+p(le);F(W,\"key\",se),N(W,\"keyEnd\"),A(),P()!=\":\"&&ie(),A(),U[le]=T(W),A();var ce=P();if(ce==\"}\")break;ce!=\",\"&&ie(),A()}return U}function I(te){for(var U=0;U<te.length;U++)P()!==te[U]&&ie()}function P(){Q();var te=g[x];return x++,k++,te}function _(){x--,k--}function L(){for(var te=4,U=0;te--;){U<<=4;var se=P().toLowerCase();se>=\"a\"&&se<=\"f\"?U+=se.charCodeAt()-e+10:se>=\"0\"&&se<=\"9\"?U+=+se:ie()}return String.fromCharCode(U)}function M(){for(var te=\"\";g[x]>=\"0\"&&g[x]<=\"9\";)te+=P();if(te.length)return te;Q(),Y()}function N(te,U){F(te,U,j())}function F(te,U,se){v[te]=v[te]||{},v[te][U]=se}function j(){return{line:w,column:k,pos:x}}function Y(){throw new SyntaxError(\"Unexpected token \"+g[x]+\" in JSON at position \"+x)}function ie(){_(),Y()}function Q(){if(x>=g.length)throw new SyntaxError(\"Unexpected end of JSON input\")}},Dh.stringify=function(g,m,b){if(!r(g))return;var v=0,w,k,x=typeof b==\"object\"?b.space:b;switch(typeof x){case\"number\":var C=x>10?10:x<0?0:Math.floor(x);x=C&&F(C,\" \"),w=C,k=C;break;case\"string\":x=x.slice(0,10),w=0,k=0;for(var T=0;T<x.length;T++){var A=x[T];switch(A){case\" \":k++;break;case\"\t\":k+=4;break;case\"\\r\":k=0;break;case`\n`:k=0,v++;break;default:throw new Error(\"whitespace characters not allowed in JSON\")}w++}break;default:x=void 0}var O=\"\",R={},D=0,E=0,I=0,P=b&&b.es6&&typeof Map==\"function\";return _(g,0,\"\"),{json:O,pointers:R};function _(j,Y,ie){switch(N(ie,\"value\"),typeof j){case\"number\":case\"bigint\":case\"boolean\":L(\"\"+j);break;case\"string\":L(f(j));break;case\"object\":j===null?L(\"null\"):typeof j.toJSON==\"function\"?L(f(j.toJSON())):Array.isArray(j)?Q():P?j.constructor.BYTES_PER_ELEMENT?Q():j instanceof Map?U():j instanceof Set?U(!0):te():te()}N(ie,\"valueEnd\");function Q(){if(j.length){L(\"[\");for(var se=Y+1,le=0;le<j.length;le++){le&&L(\",\"),M(se);var W=r(j[le])?j[le]:null,ce=ie+\"/\"+le;_(W,se,ce)}M(Y),L(\"]\")}else L(\"[]\")}function te(){var se=Object.keys(j);if(se.length){L(\"{\");for(var le=Y+1,W=0;W<se.length;W++){var ce=se[W],fe=j[ce];if(r(fe)){W&&L(\",\");var J=ie+\"/\"+p(ce);M(le),N(J,\"key\"),L(f(ce)),N(J,\"keyEnd\"),L(\":\"),x&&L(\" \"),_(fe,le,J)}}M(Y),L(\"}\")}else L(\"{}\")}function U(se){if(j.size){L(\"{\");for(var le=Y+1,W=!0,ce=j.entries(),fe=ce.next();!fe.done;){var J=fe.value,ae=J[0],re=se?!0:J[1];if(r(re)){W||L(\",\"),W=!1;var $=ie+\"/\"+p(ae);M(le),N($,\"key\"),L(f(ae)),N($,\"keyEnd\"),L(\":\"),x&&L(\" \"),_(re,le,$)}fe=ce.next()}M(Y),L(\"}\")}else L(\"{}\")}}function L(j){E+=j.length,I+=j.length,O+=j}function M(j){if(x){for(O+=`\n`+F(j,x),D++,E=0;j--;)v?(D+=v,E=k):E+=k,I+=w;I+=1}}function N(j,Y){R[j]=R[j]||{},R[j][Y]={line:D,column:E,pos:I}}function F(j,Y){return Array(j+1).join(Y)}};var t=[\"number\",\"bigint\",\"boolean\",\"string\",\"object\"];function r(g){return t.indexOf(typeof g)>=0}var i=/\"|\\\\/g,s=/[\\b]/g,o=/\\f/g,a=/\\n/g,l=/\\r/g,u=/\\t/g;function f(g){return g=g.replace(i,\"\\\\$&\").replace(o,\"\\\\f\").replace(s,\"\\\\b\").replace(a,\"\\\\n\").replace(l,\"\\\\r\").replace(u,\"\\\\t\"),'\"'+g+'\"'}var d=/~/g,h=/\\//g;function p(g){return g.replace(d,\"~0\").replace(h,\"~1\")}return Dh}var uB=cB();const xA=q4(uB);class Sc extends Error{constructor(e,t){super(\"\".concat(e,\" at position \").concat(t)),this.position=t}}const Nh=92,ly=47,fB=42,hC=123,Lh=125,pC=91,Bh=93,dB=41,CA=32,lw=10,cw=9,uw=13,hB=8,pB=12,Mg=34,gC=43,mC=45,SA=39,_A=48,kA=57,vl=44,Fh=46,jh=58,gB=59,mB=65,vB=97,yB=69,bB=101,wB=70,xB=102,CB=160,SB=8192,_B=8202,kB=8239,AB=8287,OB=12288,EB=8220,TB=8221,MB=8216,PB=8217,IB=96,RB=180;function DB(n){return n>=_A&&n<=kA||n>=mB&&n<=wB||n>=vB&&n<=xB}function yl(n){return n>=_A&&n<=kA}function NB(n){return n>=32&&n<=1114111}function zh(n){return LB.test(n)}const LB=/^[,:[\\]/{}()\\n+]$/,BB=/^[,[\\]/{}\\n+]$/,FB=/^[a-zA-Z_$]$/,jB=/^[a-zA-Z_$0-9]$/,vC=/^(http|https|ftp|mailto|file|data|irc):\\/\\/$/,yC=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function bC(n){return BB.test(n)}function wC(n){return zB.test(n)||n&&zp(n.charCodeAt(0))}const zB=/^[[{\\w-]$/;function VB(n){return n===lw||n===uw||n===cw||n===hB||n===pB}function xl(n){return n===CA||n===lw||n===cw||n===uw}function HB(n){return n===CA||n===cw||n===uw}function qB(n){return n===CB||n>=SB&&n<=_B||n===kB||n===AB||n===OB}function zp(n){return AA(n)||X0(n)}function AA(n){return n===Mg||n===EB||n===TB}function xC(n){return n===Mg}function X0(n){return n===SA||n===MB||n===PB||n===IB||n===RB}function CC(n){return n===SA}function df(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=n.lastIndexOf(e);return r!==-1?n.substring(0,r)+(t?\"\":n.substring(r+1)):n}function _s(n,e){let t=n.length;if(!xl(n.charCodeAt(t-1)))return n+e;for(;xl(n.charCodeAt(t-1));)t--;return n.substring(0,t)+e+n.substring(t)}function WB(n,e,t){return n.substring(0,e)+n.substring(e+t)}function UB(n){return/[,\\n][ \\t\\r]*$/.test(n)}const KB={\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\t\":\"\\\\t\"},JB={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:`\n`,r:\"\\r\",t:\"\t\"};function fo(n){let e=0,t=\"\";s()||I();const i=u(vl);for(i&&o(),wC(n[e])&&UB(t)?(i||(t=_s(t,\",\")),m()):i&&(t=df(t,\",\"));n.charCodeAt(e)===Lh||n.charCodeAt(e)===Bh;)e++,o();if(e>=n.length)return t;E();function s(){o();const M=p()||g()||b()||w()||k()||C(!1)||T();return o(),M}function o(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const N=e;let F=a(M);do F=l(),F&&(F=a(M));while(F);return e>N}function a(M){const N=M?xl:HB;let F=\"\";for(;;){const j=n.charCodeAt(e);if(N(j))F+=n[e],e++;else if(qB(j))F+=\" \",e++;else break}return F.length>0?(t+=F,!0):!1}function l(){if(n.charCodeAt(e)===ly&&n.charCodeAt(e+1)===fB){for(;e<n.length&&!XB(n,e);)e++;return e+=2,!0}if(n.charCodeAt(e)===ly&&n.charCodeAt(e+1)===ly){for(;e<n.length&&n.charCodeAt(e)!==lw;)e++;return!0}return!1}function u(M){return n.charCodeAt(e)===M?(t+=n[e],e++,!0):!1}function f(M){return n.charCodeAt(e)===M?(e++,!0):!1}function d(){return f(Nh)}function h(){return o(),n.charCodeAt(e)===Fh&&n.charCodeAt(e+1)===Fh&&n.charCodeAt(e+2)===Fh?(e+=3,o(),f(vl),!0):!1}function p(){if(n.charCodeAt(e)===hC){t+=\"{\",e++,o(),f(vl)&&o();let M=!0;for(;e<n.length&&n.charCodeAt(e)!==Lh;){let N;if(M?(N=!0,M=!1):(N=u(vl),N||(t=_s(t,\",\")),o()),h(),!(b()||C(!0))){n.charCodeAt(e)===Lh||n.charCodeAt(e)===hC||n.charCodeAt(e)===Bh||n.charCodeAt(e)===pC||n[e]===void 0?t=df(t,\",\"):P();break}o();const j=u(jh),Y=e>=n.length;j||(wC(n[e])||Y?t=_s(t,\":\"):_()),s()||(j||Y?t+=\"null\":_())}return n.charCodeAt(e)===Lh?(t+=\"}\",e++):t=_s(t,\"}\"),!0}return!1}function g(){if(n.charCodeAt(e)===pC){t+=\"[\",e++,o(),f(vl)&&o();let M=!0;for(;e<n.length&&n.charCodeAt(e)!==Bh;)if(M?M=!1:u(vl)||(t=_s(t,\",\")),h(),!s()){t=df(t,\",\");break}return n.charCodeAt(e)===Bh?(t+=\"]\",e++):t=_s(t,\"]\"),!0}return!1}function m(){let M=!0,N=!0;for(;N;)M?M=!1:u(vl)||(t=_s(t,\",\")),N=s();N||(t=df(t,\",\")),t=`[\n`.concat(t,`\n]`)}function b(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,F=n.charCodeAt(e)===Nh;if(F&&(e++,F=!0),zp(n.charCodeAt(e))){const j=xC(n.charCodeAt(e))?xC:CC(n.charCodeAt(e))?CC:X0(n.charCodeAt(e))?X0:AA,Y=e,ie=t.length;let Q='\"';for(e++;;){if(e>=n.length){const te=A(e-1);return!M&&zh(n.charAt(te))?(e=Y,t=t.substring(0,ie),b(!0)):(Q=_s(Q,'\"'),t+=Q,!0)}else{if(e===N)return Q=_s(Q,'\"'),t+=Q,!0;if(j(n.charCodeAt(e))){const te=e,U=Q.length;if(Q+='\"',e++,t+=Q,o(!1),M||e>=n.length||zh(n.charAt(e))||zp(n.charCodeAt(e))||yl(n.charCodeAt(e)))return v(),!0;const se=A(te-1),le=n.charAt(se);if(le===\",\")return e=Y,t=t.substring(0,ie),b(!1,se);if(zh(le))return e=Y,t=t.substring(0,ie),b(!0);t=t.substring(0,ie),e=te+1,Q=\"\".concat(Q.substring(0,U),\"\\\\\").concat(Q.substring(U))}else if(M&&bC(n[e])){if(n.charCodeAt(e-1)===jh&&vC.test(n.substring(Y+1,e+2)))for(;e<n.length&&yC.test(n[e]);)Q+=n[e],e++;return Q=_s(Q,'\"'),t+=Q,v(),!0}else if(n.charCodeAt(e)===Nh){const te=n.charAt(e+1);if(JB[te]!==void 0)Q+=n.slice(e,e+2),e+=2;else if(te===\"u\"){let se=2;for(;se<6&&DB(n.charCodeAt(e+se));)se++;se===6?(Q+=n.slice(e,e+6),e+=6):e+se>=n.length?e=n.length:L()}else Q+=te,e+=2}else{const te=n.charAt(e),U=n.charCodeAt(e);U===Mg&&n.charCodeAt(e-1)!==Nh?(Q+=\"\\\\\".concat(te),e++):VB(U)?(Q+=KB[te],e++):(NB(U)||D(te),Q+=te,e++)}}F&&d()}}return!1}function v(){let M=!1;for(o();n.charCodeAt(e)===gC;){M=!0,e++,o(),t=df(t,'\"',!0);const N=t.length;b()?t=WB(t,N,1):t=_s(t,'\"')}return M}function w(){const M=e;if(n.charCodeAt(e)===mC){if(e++,O())return R(M),!0;if(!yl(n.charCodeAt(e)))return e=M,!1}for(;yl(n.charCodeAt(e));)e++;if(n.charCodeAt(e)===Fh){if(e++,O())return R(M),!0;if(!yl(n.charCodeAt(e)))return e=M,!1;for(;yl(n.charCodeAt(e));)e++}if(n.charCodeAt(e)===bB||n.charCodeAt(e)===yB){if(e++,(n.charCodeAt(e)===mC||n.charCodeAt(e)===gC)&&e++,O())return R(M),!0;if(!yl(n.charCodeAt(e)))return e=M,!1;for(;yl(n.charCodeAt(e));)e++}if(!O())return e=M,!1;if(e>M){const N=n.slice(M,e),F=/^0\\d/.test(N);return t+=F?'\"'.concat(N,'\"'):N,!0}return!1}function k(){return x(\"true\",\"true\")||x(\"false\",\"false\")||x(\"null\",\"null\")||x(\"True\",\"true\")||x(\"False\",\"false\")||x(\"None\",\"null\")}function x(M,N){return n.slice(e,e+M.length)===M?(t+=N,e+=M.length,!0):!1}function C(M){const N=e;if(FB.test(n[e])){for(;e<n.length&&jB.test(n[e]);)e++;let F=e;for(;xl(n.charCodeAt(F));)F++;if(n[F]===\"(\")return e=F+1,s(),n.charCodeAt(e)===dB&&(e++,n.charCodeAt(e)===gB&&e++),!0}for(;e<n.length&&!bC(n[e])&&!zp(n.charCodeAt(e))&&(!M||n.charCodeAt(e)!==jh);)e++;if(n.charCodeAt(e-1)===jh&&vC.test(n.substring(N,e+2)))for(;e<n.length&&yC.test(n[e]);)e++;if(e>N){for(;xl(n.charCodeAt(e-1))&&e>0;)e--;const F=n.slice(N,e);return t+=F===\"undefined\"?\"null\":JSON.stringify(F),n.charCodeAt(e)===Mg&&e++,!0}}function T(){if(n[e]===\"/\"){const M=e;for(e++;e<n.length&&(n[e]!==\"/\"||n[e-1]===\"\\\\\");)e++;return e++,t+='\"'.concat(n.substring(M,e),'\"'),!0}}function A(M){let N=M;for(;N>0&&xl(n.charCodeAt(N));)N--;return N}function O(){return e>=n.length||zh(n[e])||xl(n.charCodeAt(e))}function R(M){t+=\"\".concat(n.slice(M,e),\"0\")}function D(M){throw new Sc(\"Invalid character \".concat(JSON.stringify(M)),e)}function E(){throw new Sc(\"Unexpected character \".concat(JSON.stringify(n[e])),e)}function I(){throw new Sc(\"Unexpected end of json string\",n.length)}function P(){throw new Sc(\"Object key expected\",e)}function _(){throw new Sc(\"Colon expected\",e)}function L(){const M=n.slice(e,e+6);throw new Sc('Invalid unicode character \"'.concat(M,'\"'),e)}}function XB(n,e){return n[e]===\"*\"&&n[e+1]===\"/\"}function Vr(n){return parseInt(n,10)}function fw(n){return YB.test(n)}const YB=/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?$/;function gn(n){return typeof n==\"object\"&&n!==null&&(n.constructor===void 0||n.constructor.name===\"Object\")}function lr(n){return typeof n==\"object\"&&n!==null&&(n.constructor===void 0||n.constructor.name===\"Object\"||n.constructor.name===\"Array\")}function GB(n){return n===!0||n===!1}function Y0(n){if(typeof n==\"number\")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n==\"bigint\")return Y0(Number(n));try{const t=n&&n.valueOf();if(t!==n)return Y0(t)}catch{return!1}return!1}function OA(n){hf=hf||window.document.createElement(\"div\"),hf.style.color=\"\",hf.style.color=n;const e=hf.style.color;return e!==\"\"?e.replace(/\\s+/g,\"\").toLowerCase():void 0}let hf;function QB(n){return typeof n==\"string\"&&n.length<99&&!!OA(n)}function dw(n,e){if(typeof n==\"number\"||typeof n==\"string\"||typeof n==\"boolean\"||typeof n>\"u\")return typeof n;if(typeof n==\"bigint\")return\"number\";if(n===null)return\"null\";if(Array.isArray(n))return\"array\";if(gn(n))return\"object\";const t=e.stringify(n);return t&&fw(t)?\"number\":t===\"true\"||t===\"false\"?\"boolean\":t===\"null\"?\"null\":\"unknown\"}const ZB=/^https?:\\/\\/\\S+$/;function Km(n){return typeof n==\"string\"&&ZB.test(n)}function Uu(n,e){if(n===\"\")return\"\";const t=n.trim();return t===\"null\"?null:t===\"true\"?!0:t===\"false\"?!1:fw(t)?e.parse(t):n}function $B(n){return typeof n==\"string\"&&typeof Uu(n,JSON)!=\"string\"}var EA=typeof global==\"object\"&&global&&global.Object===Object&&global,eF=typeof self==\"object\"&&self&&self.Object===Object&&self,Js=EA||eF||Function(\"return this\")(),vs=Js.Symbol,TA=Object.prototype,tF=TA.hasOwnProperty,nF=TA.toString,pf=vs?vs.toStringTag:void 0;function rF(n){var e=tF.call(n,pf),t=n[pf];try{n[pf]=void 0;var r=!0}catch{}var i=nF.call(n);return r&&(e?n[pf]=t:delete n[pf]),i}var iF=Object.prototype,sF=iF.toString;function oF(n){return sF.call(n)}var aF=\"[object Null]\",lF=\"[object Undefined]\",SC=vs?vs.toStringTag:void 0;function Ku(n){return n==null?n===void 0?lF:aF:SC&&SC in Object(n)?rF(n):oF(n)}function Ja(n){return n!=null&&typeof n==\"object\"}var cF=\"[object Symbol]\";function Wl(n){return typeof n==\"symbol\"||Ja(n)&&Ku(n)==cF}function Hf(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var li=Array.isArray,_C=vs?vs.prototype:void 0,kC=_C?_C.toString:void 0;function MA(n){if(typeof n==\"string\")return n;if(li(n))return Hf(n,MA)+\"\";if(Wl(n))return kC?kC.call(n):\"\";var e=n+\"\";return e==\"0\"&&1/n==-1/0?\"-0\":e}var uF=/\\s/;function fF(n){for(var e=n.length;e--&&uF.test(n.charAt(e)););return e}var dF=/^\\s+/;function hF(n){return n&&n.slice(0,fF(n)+1).replace(dF,\"\")}function ia(n){var e=typeof n;return n!=null&&(e==\"object\"||e==\"function\")}var AC=NaN,pF=/^[-+]0x[0-9a-f]+$/i,gF=/^0b[01]+$/i,mF=/^0o[0-7]+$/i,vF=parseInt;function G0(n){if(typeof n==\"number\")return n;if(Wl(n))return AC;if(ia(n)){var e=typeof n.valueOf==\"function\"?n.valueOf():n;n=ia(e)?e+\"\":e}if(typeof n!=\"string\")return n===0?n:+n;n=hF(n);var t=gF.test(n);return t||mF.test(n)?vF(n.slice(2),t?2:8):pF.test(n)?AC:+n}var yF=1/0,bF=17976931348623157e292;function Vp(n){if(!n)return n===0?n:0;if(n=G0(n),n===yF||n===-1/0){var e=n<0?-1:1;return e*bF}return n===n?n:0}function wF(n){var e=Vp(n),t=e%1;return e===e?t?e-t:e:0}function $d(n){return n}var xF=\"[object AsyncFunction]\",CF=\"[object Function]\",SF=\"[object GeneratorFunction]\",_F=\"[object Proxy]\";function PA(n){if(!ia(n))return!1;var e=Ku(n);return e==CF||e==SF||e==xF||e==_F}var cy=Js[\"__core-js_shared__\"],OC=function(){var n=/[^.]+$/.exec(cy&&cy.keys&&cy.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}();function kF(n){return!!OC&&OC in n}var AF=Function.prototype,OF=AF.toString;function lc(n){if(n!=null){try{return OF.call(n)}catch{}try{return n+\"\"}catch{}}return\"\"}var EF=/[\\\\^$.*+?()[\\]{}|]/g,TF=/^\\[object .+?Constructor\\]$/,MF=Function.prototype,PF=Object.prototype,IF=MF.toString,RF=PF.hasOwnProperty,DF=RegExp(\"^\"+IF.call(RF).replace(EF,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function NF(n){if(!ia(n)||kF(n))return!1;var e=PA(n)?DF:TF;return e.test(lc(n))}function LF(n,e){return n==null?void 0:n[e]}function cc(n,e){var t=LF(n,e);return NF(t)?t:void 0}var Q0=cc(Js,\"WeakMap\"),EC=Object.create,BF=function(){function n(){}return function(e){if(!ia(e))return{};if(EC)return EC(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function FF(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function gr(){}var jF=800,zF=16,VF=Date.now;function HF(n){var e=0,t=0;return function(){var r=VF(),i=zF-(r-t);if(t=r,i>0){if(++e>=jF)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function qF(n){return function(){return n}}var Pg=function(){try{var n=cc(Object,\"defineProperty\");return n({},\"\",{}),n}catch{}}(),WF=Pg?function(n,e){return Pg(n,\"toString\",{configurable:!0,enumerable:!1,value:qF(e),writable:!0})}:$d,UF=HF(WF);function KF(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var JF=9007199254740991,XF=/^(?:0|[1-9]\\d*)$/;function hw(n,e){var t=typeof n;return e=e??JF,!!e&&(t==\"number\"||t!=\"symbol\"&&XF.test(n))&&n>-1&&n%1==0&&n<e}function pw(n,e,t){e==\"__proto__\"&&Pg?Pg(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Jm(n,e){return n===e||n!==n&&e!==e}var YF=Object.prototype,GF=YF.hasOwnProperty;function QF(n,e,t){var r=n[e];(!(GF.call(n,e)&&Jm(r,t))||t===void 0&&!(e in n))&&pw(n,e,t)}var TC=Math.max;function ZF(n,e,t){return e=TC(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=TC(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),FF(n,this,a)}}function $F(n,e){return UF(ZF(n,e,$d),n+\"\")}var ej=9007199254740991;function gw(n){return typeof n==\"number\"&&n>-1&&n%1==0&&n<=ej}function eh(n){return n!=null&&gw(n.length)&&!PA(n)}function Z0(n,e,t){if(!ia(t))return!1;var r=typeof e;return(r==\"number\"?eh(t)&&hw(e,t.length):r==\"string\"&&e in t)?Jm(t[e],n):!1}var tj=Object.prototype;function mw(n){var e=n&&n.constructor,t=typeof e==\"function\"&&e.prototype||tj;return n===t}function IA(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var nj=\"[object Arguments]\";function MC(n){return Ja(n)&&Ku(n)==nj}var RA=Object.prototype,rj=RA.hasOwnProperty,ij=RA.propertyIsEnumerable,Xm=MC(function(){return arguments}())?MC:function(n){return Ja(n)&&rj.call(n,\"callee\")&&!ij.call(n,\"callee\")};function sj(){return!1}var DA=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports,PC=DA&&typeof module==\"object\"&&module&&!module.nodeType&&module,oj=PC&&PC.exports===DA,IC=oj?Js.Buffer:void 0,aj=IC?IC.isBuffer:void 0,pd=aj||sj,lj=\"[object Arguments]\",cj=\"[object Array]\",uj=\"[object Boolean]\",fj=\"[object Date]\",dj=\"[object Error]\",hj=\"[object Function]\",pj=\"[object Map]\",gj=\"[object Number]\",mj=\"[object Object]\",vj=\"[object RegExp]\",yj=\"[object Set]\",bj=\"[object String]\",wj=\"[object WeakMap]\",xj=\"[object ArrayBuffer]\",Cj=\"[object DataView]\",Sj=\"[object Float32Array]\",_j=\"[object Float64Array]\",kj=\"[object Int8Array]\",Aj=\"[object Int16Array]\",Oj=\"[object Int32Array]\",Ej=\"[object Uint8Array]\",Tj=\"[object Uint8ClampedArray]\",Mj=\"[object Uint16Array]\",Pj=\"[object Uint32Array]\",Gn={};Gn[Sj]=Gn[_j]=Gn[kj]=Gn[Aj]=Gn[Oj]=Gn[Ej]=Gn[Tj]=Gn[Mj]=Gn[Pj]=!0;Gn[lj]=Gn[cj]=Gn[xj]=Gn[uj]=Gn[Cj]=Gn[fj]=Gn[dj]=Gn[hj]=Gn[pj]=Gn[gj]=Gn[mj]=Gn[vj]=Gn[yj]=Gn[bj]=Gn[wj]=!1;function Ij(n){return Ja(n)&&gw(n.length)&&!!Gn[Ku(n)]}function Ym(n){return function(e){return n(e)}}var NA=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports,qf=NA&&typeof module==\"object\"&&module&&!module.nodeType&&module,Rj=qf&&qf.exports===NA,uy=Rj&&EA.process,xu=function(){try{var n=qf&&qf.require&&qf.require(\"util\").types;return n||uy&&uy.binding&&uy.binding(\"util\")}catch{}}(),RC=xu&&xu.isTypedArray,vw=RC?Ym(RC):Ij,Dj=Object.prototype,Nj=Dj.hasOwnProperty;function Lj(n,e){var t=li(n),r=!t&&Xm(n),i=!t&&!r&&pd(n),s=!t&&!r&&!i&&vw(n),o=t||r||i||s,a=o?IA(n.length,String):[],l=a.length;for(var u in n)Nj.call(n,u)&&!(o&&(u==\"length\"||i&&(u==\"offset\"||u==\"parent\")||s&&(u==\"buffer\"||u==\"byteLength\"||u==\"byteOffset\")||hw(u,l)))&&a.push(u);return a}function LA(n,e){return function(t){return n(e(t))}}var Bj=LA(Object.keys,Object),Fj=Object.prototype,jj=Fj.hasOwnProperty;function BA(n){if(!mw(n))return Bj(n);var e=[];for(var t in Object(n))jj.call(n,t)&&t!=\"constructor\"&&e.push(t);return e}function Gm(n){return eh(n)?Lj(n):BA(n)}var zj=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Vj=/^\\w*$/;function yw(n,e){if(li(n))return!1;var t=typeof n;return t==\"number\"||t==\"symbol\"||t==\"boolean\"||n==null||Wl(n)?!0:Vj.test(n)||!zj.test(n)||e!=null&&n in Object(e)}var gd=cc(Object,\"create\");function Hj(){this.__data__=gd?gd(null):{},this.size=0}function qj(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Wj=\"__lodash_hash_undefined__\",Uj=Object.prototype,Kj=Uj.hasOwnProperty;function Jj(n){var e=this.__data__;if(gd){var t=e[n];return t===Wj?void 0:t}return Kj.call(e,n)?e[n]:void 0}var Xj=Object.prototype,Yj=Xj.hasOwnProperty;function Gj(n){var e=this.__data__;return gd?e[n]!==void 0:Yj.call(e,n)}var Qj=\"__lodash_hash_undefined__\";function Zj(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=gd&&e===void 0?Qj:e,this}function Ul(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ul.prototype.clear=Hj;Ul.prototype.delete=qj;Ul.prototype.get=Jj;Ul.prototype.has=Gj;Ul.prototype.set=Zj;function $j(){this.__data__=[],this.size=0}function Qm(n,e){for(var t=n.length;t--;)if(Jm(n[t][0],e))return t;return-1}var ez=Array.prototype,tz=ez.splice;function nz(n){var e=this.__data__,t=Qm(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():tz.call(e,t,1),--this.size,!0}function rz(n){var e=this.__data__,t=Qm(e,n);return t<0?void 0:e[t][1]}function iz(n){return Qm(this.__data__,n)>-1}function sz(n,e){var t=this.__data__,r=Qm(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ma(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ma.prototype.clear=$j;ma.prototype.delete=nz;ma.prototype.get=rz;ma.prototype.has=iz;ma.prototype.set=sz;var md=cc(Js,\"Map\");function oz(){this.size=0,this.__data__={hash:new Ul,map:new(md||ma),string:new Ul}}function az(n){var e=typeof n;return e==\"string\"||e==\"number\"||e==\"symbol\"||e==\"boolean\"?n!==\"__proto__\":n===null}function Zm(n,e){var t=n.__data__;return az(e)?t[typeof e==\"string\"?\"string\":\"hash\"]:t.map}function lz(n){var e=Zm(this,n).delete(n);return this.size-=e?1:0,e}function cz(n){return Zm(this,n).get(n)}function uz(n){return Zm(this,n).has(n)}function fz(n,e){var t=Zm(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function va(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}va.prototype.clear=oz;va.prototype.delete=lz;va.prototype.get=cz;va.prototype.has=uz;va.prototype.set=fz;var dz=\"Expected a function\";function bw(n,e){if(typeof n!=\"function\"||e!=null&&typeof e!=\"function\")throw new TypeError(dz);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(bw.Cache||va),t}bw.Cache=va;var hz=500;function pz(n){var e=bw(n,function(r){return t.size===hz&&t.clear(),r}),t=e.cache;return e}var gz=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,mz=/\\\\(\\\\)?/g,vz=pz(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(\"\"),n.replace(gz,function(t,r,i,s){e.push(i?s.replace(mz,\"$1\"):r||t)}),e});function FA(n){return n==null?\"\":MA(n)}function jA(n,e){return li(n)?n:yw(n,e)?[n]:vz(FA(n))}function $m(n){if(typeof n==\"string\"||Wl(n))return n;var e=n+\"\";return e==\"0\"&&1/n==-1/0?\"-0\":e}function ww(n,e){e=jA(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[$m(e[t++])];return t&&t==r?n:void 0}function yz(n,e,t){var r=n==null?void 0:ww(n,e);return r===void 0?t:r}function zA(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var DC=vs?vs.isConcatSpreadable:void 0;function bz(n){return li(n)||Xm(n)||!!(DC&&n&&n[DC])}function wz(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=bz),i||(i=[]);++s<o;){var a=n[s];t(a)?zA(i,a):i[i.length]=a}return i}var xz=LA(Object.getPrototypeOf,Object);function Cz(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Sz(){this.__data__=new ma,this.size=0}function _z(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function kz(n){return this.__data__.get(n)}function Az(n){return this.__data__.has(n)}var Oz=200;function Ez(n,e){var t=this.__data__;if(t instanceof ma){var r=t.__data__;if(!md||r.length<Oz-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new va(r)}return t.set(n,e),this.size=t.size,this}function ho(n){var e=this.__data__=new ma(n);this.size=e.size}ho.prototype.clear=Sz;ho.prototype.delete=_z;ho.prototype.get=kz;ho.prototype.has=Az;ho.prototype.set=Ez;var VA=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports,NC=VA&&typeof module==\"object\"&&module&&!module.nodeType&&module,Tz=NC&&NC.exports===VA,LC=Tz?Js.Buffer:void 0;LC&&LC.allocUnsafe;function Mz(n,e){return n.slice()}function Pz(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function Iz(){return[]}var Rz=Object.prototype,Dz=Rz.propertyIsEnumerable,BC=Object.getOwnPropertySymbols,Nz=BC?function(n){return n==null?[]:(n=Object(n),Pz(BC(n),function(e){return Dz.call(n,e)}))}:Iz;function Lz(n,e,t){var r=e(n);return li(n)?r:zA(r,t(n))}function $0(n){return Lz(n,Gm,Nz)}var e1=cc(Js,\"DataView\"),t1=cc(Js,\"Promise\"),n1=cc(Js,\"Set\"),FC=\"[object Map]\",Bz=\"[object Object]\",jC=\"[object Promise]\",zC=\"[object Set]\",VC=\"[object WeakMap]\",HC=\"[object DataView]\",Fz=lc(e1),jz=lc(md),zz=lc(t1),Vz=lc(n1),Hz=lc(Q0),rs=Ku;(e1&&rs(new e1(new ArrayBuffer(1)))!=HC||md&&rs(new md)!=FC||t1&&rs(t1.resolve())!=jC||n1&&rs(new n1)!=zC||Q0&&rs(new Q0)!=VC)&&(rs=function(n){var e=Ku(n),t=e==Bz?n.constructor:void 0,r=t?lc(t):\"\";if(r)switch(r){case Fz:return HC;case jz:return FC;case zz:return jC;case Vz:return zC;case Hz:return VC}return e});var qz=Object.prototype,Wz=qz.hasOwnProperty;function Uz(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]==\"string\"&&Wz.call(n,\"index\")&&(t.index=n.index,t.input=n.input),t}var Ig=Js.Uint8Array;function xw(n){var e=new n.constructor(n.byteLength);return new Ig(e).set(new Ig(n)),e}function Kz(n,e){var t=xw(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var Jz=/\\w*$/;function Xz(n){var e=new n.constructor(n.source,Jz.exec(n));return e.lastIndex=n.lastIndex,e}var qC=vs?vs.prototype:void 0,WC=qC?qC.valueOf:void 0;function Yz(n){return WC?Object(WC.call(n)):{}}function Gz(n,e){var t=xw(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}var Qz=\"[object Boolean]\",Zz=\"[object Date]\",$z=\"[object Map]\",eV=\"[object Number]\",tV=\"[object RegExp]\",nV=\"[object Set]\",rV=\"[object String]\",iV=\"[object Symbol]\",sV=\"[object ArrayBuffer]\",oV=\"[object DataView]\",aV=\"[object Float32Array]\",lV=\"[object Float64Array]\",cV=\"[object Int8Array]\",uV=\"[object Int16Array]\",fV=\"[object Int32Array]\",dV=\"[object Uint8Array]\",hV=\"[object Uint8ClampedArray]\",pV=\"[object Uint16Array]\",gV=\"[object Uint32Array]\";function mV(n,e,t){var r=n.constructor;switch(e){case sV:return xw(n);case Qz:case Zz:return new r(+n);case oV:return Kz(n);case aV:case lV:case cV:case uV:case fV:case dV:case hV:case pV:case gV:return Gz(n);case $z:return new r;case eV:case rV:return new r(n);case tV:return Xz(n);case nV:return new r;case iV:return Yz(n)}}function vV(n){return typeof n.constructor==\"function\"&&!mw(n)?BF(xz(n)):{}}var yV=\"[object Map]\";function bV(n){return Ja(n)&&rs(n)==yV}var UC=xu&&xu.isMap,wV=UC?Ym(UC):bV,xV=\"[object Set]\";function CV(n){return Ja(n)&&rs(n)==xV}var KC=xu&&xu.isSet,SV=KC?Ym(KC):CV,HA=\"[object Arguments]\",_V=\"[object Array]\",kV=\"[object Boolean]\",AV=\"[object Date]\",OV=\"[object Error]\",qA=\"[object Function]\",EV=\"[object GeneratorFunction]\",TV=\"[object Map]\",MV=\"[object Number]\",WA=\"[object Object]\",PV=\"[object RegExp]\",IV=\"[object Set]\",RV=\"[object String]\",DV=\"[object Symbol]\",NV=\"[object WeakMap]\",LV=\"[object ArrayBuffer]\",BV=\"[object DataView]\",FV=\"[object Float32Array]\",jV=\"[object Float64Array]\",zV=\"[object Int8Array]\",VV=\"[object Int16Array]\",HV=\"[object Int32Array]\",qV=\"[object Uint8Array]\",WV=\"[object Uint8ClampedArray]\",UV=\"[object Uint16Array]\",KV=\"[object Uint32Array]\",Wn={};Wn[HA]=Wn[_V]=Wn[LV]=Wn[BV]=Wn[kV]=Wn[AV]=Wn[FV]=Wn[jV]=Wn[zV]=Wn[VV]=Wn[HV]=Wn[TV]=Wn[MV]=Wn[WA]=Wn[PV]=Wn[IV]=Wn[RV]=Wn[DV]=Wn[qV]=Wn[WV]=Wn[UV]=Wn[KV]=!0;Wn[OV]=Wn[qA]=Wn[NV]=!1;function Wf(n,e,t,r,i,s){var o;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!ia(n))return n;var a=li(n);if(a)o=Uz(n);else{var l=rs(n),u=l==qA||l==EV;if(pd(n))return Mz(n);if(l==WA||l==HA||u&&!i)o=u?{}:vV(n);else{if(!Wn[l])return i?n:{};o=mV(n,l)}}s||(s=new ho);var f=s.get(n);if(f)return f;s.set(n,o),SV(n)?n.forEach(function(p){o.add(Wf(p,e,t,p,n,s))}):wV(n)&&n.forEach(function(p,g){o.set(g,Wf(p,e,t,g,n,s))});var d=$0,h=a?void 0:d(n);return KF(h||n,function(p,g){h&&(g=p,p=n[g]),QF(o,g,Wf(p,e,t,g,n,s))}),o}var JV=1,XV=4;function r1(n){return Wf(n,JV|XV)}var YV=1,GV=4;function QV(n,e){return e=typeof e==\"function\"?e:void 0,Wf(n,YV|GV,e)}var ZV=\"__lodash_hash_undefined__\";function $V(n){return this.__data__.set(n,ZV),this}function eH(n){return this.__data__.has(n)}function Rg(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new va;++e<t;)this.add(n[e])}Rg.prototype.add=Rg.prototype.push=$V;Rg.prototype.has=eH;function tH(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function nH(n,e){return n.has(e)}var rH=1,iH=2;function UA(n,e,t,r,i,s){var o=t&rH,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(n),f=s.get(e);if(u&&f)return u==e&&f==n;var d=-1,h=!0,p=t&iH?new Rg:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var g=n[d],m=e[d];if(r)var b=o?r(m,g,d,e,n,s):r(g,m,d,n,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!tH(e,function(v,w){if(!nH(p,w)&&(g===v||i(g,v,t,r,s)))return p.push(w)})){h=!1;break}}else if(!(g===m||i(g,m,t,r,s))){h=!1;break}}return s.delete(n),s.delete(e),h}function sH(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function oH(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var aH=1,lH=2,cH=\"[object Boolean]\",uH=\"[object Date]\",fH=\"[object Error]\",dH=\"[object Map]\",hH=\"[object Number]\",pH=\"[object RegExp]\",gH=\"[object Set]\",mH=\"[object String]\",vH=\"[object Symbol]\",yH=\"[object ArrayBuffer]\",bH=\"[object DataView]\",JC=vs?vs.prototype:void 0,fy=JC?JC.valueOf:void 0;function wH(n,e,t,r,i,s,o){switch(t){case bH:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case yH:return!(n.byteLength!=e.byteLength||!s(new Ig(n),new Ig(e)));case cH:case uH:case hH:return Jm(+n,+e);case fH:return n.name==e.name&&n.message==e.message;case pH:case mH:return n==e+\"\";case dH:var a=sH;case gH:var l=r&aH;if(a||(a=oH),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;r|=lH,o.set(n,e);var f=UA(a(n),a(e),r,i,s,o);return o.delete(n),f;case vH:if(fy)return fy.call(n)==fy.call(e)}return!1}var xH=1,CH=Object.prototype,SH=CH.hasOwnProperty;function _H(n,e,t,r,i,s){var o=t&xH,a=$0(n),l=a.length,u=$0(e),f=u.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:SH.call(e,h)))return!1}var p=s.get(n),g=s.get(e);if(p&&g)return p==e&&g==n;var m=!0;s.set(n,e),s.set(e,n);for(var b=o;++d<l;){h=a[d];var v=n[h],w=e[h];if(r)var k=o?r(w,v,h,e,n,s):r(v,w,h,n,e,s);if(!(k===void 0?v===w||i(v,w,t,r,s):k)){m=!1;break}b||(b=h==\"constructor\")}if(m&&!b){var x=n.constructor,C=e.constructor;x!=C&&\"constructor\"in n&&\"constructor\"in e&&!(typeof x==\"function\"&&x instanceof x&&typeof C==\"function\"&&C instanceof C)&&(m=!1)}return s.delete(n),s.delete(e),m}var kH=1,XC=\"[object Arguments]\",YC=\"[object Array]\",Vh=\"[object Object]\",AH=Object.prototype,GC=AH.hasOwnProperty;function OH(n,e,t,r,i,s){var o=li(n),a=li(e),l=o?YC:rs(n),u=a?YC:rs(e);l=l==XC?Vh:l,u=u==XC?Vh:u;var f=l==Vh,d=u==Vh,h=l==u;if(h&&pd(n)){if(!pd(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new ho),o||vw(n)?UA(n,e,t,r,i,s):wH(n,e,l,t,r,i,s);if(!(t&kH)){var p=f&&GC.call(n,\"__wrapped__\"),g=d&&GC.call(e,\"__wrapped__\");if(p||g){var m=p?n.value():n,b=g?e.value():e;return s||(s=new ho),i(m,b,t,r,s)}}return h?(s||(s=new ho),_H(n,e,t,r,i,s)):!1}function ev(n,e,t,r,i){return n===e?!0:n==null||e==null||!Ja(n)&&!Ja(e)?n!==n&&e!==e:OH(n,e,t,r,ev,i)}var EH=1,TH=2;function MH(n,e,t,r){var i=t.length,s=i;if(n==null)return!s;for(n=Object(n);i--;){var o=t[i];if(o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<s;){o=t[i];var a=o[0],l=n[a],u=o[1];if(o[2]){if(l===void 0&&!(a in n))return!1}else{var f=new ho,d;if(!(d===void 0?ev(u,l,EH|TH,r,f):d))return!1}}return!0}function KA(n){return n===n&&!ia(n)}function PH(n){for(var e=Gm(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,KA(i)]}return e}function JA(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function IH(n){var e=PH(n);return e.length==1&&e[0][2]?JA(e[0][0],e[0][1]):function(t){return t===n||MH(t,n,e)}}function RH(n,e){return n!=null&&e in Object(n)}function DH(n,e,t){e=jA(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=$m(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&gw(i)&&hw(o,i)&&(li(n)||Xm(n)))}function NH(n,e){return n!=null&&DH(n,e,RH)}var LH=1,BH=2;function FH(n,e){return yw(n)&&KA(e)?JA($m(n),e):function(t){var r=yz(t,n);return r===void 0&&r===e?NH(t,n):ev(e,r,LH|BH)}}function jH(n){return function(e){return e==null?void 0:e[n]}}function zH(n){return function(e){return ww(e,n)}}function VH(n){return yw(n)?jH($m(n)):zH(n)}function th(n){return typeof n==\"function\"?n:n==null?$d:typeof n==\"object\"?li(n)?FH(n[0],n[1]):IH(n):VH(n)}function HH(n,e,t,r){for(var i=-1,s=n==null?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r}function XA(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[n?a:++i];if(t(s[l],l,s)===!1)break}return e}}var qH=XA();function YA(n,e){return n&&qH(n,e,Gm)}function GA(n,e){return function(t,r){if(t==null)return t;if(!eh(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}var QA=GA(YA);function WH(n,e,t,r){return QA(n,function(i,s,o){e(r,i,t(i),o)}),r}function ZA(n,e){return function(t,r){var i=li(t)?HH:WH,s=e?e():{};return i(t,n,th(r),s)}}var dy=function(){return Js.Date.now()},UH=\"Expected a function\",KH=Math.max,JH=Math.min;function Dg(n,e,t){var r,i,s,o,a,l,u=0,f=!1,d=!1,h=!0;if(typeof n!=\"function\")throw new TypeError(UH);e=G0(e)||0,ia(t)&&(f=!!t.leading,d=\"maxWait\"in t,s=d?KH(G0(t.maxWait)||0,e):s,h=\"trailing\"in t?!!t.trailing:h);function p(T){var A=r,O=i;return r=i=void 0,u=T,o=n.apply(O,A),o}function g(T){return u=T,a=setTimeout(v,e),f?p(T):o}function m(T){var A=T-l,O=T-u,R=e-A;return d?JH(R,s-O):R}function b(T){var A=T-l,O=T-u;return l===void 0||A>=e||A<0||d&&O>=s}function v(){var T=dy();if(b(T))return w(T);a=setTimeout(v,m(T))}function w(T){return a=void 0,h&&r?p(T):(r=i=void 0,o)}function k(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function x(){return a===void 0?o:w(dy())}function C(){var T=dy(),A=b(T);if(r=arguments,i=this,l=T,A){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,e),p(l)}return a===void 0&&(a=setTimeout(v,e)),o}return C.cancel=k,C.flush=x,C}function zt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function $A(n){return typeof n==\"function\"?n:$d}function XH(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var YH=XA(!0);function GH(n,e){return n&&YH(n,e,Gm)}var QH=GA(GH,!0);function ZH(n,e){var t=li(n)?XH:QH;return t(n,$A(e))}function Go(n){return n&&n.length?n[0]:void 0}function eO(n,e){var t=-1,r=eh(n)?Array(n.length):[];return QA(n,function(i,s,o){r[++t]=e(i,s,o)}),r}function $H(n,e){var t=li(n)?Hf:eO;return t(n,th(e))}var eq=Object.prototype,tq=eq.hasOwnProperty,nq=ZA(function(n,e,t){tq.call(n,t)?n[t].push(e):pw(n,t,[e])});function rn(n){var e=n==null?0:n.length;return e?Cz(n,0,-1):[]}var rq=\"[object Map]\",iq=\"[object Set]\",sq=Object.prototype,oq=sq.hasOwnProperty;function wn(n){if(n==null)return!0;if(eh(n)&&(li(n)||typeof n==\"string\"||typeof n.splice==\"function\"||pd(n)||vw(n)||Xm(n)))return!n.length;var e=rs(n);if(e==rq||e==iq)return!n.size;if(mw(n))return!BA(n).length;for(var t in n)if(oq.call(n,t))return!1;return!0}function Jt(n,e){return ev(n,e)}function aq(n,e){return n<e}function lq(n,e){var t={};return e=th(e),YA(n,function(r,i,s){pw(t,i,e(r,i,s))}),t}function cq(n,e,t){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Wl(o):t(o,a)))var a=o,l=s}return l}function Hh(n,e){return n&&n.length?cq(n,th(e),aq):void 0}function uq(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function fq(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,s=Wl(n),o=e!==void 0,a=e===null,l=e===e,u=Wl(e);if(!a&&!u&&!s&&n>e||s&&o&&l&&!a&&!u||r&&o&&l||!t&&l||!i)return 1;if(!r&&!s&&!u&&n<e||u&&t&&i&&!r&&!s||a&&t&&i||!o&&i||!l)return-1}return 0}function dq(n,e,t){for(var r=-1,i=n.criteria,s=e.criteria,o=i.length,a=t.length;++r<o;){var l=fq(i[r],s[r]);if(l){if(r>=a)return l;var u=t[r];return l*(u==\"desc\"?-1:1)}}return n.index-e.index}function hq(n,e,t){e.length?e=Hf(e,function(s){return li(s)?function(o){return ww(o,s.length===1?s[0]:s)}:s}):e=[$d];var r=-1;e=Hf(e,Ym(th));var i=eO(n,function(s,o,a){var l=Hf(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return uq(i,function(s,o){return dq(s,o,t)})}var pq=ZA(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),gq=Math.ceil,mq=Math.max;function vq(n,e,t,r){for(var i=-1,s=mq(gq((e-n)/(t||1)),0),o=Array(s);s--;)o[++i]=n,n+=t;return o}function yq(n){return function(e,t,r){return r&&typeof r!=\"number\"&&Z0(e,t,r)&&(t=r=void 0),e=Vp(e),t===void 0?(t=e,e=0):t=Vp(t),r=r===void 0?e<t?1:-1:Vp(r),vq(e,t,r)}}var tO=yq(),bq=$F(function(n,e){if(n==null)return[];var t=e.length;return t>1&&Z0(n,e[0],e[1])?e=[]:t>2&&Z0(e[0],e[1],e[2])&&(e=[e[0]]),hq(n,wz(e),[])}),wq=9007199254740991,hy=4294967295,xq=Math.min;function QC(n,e){if(n=wF(n),n<1||n>wq)return[];var t=hy,r=xq(n,hy);e=$A(e),n-=hy;for(var i=IA(r,e);++t<n;)e(t);return i}var Cq=0;function Cu(n){var e=++Cq;return FA(n)+e}const Sq=1e4,_q=[];function ZC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function i1(n,e=!1){const t={};if(!Array.isArray(n))throw new TypeError(\"Array expected\");function r(o,a){(!Array.isArray(o)&&!gn(o)||e&&a.length>0)&&(t[mt(a)]=!0),gn(o)&&Object.keys(o).forEach(u=>{r(o[u],a.concat(u))})}const i=Math.min(n.length,Sq);for(let o=0;o<i;o++){const a=n[o];r(a,_q)}return Object.keys(t).sort().map(ms)}function nO(n,e,t){if(!(e<=n))for(let r=n;r<e;r++)t(r)}function rO(n,e){return n.length>e?n.slice(0,e):n}function $C(n){return{...n}}function eS(n){return Object.values(n)}function tS(n,e,t,r){const i=n.slice(0),s=i.splice(e,t);return i.splice.apply(i,[e+r,0,...s]),i}function kq(n,e,t){if(n.length<e)n.forEach(t);else{const r=e>1?(n.length-1)/(e-1):n.length;for(let i=0;i<e;i++){const s=Math.floor(i*r);t(n[s],s,n)}}}function Aq(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}function Oq(n,e=Jt){return n.filter((t,r)=>{for(let i=r+1;i<n.length;i++)if(e(t,n[i]))return!1;return!0})}function nh(n,e){try{return e.parse(n)}catch{return e.parse(fo(n))}}function iO(n,e){try{return nh(n,e)}catch{return}}function tv(n,e){n=n.replace(oO,\"\");try{return e(n)}catch{}try{return e(\"{\"+n+\"}\")}catch{}try{return e(\"[\"+n+\"]\")}catch{}throw new Error(\"Failed to parse partial JSON\")}function sO(n){n=n.replace(oO,\"\");try{return fo(n)}catch{}try{const e=fo(\"[\"+n+\"]\");return e.substring(1,e.length-1)}catch{}try{const e=fo(\"{\"+n+\"}\");return e.substring(1,e.length-1)}catch{}throw new Error(\"Failed to repair partial JSON\")}const oO=/,\\s*$/;function Su(n,e){const t=rS.exec(e);if(t){const r=Vr(t[2]),i=Tq(n,`\n`,0,r),s=n.lastIndexOf(`\n`,r),o=r-s-1;return{position:r,line:i,column:o,message:e.replace(rS,()=>`line ${i+1} column ${o+1}`)}}else{const r=Nq.exec(e),i=r?Vr(r[1]):void 0,s=i!==void 0?i-1:void 0,o=Lq.exec(e),a=o?Vr(o[1]):void 0,l=a!==void 0?a-1:void 0;return{position:s!==void 0&&l!==void 0?Eq(n,s,l):void 0,line:s,column:l,message:e.replace(/^JSON.parse: /,\"\").replace(/ of the JSON data$/,\"\")}}}function Eq(n,e,t){let r=n.indexOf(`\n`),i=1;for(;i<e&&r!==-1;)r=n.indexOf(`\n`,r+1),i++;return r!==-1?r+t+1:void 0}function Tq(n,e,t=0,r=n.length){let i=0;for(let s=t;s<r;s++)n.charAt(s)===e&&i++;return i}function Mq(n,e){try{const t=xA.parse(n),r=mt(e),i=t.pointers[r];if(i)return{path:e,line:i.key?i.key.line:i.value?i.value.line:0,column:i.key?i.key.column:i.value?i.value.column:0,from:i.key?i.key.pos:i.value?i.value.pos:0,to:i.keyEnd?i.keyEnd.pos:i.valueEnd?i.valueEnd.pos:0}}catch(t){console.error(t)}return{path:e,line:0,column:0,from:0,to:0}}function Pq(n,e,t){if(e===\"array\"){if(Array.isArray(n))return n;if(gn(n))return eS(n);if(typeof n==\"string\")try{const r=t.parse(n);if(Array.isArray(r))return r;if(gn(r))return eS(r)}catch{return[n]}return[n]}if(e===\"object\"){if(Array.isArray(n))return $C(n);if(gn(n))return n;if(typeof n==\"string\")try{const r=t.parse(n);if(gn(r))return r;if(Array.isArray(r))return $C(r)}catch{return{value:n}}return{value:n}}if(e===\"value\")return lr(n)?t.stringify(n):n;throw new Error(`Cannot convert ${dw(n,t)} to ${e}`)}function py(n){return gn(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property \"json\" or a property \"text\" but not both':void 0:n.text===void 0?'Content must contain either a property \"json\" or a property \"text\"':typeof n.text!=\"string\"?'Content \"text\" property must be a string containing a JSON document. Did you mean to use the \"json\" property instead?':void 0:\"Content must be an object\"}function vd(n){return gn(n)&&typeof n.text==\"string\"}function yd(n){return gn(n)&&typeof n.json<\"u\"}function Iq(n,e=void 0,t=JSON){return vd(n)?n:{text:t.stringify(n.json,null,e)}}function nS(n,e=JSON){return yd(n)?n:{json:e.parse(n.text)}}function s1(n,e,t){return Iq(n,e,t).text}function Rq(n,e){return Dq(n,e)>e}function Dq(n,e=1/0){if(vd(n))return n.text.length;const t=n.json;let r=0;function i(s){if(Array.isArray(s)){if(r+=2+(s.length-1),r>e)return;for(let o=0;o<s.length;o++){const a=s[o];if(i(a),r>e)return}}else if(gn(s)){const o=Object.keys(s);r+=2+o.length+(o.length-1);for(let a=0;a<o.length;a++){const l=o[a],u=s[l];r+=l.length+2,i(u)}}else typeof s==\"string\"?r+=s.length+2:r+=String(s).length}return i(t),r}const rS=/(position|char) (\\d+)/,Nq=/line (\\d+)/,Lq=/column (\\d+)/;function Bq(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function Fq(n){const t=n.substring(0,999).trim();return!t.includes(`\n`)&&jq.test(t)}const jq=/[,:]\\S/;var Cr;(function(n){n.text=\"text\",n.tree=\"tree\",n.table=\"table\"})(Cr||(Cr={}));var xn;(function(n){n.after=\"after\",n.inside=\"inside\",n.key=\"key\",n.value=\"value\",n.multi=\"multi\",n.text=\"text\"})(xn||(xn={}));var Ts;(function(n){n.after=\"after\",n.key=\"key\",n.value=\"value\",n.inside=\"inside\"})(Ts||(Ts={}));var Ls;(function(n){n.info=\"info\",n.warning=\"warning\",n.error=\"error\"})(Ls||(Ls={}));var Bs;(function(n){n.key=\"key\",n.value=\"value\"})(Bs||(Bs={}));var Ms;(function(n){n.asc=\"asc\",n.desc=\"desc\"})(Ms||(Ms={}));var qa;(function(n){n.no=\"no\",n.self=\"self\",n.nextInside=\"nextInside\"})(qa||(qa={}));function Cw({escapeControlCharacters:n,escapeUnicodeCharacters:e}){return n?e?zq:Vq:e?Hq:qq}const zq={escapeValue:n=>aO(uO(String(n))),unescapeValue:n=>fO(lO(n))},Vq={escapeValue:n=>uO(String(n)),unescapeValue:n=>fO(n)},Hq={escapeValue:n=>aO(String(n)),unescapeValue:n=>lO(n)},qq={escapeValue:n=>String(n),unescapeValue:n=>n};function aO(n){return n.replace(/[^\\x20-\\x7F]/g,e=>{var t;return e===\"\\b\"||e===\"\\f\"||e===`\n`||e===\"\\r\"||e===\"\t\"?e:\"\\\\u\"+(\"000\"+((t=e.codePointAt(0))==null?void 0:t.toString(16))).slice(-4)})}function lO(n){return n.replace(/\\\\u[a-fA-F0-9]{4}/g,e=>{try{const t=JSON.parse('\"'+e+'\"');return cO[t]||t}catch{return e}})}const cO={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\t\":\"\\\\t\"},Wq={'\\\\\"':'\"',\"\\\\\\\\\":\"\\\\\",\"\\\\/\":\"/\",\"\\\\b\":\"\\b\",\"\\\\f\":\"\\f\",\"\\\\n\":`\n`,\"\\\\r\":\"\\r\",\"\\\\t\":\"\t\"};function uO(n){return n.replace(/[\"\\b\\f\\n\\r\\t\\\\]/g,e=>cO[e]||e)}function fO(n){return n.replace(/\\\\[\"bfnrt\\\\]/g,e=>Wq[e]||e)}function nv(n){return typeof n!=\"string\"?String(n):n.endsWith(`\n`)?n+`\n`:n}function Uq(n){return n.replace(/\\n$/,\"\")}function dO(n,e){return Ju(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function La(n,e,t){return Ju(n,r=>Jq(r,e,t))}function Kq(n){return n.nodeName===\"DIV\"&&n.contentEditable===\"true\"}function Jq(n,e,t){return typeof n.getAttribute==\"function\"&&n.getAttribute(e)===t}function Ju(n,e){return!!Sw(n,e)}function Sw(n,e){let t=n;for(;t&&!e(t);)t=t.parentNode;return t}function Xq(n){if(n.firstChild==null){n.focus();return}const e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}function rh(n){var e;return((e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)??void 0}function _w(n){const e=rh(n),t=e==null?void 0:e.document.activeElement;return t?Ju(t,r=>r===n):!1}function hO(n,e){return Sw(n,t=>t.nodeName===e)}function gy(n){return La(n,\"data-type\",\"selectable-key\")?xn.key:La(n,\"data-type\",\"selectable-value\")?xn.value:La(n,\"data-type\",\"insert-selection-area-inside\")?xn.inside:La(n,\"data-type\",\"insert-selection-area-after\")?xn.after:xn.multi}function o1(n){return encodeURIComponent(mt(n))}function Yq(n){return ms(decodeURIComponent(n))}function pO(n){const e=Sw(n,r=>r!=null&&r.hasAttribute?r.hasAttribute(\"data-path\"):!1),t=(e==null?void 0:e.getAttribute(\"data-path\"))??void 0;return t?Yq(t):void 0}function Gq({allElements:n,currentElement:e,direction:t,hasPrio:r=()=>!0,margin:i=10}){const s=$H(n.filter(a),l),o=l(e);function a(v){const w=v.getBoundingClientRect();return w.width>0&&w.height>0}function l(v){const w=v.getBoundingClientRect();return{x:w.left+w.width/2,y:w.top+w.height/2,rect:w,element:v}}const u=(v,w)=>Math.abs(v.y-w.y)<i,f=(v,w)=>v.rect.left+i<w.rect.left,d=(v,w)=>v.rect.right>w.rect.right+i,h=(v,w)=>v.y+i<w.y,p=(v,w)=>v.y>w.y+i;function g(v,w,k=1){const x=v.x-w.x,C=(v.y-w.y)*k;return Math.sqrt(x*x+C*C)}const m=v=>g(v,o),b=v=>g(v,o,10);if(t===\"Left\"||t===\"Right\"){const v=t===\"Left\"?s.filter(x=>f(x,o)):s.filter(x=>d(x,o)),w=v.filter(x=>u(x,o)),k=Hh(w,m)||Hh(v,b);return k==null?void 0:k.element}if(t===\"Up\"||t===\"Down\"){const v=t===\"Up\"?s.filter(x=>h(x,o)):s.filter(x=>p(x,o)),w=v.filter(x=>r(x.element)),k=Hh(w,m)||Hh(v,m);return k==null?void 0:k.element}}function kw(){var n,e,t;return typeof navigator<\"u\"&&(((n=navigator==null?void 0:navigator.platform)==null?void 0:n.toUpperCase().includes(\"MAC\"))??((t=(e=navigator==null?void 0:navigator.userAgentData)==null?void 0:e.platform)==null?void 0:t.toUpperCase().includes(\"MAC\"))??!1)}function sa(n,e=\"+\",t=kw){const r=[];Aw(n,t)&&r.push(\"Ctrl\"),n.altKey&&r.push(\"Alt\"),n.shiftKey&&r.push(\"Shift\");const i=n.key.length===1?n.key.toUpperCase():n.key;return i in Qq||r.push(i),r.join(e)}function Aw(n,e=kw){return n.ctrlKey||n.metaKey&&e()}const Qq={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0};var Zq=ee('<div class=\"jse-absolute-popup-content svelte-1r8q3m8\"><input type=\"text\" readonly=\"\" tabindex=\"-1\" class=\"jse-hidden-input svelte-1r8q3m8\"> <!></div>'),$q=ee('<div role=\"none\" class=\"jse-absolute-popup svelte-1r8q3m8\"><!></div>');function eW(n,e){Pe(e,!1);let t=y(e,\"popup\",8),r=y(e,\"closeAbsolutePopup\",8),i=H(),s=H();cr(h);function o(b){t().options&&t().options.closeOnOuterClick&&!Ju(b.target,v=>v===c(i))&&r()(t().id)}function a(b){o(b)}function l(b){b.stopPropagation()}function u(b){sa(b)===\"Escape\"&&(b.preventDefault(),b.stopPropagation(),r()(t().id))}function f(b){o(b)}function d(b,v){function w(){if(v.anchor){const{anchor:D,width:E=0,height:I=0,offsetTop:P=0,offsetLeft:_=0,position:L}=v,{left:M,top:N,bottom:F,right:j}=D.getBoundingClientRect(),Y=L===\"top\"||N+I>window.innerHeight&&N>I,ie=L===\"left\"||M+E>window.innerWidth&&M>E;return{left:ie?j-_:M+_,top:Y?N-P:F+P,positionAbove:Y,positionLeft:ie}}else if(typeof v.left==\"number\"&&typeof v.top==\"number\"){const{left:D,top:E,width:I=0,height:P=0}=v,_=E+P>window.innerHeight&&E>P,L=D+I>window.innerWidth&&D>I;return{left:D,top:E,positionAbove:_,positionLeft:L}}else throw new Error('Invalid config: pass either \"left\" and \"top\", or pass \"anchor\"')}const k=b.getBoundingClientRect(),{left:x,top:C,positionAbove:T,positionLeft:A}=w(),O=T?`bottom: ${k.top-C}px;`:`top: ${C-k.top}px;`,R=A?`right: ${k.left-x}px;`:`left: ${x-k.left}px;`;return O+R}function h(){c(s)&&c(s).focus()}Ne();var p=$q();ve(\"mousedown\",mr,a,!0),ve(\"keydown\",mr,u,!0),ve(\"wheel\",mr,f,!0);var g=V(p);{var m=b=>{var v=Zq(),w=V(v);_n(w,x=>S(s,x),()=>c(s));var k=K(w,2);gu(k,()=>t().component,(x,C)=>{C(x,Qr(()=>t().props))}),pe(x=>Ee(v,\"style\",x),[()=>d(c(i),t().options)],he),B(b,v)};oe(g,b=>{c(i)&&b(m)})}_n(p,b=>S(i,b),()=>c(i)),ve(\"mousedown\",p,l),ve(\"keydown\",p,u),B(n,p),Ie()}var tW=ee(\"<!> <!>\",1);function Ow(n,e){Pe(e,!1);const t=Tr(\"jsoneditor:AbsolutePopup\");let r=H([],!0);function i(u,f,d){t(\"open...\",f,d);const h={id:jc(),component:u,props:f||{},options:d||{}};return S(r,[...c(r),h]),h.id}function s(u){const f=c(r).findIndex(d=>d.id===u);if(f!==-1){const d=c(r)[f];d.options.onClose&&d.options.onClose(),S(r,c(r).filter(h=>h.id!==u))}}nd(\"absolute-popup\",{openAbsolutePopup:i,closeAbsolutePopup:s}),Z(()=>c(r),()=>{t(\"popups\",c(r))}),wt(),Ne(!0);var o=tW(),a=be(o);Dt(a,1,()=>c(r),un,(u,f)=>{eW(u,{get popup(){return c(f)},closeAbsolutePopup:s})});var l=K(a,2);en(l,e,\"default\",{},null),B(n,o),Ie()}const rv=n=>Array.isArray(n),nW=n=>n&&typeof n==\"object\"&&!rv(n),rW=n=>typeof n==\"string\";function vr(n){return(...e)=>{const t=e.map(s=>Dr(s)),r=t[0],i=t[1];return t.length===1?s=>n(r(s)):t.length===2?s=>n(r(s),i(s)):s=>n(...t.map(o=>o(s)))}}const Cl={pipe:(...n)=>{const e=n.map(t=>Dr(t));return t=>e.reduce((r,i)=>i(r),t)},object:n=>{const e=Object.keys(n).map(t=>[t,Dr(n[t])]);return t=>{const r={};for(const[i,s]of e)r[i]=s(t);return r}},array:(...n)=>{const e=n.map(t=>Dr(t));return t=>e.map(r=>r(t))},get:(...n)=>{if(n.length===0)return e=>e??null;if(n.length===1){const e=n[0];return t=>(t==null?void 0:t[e])??null}return e=>{let t=e;for(const r of n)t=t==null?void 0:t[r];return t??null}},map:n=>{const e=Dr(n);return t=>t.map(e)},mapObject:n=>{const e=Dr(n);return t=>{const r={};for(const i of Object.keys(t)){const s=e({key:i,value:t[i]});r[s.key]=s.value}return r}},mapKeys:n=>{const e=Dr(n);return t=>{const r={};for(const i of Object.keys(t)){const s=e(i);r[s]=t[i]}return r}},mapValues:n=>{const e=Dr(n);return t=>{const r={};for(const i of Object.keys(t))r[i]=e(t[i]);return r}},filter:n=>{const e=Dr(n);return t=>t.filter(r=>iS(e(r)))},sort:(n=[\"get\"],e)=>{const t=Dr(n),r=e===\"desc\"?-1:1;function i(s,o){const a=t(s),l=t(o);return a>l?r:a<l?-r:0}return s=>s.slice().sort(i)},reverse:()=>n=>n.toReversed(),pick:(...n)=>{const e=n.map(([r,...i])=>[i[i.length-1],Cl.get(...i)]),t=(r,i)=>{const s={};for(const[o,a]of i)s[o]=a(r);return s};return r=>rv(r)?r.map(i=>t(i,e)):t(r,e)},groupBy:n=>{const e=Dr(n);return t=>{const r={};for(const i of t){const s=e(i);r[s]?r[s].push(i):r[s]=[i]}return r}},keyBy:n=>{const e=Dr(n);return t=>{const r={};for(const i of t){const s=e(i);s in r||(r[s]=i)}return r}},flatten:()=>n=>n.flat(),join:(n=\"\")=>e=>e.join(n),split:vr((n,e)=>e!==void 0?n.split(e):n.trim().split(/\\s+/)),substring:vr((n,e,t)=>n.slice(Math.max(e,0),t)),uniq:()=>n=>[...new Set(n)],uniqBy:n=>e=>Object.values(Cl.keyBy(n)(e)),limit:n=>e=>e.slice(0,Math.max(n,0)),size:()=>n=>n.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>n=>n.reduce((e,t)=>e*t),sum:()=>n=>n.reduce((e,t)=>e+t),average:()=>n=>Cl.sum()(n)/n.length,min:()=>n=>Math.min(...n),max:()=>n=>Math.max(...n),and:vr((n,e)=>!!(n&&e)),or:vr((n,e)=>!!(n||e)),not:vr(n=>!n),exists:n=>{const e=n.slice(1),t=e.pop(),r=Cl.get(...e);return i=>{const s=r(i);return!!s&&Object.hasOwnProperty.call(s,t)}},if:(n,e,t)=>{const r=Dr(n),i=Dr(e),s=Dr(t);return o=>iS(r(o))?i(o):s(o)},in:(n,e)=>{const t=Dr(n),r=Dr(e);return i=>r(i).includes(t(i))},\"not in\":(n,e)=>{const t=Cl.in(n,e);return r=>!t(r)},regex:(n,e,t)=>{const r=new RegExp(e,t),i=Dr(n);return s=>r.test(i(s))},eq:vr((n,e)=>n===e),gt:vr((n,e)=>n>e),gte:vr((n,e)=>n>=e),lt:vr((n,e)=>n<e),lte:vr((n,e)=>n<=e),ne:vr((n,e)=>n!==e),add:vr((n,e)=>n+e),subtract:vr((n,e)=>n-e),multiply:vr((n,e)=>n*e),divide:vr((n,e)=>n/e),pow:vr((n,e)=>n**e),mod:vr((n,e)=>n%e),abs:vr(Math.abs),round:vr((n,e=0)=>+`${Math.round(+`${n}e${e}`)}e${-e}`),number:vr(n=>{const e=Number(n);return Number.isNaN(Number(n))?null:e}),string:vr(String)},iS=n=>n!==null&&n!==0&&n!==!1,qh=[];function Dr(n,e){qh.unshift({...Cl,...qh[0]});try{const t=rv(n)?iW(n,qh[0]):nW(n)?gO(`Function notation [\"object\", {...}] expected but got ${JSON.stringify(n)}`):()=>n;return r=>{try{return t(r)}catch(i){throw i.jsonquery=[{data:r,query:n},...i.jsonquery??[]],i}}}finally{qh.shift()}}function iW(n,e){const[t,...r]=n,i=e[t];return i||gO(`Unknown function '${t}'`),i(...r)}function gO(n){throw new Error(n)}const mO={and:\"and\",or:\"or\",eq:\"==\",gt:\">\",gte:\">=\",lt:\"<\",lte:\"<=\",ne:\"!=\",add:\"+\",subtract:\"-\",multiply:\"*\",divide:\"/\",pow:\"^\",mod:\"%\",in:\"in\",\"not in\":\"not in\"},sW=/^[a-zA-Z_$][a-zA-Z\\d_$]*$/,oW=/^[a-zA-Z_$][a-zA-Z\\d_$]*/,aW=/^\"(?:[^\"\\\\]|\\\\.)*\"/,lW=/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/,cW=/^(0|[1-9][0-9]*)/,uW=/^(true|false|null)/,fW=/^[ \\n\\t\\r]+/;function vO(n,e){const t={...mO},r=Object.keys(t).sort((A,O)=>O.length-A.length),i=()=>{w();const A=s();if(w(),n[C]===\"|\"){const O=[A];for(;n[C]===\"|\";)C++,w(),O.push(s());return[\"pipe\",...O]}return A},s=()=>{const A=o();w();for(const O of r){const R=t[O];if(n.substring(C,C+R.length)===R){C+=R.length,w();const D=o();return[O,A,D]}}return A},o=()=>{if(n[C]===\"(\"){C++;const A=i();return k(\")\"),A}return a()},a=()=>{if(n[C]===\".\"){const A=[];for(;n[C]===\".\";)C++,A.push(d()??h()??g()??x(\"Property expected\"));return[\"get\",...A]}return l()},l=()=>{const A=C,O=h();if(w(),!O||n[C]!==\"(\")return C=A,u();C++,!Cl[O]&&x(`Unknown function '${O}'`),w();const R=n[C]!==\")\"?[i()]:[];for(;C<n.length&&n[C]!==\")\";)w(),k(\",\"),R.push(i());return k(\")\"),[O,...R]},u=()=>{if(n[C]===\"{\"){C++,w();const A={};let O=!0;for(;C<n.length&&n[C]!==\"}\";){O?O=!1:(k(\",\"),w());const R=d()??h()??g()??x(\"Key expected\");w(),k(\":\"),A[R]=i()}return k(\"}\"),[\"object\",A]}return f()},f=()=>{if(n[C]===\"[\"){C++,w();const A=[];let O=!0;for(;C<n.length&&n[C]!==\"]\";)O?O=!1:(k(\",\"),w()),A.push(i());return k(\"]\"),[\"array\",...A]}return d()??p()??m()},d=()=>v(aW,JSON.parse),h=()=>v(oW,A=>A),p=()=>v(lW,JSON.parse),g=()=>v(cW,JSON.parse),m=()=>{const A=v(uW,JSON.parse);if(A!==void 0)return A;x(\"Value expected\")},b=()=>{w(),C<n.length&&x(`Unexpected part '${n.substring(C)}'`)},v=(A,O)=>{const R=n.substring(C).match(A);if(R)return C+=R[0].length,O(R[0])},w=()=>v(fW,A=>A),k=A=>{n[C]!==A&&x(`Character '${A}' expected`),C++},x=(A,O=C)=>{throw new SyntaxError(`${A} (pos: ${O})`)};let C=0;const T=i();return b(),T}const dW=40,hW=\"  \",pW=(n,e)=>{const t=hW,r=(u,f)=>rv(u)?i(u,f):JSON.stringify(u),i=(u,f)=>{var d;const[h,...p]=u;if(h===\"get\"&&p.length>0)return o(p);if(h===\"pipe\"){const v=p.map(w=>r(w,f+t));return l(v,[\"\",\" | \",\"\"],[\"\",`\n${f+t}| `,\"\"])}if(h===\"object\")return s(p[0],f);if(h===\"array\"){const v=p.map(w=>r(w,f));return l(v,[\"[\",\", \",\"]\"],[`[\n${f+t}`,`,\n${f+t}`,`\n${f}]`])}const g=((d=void 0)==null?void 0:d[h])??mO[h];if(g&&p.length===2){const[v,w]=p,k=r(v,f),x=r(w,f);return`(${k} ${g} ${x})`}const m=p.length===1?f:f+t,b=p.map(v=>r(v,m));return p.length===1&&b[0][0]===\"(\"?`${h}${b[0]}`:l(b,[`${h}(`,\", \",\")\"],p.length===1?[`${h}(`,`,\n${f}`,\")\"]:[`${h}(\n${m}`,`,\n${m}`,`\n${f})`])},s=(u,f)=>{const d=f+t,h=Object.entries(u).map(([p,g])=>`${a(p)}: ${r(g,d)}`);return l(h,[\"{ \",\", \",\" }\"],[`{\n${d}`,`,\n${d}`,`\n${f}}`])},o=u=>u.map(f=>`.${a(f)}`).join(\"\"),a=u=>sW.test(u)?u:JSON.stringify(u),l=(u,[f,d,h],[p,g,m])=>f.length+u.reduce((b,v)=>b+v.length+d.length,0)-d.length+h.length<=dW?f+u.join(d)+h:p+u.join(g)+m;return r(n,\"\")};function gW(n,e,t){return Dr(rW(e)?vO(e):e)(n)}function ih(n,e){const t=new Set(e),r=n.replace(/ \\(copy( \\d+)?\\)$/,\"\");let i=n,s=1;for(;t.has(i);){const o=\"copy\"+(s>1?\" \"+s:\"\");i=`${r} (${o})`,s++}return i}function sh(n,e){const t=\"...\",r=e-t.length;return n.length>e?n.substring(0,r)+t:n}function mW(n){if(n===\"\")return\"\";const e=n.toLowerCase();if(e===\"null\")return null;if(e===\"true\")return!0;if(e===\"false\")return!1;if(e===\"undefined\")return;const t=Number(n),r=parseFloat(n);return!isNaN(t)&&!isNaN(r)?t:n}const vW=`\n<p>\n  Enter a <a href=\"https://jsonquerylang.org\" target=\"_blank\" \n  rel=\"noopener noreferrer\">JSON Query</a> function to filter, sort, or transform the data.\n  You can use functions like <code>get</code>, <code>filter</code>,\n  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. \n  Example query: <code>filter(.age >= 18)</code>\n</p>\n`,yW={id:\"jsonquery\",name:\"JSONQuery\",description:vW,createQuery:bW,executeQuery:wW};function bW(n,e){const{filter:t,sort:r,projection:i}=e,s=[];return t&&t.path&&t.relation&&t.value&&s.push([\"filter\",[xW(t.relation),Wh(t.path),mW(t.value)]]),r&&r.path&&r.direction&&s.push([\"sort\",Wh(r.path),r.direction===\"desc\"?\"desc\":\"asc\"]),i&&i.paths&&(i.paths.length>1?s.push([\"pick\",...i.paths.map(Wh)]):s.push([\"map\",Wh(i.paths[0])])),pW([\"pipe\",...s])}function Wh(n){return[\"get\",...n]}function wW(n,e){return e.trim()!==\"\"?gW(n,e):n}function xW(n){return vO(`1 ${n} 1`)[0]}/*!\n * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n * Copyright 2024 Fonticons, Inc.\n */const CW={prefix:\"far\",iconName:\"lightbulb\",icon:[384,512,[128161],\"f0eb\",\"M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7c0 0 0 0 0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5L109 384c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8c0 0 0 0 0 0s0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4c0 0 0 0 0 0s0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5l-48.6 0c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80l0-16 160 0 0 16c0 44.2-35.8 80-80 80z\"]},SW={prefix:\"far\",iconName:\"square-check\",icon:[448,512,[9745,9989,61510,\"check-square\"],\"f14a\",\"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"]},yO=SW,bO={prefix:\"far\",iconName:\"square\",icon:[448,512,[9632,9723,9724,61590],\"f0c8\",\"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z\"]},_W={prefix:\"far\",iconName:\"clock\",icon:[512,512,[128339,\"clock-four\"],\"f017\",\"M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z\"]};var kW=Nt(\"<g><!></g>\");function AW(n,e){Pe(e,!1);let t=870711;function r(){return t+=1,`fa-${t.toString(16)}`}let i=H(\"\"),s=y(e,\"data\",8);function o(u){if(!u||!u.raw)return\"\";let f=u.raw;const d={};return f=f.replace(/\\s(?:xml:)?id=[\"']?([^\"')\\s]+)/g,(h,p)=>{const g=r();return d[p]=g,` id=\"${g}\"`}),f=f.replace(/#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g,(h,p,g,m)=>{const b=p||m;return!b||!d[b]?h:`#${d[b]}`}),f}Z(()=>z(s()),()=>{S(i,o(s()))}),wt();var a=kW(),l=V(a);Db(l,()=>c(i),!0,!1),B(n,a),Ie()}var OW=Nt(\"<svg><!></svg>\");function EW(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=Jn(t,[\"class\",\"width\",\"height\",\"box\",\"spin\",\"inverse\",\"pulse\",\"flip\",\"style\",\"label\"]);let i=y(e,\"class\",8,\"\"),s=y(e,\"width\",8),o=y(e,\"height\",8),a=y(e,\"box\",8,\"0 0 0 0\"),l=y(e,\"spin\",8,!1),u=y(e,\"inverse\",8,!1),f=y(e,\"pulse\",8,!1),d=y(e,\"flip\",8,\"none\"),h=y(e,\"style\",8,\"\"),p=y(e,\"label\",8,\"\");var g=OW();let m;var b=V(g);en(b,e,\"default\",{},null),pe(()=>{m=Ti(g,m,{version:\"1.1\",class:`fa-icon ${i()??\"\"}`,width:s(),height:o(),\"aria-label\":p(),role:p()?\"img\":\"presentation\",viewBox:a(),style:h(),...r},\"svelte-1mc5hvj\",!0),Fe(g,\"fa-spin\",l()),Fe(g,\"fa-pulse\",f()),Fe(g,\"fa-inverse\",u()),Fe(g,\"fa-flip-horizontal\",d()===\"horizontal\"),Fe(g,\"fa-flip-vertical\",d()===\"vertical\")}),B(n,g)}var TW=Nt(\"<path></path>\"),MW=Nt(\"<polygon></polygon>\"),PW=Nt(\"<!><!><!>\",1);function Xt(n,e){const t=Jn(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=Jn(t,[\"class\",\"data\",\"scale\",\"spin\",\"inverse\",\"pulse\",\"flip\",\"label\",\"style\"]);Pe(e,!1);let i=y(e,\"class\",8,\"\"),s=y(e,\"data\",8),o=H(),a=y(e,\"scale\",8,1),l=y(e,\"spin\",8,!1),u=y(e,\"inverse\",8,!1),f=y(e,\"pulse\",8,!1),d=y(e,\"flip\",8,void 0),h=y(e,\"label\",8,\"\"),p=y(e,\"style\",8,\"\"),g=1,m=H(10),b=H(10),v=H(),w=H();function k(D){let E,I;if(D)if(\"definition\"in D){console.error(\"`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead\");return}else if(\"iconName\"in D&&\"icon\"in D){E=D.iconName;const[P,_,,,L]=D.icon,M=Array.isArray(L)?L:[L];I={width:P,height:_,paths:M.map(N=>({d:N}))}}else E=Object.keys(D)[0],I=D[E];else return;return I}function x(){let D=1;return typeof a()<\"u\"&&(D=Number(a())),isNaN(D)||D<=0?(console.warn('Invalid prop: prop \"scale\" should be a number over 0.'),g):D*g}function C(){return c(o)?`0 0 ${c(o).width} ${c(o).height}`:`0 0 ${c(m)} ${c(b)}`}function T(){return c(o)?Math.max(c(o).width,c(o).height)/16:1}function A(){return c(o)?c(o).width/T()*x():0}function O(){return c(o)?c(o).height/T()*x():0}function R(){let D=\"\";p()!==null&&(D+=p());let E=x();return E===1?D.length===0?\"\":D:(D!==\"\"&&!D.endsWith(\";\")&&(D+=\"; \"),`${D}font-size: ${E}em`)}Z(()=>(z(s()),z(p()),z(a())),()=>{S(o,k(s())),p(),a(),S(m,A()),S(b,O()),S(v,R()),S(w,C())}),wt(),Ne(),EW(n,Qr({get label(){return h()},get width(){return c(m)},get height(){return c(b)},get box(){return c(w)},get style(){return c(v)},get spin(){return l()},get flip(){return d()},get inverse(){return u()},get pulse(){return f()},get class(){return i()}},()=>r,{children:(D,E)=>{var I=Ue(),P=be(I);en(P,e,\"default\",{},_=>{var L=PW(),M=be(L);Dt(M,1,()=>{var Y;return((Y=c(o))==null?void 0:Y.paths)||[]},un,(Y,ie)=>{var Q=TW();let te;pe(()=>te=Ti(Q,te,{...c(ie)},void 0,!0)),B(Y,Q)});var N=K(M);Dt(N,1,()=>{var Y;return((Y=c(o))==null?void 0:Y.polygons)||[]},un,(Y,ie)=>{var Q=MW();let te;pe(()=>te=Ti(Q,te,{...c(ie)},void 0,!0)),B(Y,Q)});var F=K(N);{var j=Y=>{AW(Y,{get data(){return c(o)},set data(ie){S(o,ie)},$$legacy:!0})};oe(F,Y=>{var ie;(ie=c(o))!=null&&ie.raw&&Y(j)})}B(_,L)}),B(D,I)},$$slots:{default:!0}})),Ie()}var IW=ee('<div role=\"checkbox\" tabindex=\"-1\" class=\"jse-boolean-toggle svelte-1ryp01u\"><!></div>');function RW(n,e){Pe(e,!1);let t=y(e,\"path\",9),r=y(e,\"value\",9),i=y(e,\"readOnly\",9),s=y(e,\"onPatch\",9),o=y(e,\"focus\",9);function a(d){d.stopPropagation(),!i()&&(s()([{op:\"replace\",path:mt(t()),value:!r()}]),o()())}Ne(!0);var l=IW(),u=V(l);const f=he(()=>r()===!0?yO:bO);Xt(u,{get data(){return c(f)}}),pe(()=>{Ee(l,\"aria-checked\",r()===!0),Ee(l,\"title\",i()?`Boolean value ${r()}`:\"Click to toggle this boolean value\"),Fe(l,\"jse-readonly\",i())}),ve(\"mousedown\",l,a),B(n,l),Ie()}const DW=\"modulepreload\",NW=function(n,e){return new URL(n,e).href},sS={},LW=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName(\"link\"),a=document.querySelector(\"meta[property=csp-nonce]\"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute(\"nonce\"));i=Promise.allSettled(t.map(u=>{if(u=NW(u,r),u in sS)return;sS[u]=!0;const f=u.endsWith(\".css\"),d=f?'[rel=\"stylesheet\"]':\"\";if(!!r)for(let g=o.length-1;g>=0;g--){const m=o[g];if(m.href===u&&(!f||m.rel===\"stylesheet\"))return}else if(document.querySelector(`link[href=\"${u}\"]${d}`))return;const p=document.createElement(\"link\");if(p.rel=f?\"stylesheet\":DW,f||(p.as=\"script\"),p.crossOrigin=\"\",p.href=u,l&&p.setAttribute(\"nonce\",l),document.head.appendChild(p),f)return new Promise((g,m)=>{p.addEventListener(\"load\",g),p.addEventListener(\"error\",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event(\"vite:preloadError\",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status===\"rejected\"&&s(a.reason);return e().catch(s)})};var BW=ee('<div class=\"jse-color-picker-popup svelte-s1wu8v\"></div>');function FW(n,e){Pe(e,!1);let t=y(e,\"color\",8),r=y(e,\"onChange\",8),i=y(e,\"showOnTop\",8),s=H(),o=()=>{};cr(async()=>{var f;const l=(f=await LW(async()=>{const{default:d}=await Promise.resolve().then(()=>Cae);return{default:d}},void 0,import.meta.url))==null?void 0:f.default,u=new l({parent:c(s),color:t(),popup:i()?\"top\":\"bottom\",onDone(d){const p=d.rgba[3]===1?d.hex.substring(0,7):d.hex;r()(p)}});u.show(),o=()=>{u.destroy()}}),Hr(()=>{o()}),Ne();var a=BW();_n(a,l=>S(s,l),()=>c(s)),B(n,a),Ie()}var jW=ee('<button type=\"button\" class=\"jse-color-picker-button svelte-xeg9n6\"></button>');function zW(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),{openAbsolutePopup:i}=gs(\"absolute-popup\");let s=y(e,\"path\",9),o=y(e,\"value\",9),a=y(e,\"readOnly\",9),l=y(e,\"onPatch\",9),u=y(e,\"focus\",9);function f(g){l()([{op:\"replace\",path:mt(s()),value:g}]),d()}function d(){u()()}function h(g){var C;if(a())return;const m=300,b=g.target,v=b.getBoundingClientRect().top,k=(((C=rh(b))==null?void 0:C.innerHeight)??0)-v<m&&v>m,x={color:o(),onChange:f,showOnTop:k};i(FW,x,{anchor:b,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:m})}Z(()=>z(o()),()=>{S(t,OA(o()))}),Z(()=>(z(a()),z(o())),()=>{S(r,a()?`Color ${o()}`:\"Click to open a color picker\")}),wt(),Ne(!0);var p=jW();pe(()=>{Ee(p,\"style\",`background: ${c(t)??\"\"}`),Ee(p,\"title\",c(r)),Ee(p,\"aria-label\",c(r)),Fe(p,\"jse-readonly\",a())}),ve(\"click\",p,h),B(n,p),Ie()}const a1=300,l1=300,oS=300,aS=50,VW=200,HW=400,qW=1200,Uh=1e3,bd=100,my=100,c1=2e4,WW=50,UW=50,eu=[{start:0,end:bd}],KW=100*1024*1024,JW=1024*1024,lS=10*1024*1024,XW=10*1024,vy=\"Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value\",Ew=\"Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)\",gf=\"hover-insert-inside\",yy=\"hover-insert-after\",cS=\"hover-collection\",by=\"valid\",uS=\"repairable\",YW=\"invalid\",qo=42*8,Wo=260,Mf=100,fS={[Ms.asc]:\"ascending\",[Ms.desc]:\"descending\"};function GW(n,e){const t={start:n,end:Math.min(u1(n),e)},r=Math.max(Ng((n+e)/2),n),i={start:r,end:Math.min(u1(r),e)},s=Ng(e),o=s===e?s-bd:s,a={start:Math.max(o,n),end:e},l=[t],u=i.start>=t.end&&i.end<=a.start;return u&&l.push(i),a.start>=(u?i.end:t.end)&&l.push(a),l}function wO(n){const e=bq(n,r=>r.start),t=[e[0]];for(let r=0;r<e.length;r++){const i=t.length-1,s=t[i],o=e[r];o.start<=s.end?t[i]={start:Math.min(s.start,o.start),end:Math.max(s.end,o.end)}:t.push(o)}return t}function QW(n,e){return n.some(t=>e>=t.start&&e<t.end)}function u1(n){return Ng(n)+bd}function Ng(n){return Math.floor(n/bd)*bd}function xO(n){return n?n.type===\"space\"||n.space===!0:!1}function Hp(n){return n?n.type===\"separator\"||n.separator===!0:!1}function ZW(n){return n?n.type===\"label\"&&typeof n.text==\"string\":!1}function Uf(n){return n?typeof n.onClick==\"function\":!1}function wy(n){return n?n.type===\"dropdown-button\"&&Uf(n.main)&&Array.isArray(n.items):!1}function $W(n){return n?n.type===\"row\"&&Array.isArray(n.items):!1}function eU(n){return n?n.type===\"column\"&&Array.isArray(n.items):!1}function dS(n){return gn(n)&&gn(n.parseError)}function tU(n){return gn(n)&&Array.isArray(n.validationErrors)}function nU(n){return gn(n)&&Array.isArray(n.path)&&typeof n.message==\"string\"&&\"severity\"in n}function rU(n){return gn(n)&&nU(n)&&typeof n.isChildError==\"boolean\"}function iU(n){return gn(n)&&typeof n.action==\"function\"&&gn(n.props)}function Fs(n){return n!==void 0&&n.type===\"object\"}function Zr(n){return n!==void 0&&n.type===\"array\"}function Tw(n){return n!==void 0&&n.type===\"value\"}function Kl(n){return Fs(n)||Zr(n)}function CO(n){return n!==void 0&&Array.isArray(n.searchResults)}function Lg(n){return n?n.type===\"tree\":!1}function hS(n){return n?n.type===\"text\":!1}function pS(n){return n?n.type===\"mode\":!1}function sU({json:n,factory:e}){return Array.isArray(n)?e.createArrayDocumentState():gn(n)?e.createObjectDocumentState():n!==void 0?e.createValueDocumentState():void 0}function f1({json:n,expand:e}){const t=sU({json:n,factory:Iw});return e&&t?As(n,t,[],e):t}function Mw({expanded:n}={expanded:!1}){return{type:\"array\",expanded:n,visibleSections:eu,items:[]}}function Pw({expanded:n}={expanded:!1}){return{type:\"object\",expanded:n,properties:{}}}function oU(){return{type:\"value\"}}const Iw={createObjectDocumentState:Pw,createArrayDocumentState:Mw,createValueDocumentState:oU};function SO(n,e,t,{createObjectDocumentState:r,createArrayDocumentState:i,createValueDocumentState:s}){function o(a,l,u){if(Array.isArray(a)){const f=Zr(l)?l:i();if(u.length===0)return f;const d=Vr(u[0]),h=o(a[d],f.items[d],u.slice(1));return Mi(f,[\"items\",u[0]],h)}if(gn(a)){const f=Fs(l)?l:r();if(u.length===0)return f;const d=u[0],h=o(a[d],f.properties[d],u.slice(1));return Mi(f,[\"properties\",d],h)}return Tw(l)?l:s()}return o(n,e,t)}function Wi(n,e,t=[]){return wd(n,e,t,(r,i)=>{if(!(r===void 0||i===void 0)){if(Array.isArray(r)){if(Zr(i))return i;const s=Kl(i)?i.expanded:!1;return Mw({expanded:s})}if(gn(r)){if(Fs(i))return i;const s=Kl(i)?i.expanded:!1;return Pw({expanded:s})}if(Tw(i))return i}},()=>!0)}function wd(n,e,t,r,i){const s=r(n,e,t);if(Array.isArray(n)&&Zr(s)&&i(s)){const o=[];return Rw(n,s.visibleSections,l=>{const u=t.concat(String(l)),f=n[l],d=s.items[l],h=wd(f,d,u,r,i);h!==void 0&&(o[l]=h)}),!ZC(o,s.items)?{...s,items:o}:s}if(gn(n)&&Fs(s)&&i(s)){const o={};return Object.keys(n).forEach(l=>{const u=t.concat(l),f=n[l],d=s.properties[l],h=wd(f,d,u,r,i);h!==void 0&&(o[l]=h)}),!ZC(Object.values(o),Object.values(s.properties))?{...s,properties:o}:s}return s}function Rw(n,e,t){e.forEach(({start:r,end:i})=>{nO(r,Math.min(n.length,i),t)})}function aU(n,e){if(QW(n.visibleSections,e))return n;const t=Ng(e),r=u1(t),i={start:t,end:r};return{...n,visibleSections:wO(n.visibleSections.concat(i))}}function xd(n,e){let t=n;const r=[];let i=0;for(;i<e.length;){if(Array.isArray(t)){const s=e[i];r.push(\"items\",s),t=t[Vr(s)]}else if(gn(t)){const s=e[i];r.push(\"properties\",s),t=t[s]}else throw new Error(`Cannot convert path: Object or Array expected at index ${i}`);i++}return r}function As(n,e,t,r){let i=e;for(let s=0;s<t.length;s++){const o=t.slice(0,s);i=_u(n,i,o,(a,l)=>{const u=Kl(l)&&!l.expanded?{...l,expanded:!0}:l;if(Zr(u)){const f=Vr(t[s]);return aU(u,f)}return u})}return _u(n,i,t,(s,o)=>lU(s,o,[],r))}function lU(n,e,t,r){return wd(n,e,t,(i,s,o)=>Array.isArray(i)&&r(o)?Zr(s)?s.expanded?s:{...s,expanded:!0}:Mw({expanded:!0}):gn(i)&&r(o)?Fs(s)?s.expanded?s:{...s,expanded:!0}:Pw({expanded:!0}):s,i=>Kl(i)&&i.expanded)}function _O(n,e,t,r){return _u(n,e,t,(i,s)=>r?cU(i,s,t):kO(s))}function kO(n){return Zr(n)&&n.expanded?{...n,expanded:!1,visibleSections:eu}:Fs(n)&&n.expanded?{...n,expanded:!1}:n}function cU(n,e,t){return wd(n,e,t,(r,i)=>kO(i),()=>!0)}function uU(n,e,t,r){return _u(n,e,t,(i,s)=>{if(!Zr(s))return s;const o=wO(s.visibleSections.concat(r));return{...s,visibleSections:o}})}function AO(n,e,t){const r={json:n,documentState:e},i=t.reduce((s,o)=>({json:Ds(s.json,[o]),documentState:fU(s.json,s.documentState,o)}),r);return{json:i.json,documentState:Wi(i.json,i.documentState)}}function fU(n,e,t){if(dA(t))return OO(n,e,t,void 0);if(hA(t))return EO(n,e,t);if(rw(t)){const r=Ns(n,t.path),i=oa(n,e,r);return i?iv(n,e,r,{type:\"value\",enforceString:i}):e}return K0(t)||wu(t)?pU(n,e,t):e}function Ll(n,e,t){try{return st(e,xd(n,t))}catch{return}}function dU(n,e,t,r,i){const s=SO(n,e,t,i);return Mi(s,xd(n,t),r)}function Dw(n,e,t,r,i){const s=SO(n,e,t,i);return ow(s,xd(n,t),o=>{const a=st(n,t);return r(a,o)})}function iv(n,e,t,r){return dU(n,e,t,r,Iw)}function _u(n,e,t,r){return Dw(n,e,t,r,Iw)}function hU(n,e,t){const r=xd(n,t);return cs(e,r)?Um(e,xd(n,t)):e}function OO(n,e,t,r){const i=Ns(n,t.path),s=rn(i);let o=e;return o=_u(n,o,s,(a,l)=>{if(!Zr(l))return l;const u=Vr(zt(i)),{items:f,visibleSections:d}=l;return{...l,items:u<f.length?Aq(f,u,r!==void 0?[r]:Array(1)):f,visibleSections:TO(d,u,1)}}),iv(n,o,i,r)}function EO(n,e,t){const r=Ns(n,t.path),i=rn(r),s=st(n,i);return Array.isArray(s)?_u(n,e,i,(o,a)=>{if(!Zr(a))return a;const l=Vr(zt(r)),{items:u,visibleSections:f}=a;return{...a,items:u.slice(0,l).concat(u.slice(l+1)),visibleSections:TO(f,l,-1)}}):hU(n,e,r)}function pU(n,e,t){if(wu(t)&&t.from===t.path)return e;let r=e;const i=Ns(n,t.from),s=Ll(n,r,i);return wu(t)&&(r=EO(n,r,{path:t.from})),r=OO(n,r,{path:t.path},s),r}function TO(n,e,t){const r=n.map(i=>({start:i.start>e?i.start+t:i.start,end:i.end>e?i.end+t:i.end}));return gU(r)}function gU(n){const e=n.slice(0);let t=1;for(;t<e.length;)e[t-1].end===e[t].start&&(e[t-1]={start:e[t-1].start,end:e[t].end},e.splice(t)),t++;return e}function oa(n,e,t){const r=st(n,t),i=Ll(n,e,t),s=Tw(i)?i.enforceString:void 0;return typeof s==\"boolean\"?s:$B(r)}function oh(n,e,t=!1){const r=n.indexOf(e);return r!==-1?t?n.slice(r):n.slice(r+1):[]}function Nw(n,e){const t=[];function r(i,s,o){t.push(o),er(i)&&Zr(s)&&s.expanded&&Rw(i,s.visibleSections,a=>{r(i[a],s.items[a],o.concat(String(a)))}),ur(i)&&Fs(s)&&s.expanded&&Object.keys(i).forEach(a=>{r(i[a],s.properties[a],o.concat(a))})}return r(n,e,[]),t}function MO(n,e,t=!0){const r=[];function i(s,o){r.push({path:o,type:Ts.value});const a=Ll(n,e,o);if(s&&Kl(a)&&a.expanded){if(t&&r.push({path:o,type:Ts.inside}),er(s)){const l=Zr(a)?a.visibleSections:eu;Rw(s,l,u=>{const f=o.concat(String(u));i(s[u],f),t&&r.push({path:f,type:Ts.after})})}ur(s)&&Object.keys(s).forEach(u=>{const f=o.concat(u);r.push({path:f,type:Ts.key}),i(s[u],f),t&&r.push({path:f,type:Ts.after})})}}return i(n,[]),r}function mU(n,e,t){const r=Nw(n,e),i=r.map(mt),s=mt(t),o=i.indexOf(s);if(o!==-1&&o>0)return r[o-1]}function d1(n,e,t){const r=Nw(n,e),s=r.map(mt).indexOf(mt(t));if(s!==-1&&s<r.length-1)return r[s+1]}function Jl(n,e,t,r=XW){const i=st(n,t),s=Rq({json:i},r)?Pf:Lw;return As(n,e,t,s)}function xy(n,e,t){const r=Ll(n,e,t);return(Kl(r)?r.expanded:!1)?e:Jl(n,e,t)}function Pf(n){return n.length===0?!0:n.length===1&&n[0]===\"0\"}function gS(n){return n.length===0}function Lw(){return!0}function qp(){return!1}function us(n){return n&&n.type===xn.after||!1}function Xr(n){return n&&n.type===xn.inside||!1}function Or(n){return n&&n.type===xn.key||!1}function yn(n){return n&&n.type===xn.value||!1}function Nn(n){return n&&n.type===xn.multi||!1}function sv(n){return Nn(n)&&Jt(n.focusPath,n.anchorPath)}function Cd(n){return Nn(n)||us(n)||Xr(n)||Or(n)||yn(n)}function Cy(n){return n&&n.type===xn.text||!1}function Xa(n,e){const t=[];return vU(n,e,r=>{t.push(r)}),t}function vU(n,e,t){if(!e)return;const r=Xl(e),i=gt(e);if(Jt(r,i))return t(r);{if(n===void 0)return;const s=RO(r,i);if(r.length===s.length||i.length===s.length)return t(s);const o=si(r,i),a=aa(n,o),l=ol(n,o),u=Qo(n,o,a),f=Qo(n,o,l);if(u===-1||f===-1)return;const d=st(n,s);if(ur(d)){const h=Object.keys(d);for(let p=u;p<=f;p++){const g=t(s.concat(h[p]));if(g!==void 0)return g}return}if(er(d)){for(let h=u;h<=f;h++){const p=t(s.concat(String(h)));if(p!==void 0)return p}return}}throw new Error(\"Failed to create selection\")}function PO(n){return Xr(n)?n.path:rn(gt(n))}function aa(n,e){if(!Nn(e))return e.path;const t=Qo(n,e,e.anchorPath);return Qo(n,e,e.focusPath)<t?e.focusPath:e.anchorPath}function ol(n,e){if(!Nn(e))return e.path;const t=Qo(n,e,e.anchorPath);return Qo(n,e,e.focusPath)>t?e.focusPath:e.anchorPath}function yU(n,e){return la(gt(n),e)&&(gt(n).length>e.length||Xr(n))}function mS(n,e,t,r=!1){if(!t)return;const i=r?gt(t):aa(n,t),s=mU(n,e,i);if(r)return Xr(t)||us(t)?s!==void 0?si(i,i):void 0:s!==void 0?si(Xl(t),s):void 0;if(us(t)||Xr(t))return jt(i);if(Or(t)){if(s===void 0||s.length===0)return;const o=rn(s),a=st(n,o);return Array.isArray(a)||wn(s)?jt(s):ca(s)}if(yn(t))return s!==void 0?jt(s):void 0;if(s!==void 0)return jt(s)}function bU(n,e,t,r=!1){if(!t)return;const i=r?gt(t):ol(n,t),s=lr(st(n,i))?_O(n,e,i,!0):e,o=d1(n,e,i),a=d1(n,s,i);if(r)return Xr(t)?o!==void 0?si(o,o):void 0:us(t)?a!==void 0?si(a,a):void 0:a!==void 0?si(Xl(t),a):void 0;if(us(t))return a!==void 0?jt(a):void 0;if(Xr(t)||yn(t))return o!==void 0?jt(o):void 0;if(Or(t)){if(o===void 0||o.length===0)return;const l=rn(o),u=st(n,l);return Array.isArray(u)?jt(o):ca(o)}if(Nn(t))return a!==void 0?jt(a):o!==void 0?jt(o):void 0}function wU(n,e,t){const r=rn(t),i=[zt(t)],s=st(n,r),o=s?d1(s,e,i):void 0;return o?jt(r.concat(o)):fa(t)}function IO(n,e,t,r){if(!t)return{caret:void 0,previous:void 0,next:void 0};const i=MO(n,e,r),s=i.findIndex(o=>Jt(o.path,gt(t))&&String(o.type)===String(t.type));return{caret:s!==-1?i[s]:void 0,previous:s!==-1&&s>0?i[s-1]:void 0,next:s!==-1&&s<i.length-1?i[s+1]:void 0}}function xU(n,e,t,r=!1,i=!0){if(!t)return;const{caret:s,previous:o}=IO(n,e,t,i);if(r)return Nn(t)?void 0:si(t.path,t.path);if(s&&o)return Fw(o);const a=rn(gt(t)),l=st(n,a);if(yn(t)&&Array.isArray(l))return si(t.path,t.path);if(Nn(t)&&!Array.isArray(l))return ca(t.focusPath)}function CU(n,e,t,r=!1,i=!0){if(!t)return;const{caret:s,next:o}=IO(n,e,t,i);if(r)return Nn(t)?void 0:si(t.path,t.path);if(s&&o)return Fw(o);if(Nn(t))return jt(t.focusPath)}function _c(n,e){const t=Nw(n,e);let r=0;for(;r<t.length-1&&t[r+1].length>t[r].length;)r++;const i=t[r];return i===void 0||i.length===0||Array.isArray(st(n,rn(i)))?jt(i):ca(i)}function ku(n,e){if(e.length===1){const r=Go(e);if(r.op===\"replace\"){const i=Ns(n,r.path);return jt(i)}}if(!wn(e)&&e.every(r=>r.op===\"move\")){const r=Go(e),i=e.slice(1);if((K0(r)||wu(r))&&r.from!==r.path&&i.every(s=>(K0(s)||wu(s))&&s.from===s.path)){const s=Ns(n,r.path);return ca(s)}}const t=e.filter(r=>r.op!==\"test\"&&r.op!==\"remove\"&&(r.op!==\"move\"||r.from!==r.path)&&typeof r.path==\"string\").map(r=>Ns(n,r.path));if(!wn(t))return{type:xn.multi,anchorPath:Go(t),focusPath:zt(t)}}function RO(n,e){let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function Bg(n){return Or(n)||yn(n)||sv(n)}function vS(n,e){return Bg(e)&&lr(st(n,gt(e)))?gt(e):rn(gt(e))}function la(n,e){if(n.length<e.length)return!1;for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function no(n){if(bi(n)){const{type:e,path:t}=n;return{type:e,path:t}}return n}function ca(n){return{type:xn.key,path:n}}function Bw(n,e){return{type:xn.key,path:n,edit:!0,initialValue:e}}function jt(n){return{type:xn.value,path:n}}function Fg(n,e){return{type:xn.value,path:n,edit:!0,initialValue:e}}function ua(n){return{type:xn.inside,path:n}}function fa(n){return{type:xn.after,path:n}}function si(n,e){const t=RO(n,e),r=n.length>t.length&&e.length>t.length;return{type:xn.multi,anchorPath:r?t.concat(n[t.length]):t,focusPath:r?t.concat(e[t.length]):t}}function DO(n,e,t,r){if(Or(e))return String(zt(e.path));if(yn(e)){const i=st(n,e.path);return typeof i==\"string\"?i:r.stringify(i,null,t)}if(Nn(e)){if(wn(e.focusPath))return r.stringify(n,null,t);const i=PO(e),s=st(n,i);if(Array.isArray(s))if(sv(e)){const o=st(n,e.focusPath);return r.stringify(o,null,t)}else return Xa(n,e).map(o=>{const a=st(n,o);return`${r.stringify(a,null,t)},`}).join(`\n`);else return Xa(n,e).map(o=>{const a=zt(o),l=st(n,o);return`${r.stringify(a)}: ${r.stringify(l,null,t)},`}).join(`\n`)}}function bi(n){return(Or(n)||yn(n))&&n.edit===!0}function SU(){return jt([])}function Xu(n){return Or(n)||yn(n)||Nn(n)}function Wp(n){return Or(n)||yn(n)||sv(n)}function Fw(n){switch(n.type){case Ts.key:return ca(n.path);case Ts.value:return jt(n.path);case Ts.after:return fa(n.path);case Ts.inside:return ua(n.path)}}function yS(n,e){switch(n){case xn.key:return ca(e);case xn.value:return jt(e);case xn.after:return fa(e);case xn.inside:return ua(e);case xn.multi:case xn.text:return si(e,e)}}function bS(n,e,t){if(!e)return;if(Sd(n,e,t))return e;const r=Nn(e)?rn(e.focusPath):e.path;if(la(r,t))return e}function Sd(n,e,t){if(n===void 0||!e)return!1;if(Or(e)||Xr(e)||us(e))return Jt(e.path,t);if(yn(e))return la(t,e.path);if(Nn(e)){const r=aa(n,e),i=ol(n,e),s=rn(e.focusPath);if(!la(t,s)||t.length<=s.length)return!1;const o=Qo(n,e,r),a=Qo(n,e,i),l=Qo(n,e,t);return l!==-1&&l>=o&&l<=a}return!1}function Qo(n,e,t){const r=rn(e.focusPath);if(!la(t,r)||t.length<=r.length)return-1;const i=t[r.length],s=st(n,r);if(ur(s))return Object.keys(s).indexOf(i);if(er(s)){const o=Vr(i);if(o<s.length)return o}return-1}function gt(n){return Nn(n)?n.focusPath:n.path}function Xl(n){return Nn(n)?n.anchorPath:n.path}function Yu(...n){const e=[];for(const t of n)if(typeof t==\"string\"&&e.push(t),t&&typeof t==\"object\")for(const r in t)Object.hasOwnProperty.call(t,r)&&t[r]&&e.push(r);return e.join(\" \")}function NO(n,e,t){const r=dw(n,t);return Yu(\"jse-value\",\"jse-\"+r,{\"jse-url\":Km(n),\"jse-empty\":typeof n==\"string\"&&n.length===0,\"jse-table-cell\":e===Cr.table})}var _U=ee('<div role=\"textbox\" tabindex=\"0\" contenteditable=\"true\" spellcheck=\"false\"></div>');function LO(n,e){Pe(e,!1);const t=Tr(\"jsoneditor:EditableDiv\");let r=y(e,\"value\",9),i=y(e,\"initialValue\",9),s=y(e,\"shortText\",9,!1),o=y(e,\"label\",9),a=y(e,\"onChange\",9),l=y(e,\"onCancel\",9),u=y(e,\"onFind\",9),f=y(e,\"onPaste\",9,gr),d=y(e,\"onValueClass\",9,()=>\"\"),h=H(void 0,!0),p=H(void 0,!0),g=!1;cr(()=>{t(\"onMount\",{value:r(),initialValue:i()}),b(i()!==void 0?i():r()),c(h)&&Xq(c(h))}),Hr(()=>{const A=m();t(\"onDestroy\",{closed:g,value:r(),newValue:A}),!g&&A!==r()&&a()(A,qa.no)});function m(){return c(h)?Uq(c(h).innerText):\"\"}function b(A){c(h)&&Ui(h,c(h).innerText=nv(A))}function v(){const A=m();A===\"\"&&b(\"\"),S(p,d()(A))}function w(){g=!0,l()()}function k(A){A.stopPropagation();const O=sa(A);if(O===\"Escape\"&&(A.preventDefault(),w()),O===\"Enter\"||O===\"Tab\"){A.preventDefault(),g=!0;const R=m();a()(R,qa.nextInside)}O===\"Ctrl+F\"&&(A.preventDefault(),u()(!1)),O===\"Ctrl+H\"&&(A.preventDefault(),u()(!0))}function x(A){if(A.stopPropagation(),!f()||!A.clipboardData)return;const O=A.clipboardData.getData(\"text/plain\");f()(O)}function C(){const A=document.hasFocus(),O=m();t(\"handleBlur\",{hasFocus:A,closed:g,value:r(),newValue:O}),document.hasFocus()&&!g&&(g=!0,O!==r()&&a()(O,qa.self))}Z(()=>(z(d()),z(r())),()=>{S(p,d()(r()))}),wt(),Ne(!0);var T=_U();_n(T,A=>S(h,A),()=>c(h)),pe(A=>{Ee(T,\"aria-label\",o()),zr(T,qr(A),\"svelte-f9kmxj\")},[()=>Yu(\"jse-editable-div\",c(p),{\"jse-short-text\":s()})],he),ve(\"input\",T,v),ve(\"keydown\",T,k),ve(\"paste\",T,x),ve(\"blur\",T,C),B(n,T),Ie()}function kU(n,e){Pe(e,!1);let t=y(e,\"path\",9),r=y(e,\"value\",9),i=y(e,\"selection\",9),s=y(e,\"mode\",9),o=y(e,\"parser\",9),a=y(e,\"normalization\",9),l=y(e,\"enforceString\",9),u=y(e,\"onPatch\",9),f=y(e,\"onPasteJson\",9),d=y(e,\"onSelect\",9),h=y(e,\"onFind\",9),p=y(e,\"focus\",9),g=y(e,\"findNextInside\",9);function m(T){return l()?T:Uu(T,o())}function b(T,A){u()([{op:\"replace\",path:mt(t()),value:m(a().unescapeValue(T))}],(O,R,D)=>{if(D&&!Jt(t(),gt(D)))return;const E=A===qa.nextInside?g()(t()):jt(t());return{state:R,selection:E}}),p()()}function v(){d()(jt(t())),p()()}function w(T){try{const A=o().parse(T);lr(A)&&f()({path:t(),contents:A,onPasteAsJson:()=>{v();const O=[{op:\"replace\",path:mt(t()),value:A}];u()(O,(R,D)=>({state:Jl(R,D,t())}))}})}catch{}}function k(T){return NO(m(a().unescapeValue(T)),s(),o())}Ne(!0);const x=he(()=>a().escapeValue(r())),C=he(()=>bi(i())?i().initialValue:void 0);LO(n,{get value(){return c(x)},get initialValue(){return c(C)},label:\"Edit value\",onChange:b,onCancel:v,onPaste:w,get onFind(){return h()},onValueClass:k}),Ie()}function zc(n,e,t){const r=rn(e),i=st(n,r);if(er(i)){const s=Vr(zt(e));return t.map((o,a)=>({op:\"add\",path:mt(r.concat(String(s+a))),value:o.value}))}else if(ur(i)){const s=zt(e),o=Object.keys(i),a=s!==void 0?oh(o,s,!0):[];return[...t.map(l=>{const u=ih(l.key,o);return{op:\"add\",path:mt(r.concat(u)),value:l.value}}),...a.map(l=>Yl(r,l))]}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}function h1(n,e,t){const r=st(n,e);if(Array.isArray(r)){const i=r.length;return t.map((s,o)=>({op:\"add\",path:mt(e.concat(String(i+o))),value:s.value}))}else return t.map(i=>{const s=ih(i.key,Object.keys(r));return{op:\"add\",path:mt(e.concat(s)),value:i.value}})}function ah(n,e,t,r){const i=e.filter(a=>a!==t),s=ih(r,i),o=oh(e,t,!1);return[{op:\"move\",from:mt(n.concat(t)),path:mt(n.concat(s))},...o.map(a=>Yl(n,a))]}function AU(n,e,t){const r=Go(e),i=rn(r),s=st(n,i);if(er(s)){const o=Go(e),a=o?Vr(zt(o)):0;return[...jg(e),...t.map((l,u)=>({op:\"add\",path:mt(i.concat(String(u+a))),value:l.value}))]}else if(ur(s)){const o=zt(e),a=rn(o),l=zt(o),u=Object.keys(s),f=l!==void 0?oh(u,l,!1):[],d=new Set(e.map(p=>zt(p))),h=u.filter(p=>!d.has(p));return[...jg(e),...t.map(p=>{const g=ih(p.key,h);return{op:\"add\",path:mt(a.concat(g)),value:p.value}}),...f.map(p=>Yl(a,p))]}else throw new Error(\"Cannot create replace operations: parent must be an Object or Array\")}function BO(n,e){const t=zt(e);if(wn(t))throw new Error(\"Cannot duplicate root object\");const r=rn(t),i=zt(t),s=st(n,r);if(er(s)){const o=zt(e),a=o?Vr(zt(o))+1:0;return[...e.map((l,u)=>({op:\"copy\",from:mt(l),path:mt(r.concat(String(u+a)))}))]}else if(ur(s)){const o=Object.keys(s),a=i!==void 0?oh(o,i,!1):[];return[...e.map(l=>{const u=zt(l),f=ih(u,o);return{op:\"copy\",from:mt(l),path:mt(r.concat(f))}}),...a.map(l=>Yl(r,l))]}else throw new Error(\"Cannot create duplicate operations: parent must be an Object or Array\")}function OU(n,e){if(yn(e))return[{op:\"move\",from:mt(e.path),path:\"\"}];if(Nn(e)){const t=rn(e.focusPath),r=st(n,t);if(er(r))return[{op:\"replace\",path:\"\",value:Xa(n,e).map(s=>{const o=Vr(zt(s));return r[o]})}];if(ur(r)){const i={};return Xa(n,e).forEach(s=>{const o=String(zt(s));i[o]=r[o]}),[{op:\"replace\",path:\"\",value:i}]}}else throw new Error(\"Cannot create extract operations: parent must be an Object or Array\");throw new Error(\"Cannot extract: unsupported type of selection \"+JSON.stringify(e))}function FO(n,e,t,r){if(Or(e)){const i=iO(t,r),s=rn(e.path),o=st(n,s),a=Object.keys(o),l=zt(e.path);return ah(s,a,l,typeof i==\"string\"?i:t)}if(yn(e)||Nn(e)&&wn(e.focusPath))try{return[{op:\"replace\",path:mt(gt(e)),value:tv(t,i=>nh(i,r))}]}catch{return[{op:\"replace\",path:mt(gt(e)),value:t}]}if(Nn(e)){const i=Sy(t,r);return AU(n,Xa(n,e),i)}if(us(e)){const i=Sy(t,r),s=e.path,o=rn(s),a=st(n,o);if(er(a)){const l=Vr(zt(s)),u=o.concat(String(l+1));return zc(n,u,i)}else if(ur(a)){const l=String(zt(s)),u=Object.keys(a);if(wn(u)||zt(u)===l)return h1(n,o,i);{const f=u.indexOf(l),d=u[f+1],h=o.concat(d);return zc(n,h,i)}}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}if(Xr(e)){const i=Sy(t,r),s=e.path,o=st(n,s);if(er(o)){const a=s.concat(\"0\");return zc(n,a,i)}else if(ur(o)){const a=Object.keys(o);if(wn(a))return h1(n,s,i);{const l=Go(a),u=s.concat(l);return zc(n,u,i)}}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}throw new Error(\"Cannot insert: unsupported type of selection \"+JSON.stringify(e))}function EU(n,e,t){if(!e)return[];const r=\"beforePath\"in t?t.beforePath:void 0,i=\"append\"in t?t.append:void 0,s=rn(gt(e)),o=st(n,s);if(!i&&!(r&&la(r,s)&&r.length>s.length))return[];const a=aa(n,e),l=ol(n,e),u=zt(a),f=zt(l),d=r?r[s.length]:void 0;if(ur(o)){const h=Object.keys(o),p=h.indexOf(u),g=h.indexOf(f),m=i?h.length:d!==void 0?h.indexOf(d):-1;if(p!==-1&&g!==-1&&m!==-1)return m>p?[...h.slice(p,g+1),...h.slice(m,h.length)].map(b=>Yl(s,b)):[...h.slice(m,p),...h.slice(g+1,h.length)].map(b=>Yl(s,b))}else if(er(o)){const h=Vr(u),p=Vr(f),g=d!==void 0?Vr(d):o.length,m=p-h+1;return g<h?QC(m,b=>({op:\"move\",from:mt(s.concat(String(h+b))),path:mt(s.concat(String(g+b)))})):QC(m,()=>({op:\"move\",from:mt(s.concat(String(h))),path:mt(s.concat(String(g)))}))}else throw new Error(\"Cannot create move operations: parent must be an Object or Array\");return[]}function TU(n,e,t){if(t===\"object\")return{};if(t===\"array\")return[];if(t===\"structure\"&&n!==void 0){const r=e?PO(e):[],i=st(n,r);if(Array.isArray(i)&&!wn(i)){const s=Go(i);return lr(s)?QV(s,o=>Array.isArray(o)?[]:gn(o)?void 0:\"\"):\"\"}}return\"\"}function jg(n){return n.map(e=>({op:\"remove\",path:mt(e)})).reverse()}function Yl(n,e){return{op:\"move\",from:mt(n.concat(e)),path:mt(n.concat(e))}}function Sy(n,e){const t=/^\\s*{/.test(n),r=/^\\s*\\[/.test(n),i=iO(n,e),s=i!==void 0?i:tv(n,o=>nh(o,e));return t&&gn(s)||r&&Array.isArray(s)?[{key:\"New item\",value:s}]:Array.isArray(s)?s.map((o,a)=>({key:\"New item \"+a,value:o})):gn(s)?Object.keys(s).map(o=>({key:o,value:s[o]})):[{key:\"New item\",value:s}]}function jO(n,e){if(Or(e)){const t=rn(e.path),r=st(n,t),i=Object.keys(r),s=zt(e.path),a=ah(t,i,s,\"\"),l=ku(n,a);return{operations:a,newSelection:l}}if(yn(e))return{operations:[{op:\"replace\",path:mt(e.path),value:\"\"}],newSelection:e};if(Nn(e)){const t=Xa(n,e),r=jg(t),i=zt(t);if(wn(i)){const a=[{op:\"replace\",path:\"\",value:\"\"}],l=jt([]);return{operations:a,newSelection:l}}const s=rn(i),o=st(n,s);if(er(o)){const a=Go(t),l=Vr(zt(a)),u=l===0?ua(s):fa(s.concat(String(l-1)));return{operations:r,newSelection:u}}else if(ur(o)){const a=Object.keys(o),l=Go(t),u=zt(l),f=a.indexOf(u),d=a[f-1],h=f===0?ua(s):fa(s.concat(d));return{operations:r,newSelection:h}}else throw new Error(\"Cannot create remove operations: parent must be an Object or Array\")}throw new Error(\"Cannot remove: unsupported type of selection \"+JSON.stringify(e))}function zO(n,e){return Oq(vA(n,e,{before:(t,r,i)=>{if(hA(r)){const s=ms(r.path);return{revertOperations:[...i,..._y(t,s)]}}if(wu(r)){const s=ms(r.from);return{revertOperations:r.from===r.path?[r,..._y(t,s)]:[...i,..._y(t,s)]}}return{document:t}}}))}function _y(n,e){const t=rn(e),r=zt(e),i=st(n,t);if(ur(i)){const s=Object.keys(i);return oh(s,r,!1).map(a=>Yl(t,a))}return[]}function MU(n,e){return n.flatMap(t=>{if(rw(t)){const r=ms(t.path);if(r.length>0){const i=[t];let s=rn(r);for(;s.length>0&&!cs(e,s);)i.unshift({op:\"add\",path:mt(s),value:{}}),s=rn(s);return i}}return t})}function PU(n,e){const t=e!=null&&e.activeItem?SS(e.activeItem):void 0,r=n.findIndex(a=>Jt(t,SS(a))),i=r!==-1?r:(e==null?void 0:e.activeIndex)!==void 0&&(e==null?void 0:e.activeIndex)<n.length?e==null?void 0:e.activeIndex:n.length>0?0:-1,s=n.map((a,l)=>({...a,active:l===i})),o=s[i];return{items:s,activeItem:o,activeIndex:i}}function wS(n){const e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],r=n.items.map((i,s)=>({...i,active:s===e}));return{...n,items:r,activeItem:t,activeIndex:e}}function IU(n){const e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],r=n.items.map((i,s)=>({...i,active:s===e}));return{...n,items:r,activeItem:t,activeIndex:e}}function VO(n,e,t={}){const r=n.toLowerCase(),i=(t==null?void 0:t.maxResults)??1/0,s=t==null?void 0:t.columns,o=[],a=[];function l(f){o.length>=i||o.push(f)}function u(f,d){if(er(d)){const h=a.length;a.push(\"0\");for(let p=0;p<d.length;p++)if(a[h]=String(p),u(f,d[p]),o.length>=i)return;a.pop()}else if(ur(d)){const h=Object.keys(d),p=a.length;a.push(\"\");for(const g of h)if(a[p]=g,xS(g,f,a,Bs.key,l),u(f,d[g]),o.length>=i)return;a.pop()}else xS(String(d),f,a,Bs.value,l)}if(n===\"\")return[];if(s){if(!Array.isArray(e))throw new Error(\"json must be an Array when option columns is defined\");for(let f=0;f<e.length;f++){a[0]=String(f);const d=e[f];for(let h=0;h<s.length;h++){const p=s[h];if(p.length===1)a[1]=p[0];else for(let m=0;m<p.length;m++)a[m+1]=p[m];for(;a.length>p.length+1;)a.pop();const g=st(d,p);u(r,g)}if(o.length>=i)break}return o}else return u(r,e),o}function xS(n,e,t,r,i){const s=n.toLowerCase();let o=0,a=-1,l=-1;do l=s.indexOf(e,a),l!==-1&&(a=l+e.length,i({path:t.slice(0),field:r,fieldIndex:o,start:l,end:a}),o++);while(l!==-1)}function p1(n,e,t,r){return n.substring(0,t)+e+n.substring(r)}function CS(n,e,t){let r=n;return ZH(t,i=>{r=p1(r,e,i.start,i.end)}),r}function RU(n,e,t,r,i){const{field:s,path:o,start:a,end:l}=r;if(s===Bs.key){const u=rn(o),f=st(n,u),d=zt(o),h=Object.keys(f),p=p1(d,t,a,l),g=ah(u,h,d,p);return{newSelection:ku(n,g),operations:g}}else if(s===Bs.value){const u=st(n,o);if(u===void 0)throw new Error(`Cannot replace: path not found ${mt(o)}`);const f=typeof u==\"string\"?u:String(u),d=oa(n,e,o),h=p1(f,t,a,l),p=[{op:\"replace\",path:mt(o),value:d?h:Uu(h,i)}];return{newSelection:ku(n,p),operations:p}}else throw new Error(`Cannot replace: unknown type of search result field ${s}`)}function DU(n,e,t,r,i){const s=VO(t,n,{maxResults:1/0}),o=[];for(let u=0;u<s.length;u++){const f=s[u-1],d=s[u];u===0||d.field!==f.field||!Jt(d.path,f.path)?o.push({path:d.path,field:d.field,items:[d]}):zt(o).items.push(d)}o.sort((u,f)=>u.field!==f.field?u.field===Bs.key?1:-1:f.path.length-u.path.length);let a=[],l;return o.forEach(u=>{const{field:f,path:d,items:h}=u;if(f===Bs.key){const p=rn(d),g=st(n,p),m=zt(d),b=Object.keys(g),v=CS(m,r,h),w=ah(p,b,m,v);a=a.concat(w),l=ku(n,w)}else if(f===Bs.value){const p=st(n,d);if(p===void 0)throw new Error(`Cannot replace: path not found ${mt(d)}`);const g=typeof p==\"string\"?p:String(p),m=oa(n,e,d),b=CS(g,r,h),v=[{op:\"replace\",path:mt(d),value:m?b:Uu(b,i)}];a=a.concat(v),l=ku(n,v)}else throw new Error(`Cannot replace: unknown type of search result field ${f}`)}),{operations:a,newSelection:l}}function NU(n,e){const t=[];let r=0;for(const s of e){const o=n.slice(r,s.start);o!==\"\"&&t.push({type:\"normal\",text:o,active:!1});const a=n.slice(s.start,s.end);t.push({type:\"highlight\",text:a,active:s.active}),r=s.end}const i=zt(e);return i&&i.end<n.length&&t.push({type:\"normal\",text:n.slice(i.end),active:!1}),t}function SS(n){return n.path.concat(n.field,String(n.fieldIndex))}function LU(n){const e=CO(n)?n.searchResults.filter(t=>t.field===Bs.key):void 0;return e&&e.length>0?e:void 0}function BU(n){const e=CO(n)?n.searchResults.filter(t=>t.field===Bs.value):void 0;return e&&e.length>0?e:void 0}const FU={createObjectDocumentState:()=>({type:\"object\",properties:{}}),createArrayDocumentState:()=>({type:\"array\",items:[]}),createValueDocumentState:()=>({type:\"value\"})};function jU(n,e,t,r){return Dw(n,e,t,r,FU)}function HO(n,e){return e.reduce((t,r)=>jU(n,t,r.path,(i,s)=>({...s,searchResults:s.searchResults?s.searchResults.concat(r):[r]})),void 0)}function g1(n){const e=(n==null?void 0:n.searchResults)??[],t=Fs(n)?Object.values(n.properties).flatMap(g1):Zr(n)?n.items.flatMap(g1):[];return e.concat(t)}var zU=ee('<span class=\"jse-highlight svelte-5fb7bl\"> </span>');function qO(n,e){Pe(e,!1);const t=H();let r=y(e,\"text\",8),i=y(e,\"searchResultItems\",8);Z(()=>(z(r()),z(i())),()=>{S(t,NU(String(r()),i()))}),wt(),Ne();var s=Ue(),o=be(s);Dt(o,1,()=>c(t),un,(a,l)=>{var u=Ue(),f=be(u);{var d=p=>{var g=Ar();pe(()=>Ke(g,c(l).text)),B(p,g)},h=p=>{var g=zU(),m=V(g);pe(b=>{Fe(g,\"jse-active\",c(l).active),Ke(m,b)},[()=>nv(c(l).text)],he),B(p,g)};oe(f,p=>{c(l).type===\"normal\"?p(d):p(h,!1)})}B(a,u)}),B(n,s),Ie()}var VU=ee('<div role=\"button\" tabindex=\"-1\" data-type=\"selectable-value\"><!></div>');function HU(n,e){Pe(e,!1);const t=H(void 0,!0);let r=y(e,\"path\",9),i=y(e,\"value\",9),s=y(e,\"mode\",9),o=y(e,\"readOnly\",9),a=y(e,\"normalization\",9),l=y(e,\"parser\",9),u=y(e,\"onSelect\",9),f=y(e,\"searchResultItems\",9);function d(v){typeof i()==\"string\"&&c(t)&&Aw(v)&&(v.preventDefault(),v.stopPropagation(),window.open(i(),\"_blank\"))}function h(v){o()||(v.preventDefault(),u()(Fg(r())))}Z(()=>z(i()),()=>{S(t,Km(i()))}),wt(),Ne(!0);var p=VU(),g=V(p);{var m=v=>{const w=he(()=>a().escapeValue(i()));qO(v,{get text(){return c(w)},get searchResultItems(){return f()}})},b=v=>{var w=Ar();pe(k=>Ke(w,k),[()=>nv(a().escapeValue(i()))],he),B(v,w)};oe(g,v=>{f()?v(m):v(b,!1)})}pe(v=>{zr(p,qr(v),\"svelte-c0g9qz\"),Ee(p,\"title\",c(t)?\"Ctrl+Click or Ctrl+Enter to open url in new window\":void 0)},[()=>NO(i(),s(),l())],he),ve(\"click\",p,d),ve(\"dblclick\",p,h),B(n,p),Ie()}var qU=ee('<div class=\"jse-tooltip svelte-14y3y8t\"> </div>');function WU(n,e){let t=y(e,\"text\",8);var r=qU(),i=V(r);pe(()=>Ke(i,t())),B(n,r)}function Zo(n,{text:e,openAbsolutePopup:t,closeAbsolutePopup:r}){let i;function s(){i=t(WU,{text:e},{position:\"top\",width:10*e.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function o(){r(i)}return n.addEventListener(\"mouseenter\",s),n.addEventListener(\"mouseleave\",o),{destroy(){n.removeEventListener(\"mouseenter\",s),n.removeEventListener(\"mouseleave\",o)}}}var UU=ee('<div class=\"jse-timestamp svelte-1jla5ec\"><!></div>');function KU(n,e){Pe(e,!1);const t=H(void 0,!0),r=gs(\"absolute-popup\");let i=y(e,\"value\",9);Z(()=>z(i()),()=>{S(t,`Time: ${new Date(i()).toString()}`)}),wt(),Ne(!0);var s=UU(),o=V(s);Xt(o,{data:_W}),tn(s,(a,l)=>Zo==null?void 0:Zo(a,l),()=>({text:c(t),...r})),B(n,s),Ie()}function JU(n){const e=[];return!n.isEditing&&GB(n.value)&&e.push({component:RW,props:n}),!n.isEditing&&QB(n.value)&&e.push({component:zW,props:n}),n.isEditing&&e.push({component:kU,props:n}),n.isEditing||e.push({component:HU,props:n}),!n.isEditing&&Y0(n.value)&&e.push({component:KU,props:n}),e}/*!\n * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n * Copyright 2024 Fonticons, Inc.\n */const m1={prefix:\"fas\",iconName:\"trash-can\",icon:[448,512,[61460,\"trash-alt\"],\"f2ed\",\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z\"]},XU={prefix:\"fas\",iconName:\"down-left-and-up-right-to-center\",icon:[512,512,[\"compress-alt\"],\"f422\",\"M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z\"]},_d={prefix:\"fas\",iconName:\"caret-right\",icon:[256,512,[],\"f0da\",\"M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z\"]},WO={prefix:\"fas\",iconName:\"paste\",icon:[512,512,[\"file-clipboard\"],\"f0ea\",\"M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"]},YU={prefix:\"fas\",iconName:\"circle-notch\",icon:[512,512,[],\"f1ce\",\"M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z\"]},GU={prefix:\"fas\",iconName:\"scissors\",icon:[512,512,[9984,9986,9988,\"cut\"],\"f0c4\",\"M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z\"]},tu=GU,QU={prefix:\"fas\",iconName:\"square-caret-down\",icon:[448,512,[\"caret-square-down\"],\"f150\",\"M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z\"]},ZU=QU,$U={prefix:\"fas\",iconName:\"caret-left\",icon:[256,512,[],\"f0d9\",\"M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z\"]},eK={prefix:\"fas\",iconName:\"square-check\",icon:[448,512,[9745,9989,61510,\"check-square\"],\"f14a\",\"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"]},UO=eK,tK={prefix:\"fas\",iconName:\"pen-to-square\",icon:[512,512,[\"edit\"],\"f044\",\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z\"]},nK=tK,rK={prefix:\"fas\",iconName:\"chevron-up\",icon:[512,512,[],\"f077\",\"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z\"]},KO={prefix:\"fas\",iconName:\"angle-right\",icon:[320,512,[8250],\"f105\",\"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z\"]},iK={prefix:\"fas\",iconName:\"square-caret-up\",icon:[448,512,[\"caret-square-up\"],\"f151\",\"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z\"]},sK=iK,oK={prefix:\"fas\",iconName:\"caret-up\",icon:[320,512,[],\"f0d8\",\"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z\"]},JO={prefix:\"fas\",iconName:\"square\",icon:[448,512,[9632,9723,9724,61590],\"f0c8\",\"M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z\"]},ov={prefix:\"fas\",iconName:\"filter\",icon:[512,512,[],\"f0b0\",\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"]},zg={prefix:\"fas\",iconName:\"code\",icon:[640,512,[],\"f121\",\"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z\"]},Au={prefix:\"fas\",iconName:\"wrench\",icon:[512,512,[128295],\"f0ad\",\"M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"]},aK={prefix:\"fas\",iconName:\"eye\",icon:[576,512,[128065],\"f06e\",\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"]},nu={prefix:\"fas\",iconName:\"pen\",icon:[512,512,[128394],\"f304\",\"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z\"]},lK={prefix:\"fas\",iconName:\"arrow-rotate-right\",icon:[512,512,[8635,\"arrow-right-rotate\",\"arrow-rotate-forward\",\"redo\"],\"f01e\",\"M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z\"]},jw=lK,cK={prefix:\"fas\",iconName:\"arrow-rotate-left\",icon:[512,512,[8634,\"arrow-left-rotate\",\"arrow-rotate-back\",\"arrow-rotate-backward\",\"undo\"],\"f0e2\",\"M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z\"]},zw=cK,uK={prefix:\"fas\",iconName:\"crop-simple\",icon:[512,512,[\"crop-alt\"],\"f565\",\"M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z\"]},fK=uK,dK={prefix:\"fas\",iconName:\"gear\",icon:[512,512,[9881,\"cog\"],\"f013\",\"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z\"]},hK=dK,Ya={prefix:\"fas\",iconName:\"caret-down\",icon:[320,512,[],\"f0d7\",\"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z\"]},pK={prefix:\"fas\",iconName:\"ellipsis-vertical\",icon:[128,512,[\"ellipsis-v\"],\"f142\",\"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z\"]},XO=pK,Kh={prefix:\"fas\",iconName:\"arrow-right-arrow-left\",icon:[448,512,[8644,\"exchange\"],\"f0ec\",\"M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z\"]},gK={prefix:\"fas\",iconName:\"arrow-down-short-wide\",icon:[576,512,[\"sort-amount-desc\",\"sort-amount-down-alt\"],\"f884\",\"M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"]},av=gK,mK={prefix:\"fas\",iconName:\"angle-down\",icon:[448,512,[8964],\"f107\",\"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"]},_S={prefix:\"fas\",iconName:\"arrow-down\",icon:[384,512,[8595],\"f063\",\"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"]},vK={prefix:\"fas\",iconName:\"magnifying-glass\",icon:[512,512,[128269,\"search\"],\"f002\",\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"]},lv=vK,yK={prefix:\"fas\",iconName:\"chevron-down\",icon:[512,512,[],\"f078\",\"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z\"]},Wa={prefix:\"fas\",iconName:\"copy\",icon:[448,512,[],\"f0c5\",\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\"]},Vc={prefix:\"fas\",iconName:\"plus\",icon:[448,512,[10133,61543,\"add\"],\"2b\",\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z\"]},YO={prefix:\"fas\",iconName:\"xmark\",icon:[384,512,[128473,10005,10006,10060,215,\"close\",\"multiply\",\"remove\",\"times\"],\"f00d\",\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"]},bK=YO,cv=YO,wK={prefix:\"fas\",iconName:\"rotate\",icon:[512,512,[128260,\"sync-alt\"],\"f2f1\",\"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z\"]},xK={prefix:\"fas\",iconName:\"up-right-and-down-left-from-center\",icon:[512,512,[\"expand-alt\"],\"f424\",\"M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z\"]},GO={prefix:\"fas\",iconName:\"clone\",icon:[512,512,[],\"f24d\",\"M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z\"]},Vw={prefix:\"fas\",iconName:\"check\",icon:[448,512,[10003,10004],\"f00c\",\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"]},CK={prefix:\"fas\",iconName:\"triangle-exclamation\",icon:[512,512,[9888,\"exclamation-triangle\",\"warning\"],\"f071\",\"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"]},Gl=CK;function zs(n){return n.map((e,t)=>kK.test(e)?\"[\"+e+\"]\":/[.[\\]]/.test(e)||e===\"\"?'[\"'+SK(e)+'\"]':(t>0?\".\":\"\")+e).join(\"\")}function SK(n){return n.replace(/\"/g,'\\\\\"')}function _K(n){const e=[];let t=0;for(;t<n.length;)n[t]===\".\"&&t++,n[t]===\"[\"?(t++,n[t]==='\"'?(t++,e.push(r(s=>s==='\"',!0)),i('\"')):e.push(r(s=>s===\"]\")),i(\"]\")):e.push(r(s=>s===\".\"||s===\"[\"));function r(s,o=!1){let a=\"\";for(;t<n.length&&!s(n[t]);)o&&n[t]===\"\\\\\"&&n[t+1]==='\"'?(a+='\"',t+=2):(a+=n[t],t++);return a}function i(s){if(n[t]!==s)throw new SyntaxError(`Invalid JSON path: ${s} expected at position ${t}`);t++}return e}function Ea(n){return{value:n,label:wn(n)?\"(item root)\":zs(n)}}const kK=/^\\d+$/,AK={},OK={showWizard:!0,showOriginal:!0},Vg=Math.min,Bl=Math.max,Hg=Math.round,Jh=Math.floor,po=n=>({x:n,y:n}),EK={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},TK={start:\"end\",end:\"start\"};function kS(n,e,t){return Bl(n,Vg(e,t))}function uv(n,e){return typeof n==\"function\"?n(e):n}function Ql(n){return n.split(\"-\")[0]}function fv(n){return n.split(\"-\")[1]}function QO(n){return n===\"x\"?\"y\":\"x\"}function ZO(n){return n===\"y\"?\"height\":\"width\"}function Ou(n){return[\"top\",\"bottom\"].includes(Ql(n))?\"y\":\"x\"}function $O(n){return QO(Ou(n))}function MK(n,e,t){t===void 0&&(t=!1);const r=fv(n),i=$O(n),s=ZO(i);let o=i===\"x\"?r===(t?\"end\":\"start\")?\"right\":\"left\":r===\"start\"?\"bottom\":\"top\";return e.reference[s]>e.floating[s]&&(o=qg(o)),[o,qg(o)]}function PK(n){const e=qg(n);return[v1(n),e,v1(e)]}function v1(n){return n.replace(/start|end/g,e=>TK[e])}function IK(n,e,t){const r=[\"left\",\"right\"],i=[\"right\",\"left\"],s=[\"top\",\"bottom\"],o=[\"bottom\",\"top\"];switch(n){case\"top\":case\"bottom\":return t?e?i:r:e?r:i;case\"left\":case\"right\":return e?s:o;default:return[]}}function RK(n,e,t,r){const i=fv(n);let s=IK(Ql(n),t===\"start\",r);return i&&(s=s.map(o=>o+\"-\"+i),e&&(s=s.concat(s.map(v1)))),s}function qg(n){return n.replace(/left|right|bottom|top/g,e=>EK[e])}function DK(n){return{top:0,right:0,bottom:0,left:0,...n}}function NK(n){return typeof n!=\"number\"?DK(n):{top:n,right:n,bottom:n,left:n}}function Wg(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function AS(n,e,t){let{reference:r,floating:i}=n;const s=Ou(e),o=$O(e),a=ZO(o),l=Ql(e),u=s===\"y\",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case\"top\":p={x:f,y:r.y-i.height};break;case\"bottom\":p={x:f,y:r.y+r.height};break;case\"right\":p={x:r.x+r.width,y:d};break;case\"left\":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(fv(e)){case\"start\":p[o]-=h*(t&&u?-1:1);break;case\"end\":p[o]+=h*(t&&u?-1:1);break}return p}const LK=async(n,e,t)=>{const{placement:r=\"bottom\",strategy:i=\"absolute\",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:d}=AS(u,r,l),h=r,p={},g=0;for(let m=0;m<a.length;m++){const{name:b,fn:v}=a[m],{x:w,y:k,data:x,reset:C}=await v({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});f=w??f,d=k??d,p={...p,[b]:{...p[b],...x}},C&&g<=50&&(g++,typeof C==\"object\"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:f,y:d}=AS(u,h,l)),m=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:p}};async function eE(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u=\"clippingAncestors\",rootBoundary:f=\"viewport\",elementContext:d=\"floating\",altBoundary:h=!1,padding:p=0}=uv(e,n),g=NK(p),b=a[h?d===\"floating\"?\"reference\":\"floating\":d],v=Wg(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),w=d===\"floating\"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},C=Wg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:k,strategy:l}):w);return{top:(v.top-C.top+g.top)/x.y,bottom:(C.bottom-v.bottom+g.bottom)/x.y,left:(v.left-C.left+g.left)/x.x,right:(C.right-v.right+g.right)/x.x}}const BK=function(n){return n===void 0&&(n={}),{name:\"flip\",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p=\"bestFit\",fallbackAxisSideDirection:g=\"none\",flipAlignment:m=!0,...b}=uv(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Ql(i),w=Ou(a),k=Ql(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=h||(k||!m?[qg(a)]:PK(a)),T=g!==\"none\";!h&&T&&C.push(...RK(a,m,g,x));const A=[a,...C],O=await eE(e,b),R=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(O[v]),d){const _=MK(i,o,x);R.push(O[_[0]],O[_[1]])}if(D=[...D,{placement:i,overflows:R}],!R.every(_=>_<=0)){var E,I;const _=(((E=s.flip)==null?void 0:E.index)||0)+1,L=A[_];if(L)return{data:{index:_,overflows:D},reset:{placement:L}};let M=(I=D.filter(N=>N.overflows[0]<=0).sort((N,F)=>N.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case\"bestFit\":{var P;const N=(P=D.filter(F=>{if(T){const j=Ou(F.placement);return j===w||j===\"y\"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,Y)=>j+Y,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:P[0];N&&(M=N);break}case\"initialPlacement\":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};async function FK(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ql(t),a=fv(t),l=Ou(t)===\"y\",u=[\"left\",\"top\"].includes(o)?-1:1,f=s&&l?-1:1,d=uv(e,n);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d==\"number\"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g==\"number\"&&(p=a===\"end\"?g*-1:g),l?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const jK=function(n){return n===void 0&&(n=0),{name:\"offset\",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await FK(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},zK=function(n){return n===void 0&&(n={}),{name:\"shift\",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...l}=uv(n,e),u={x:t,y:r},f=await eE(e,l),d=Ou(Ql(i)),h=QO(d);let p=u[h],g=u[d];if(s){const b=h===\"y\"?\"top\":\"left\",v=h===\"y\"?\"bottom\":\"right\",w=p+f[b],k=p-f[v];p=kS(w,p,k)}if(o){const b=d===\"y\"?\"top\":\"left\",v=d===\"y\"?\"bottom\":\"right\",w=g+f[b],k=g-f[v];g=kS(w,g,k)}const m=a.fn({...e,[h]:p,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}};function dv(){return typeof window<\"u\"}function Gu(n){return tE(n)?(n.nodeName||\"\").toLowerCase():\"#document\"}function Gi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ko(n){var e;return(e=(tE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tE(n){return dv()?n instanceof Node||n instanceof Gi(n).Node:!1}function Vs(n){return dv()?n instanceof Element||n instanceof Gi(n).Element:!1}function bo(n){return dv()?n instanceof HTMLElement||n instanceof Gi(n).HTMLElement:!1}function OS(n){return!dv()||typeof ShadowRoot>\"u\"?!1:n instanceof ShadowRoot||n instanceof Gi(n).ShadowRoot}function lh(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Hs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&![\"inline\",\"contents\"].includes(i)}function VK(n){return[\"table\",\"td\",\"th\"].includes(Gu(n))}function hv(n){return[\":popover-open\",\":modal\"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Hw(n){const e=qw(),t=Vs(n)?Hs(n):n;return[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\"].some(r=>t[r]?t[r]!==\"none\":!1)||(t.containerType?t.containerType!==\"normal\":!1)||!e&&(t.backdropFilter?t.backdropFilter!==\"none\":!1)||!e&&(t.filter?t.filter!==\"none\":!1)||[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\",\"filter\"].some(r=>(t.willChange||\"\").includes(r))||[\"paint\",\"layout\",\"strict\",\"content\"].some(r=>(t.contain||\"\").includes(r))}function HK(n){let e=Ga(n);for(;bo(e)&&!Eu(e);){if(Hw(e))return e;if(hv(e))return null;e=Ga(e)}return null}function qw(){return typeof CSS>\"u\"||!CSS.supports?!1:CSS.supports(\"-webkit-backdrop-filter\",\"none\")}function Eu(n){return[\"html\",\"body\",\"#document\"].includes(Gu(n))}function Hs(n){return Gi(n).getComputedStyle(n)}function pv(n){return Vs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ga(n){if(Gu(n)===\"html\")return n;const e=n.assignedSlot||n.parentNode||OS(n)&&n.host||ko(n);return OS(e)?e.host:e}function nE(n){const e=Ga(n);return Eu(e)?n.ownerDocument?n.ownerDocument.body:n.body:bo(e)&&lh(e)?e:nE(e)}function kd(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=nE(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Gi(i);if(s){const a=y1(o);return e.concat(o,o.visualViewport||[],lh(i)?i:[],a&&t?kd(a):[])}return e.concat(i,kd(i,[],t))}function y1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rE(n){const e=Hs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Hg(t)!==s||Hg(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function Ww(n){return Vs(n)?n:n.contextElement}function ru(n){const e=Ww(n);if(!bo(e))return po(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=rE(e);let o=(s?Hg(t.width):t.width)/r,a=(s?Hg(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qK=po(0);function iE(n){const e=Gi(n);return!qw()||!e.visualViewport?qK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WK(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gi(n)?!1:e}function Zl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=Ww(n);let o=po(1);e&&(r?Vs(r)&&(o=ru(r)):o=ru(n));const a=WK(s,t,r)?iE(s):po(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const h=Gi(s),p=r&&Vs(r)?Gi(r):r;let g=h,m=y1(g);for(;m&&r&&p!==g;){const b=ru(m),v=m.getBoundingClientRect(),w=Hs(m),k=v.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,x=v.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,f*=b.x,d*=b.y,l+=k,u+=x,g=Gi(m),m=y1(g)}}return Wg({width:f,height:d,x:l,y:u})}function Uw(n,e){const t=pv(n).scrollLeft;return e?e.left+t:Zl(ko(n)).left+t}function sE(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Uw(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function UK(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i===\"fixed\",o=ko(r),a=e?hv(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=po(1);const f=po(0),d=bo(r);if((d||!d&&!s)&&((Gu(r)!==\"body\"||lh(o))&&(l=pv(r)),bo(r))){const p=Zl(r);u=ru(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=o&&!d&&!s?sE(o,l,!0):po(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:t.y*u.y-l.scrollTop*u.y+f.y+h.y}}function KK(n){return Array.from(n.getClientRects())}function JK(n){const e=ko(n),t=pv(n),r=n.ownerDocument.body,i=Bl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Bl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Uw(n);const a=-t.scrollTop;return Hs(r).direction===\"rtl\"&&(o+=Bl(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function XK(n,e){const t=Gi(n),r=ko(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=qw();(!u||u&&e===\"fixed\")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function YK(n,e){const t=Zl(n,!0,e===\"fixed\"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=bo(n)?ru(n):po(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function ES(n,e,t){let r;if(e===\"viewport\")r=XK(n,t);else if(e===\"document\")r=JK(ko(n));else if(Vs(e))r=YK(e,t);else{const i=iE(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Wg(r)}function oE(n,e){const t=Ga(n);return t===e||!Vs(t)||Eu(t)?!1:Hs(t).position===\"fixed\"||oE(t,e)}function GK(n,e){const t=e.get(n);if(t)return t;let r=kd(n,[],!1).filter(a=>Vs(a)&&Gu(a)!==\"body\"),i=null;const s=Hs(n).position===\"fixed\";let o=s?Ga(n):n;for(;Vs(o)&&!Eu(o);){const a=Hs(o),l=Hw(o);!l&&a.position===\"fixed\"&&(i=null),(s?!l&&!i:!l&&a.position===\"static\"&&!!i&&[\"absolute\",\"fixed\"].includes(i.position)||lh(o)&&!l&&oE(n,o))?r=r.filter(f=>f!==o):i=a,o=Ga(o)}return e.set(n,r),r}function QK(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t===\"clippingAncestors\"?hv(e)?[]:GK(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,f)=>{const d=ES(e,f,i);return u.top=Bl(d.top,u.top),u.right=Vg(d.right,u.right),u.bottom=Vg(d.bottom,u.bottom),u.left=Bl(d.left,u.left),u},ES(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZK(n){const{width:e,height:t}=rE(n);return{width:e,height:t}}function $K(n,e,t){const r=bo(e),i=ko(e),s=t===\"fixed\",o=Zl(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=po(0);if(r||!r&&!s)if((Gu(e)!==\"body\"||lh(i))&&(a=pv(e)),r){const h=Zl(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=Uw(i));const u=i&&!r&&!s?sE(i,a):po(0),f=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:f,y:d,width:o.width,height:o.height}}function ky(n){return Hs(n).position===\"static\"}function TS(n,e){if(!bo(n)||Hs(n).position===\"fixed\")return null;if(e)return e(n);let t=n.offsetParent;return ko(n)===t&&(t=t.ownerDocument.body),t}function aE(n,e){const t=Gi(n);if(hv(n))return t;if(!bo(n)){let i=Ga(n);for(;i&&!Eu(i);){if(Vs(i)&&!ky(i))return i;i=Ga(i)}return t}let r=TS(n,e);for(;r&&VK(r)&&ky(r);)r=TS(r,e);return r&&Eu(r)&&ky(r)&&!Hw(r)?t:r||HK(n)||t}const eJ=async function(n){const e=this.getOffsetParent||aE,t=this.getDimensions,r=await t(n.floating);return{reference:$K(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tJ(n){return Hs(n).direction===\"rtl\"}const nJ={convertOffsetParentRelativeRectToViewportRelativeRect:UK,getDocumentElement:ko,getClippingRect:QK,getOffsetParent:aE,getElementRects:eJ,getClientRects:KK,getDimensions:ZK,getScale:ru,isElement:Vs,isRTL:tJ};function lE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function rJ(n,e){let t=null,r;const i=ko(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(a||e(),!h||!p)return;const g=Jh(d),m=Jh(i.clientWidth-(f+h)),b=Jh(i.clientHeight-(d+p)),v=Jh(f),k={rootMargin:-g+\"px \"+-m+\"px \"+-b+\"px \"+-v+\"px\",threshold:Bl(0,Vg(1,l))||1};let x=!0;function C(T){const A=T[0].intersectionRatio;if(A!==l){if(!x)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!lE(u,n.getBoundingClientRect())&&o(),x=!1}try{t=new IntersectionObserver(C,{...k,root:i.ownerDocument})}catch{t=new IntersectionObserver(C,k)}t.observe(n)}return o(!0),s}function iJ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver==\"function\",layoutShift:a=typeof IntersectionObserver==\"function\",animationFrame:l=!1}=r,u=Ww(n),f=i||s?[...u?kd(u):[],...kd(e)]:[];f.forEach(v=>{i&&v.addEventListener(\"scroll\",t,{passive:!0}),s&&v.addEventListener(\"resize\",t)});const d=u&&a?rJ(u,t):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?Zl(n):null;l&&b();function b(){const v=Zl(n);m&&!lE(m,v)&&t(),m=v,g=requestAnimationFrame(b)}return t(),()=>{var v;f.forEach(w=>{i&&w.removeEventListener(\"scroll\",t),s&&w.removeEventListener(\"resize\",t)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const sJ=jK,oJ=zK,aJ=BK,lJ=(n,e,t)=>{const r=new Map,i={platform:nJ,...t},s={...i.platform,_c:r};return LK(n,e,{...i,platform:s})};function cJ(n){let e,t;const r={autoUpdate:!0};let i=n;const s=f=>({...r,...n||{},...f||{}}),o=f=>{e&&t&&(i=s(f),lJ(e,t,i).then(d=>{Object.assign(t.style,{position:d.strategy,left:`${d.x}px`,top:`${d.y}px`}),i!=null&&i.onComputed&&i.onComputed(d)}))},a=f=>{if(\"subscribe\"in f)return u(f),{};e=f,o()},l=(f,d)=>{let h;t=f,i=s(d),setTimeout(()=>o(d),0),o(d);const p=()=>{h&&(h(),h=void 0)},g=({autoUpdate:m}=i||{})=>{p(),m!==!1&&Pn().then(()=>iJ(e,t,()=>o(i),m===!0?{}:m))};return h=g(),{update(m){o(m),h=g(m)},destroy(){p()}}},u=f=>{const d=f.subscribe(h=>{e===void 0?(e=h,o()):(Object.assign(e,h),o())});Hr(d)};return[a,l,o]}function uJ({loadOptions:n,filterText:e,items:t,multiple:r,value:i,itemId:s,groupBy:o,filterSelectedItems:a,itemFilter:l,convertStringItemsToObjects:u,filterGroupedItems:f,label:d}){if(t&&n)return t;if(!t)return[];t&&t.length>0&&typeof t[0]!=\"object\"&&(t=u(t));let h=t.filter(p=>{let g=l(p[d],e,p);return g&&r&&(i!=null&&i.length)&&(g=!i.some(m=>a?m[s]===p[s]:!1)),g});return o&&(h=f(h)),h}async function fJ({dispatch:n,loadOptions:e,convertStringItemsToObjects:t,filterText:r}){let i=await e(r).catch(s=>{console.warn(\"svelte-select loadOptions error :>> \",s),n(\"error\",{type:\"loadOptions\",details:s})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!=\"object\"&&(i=t(i)),n(\"loaded\",{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}}var dJ=Nt(`<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" focusable=\"false\" aria-hidden=\"true\" class=\"svelte-qbd276\"><path fill=\"currentColor\" d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path></svg>`);function hJ(n){var e=dJ();B(n,e)}var pJ=Nt(`<svg width=\"100%\" height=\"100%\" viewBox=\"-2 -2 50 50\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\" class=\"svelte-whdbu1\"><path fill=\"currentColor\" d=\"M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z\"></path></svg>`);function Ay(n){var e=pJ();B(n,e)}var gJ=Nt('<svg class=\"loading svelte-1p3nqvd\" viewBox=\"25 25 50 50\"><circle class=\"circle_path svelte-1p3nqvd\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"5\" stroke-miterlimit=\"10\"></circle></svg>');function mJ(n){var e=gJ();B(n,e)}var vJ=ee('<div class=\"list-item svelte-82qwg8\" tabindex=\"-1\" role=\"none\"><div class=\"item svelte-82qwg8\"><!></div></div>'),yJ=ee('<div class=\"empty svelte-82qwg8\">No options</div>'),bJ=ee('<div class=\"svelte-select-list svelte-82qwg8\" role=\"none\"><!> <!> <!></div>'),wJ=ee('<span id=\"aria-selection\" class=\"svelte-82qwg8\"> </span> <span id=\"aria-context\" class=\"svelte-82qwg8\"> </span>',1),xJ=ee('<div class=\"multi-item-clear svelte-82qwg8\"><!></div>'),CJ=ee('<div class=\"multi-item svelte-82qwg8\" role=\"none\"><span class=\"multi-item-text svelte-82qwg8\"><!></span> <!></div>'),SJ=ee('<div class=\"selected-item svelte-82qwg8\"><!></div>'),_J=ee('<div class=\"icon loading svelte-82qwg8\" aria-hidden=\"true\"><!></div>'),kJ=ee('<button type=\"button\" class=\"icon clear-select svelte-82qwg8\"><!></button>'),AJ=ee('<div class=\"icon chevron svelte-82qwg8\" aria-hidden=\"true\"><!></div>'),OJ=ee('<input type=\"hidden\" class=\"svelte-82qwg8\">'),EJ=ee('<select class=\"required svelte-82qwg8\" required tabindex=\"-1\" aria-hidden=\"true\"></select>'),TJ=ee('<div role=\"none\"><!> <span aria-live=\"polite\" aria-atomic=\"false\" aria-relevant=\"additions text\" class=\"a11y-text svelte-82qwg8\"><!></span> <div class=\"prepend svelte-82qwg8\"><!></div> <div class=\"value-container svelte-82qwg8\"><!> <input></div> <div class=\"indicators svelte-82qwg8\"><!> <!> <!></div> <!> <!></div>');function Sl(n,e){const t=Nk(e);Pe(e,!1);const r=H(),i=H(),s=H(),o=H(),a=H(),l=H(),u=H(),f=H(),d=H(),h=il();let p=y(e,\"justValue\",12,null),g=y(e,\"filter\",8,uJ),m=y(e,\"getItems\",8,fJ),b=y(e,\"id\",8,null),v=y(e,\"name\",8,null),w=y(e,\"container\",12,void 0),k=y(e,\"input\",12,void 0),x=y(e,\"multiple\",8,!1),C=y(e,\"multiFullItemClearable\",8,!1),T=y(e,\"disabled\",8,!1),A=y(e,\"focused\",12,!1),O=y(e,\"value\",12,null),R=y(e,\"filterText\",12,\"\"),D=y(e,\"placeholder\",8,\"Please select\"),E=y(e,\"placeholderAlwaysShow\",8,!1),I=y(e,\"items\",12,null),P=y(e,\"label\",8,\"label\"),_=y(e,\"itemFilter\",8,(de,Te,xt)=>`${de}`.toLowerCase().includes(Te.toLowerCase())),L=y(e,\"groupBy\",8,void 0),M=y(e,\"groupFilter\",8,de=>de),N=y(e,\"groupHeaderSelectable\",8,!1),F=y(e,\"itemId\",8,\"value\"),j=y(e,\"loadOptions\",8,void 0),Y=y(e,\"containerStyles\",8,\"\"),ie=y(e,\"hasError\",8,!1),Q=y(e,\"filterSelectedItems\",8,!0),te=y(e,\"required\",8,!1),U=y(e,\"closeListOnChange\",8,!0),se=y(e,\"clearFilterTextOnBlur\",8,!0),le=y(e,\"createGroupHeaderItem\",8,(de,Te)=>({value:de,[P()]:de}));const W=()=>c(u);let ce=y(e,\"searchable\",8,!0),fe=y(e,\"inputStyles\",8,\"\"),J=y(e,\"clearable\",8,!0),ae=y(e,\"loading\",12,!1),re=y(e,\"listOpen\",12,!1),$,ne=y(e,\"debounce\",8,(de,Te=1)=>{clearTimeout($),$=setTimeout(de,Te)}),G=y(e,\"debounceWait\",8,300),De=y(e,\"hideEmptyState\",8,!1),Be=y(e,\"inputAttributes\",24,()=>({})),Le=y(e,\"listAutoWidth\",8,!0),Ce=y(e,\"showChevron\",8,!1),ye=y(e,\"listOffset\",8,5),Re=y(e,\"hoverItemIndex\",12,0),je=y(e,\"floatingConfig\",24,()=>({})),$e=y(e,\"class\",8,\"\"),Ve=H(),ot=H(),we=H(),He=H();function nt(){if(typeof O()==\"string\"){let de=(I()||[]).find(Te=>Te[F()]===O());O(de||{[F()]:O(),label:O()})}else x()&&Array.isArray(O())&&O().length>0&&O(O().map(de=>typeof de==\"string\"?{value:de,label:de}:de))}let Xe=H();function Je(){S(Xe,Object.assign({autocapitalize:\"none\",autocomplete:\"off\",autocorrect:\"off\",spellcheck:!1,tabindex:0,type:\"text\",\"aria-autocomplete\":\"list\"},Be())),b()&&Ui(Xe,c(Xe).id=b()),ce()||Ui(Xe,c(Xe).readonly=!0)}function Ye(de){return de.map((Te,xt)=>({index:xt,value:Te,label:`${Te}`}))}function Me(de){const Te=[],xt={};de.forEach(Pr=>{const X=L()(Pr);Te.includes(X)||(Te.push(X),xt[X]=[],X&&xt[X].push(Object.assign(le()(X,Pr),{id:X,groupHeader:!0,selectable:N()}))),xt[X].push(Object.assign({groupItem:!!X},Pr))});const Rn=[];return M()(Te).forEach(Pr=>{xt[Pr]&&Rn.push(...xt[Pr])}),Rn}function Se(){if(x()){JSON.stringify(O())!==JSON.stringify(c(ot))&&In()&&h(\"input\",O());return}(!c(ot)||JSON.stringify(O()[F()])!==JSON.stringify(c(ot)[F()]))&&h(\"input\",O())}function ue(){O()&&(Array.isArray(O())?O([...O()]):O([O()]))}function vt(){O()&&O(null)}function bt(){const de=c(u).findIndex(Te=>Te[F()]===O()[F()]);at(de,!0)}function Xn(de){h(\"hoverItem\",de)}function at(de=0,Te){Re(de<0?0:de),!Te&&L()&&c(u)[Re()]&&!c(u)[Re()].selectable&&ir(1)}function _t(){!j()&&R().length===0||(j()?ne()(async function(){ae(!0);let de=await m()({dispatch:h,loadOptions:j(),convertStringItemsToObjects:Ye,filterText:R()});de?(ae(de.loading),re(re()?de.listOpen:R().length>0),A(re()&&de.focused),I(L()?Me(de.filteredItems):de.filteredItems)):(ae(!1),A(!0),re(!0))},G()):(re(!0),x()&&S(Ve,void 0)))}function fn(de){re()&&h(\"filter\",de)}SM(async()=>{S(ot,O()),S(we,R()),S(He,x())});function Vt(){return x()?O()?O().map(de=>de[F()]):null:O()?O()[F()]:O()}function In(){let de=!0;if(O()){const Te=[],xt=[];O().forEach(Rn=>{Te.includes(Rn[F()])?de=!1:(Te.push(Rn[F()]),xt.push(Rn))}),de||O(xt)}return de}function rt(de){let Te=de?de[F()]:O()[F()];return I().find(xt=>xt[F()]===Te)}function Lt(de){!de||de.length===0||de.some(Te=>typeof Te!=\"object\")||!O()||(x()?O().some(Te=>!Te||!Te[F()]):!O()[F()])||(Array.isArray(O())?O(O().map(Te=>rt(Te)||Te)):O(rt()||O()))}async function Ht(de){const Te=O()[de];O().length===1?O(void 0):O(O().filter(xt=>xt!==Te)),h(\"clear\",Te)}function Gt(de){if(A())switch(de.stopPropagation(),de.key){case\"Escape\":de.preventDefault(),ln();break;case\"Enter\":if(de.preventDefault(),re()){if(c(u).length===0)break;const Te=c(u)[Re()];if(O()&&!x()&&O()[F()]===Te[F()]){ln();break}else pt(c(u)[Re()])}break;case\"ArrowDown\":de.preventDefault(),re()?ir(1):(re(!0),S(Ve,void 0));break;case\"ArrowUp\":de.preventDefault(),re()?ir(-1):(re(!0),S(Ve,void 0));break;case\"Tab\":if(re()&&A()){if(c(u).length===0||O()&&O()[F()]===c(u)[Re()][F()])return ln();de.preventDefault(),pt(c(u)[Re()]),ln()}break;case\"Backspace\":if(!x()||R().length>0)return;if(x()&&O()&&O().length>0){if(Ht(c(Ve)!==void 0?c(Ve):O().length-1),c(Ve)===0||c(Ve)===void 0)break;S(Ve,O().length>c(Ve)?c(Ve)-1:void 0)}break;case\"ArrowLeft\":if(!O()||!x()||R().length>0)return;c(Ve)===void 0?S(Ve,O().length-1):O().length>c(Ve)&&c(Ve)!==0&&S(Ve,c(Ve)-1);break;case\"ArrowRight\":if(!O()||!x()||R().length>0||c(Ve)===void 0)return;c(Ve)===O().length-1?S(Ve,void 0):c(Ve)<O().length-1&&S(Ve,c(Ve)+1);break}}function kt(de){var Te;A()&&k()===(document==null?void 0:document.activeElement)||(de&&h(\"focus\",de),(Te=k())==null||Te.focus(),A(!0))}async function Tt(de){var Te;Qt||(re()||A())&&(h(\"blur\",de),ln(),A(!1),S(Ve,void 0),(Te=k())==null||Te.blur())}function rr(){if(!T()){if(R().length>0)return re(!0);re(!re())}}function It(){h(\"clear\",O()),O(void 0),ln(),kt()}cr(()=>{re()&&A(!0),A()&&k()&&k().focus()});function Ut(de){if(de){R(\"\");const Te=Object.assign({},de);if(Te.groupHeader&&!Te.selectable)return;O(x()?O()?O().concat([Te]):[Te]:O(Te)),setTimeout(()=>{U()&&ln(),S(Ve,void 0),h(\"change\",O()),h(\"select\",de)})}}function ln(){se()&&R(\"\"),re(!1)}let hn=y(e,\"ariaValues\",8,de=>`Option ${de}, selected.`),kn=y(e,\"ariaListOpen\",8,(de,Te)=>`You are currently focused on option ${de}. There are ${Te} results available.`),mn=y(e,\"ariaFocused\",8,()=>\"Select is focused, type to refine list, press down to open the menu.\");function vn(de){let Te;return de&&O().length>0?Te=O().map(xt=>xt[P()]).join(\", \"):Te=O()[P()],hn()(Te)}function dr(){if(!c(u)||c(u).length===0)return\"\";let de=c(u)[Re()];if(re()&&de){let Te=c(u)?c(u).length:0;return kn()(de[P()],Te)}else return mn()()}let sn=H(null),tr;function xe(){clearTimeout(tr),tr=setTimeout(()=>{Qt=!1},100)}function Et(de){var Te;!re()&&!A()&&w()&&!w().contains(de.target)&&!((Te=c(sn))!=null&&Te.contains(de.target))&&Tt()}Hr(()=>{var de;(de=c(sn))==null||de.remove()});let Qt=!1;function pt(de){!de||de.selectable===!1||Ut(de)}function hr(de){Qt||Re(de)}function pr(de){const{item:Te,i:xt}=de;if((Te==null?void 0:Te.selectable)!==!1){if(O()&&!x()&&O()[F()]===Te[F()])return ln();$i(Te)&&(Re(xt),pt(Te))}}function ir(de){if(c(u).filter(Rn=>!Object.hasOwn(Rn,\"selectable\")||Rn.selectable===!0).length===0)return Re(0);de>0&&Re()===c(u).length-1?Re(0):de<0&&Re()===0?Re(c(u).length-1):Re(Re()+de);const xt=c(u)[Re()];if(xt&&xt.selectable===!1){(de===1||de===-1)&&ir(de);return}}function Mr(de,Te,xt){if(!x())return Te&&Te[xt]===de[xt]}function fi(de){return de===0}function $i(de){return de.groupHeader&&de.selectable||de.selectable||!de.hasOwnProperty(\"selectable\")}const _i=Vn,zn=Vn;function Vn(de){return{update(Te){Te.scroll&&(xe(),de.scrollIntoView({behavior:\"auto\",block:\"nearest\"}))}}}function es(){const{width:de}=w().getBoundingClientRect();Ui(sn,c(sn).style.width=Le()?de+\"px\":\"auto\")}let ge=H({strategy:\"absolute\",placement:\"bottom-start\",middleware:[sJ(ye()),aJ(),oJ()],autoUpdate:!1});const[ke,yt,Zt]=cJ(c(ge));let Mt=H(!0);function dn(de,Te){if(!de||!Te)return S(Mt,!0);setTimeout(()=>{S(Mt,!1)},0)}Z(()=>(z(I()),z(O())),()=>{I(),O()&&nt()}),Z(()=>(z(Be()),z(ce())),()=>{(Be()||!ce())&&Je()}),Z(()=>z(x()),()=>{x()&&ue()}),Z(()=>(c(He),z(x())),()=>{c(He)&&!x()&&vt()}),Z(()=>(z(x()),z(O())),()=>{x()&&O()&&O().length>1&&In()}),Z(()=>z(O()),()=>{O()&&Se()}),Z(()=>(z(O()),z(x()),c(ot)),()=>{!O()&&x()&&c(ot)&&h(\"input\",O())}),Z(()=>(z(A()),z(k())),()=>{!A()&&k()&&ln()}),Z(()=>(z(R()),c(we)),()=>{R()!==c(we)&&_t()}),Z(()=>(z(g()),z(j()),z(R()),z(I()),z(x()),z(O()),z(F()),z(L()),z(P()),z(Q()),z(_())),()=>{S(u,g()({loadOptions:j(),filterText:R(),items:I(),multiple:x(),value:O(),itemId:F(),groupBy:L(),label:P(),filterSelectedItems:Q(),itemFilter:_(),convertStringItemsToObjects:Ye,filterGroupedItems:Me}))}),Z(()=>(z(x()),z(re()),z(O()),c(u)),()=>{!x()&&re()&&O()&&c(u)&&bt()}),Z(()=>(z(re()),z(x())),()=>{re()&&x()&&Re(0)}),Z(()=>z(R()),()=>{R()&&Re(0)}),Z(()=>z(Re()),()=>{Xn(Re())}),Z(()=>(z(x()),z(O())),()=>{S(r,x()?O()&&O().length>0:O())}),Z(()=>(c(r),z(R())),()=>{S(i,c(r)&&R().length>0)}),Z(()=>(c(r),z(J()),z(T()),z(ae())),()=>{S(s,c(r)&&J()&&!T()&&!ae())}),Z(()=>(z(E()),z(x()),z(D()),z(O())),()=>{var de;S(o,E()&&x()||x()&&((de=O())==null?void 0:de.length)===0?D():O()?\"\":D())}),Z(()=>(z(O()),z(x())),()=>{S(a,O()?vn(x()):\"\")}),Z(()=>(c(u),z(Re()),z(A()),z(re())),()=>{S(l,dr({filteredItems:c(u),hoverItemIndex:Re(),focused:A(),listOpen:re()}))}),Z(()=>z(I()),()=>{Lt(I())}),Z(()=>(z(x()),z(O()),z(F())),()=>{p(Vt(x(),O(),F()))}),Z(()=>(z(x()),c(ot),z(O())),()=>{!x()&&c(ot)&&!O()&&h(\"input\",O())}),Z(()=>(z(re()),c(u),z(x()),z(O())),()=>{re()&&c(u)&&!x()&&!O()&&at()}),Z(()=>c(u),()=>{fn(c(u))}),Z(()=>(z(w()),z(je()),c(ge)),()=>{w()&&je()&&Zt(Object.assign(c(ge),je()))}),Z(()=>c(sn),()=>{S(f,!!c(sn))}),Z(()=>(c(sn),z(re())),()=>{dn(c(sn),re())}),Z(()=>(z(re()),z(w()),c(sn)),()=>{re()&&w()&&c(sn)&&es()}),Z(()=>z(Re()),()=>{S(d,Re())}),Z(()=>(z(k()),z(re()),z(A())),()=>{k()&&re()&&!A()&&kt()}),Z(()=>(z(w()),z(je())),()=>{var de;w()&&((de=je())==null?void 0:de.autoUpdate)===void 0&&Ui(ge,c(ge).autoUpdate=!0)}),wt(),Ne();var Ot=TJ();ve(\"click\",mr,Et),ve(\"keydown\",mr,Gt);var Ur=V(Ot);{var br=de=>{var Te=bJ(),xt=V(Te);{var Rn=tt=>{var et=Ue(),bn=be(et);en(bn,e,\"list-prepend\",{},null),B(tt,et)};oe(xt,tt=>{t[\"list-prepend\"]&&tt(Rn)})}var Pr=K(xt,2);{var X=tt=>{var et=Ue(),bn=be(et);en(bn,e,\"list\",{get filteredItems(){return c(u)}},null),B(tt,et)},_e=tt=>{var et=Ue(),bn=be(et);{var Kt=q=>{var me=Ue(),ze=be(me);Dt(ze,1,()=>c(u),un,(ut,We,lt)=>{var Mn=vJ(),qt=V(Mn),ki=V(qt);en(ki,e,\"item\",{get item(){return c(We)},index:lt},wr=>{var Ai=Ar();pe(()=>{var ei;return Ke(Ai,(ei=c(We))==null?void 0:ei[P()])}),B(wr,Ai)}),tn(qt,(wr,Ai)=>_i==null?void 0:_i(wr),()=>({scroll:Mr(c(We),O(),F()),listDom:c(f)})),tn(qt,(wr,Ai)=>zn==null?void 0:zn(wr),()=>({scroll:c(d)===lt,listDom:c(f)})),pe((wr,Ai)=>{var ei;Fe(qt,\"list-group-title\",c(We).groupHeader),Fe(qt,\"active\",wr),Fe(qt,\"first\",Ai),Fe(qt,\"hover\",Re()===lt),Fe(qt,\"group-item\",c(We).groupItem),Fe(qt,\"not-selectable\",((ei=c(We))==null?void 0:ei.selectable)===!1)},[()=>Mr(c(We),O(),F()),()=>fi(lt)],he),ve(\"mouseover\",Mn,()=>hr(lt)),ve(\"focus\",Mn,()=>hr(lt)),ve(\"click\",Mn,Os(()=>pr({item:c(We),i:lt}))),ve(\"keydown\",Mn,_a(Os(function(wr){Bt.call(this,e,wr)}))),B(ut,Mn)}),B(q,me)},Yn=q=>{var me=Ue(),ze=be(me);{var ut=We=>{var lt=Ue(),Mn=be(lt);en(Mn,e,\"empty\",{},qt=>{var ki=yJ();B(qt,ki)}),B(We,lt)};oe(ze,We=>{De()||We(ut)},!0)}B(q,me)};oe(bn,q=>{c(u).length>0?q(Kt):q(Yn,!1)},!0)}B(tt,et)};oe(Pr,tt=>{t.list?tt(X):tt(_e,!1)})}var Ge=K(Pr,2);{var it=tt=>{var et=Ue(),bn=be(et);en(bn,e,\"list-append\",{},null),B(tt,et)};oe(Ge,tt=>{t[\"list-append\"]&&tt(it)})}tn(Te,tt=>yt==null?void 0:yt(tt)),_n(Te,tt=>S(sn,tt),()=>c(sn)),En(()=>ve(\"scroll\",Te,xe)),En(()=>ve(\"pointerup\",Te,_a(Os(function(tt){Bt.call(this,e,tt)})))),En(()=>ve(\"mousedown\",Te,_a(Os(function(tt){Bt.call(this,e,tt)})))),pe(()=>Fe(Te,\"prefloat\",c(Mt))),B(de,Te)};oe(Ur,de=>{re()&&de(br)})}var Lr=K(Ur,2),xs=V(Lr);{var Oo=de=>{var Te=wJ(),xt=be(Te),Rn=V(xt),Pr=K(xt,2),X=V(Pr);pe(()=>{Ke(Rn,c(a)),Ke(X,c(l))}),B(de,Te)};oe(xs,de=>{A()&&de(Oo)})}var Bi=K(Lr,2),Cs=V(Bi);en(Cs,e,\"prepend\",{},null);var di=K(Bi,2),ya=V(di);{var ul=de=>{var Te=Ue(),xt=be(Te);{var Rn=X=>{var _e=Ue(),Ge=be(_e);Dt(Ge,1,O,un,(it,tt,et)=>{var bn=CJ(),Kt=V(bn),Yn=V(Kt);en(Yn,e,\"selection\",{get selection(){return c(tt)},index:et},ze=>{var ut=Ar();pe(()=>Ke(ut,c(tt)[P()])),B(ze,ut)});var q=K(Kt,2);{var me=ze=>{var ut=xJ(),We=V(ut);en(We,e,\"multi-clear-icon\",{},lt=>{Ay(lt)}),ve(\"pointerup\",ut,_a(Os(()=>Ht(et)))),B(ze,ut)};oe(q,ze=>{!T()&&!C()&&Ay&&ze(me)})}pe(()=>{Fe(bn,\"active\",c(Ve)===et),Fe(bn,\"disabled\",T())}),ve(\"click\",bn,_a(()=>C()?Ht(et):{})),ve(\"keydown\",bn,_a(Os(function(ze){Bt.call(this,e,ze)}))),B(it,bn)}),B(X,_e)},Pr=X=>{var _e=SJ(),Ge=V(_e);en(Ge,e,\"selection\",{get selection(){return O()}},it=>{var tt=Ar();pe(()=>Ke(tt,O()[P()])),B(it,tt)}),pe(()=>Fe(_e,\"hide-selected-item\",c(i))),B(X,_e)};oe(xt,X=>{x()?X(Rn):X(Pr,!1)})}B(de,Te)};oe(ya,de=>{c(r)&&de(ul)})}var Hn=K(ya,2);let Ss;_n(Hn,de=>k(de),()=>k());var fl=K(di,2),dl=V(fl);{var ef=de=>{var Te=_J(),xt=V(Te);en(xt,e,\"loading-icon\",{},Rn=>{mJ(Rn)}),B(de,Te)};oe(dl,de=>{ae()&&de(ef)})}var hl=K(dl,2);{var hc=de=>{var Te=kJ(),xt=V(Te);en(xt,e,\"clear-icon\",{},Rn=>{Ay(Rn)}),ve(\"click\",Te,It),B(de,Te)};oe(hl,de=>{c(s)&&de(hc)})}var An=K(hl,2);{var pc=de=>{var Te=AJ(),xt=V(Te);en(xt,e,\"chevron-icon\",{get listOpen(){return re()}},Rn=>{hJ(Rn)}),B(de,Te)};oe(An,de=>{Ce()&&de(pc)})}var gc=K(fl,2);en(gc,e,\"input-hidden\",{get value(){return O()}},de=>{var Te=OJ();pe(xt=>{Ee(Te,\"name\",v()),na(Te,xt)},[()=>O()?JSON.stringify(O()):null],he),B(de,Te)});var tf=K(gc,2);{var nf=de=>{var Te=Ue(),xt=be(Te);en(xt,e,\"required\",{get value(){return O()}},Rn=>{var Pr=EJ();B(Rn,Pr)}),B(de,Te)};oe(tf,de=>{te()&&(!O()||O().length===0)&&de(nf)})}return En(()=>ve(\"pointerup\",Ot,_a(rr))),_n(Ot,de=>w(de),()=>w()),tn(Ot,de=>ke==null?void 0:ke(de)),pe(()=>{zr(Ot,`svelte-select ${$e()??\"\"} svelte-82qwg8`),Ee(Ot,\"style\",Y()),Fe(Ot,\"multi\",x()),Fe(Ot,\"disabled\",T()),Fe(Ot,\"focused\",A()),Fe(Ot,\"list-open\",re()),Fe(Ot,\"show-chevron\",Ce()),Fe(Ot,\"error\",ie()),Ss=Ti(Hn,Ss,{readOnly:!ce(),...c(Xe),placeholder:c(o),style:fe(),disabled:T()},\"svelte-82qwg8\")}),ve(\"keydown\",Hn,Gt),ve(\"blur\",Hn,Tt),ve(\"focus\",Hn,kt),Ji(Hn,R),B(n,Ot),St(e,\"getFilteredItems\",W),St(e,\"handleClear\",It),Ie({getFilteredItems:W,handleClear:It})}var MJ=ee('<table class=\"jse-transform-wizard svelte-qbze6z\"><tbody><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Filter</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!> <!> <input class=\"jse-filter-value svelte-qbze6z\"></div></td></tr><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Sort</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!> <!></div></td></tr><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Pick</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!></div></td></tr></tbody></table>');function PJ(n,e){var le,W,ce,fe,J,ae;Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0),o=H(void 0,!0),a=H(void 0,!0),l=Tr(\"jsoneditor:TransformWizard\");let u=y(e,\"json\",9),f=y(e,\"queryOptions\",29,()=>({})),d=y(e,\"onChange\",9);const h=[\"==\",\"!=\",\"<\",\"<=\",\">\",\">=\"].map(re=>({value:re,label:re})),p=[{value:\"asc\",label:\"ascending\"},{value:\"desc\",label:\"descending\"}];let g=H((W=(le=f())==null?void 0:le.filter)!=null&&W.path?Ea(f().filter.path):void 0,!0),m=H(h.find(re=>{var $;return re.value===(($=f().filter)==null?void 0:$.relation)})??h[0],!0),b=H(((fe=(ce=f())==null?void 0:ce.filter)==null?void 0:fe.value)||\"\",!0),v=H((ae=(J=f())==null?void 0:J.sort)!=null&&ae.path?Ea(f().sort.path):void 0,!0),w=H(p.find(re=>{var $;return re.value===(($=f().sort)==null?void 0:$.direction)})??p[0],!0);function k(re){var $,ne;Jt((ne=($=f())==null?void 0:$.filter)==null?void 0:ne.path,re)||(l(\"changeFilterPath\",re),f(Mi(f(),[\"filter\",\"path\"],re,!0)),d()(f()))}function x(re){var $,ne;Jt((ne=($=f())==null?void 0:$.filter)==null?void 0:ne.relation,re)||(l(\"changeFilterRelation\",re),f(Mi(f(),[\"filter\",\"relation\"],re,!0)),d()(f()))}function C(re){var $,ne;Jt((ne=($=f())==null?void 0:$.filter)==null?void 0:ne.value,re)||(l(\"changeFilterValue\",re),f(Mi(f(),[\"filter\",\"value\"],re,!0)),d()(f()))}function T(re){var $,ne;Jt((ne=($=f())==null?void 0:$.sort)==null?void 0:ne.path,re)||(l(\"changeSortPath\",re),f(Mi(f(),[\"sort\",\"path\"],re,!0)),d()(f()))}function A(re){var $,ne;Jt((ne=($=f())==null?void 0:$.sort)==null?void 0:ne.direction,re)||(l(\"changeSortDirection\",re),f(Mi(f(),[\"sort\",\"direction\"],re,!0)),d()(f()))}function O(re){var $,ne;Jt((ne=($=f())==null?void 0:$.projection)==null?void 0:ne.paths,re)||(l(\"changeProjectionPaths\",re),f(Mi(f(),[\"projection\",\"paths\"],re,!0)),d()(f()))}Z(()=>z(u()),()=>{S(t,Array.isArray(u()))}),Z(()=>(c(t),z(u())),()=>{S(r,c(t)?i1(u()):[])}),Z(()=>(c(t),z(u())),()=>{S(i,c(t)?i1(u(),!0):[])}),Z(()=>(c(r),Ea),()=>{S(s,c(r).map(Ea))}),Z(()=>(c(i),Ea),()=>{S(o,c(i)?c(i).map(Ea):[])}),Z(()=>(z(f()),c(o),Jt),()=>{var re,$;S(a,($=(re=f())==null?void 0:re.projection)!=null&&$.paths&&c(o)?f().projection.paths.map(ne=>c(o).find(G=>Jt(G.value,ne))).filter(ne=>!!ne):void 0)}),Z(()=>c(g),()=>{var re;k((re=c(g))==null?void 0:re.value)}),Z(()=>c(m),()=>{var re;x((re=c(m))==null?void 0:re.value)}),Z(()=>c(b),()=>{C(c(b))}),Z(()=>c(v),()=>{var re;T((re=c(v))==null?void 0:re.value)}),Z(()=>c(w),()=>{var re;A((re=c(w))==null?void 0:re.value)}),Z(()=>c(a),()=>{O(c(a)?c(a).map(re=>re.value):void 0)}),wt(),Ne(!0);var R=MJ(),D=V(R),E=V(D),I=K(V(E)),P=V(I),_=V(P);Sl(_,{class:\"jse-filter-path\",showChevron:!0,get items(){return c(s)},get value(){return c(g)},set value(re){S(g,re)},$$legacy:!0});var L=K(_,2);Sl(L,{class:\"jse-filter-relation\",showChevron:!0,clearable:!1,items:h,get value(){return c(m)},set value(re){S(m,re)},$$legacy:!0});var M=K(L,2),N=K(E),F=K(V(N)),j=V(F),Y=V(j);Sl(Y,{class:\"jse-sort-path\",showChevron:!0,get items(){return c(s)},get value(){return c(v)},set value(re){S(v,re)},$$legacy:!0});var ie=K(Y,2);Sl(ie,{class:\"jse-sort-direction\",showChevron:!0,clearable:!1,items:p,get value(){return c(w)},set value(re){S(w,re)},$$legacy:!0});var Q=K(N),te=K(V(Q)),U=V(te),se=V(U);Sl(se,{class:\"jse-projection-paths\",multiple:!0,showChevron:!0,get items(){return c(o)},get value(){return c(a)},set value(re){S(a,re)},$$legacy:!0}),Ji(M,()=>c(b),re=>S(b,re)),B(n,R),Ie()}var IJ=ee('<button type=\"button\" class=\"jse-query-language svelte-atm4um\"><!> </button>'),RJ=ee('<div class=\"jse-select-query-language svelte-atm4um\"><div class=\"jse-select-query-language-container svelte-atm4um\"></div></div>');function DJ(n,e){Pe(e,!1);let t=y(e,\"queryLanguages\",8),r=y(e,\"queryLanguageId\",12),i=y(e,\"onChangeQueryLanguage\",8);function s(l){r(l),i()(l)}Ne();var o=RJ(),a=V(o);Dt(a,5,t,un,(l,u)=>{var f=IJ(),d=V(f);{var h=m=>{Xt(m,{data:yO})},p=m=>{Xt(m,{data:bO})};oe(d,m=>{c(u).id===r()?m(h):m(p,!1)})}var g=K(d);pe(()=>{Ee(f,\"title\",`Select ${c(u).name} as query language`),Fe(f,\"selected\",c(u).id===r()),Ke(g,` ${c(u).name??\"\"}`)}),ve(\"click\",f,()=>s(c(u).id)),B(l,f)}),B(n,o),Ie()}var NJ=ee('<button type=\"button\" class=\"jse-fullscreen svelte-1y24war\" title=\"Toggle full screen\"><!></button>'),LJ=ee('<div class=\"jse-header svelte-1y24war\"><div class=\"jse-title svelte-1y24war\"> </div> <!> <!> <button type=\"button\" class=\"jse-close svelte-1y24war\"><!></button></div>');function gv(n,e){Pe(e,!1);let t=y(e,\"title\",9,\"Modal\"),r=y(e,\"fullScreenButton\",9,!1),i=y(e,\"fullscreen\",13,!1),s=y(e,\"onClose\",9,void 0);Ne(!0);var o=LJ(),a=V(o),l=V(a),u=K(a,2);en(u,e,\"actions\",{},null);var f=K(u,2);{var d=g=>{var m=NJ(),b=V(m);const v=he(()=>i()?XU:xK);Xt(b,{get data(){return c(v)}}),ve(\"click\",m,()=>i(!i())),B(g,m)};oe(f,g=>{r()&&g(d)})}var h=K(f,2),p=V(h);Xt(p,{data:cv}),pe(()=>Ke(l,t())),ve(\"click\",h,()=>{var g;return(g=s())==null?void 0:g()}),B(n,o),Ie()}var BJ=ee('<button slot=\"actions\" type=\"button\" class=\"jse-config svelte-1kpylsp\" title=\"Select a query language\"><!></button>');function FJ(n,e){Pe(e,!1);let t=y(e,\"queryLanguages\",9),r=y(e,\"queryLanguageId\",9),i=y(e,\"fullscreen\",13),s=y(e,\"onChangeQueryLanguage\",9),o=y(e,\"onClose\",9),a=H(void 0,!0),l;const{openAbsolutePopup:u,closeAbsolutePopup:f}=gs(\"absolute-popup\");function d(){const h={queryLanguages:t(),queryLanguageId:r(),onChangeQueryLanguage:p=>{f(l),s()(p)}};l=u(DJ,h,{offsetTop:-2,offsetLeft:0,anchor:c(a),closeOnOuterClick:!0})}Ne(!0),gv(n,{title:\"Transform\",fullScreenButton:!0,get onClose(){return o()},get fullscreen(){return i()},set fullscreen(h){i(h)},$$slots:{actions:(h,p)=>{var g=BJ(),m=V(g);Xt(m,{data:hK}),_n(g,b=>S(a,b),()=>c(a)),pe(()=>Fe(g,\"hide\",t().length<=1)),ve(\"click\",g,d),B(h,g)}},$$legacy:!0}),Ie()}const Oy=Tr(\"jsoneditor:AutoScrollHandler\");function MS(n){Oy(\"createAutoScrollHandler\",n);let e,t;function r(u){return u<20?VW:u<50?HW:qW}function i(){if(n){const u=(e||0)*(aS/1e3);n.scrollTop+=u}}function s(u){(!t||u!==e)&&(o(),Oy(\"startAutoScroll\",u),e=u,t=setInterval(i,aS))}function o(){t&&(Oy(\"stopAutoScroll\"),clearInterval(t),t=void 0,e=void 0)}function a(u){if(n){const f=u.clientY,{top:d,bottom:h}=n.getBoundingClientRect();if(f<d){const p=r(d-f);s(-p)}else if(f>h){const p=r(f-h);s(p)}else o()}}function l(){o()}return{onDrag:a,onDragEnd:l}}const jJ=(n,e,t,r)=>(n/=r/2,n<1?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)),cE=()=>{let n,e,t,r,i,s,o,a,l,u,f,d,h,p;function g(){return n.scrollTop}function m(x){const C=x.getBoundingClientRect().top,T=n.getBoundingClientRect?n.getBoundingClientRect().top:0;return C-T+t}function b(x){n.scrollTo?n.scrollTo(n.scrollLeft,x):n.scrollTop=x}function v(x){u||(u=x),f=x-u,d=s(f,t,a,l),b(d),p=!0,f<l?requestAnimationFrame(v):w()}function w(){b(t+a),e&&o&&(e.setAttribute(\"tabindex\",\"-1\"),e.focus()),typeof h==\"function\"&&h(),u=0,p=!1}function k(x,C={}){switch(l=1e3,i=C.offset||0,h=C.callback,s=C.easing||jJ,o=C.a11y||!1,typeof C.container){case\"object\":n=C.container;break;case\"string\":n=document.querySelector(C.container);break;default:n=window.document.documentElement}switch(t=g(),typeof x){case\"number\":e=void 0,o=!1,r=t+x;break;case\"object\":e=x,r=m(e);break;case\"string\":e=document.querySelector(x),r=m(e);break}switch(a=r-t+i,typeof C.duration){case\"number\":l=C.duration;break;case\"function\":l=C.duration(a);break}p?u=0:requestAnimationFrame(v)}return k};function Hc(n,e){const t=Date.now(),r=n(),i=Date.now();return e(i-t),r}const Rc=Tr(\"validation\"),zJ={createObjectDocumentState:()=>({type:\"object\",properties:{}}),createArrayDocumentState:()=>({type:\"array\",items:[]}),createValueDocumentState:()=>({type:\"value\"})};function PS(n,e,t,r){return Dw(n,e,t,r,zJ)}function VJ(n,e){let t;return e.forEach(r=>{t=PS(n,t,r.path,(i,s)=>({...s,validationError:r}))}),e.forEach(r=>{let i=r.path;for(;i.length>0;)i=rn(i),t=PS(n,t,i,(s,o)=>o.validationError?o:{...o,validationError:{isChildError:!0,path:i,message:\"Contains invalid data\",severity:Ls.warning}})}),t}function uE(n,e,t,r){if(Rc(\"validateJSON\"),!e)return[];if(t!==r){const i=t.stringify(n),s=i!==void 0?r.parse(i):void 0;return e(s)}else return e(n)}function HJ(n,e,t,r){if(Rc(\"validateText\"),n.length>KW)return{validationErrors:[{path:[],message:\"Validation turned off: the document is too large\",severity:Ls.info}]};if(n.length!==0)try{const i=Hc(()=>t.parse(n),a=>Rc(`validate: parsed json in ${a} ms`));if(!e)return;const s=t===r?i:Hc(()=>r.parse(n),a=>Rc(`validate: parsed json with the validationParser in ${a} ms`)),o=Hc(()=>e(s),a=>Rc(`validate: validated json in ${a} ms`));return wn(o)?void 0:{validationErrors:o}}catch(i){const s=Hc(()=>qJ(n,t),a=>Rc(`validate: checked whether repairable in ${a} ms`));return{parseError:Su(n,i.message||i.toString()),isRepairable:s}}}function qJ(n,e){if(n.length>JW)return!1;try{return e.parse(fo(n)),!0}catch{return!1}}const Xh=Tr(\"jsoneditor:FocusTracker\");function Kw({onMount:n,onDestroy:e,getWindow:t,hasFocus:r,onFocus:i,onBlur:s}){let o,a=!1;function l(){const f=r();f&&(clearTimeout(o),a||(Xh(\"focus\"),i(),a=f))}function u(){a&&(clearTimeout(o),o=setTimeout(()=>{r()||(Xh(\"blur\"),a=!1,s())}))}n(()=>{Xh(\"mount FocusTracker\");const f=t();f&&(f.addEventListener(\"focusin\",l,!0),f.addEventListener(\"focusout\",u,!0))}),e(()=>{Xh(\"destroy FocusTracker\");const f=t();f&&(f.removeEventListener(\"focusin\",l,!0),f.removeEventListener(\"focusout\",u,!0))})}var WJ=ee('<button type=\"button\" class=\"jse-button jse-action jse-primary svelte-czprfx\"><!> </button>'),UJ=ee('<div><div role=\"button\" tabindex=\"-1\" class=\"jse-text svelte-czprfx\"><div class=\"jse-text-centered\"><!> </div></div> <div class=\"jse-actions svelte-czprfx\"></div></div>');function js(n,e){Pe(e,!1);let t=y(e,\"type\",9,\"success\"),r=y(e,\"icon\",9,void 0),i=y(e,\"message\",9,void 0),s=y(e,\"actions\",25,()=>[]),o=y(e,\"onClick\",9,void 0),a=y(e,\"onClose\",9,void 0);a()&&Hr(a());function l(){o()&&o()()}Ne(!0);var u=UJ(),f=V(u),d=V(f),h=V(d);{var p=b=>{Xt(b,{get data(){return r()}})};oe(h,b=>{r()&&b(p)})}var g=K(h),m=K(f,2);Dt(m,5,s,un,(b,v)=>{var w=WJ(),k=V(w);{var x=T=>{Xt(T,{get data(){return c(v).icon}})};oe(k,T=>{c(v).icon&&T(x)})}var C=K(k);pe(()=>{Ee(w,\"title\",c(v).title),w.disabled=c(v).disabled,Ke(C,` ${c(v).text??\"\"}`)}),ve(\"click\",w,()=>{c(v).onClick&&c(v).onClick()}),ve(\"mousedown\",w,()=>{c(v).onMouseDown&&c(v).onMouseDown()}),B(b,w)}),pe(()=>{zr(u,`jse-message jse-${t()??\"\"} svelte-czprfx`),Fe(f,\"jse-clickable\",!!o()),Ke(g,` ${i()??\"\"}`)}),ve(\"click\",f,l),B(n,u),Ie()}var KJ=ee('<button type=\"button\" class=\"jse-validation-errors-collapse svelte-1uindol\" title=\"Collapse validation errors\"><!></button>'),JJ=ee('<tr tabindex=\"0\"><td class=\"jse-validation-error-icon svelte-1uindol\"><!></td><td class=\"jse-validation-error-path svelte-1uindol\"> </td><td class=\"jse-validation-error-message svelte-1uindol\"> </td><td class=\"jse-validation-error-action svelte-1uindol\"><!></td></tr>'),XJ=ee('<tr class=\"jse-validation-error svelte-1uindol\"><td class=\"svelte-1uindol\"></td><td class=\"svelte-1uindol\"></td><td class=\"svelte-1uindol\"> </td><td class=\"svelte-1uindol\"></td></tr>'),YJ=ee('<table class=\"jse-validation-errors-overview-expanded svelte-1uindol\"><tbody><!><!></tbody></table>'),GJ=ee('<table class=\"jse-validation-errors-overview-collapsed svelte-1uindol\"><tbody><tr><td class=\"jse-validation-error-icon svelte-1uindol\"><!></td><td class=\"jse-validation-error-count svelte-1uindol\"> <div class=\"jse-validation-errors-expand svelte-1uindol\"><!></div></td></tr></tbody></table>'),QJ=ee('<div class=\"jse-validation-errors-overview svelte-1uindol\"><!></div>');function Jw(n,e){Pe(e,!1);const t=H(void 0,!0);let r=y(e,\"validationErrors\",9),i=y(e,\"selectError\",9),s=H(!0,!0);function o(){S(s,!1)}function a(){S(s,!0)}function l(h){return[Ls.error,Ls.warning,Ls.info].find(g=>h.some(m=>m.severity===g))}Z(()=>z(r()),()=>{S(t,r().length)}),wt(),Ne(!0);var u=Ue(),f=be(u);{var d=h=>{var p=QJ(),g=V(p);{var m=v=>{var w=YJ(),k=V(w),x=V(k);Dt(x,1,()=>rO(r(),my),un,(A,O,R)=>{var D=JJ(),E=V(D),I=V(E);Xt(I,{data:Gl});var P=K(E),_=V(P),L=K(P),M=V(L),N=K(L),F=V(N);{var j=Y=>{var ie=KJ(),Q=V(ie);Xt(Q,{data:mK}),ve(\"click\",ie,Os(o)),B(Y,ie)};oe(F,Y=>{R===0&&r().length>1&&Y(j)})}pe(Y=>{zr(D,`jse-validation-${c(O).severity??\"\"} svelte-1uindol`),Ke(_,Y),Ke(M,c(O).message)},[()=>zs(c(O).path)],he),ve(\"click\",D,()=>{setTimeout(()=>i()(c(O)))}),B(A,D)});var C=K(x);{var T=A=>{var O=XJ(),R=K(V(O),2),D=V(R);pe(()=>Ke(D,`(and ${c(t)-my} more errors)`)),B(A,O)};oe(C,A=>{c(t)>my&&A(T)})}B(v,w)},b=v=>{var w=GJ(),k=V(w),x=V(k),C=V(x),T=V(C);Xt(T,{data:Gl});var A=K(C),O=V(A),R=K(O),D=V(R);Xt(D,{data:KO}),pe(E=>{zr(x,`jse-validation-${E??\"\"} svelte-1uindol`),Ke(O,`${c(t)??\"\"} validation errors `)},[()=>l(r())],he),ve(\"click\",x,a),B(v,w)};oe(g,v=>{c(s)||c(t)===1?v(m):v(b,!1)})}B(h,p)};oe(f,h=>{wn(r())||h(d)})}B(n,u),Ie()}function iu(n,e){if(!n)return;function t(r){r.key===\"Escape\"&&(r.preventDefault(),r.stopPropagation(),e())}return n.addEventListener(\"keydown\",t),{destroy(){n.removeEventListener(\"keydown\",t)}}}var ZJ=ee('<dialog><div class=\"jse-modal-inner svelte-1s9c2ql\"><!></div></dialog>');function ch(n,e){Pe(e,!1);let t=y(e,\"className\",8,void 0),r=y(e,\"fullscreen\",8,!1),i=y(e,\"onClose\",8),s=H();cr(()=>c(s).showModal()),Hr(()=>c(s).close());function o(){i()()}Ne();var a=ZJ(),l=V(a),u=V(l);en(u,e,\"default\",{},null),_n(a,f=>S(s,f),()=>c(s)),En(()=>ve(\"close\",a,o)),En(()=>ve(\"pointerdown\",a,xM(o))),En(()=>ve(\"cancel\",a,_a(function(f){Bt.call(this,e,f)}))),tn(a,(f,d)=>iu==null?void 0:iu(f,d),()=>o),pe(f=>{zr(a,qr(f),\"svelte-1s9c2ql\"),Fe(a,\"jse-fullscreen\",r())},[()=>Yu(\"jse-modal\",t())],he),B(n,a),Ie()}var $J=ee('<!> <div class=\"jse-modal-contents svelte-189qksl\"><div>These actions are unavailable via the menu. Please use:</div> <div class=\"jse-shortcuts svelte-189qksl\"><div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for copy</div> <div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for cut</div> <div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for paste</div></div> <div class=\"jse-actions svelte-189qksl\"><button type=\"button\" class=\"jse-primary svelte-189qksl\">Close</button></div></div>',1);function fE(n,e){Pe(e,!1);let t=y(e,\"onClose\",9);const r=kw()?\"\":\"Ctrl\";Ne(!0),ch(n,{get onClose(){return t()},className:\"jse-copy-paste\",children:(i,s)=>{var o=$J(),a=be(o);gv(a,{title:\"Copying and pasting\",get onClose(){return t()}});var l=K(a,2),u=K(V(l),2),f=V(u),d=V(f);d.textContent=`${r??\"\"}+C`;var h=K(f,2),p=V(h);p.textContent=`${r??\"\"}+X`;var g=K(h,2),m=V(g);m.textContent=`${r??\"\"}+V`;var b=K(u,2),v=V(b);ve(\"click\",v,function(...w){var k;(k=t())==null||k.apply(this,w)}),B(i,o)},$$slots:{default:!0}}),Ie()}var eX=ee('<div class=\"jse-separator svelte-pf7s2l\"></div>'),tX=ee('<div class=\"jse-space svelte-pf7s2l\"></div>'),nX=ee('<button type=\"button\"><!> <!></button>'),rX=ee('<div class=\"jse-menu svelte-pf7s2l\"><!> <!> <!></div>');function mv(n,e){Pe(e,!1);let t=y(e,\"items\",25,()=>[]);function r(l){return console.error(\"Unknown type of menu item\",l),\"???\"}Ne(!0);var i=rX(),s=V(i);en(s,e,\"left\",{},null);var o=K(s,2);Dt(o,1,t,un,(l,u)=>{var f=Ue(),d=be(f);{var h=g=>{var m=eX();B(g,m)},p=g=>{var m=Ue(),b=be(m);{var v=k=>{var x=tX();B(k,x)},w=k=>{var x=Ue(),C=be(x);{var T=O=>{var R=nX(),D=V(R);{var E=_=>{Xt(_,{get data(){return c(u).icon}})};oe(D,_=>{c(u).icon&&_(E)})}var I=K(D,2);{var P=_=>{var L=Ar();pe(()=>Ke(L,c(u).text)),B(_,L)};oe(I,_=>{c(u).text&&_(P)})}pe(()=>{zr(R,`jse-button ${c(u).className??\"\"} svelte-pf7s2l`),Ee(R,\"title\",c(u).title),R.disabled=c(u).disabled||!1}),ve(\"click\",R,function(..._){var L;(L=c(u).onClick)==null||L.apply(this,_)}),B(O,R)},A=O=>{var R=Ar();pe(D=>Ke(R,D),[()=>r(c(u))],he),B(O,R)};oe(C,O=>{Uf(c(u))?O(T):O(A,!1)},!0)}B(k,x)};oe(b,k=>{xO(c(u))?k(v):k(w,!1)},!0)}B(g,m)};oe(d,g=>{Hp(c(u))?g(h):g(p,!1)})}B(l,f)});var a=K(o,2);en(a,e,\"right\",{},null),B(n,i),Ie()}var iX=ee('<div slot=\"left\" class=\"jse-info svelte-3golau\">Repair invalid JSON, then click apply</div>'),sX=ee('<div class=\"jse-json-repair-component svelte-3golau\"><!> <!> <textarea class=\"jse-json-text svelte-3golau\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\"></textarea></div>');function oX(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0),o=H(void 0,!0),a=H(void 0,!0);let l=y(e,\"text\",13,\"\"),u=y(e,\"readOnly\",9,!1),f=y(e,\"onParse\",9),d=y(e,\"onRepair\",9),h=y(e,\"onChange\",9,void 0),p=y(e,\"onApply\",9),g=y(e,\"onCancel\",9);const m=Tr(\"jsoneditor:JSONRepair\");let b=H(void 0,!0);function v(_){try{f()(_);return}catch(L){return Su(_,L.message)}}function w(_){try{return d()(_),!0}catch{return!1}}function k(){if(c(b)&&c(t)){const _=c(t).position!==void 0?c(t).position:0;c(b).setSelectionRange(_,_),c(b).focus()}}function x(_){m(\"handleChange\");const L=_.target.value;l()!==L&&(l(L),h()&&h()(l()))}function C(){p()(l())}function T(){try{l(d()(l())),h()&&h()(l())}catch{}}let A=H(void 0,!0);Z(()=>z(l()),()=>{S(t,v(l()))}),Z(()=>z(l()),()=>{S(r,w(l()))}),Z(()=>c(t),()=>{m(\"error\",c(t))}),Z(()=>z(g()),()=>{S(A,[{type:\"space\"},{type:\"button\",icon:cv,title:\"Cancel repair\",className:\"jse-cancel\",onClick:g()}])}),Z(()=>_S,()=>{S(i,{icon:_S,text:\"Show me\",title:\"Scroll to the error location\",onClick:k})}),Z(()=>Au,()=>{S(s,{icon:Au,text:\"Auto repair\",title:\"Automatically repair JSON\",onClick:T})}),Z(()=>(c(r),c(i),c(s)),()=>{S(o,c(r)?[c(i),c(s)]:[c(i)])}),Z(()=>z(u()),()=>{S(a,[{icon:Vw,text:\"Apply\",title:\"Apply fixed JSON\",disabled:u(),onClick:C}])}),wt(),Ne(!0);var O=sX(),R=V(O);mv(R,{get items(){return c(A)},$$slots:{left:(_,L)=>{var M=iX();B(_,M)}}});var D=K(R,2);{var E=_=>{const L=he(()=>`Cannot parse JSON: ${c(t).message}`);js(_,{type:\"error\",icon:Gl,get message(){return c(L)},get actions(){return c(o)}})},I=_=>{js(_,{type:\"success\",message:\"JSON is valid now and can be parsed.\",get actions(){return c(a)}})};oe(D,_=>{c(t)?_(E):_(I,!1)})}var P=K(D,2);_n(P,_=>S(b,_),()=>c(b)),pe(()=>{P.readOnly=u(),na(P,l())}),ve(\"input\",P,x),B(n,O),Ie()}function dE(n,e){Pe(e,!1);let t=y(e,\"text\",13),r=y(e,\"onParse\",9),i=y(e,\"onRepair\",9),s=y(e,\"onApply\",9),o=y(e,\"onClose\",9);function a(u){s()(u),o()()}function l(){o()()}Ne(!0),ch(n,{get onClose(){return o()},className:\"jse-repair-modal\",children:(u,f)=>{oX(u,{get onParse(){return r()},get onRepair(){return i()},onApply:a,onCancel:l,get text(){return t()},set text(d){t(d)},$$legacy:!0})},$$slots:{default:!0}}),Ie()}var aX=ee('<button type=\"button\" class=\"jse-expand-items svelte-1h6hzoq\"> </button>'),lX=ee('<div role=\"none\" class=\"jse-collapsed-items svelte-1h6hzoq\"><div><div class=\"jse-text svelte-1h6hzoq\"> </div> <!></div></div>');function cX(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0),o=H(void 0,!0);let a=y(e,\"visibleSections\",9),l=y(e,\"sectionIndex\",9),u=y(e,\"total\",9),f=y(e,\"path\",9),d=y(e,\"selection\",9),h=y(e,\"onExpandSection\",9),p=y(e,\"context\",9);function g(x){x.stopPropagation()}Z(()=>(z(a()),z(l())),()=>{S(t,a()[l()])}),Z(()=>c(t),()=>{S(r,c(t).end)}),Z(()=>(z(a()),z(l()),z(u())),()=>{S(i,a()[l()+1]?a()[l()+1].start:u())}),Z(()=>(z(p()),z(d()),z(f()),c(r)),()=>{S(s,Sd(p().getJson(),d(),f().concat(String(c(r)))))}),Z(()=>(c(r),c(i)),()=>{S(o,GW(c(r),c(i)))}),wt(),Ne(!0);var m=lX(),b=V(m),v=V(b),w=V(v),k=K(v,2);Dt(k,1,()=>c(o),un,(x,C)=>{var T=aX(),A=V(T);pe(()=>Ke(A,`show ${c(C).start??\"\"}-${c(C).end??\"\"}`)),ve(\"click\",T,()=>h()(f(),c(C))),B(x,T)}),pe(()=>{Fe(m,\"jse-selected\",c(s)),Zn(m,\"--level\",f().length+2),Ke(w,`Items ${c(r)??\"\"}-${c(i)??\"\"}`)}),ve(\"mousemove\",m,g),B(n,m),Ie()}var uX=ee('<button type=\"button\" class=\"jse-context-menu-pointer svelte-137iwnw\"><!></button>');function Ta(n,e){Pe(e,!1);let t=y(e,\"root\",9,!1),r=y(e,\"insert\",9,!1),i=y(e,\"selected\",9),s=y(e,\"onContextMenu\",9);function o(u){let f=u.target;for(;f&&f.nodeName!==\"BUTTON\";)f=f.parentNode;f&&s()({anchor:f,left:0,top:0,width:Wo,height:qo,offsetTop:2,offsetLeft:0,showTip:!0})}Ne(!0);var a=uX();Ee(a,\"title\",Ew);var l=V(a);Xt(l,{data:Ya}),pe(()=>{Fe(a,\"jse-root\",t()),Fe(a,\"jse-insert\",r()),Fe(a,\"jse-selected\",i())}),ve(\"click\",a,o),B(n,a),Ie()}var fX=ee('<div role=\"none\" data-type=\"selectable-key\" class=\"jse-key svelte-2iqnqn\"><!></div>'),dX=ee(\"<!> <!>\",1);function hX(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0);let i=y(e,\"pointer\",9),s=y(e,\"key\",9),o=y(e,\"selection\",9),a=y(e,\"searchResultItems\",9),l=y(e,\"onUpdateKey\",9),u=y(e,\"context\",9),f=H(void 0,!0);function d(x){!c(r)&&!u().readOnly&&(x.preventDefault(),u().onSelect(Bw(c(f))))}function h(x,C){const T=l()(s(),u().normalization.unescapeValue(x)),A=rn(c(f)).concat(T);u().onSelect(C===qa.nextInside?jt(A):ca(A)),C!==qa.self&&u().focus()}function p(){u().onSelect(ca(c(f))),u().focus()}Z(()=>z(i()),()=>{S(f,ms(i()))}),Z(()=>(z(o()),c(f)),()=>{S(t,Or(o())&&Jt(o().path,c(f)))}),Z(()=>(c(t),z(o())),()=>{S(r,c(t)&&bi(o()))}),wt(),Ne(!0);var g=dX(),m=be(g);{var b=x=>{const C=he(()=>u().normalization.escapeValue(s())),T=he(()=>bi(o())?o().initialValue:void 0);LO(x,{get value(){return c(C)},get initialValue(){return c(T)},label:\"Edit key\",shortText:!0,onChange:h,onCancel:p,get onFind(){return u().onFind}})},v=x=>{var C=fX(),T=V(C);{var A=R=>{const D=he(()=>u().normalization.escapeValue(s()));qO(R,{get text(){return c(D)},get searchResultItems(){return a()}})},O=R=>{var D=Ar();pe(E=>Ke(D,E),[()=>nv(u().normalization.escapeValue(s()))],he),B(R,D)};oe(T,R=>{a()?R(A):R(O,!1)})}pe(()=>Fe(C,\"jse-empty\",s()===\"\")),ve(\"dblclick\",C,d),B(x,C)};oe(m,x=>{!u().readOnly&&c(r)?x(b):x(v,!1)})}var w=K(m,2);{var k=x=>{Ta(x,{selected:!0,get onContextMenu(){return u().onContextMenu}})};oe(w,x=>{!u().readOnly&&c(t)&&!c(r)&&x(k)})}B(n,g),Ie()}var pX=ee('<div role=\"button\" tabindex=\"-1\" class=\"jse-value\" data-type=\"selectable-value\"></div>');function hE(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0);let i=y(e,\"path\",9),s=y(e,\"value\",9),o=y(e,\"context\",9),a=y(e,\"enforceString\",9),l=y(e,\"selection\",9),u=y(e,\"searchResultItems\",9);Z(()=>(z(l()),bi),()=>{S(t,yn(l())&&bi(l()))}),Z(()=>(z(o()),z(i()),z(s()),z(a()),c(t),z(l()),z(u())),()=>{S(r,o().onRenderValue({path:i(),value:s(),mode:o().mode,readOnly:o().readOnly,enforceString:a(),isEditing:c(t),parser:o().parser,normalization:o().normalization,selection:l(),searchResultItems:u(),onPatch:o().onPatch,onPasteJson:o().onPasteJson,onSelect:o().onSelect,onFind:o().onFind,findNextInside:o().findNextInside,focus:o().focus}))}),wt(),Ne(!0);var f=Ue(),d=be(f);Dt(d,1,()=>c(r),un,(h,p)=>{var g=Ue(),m=be(g);{var b=w=>{var k=pX();const x=he(()=>c(p).action);tn(k,(C,T)=>{var A;return(A=c(x))==null?void 0:A(C,T)},()=>c(p).props),B(w,k)},v=w=>{var k=Ue(),x=be(k);gu(x,()=>c(p).component,(C,T)=>{T(C,Qr(()=>c(p).props))}),B(w,k)};oe(m,w=>{iU(c(p))?w(b):w(v,!1)})}B(h,g)}),B(n,f),Ie()}const gX={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function Ey({json:n,selection:e,deltaY:t,items:r}){if(!e)return{operations:void 0,updatedSelection:void 0,offset:0};const i=t<0?mX({json:n,selection:e,deltaY:t,items:r}):vX({json:n,selection:e,deltaY:t,items:r});if(!i||i.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};const s=EU(n,e,i),o=rn(aa(n,e)),a=st(n,o);if(Array.isArray(a)){const l=yX({items:r,json:n,selection:e,offset:i.offset});return{operations:s,updatedSelection:l,offset:i.offset}}else return{operations:s,updatedSelection:void 0,offset:i.offset}}function mX({json:n,items:e,selection:t,deltaY:r}){const i=aa(n,t),s=e.findIndex(d=>Jt(d.path,i)),o=()=>{var d;return(d=e[a-1])==null?void 0:d.height};let a=s,l=0;for(;o()!==void 0&&Math.abs(r)>l+o()/2;)l+=o(),a-=1;const u=e[a].path,f=a-s;return a!==s&&e[a]!==void 0?{beforePath:u,offset:f}:void 0}function vX({json:n,items:e,selection:t,deltaY:r}){var m;const i=ol(n,t),s=e.findIndex(b=>Jt(b.path,i));let o=0,a=s;const l=()=>{var b;return(b=e[a+1])==null?void 0:b.height};for(;l()!==void 0&&Math.abs(r)>o+l()/2;)o+=l(),a+=1;const u=rn(i),f=st(n,u),h=Array.isArray(f)?a:a+1,p=(m=e[h])==null?void 0:m.path,g=a-s;return p?{beforePath:p,offset:g}:{append:!0,offset:g}}function yX({items:n,json:e,selection:t,offset:r}){var f,d;const i=aa(e,t),s=ol(e,t),o=n.findIndex(h=>Jt(h.path,i)),a=n.findIndex(h=>Jt(h.path,s)),l=(f=n[o+r])==null?void 0:f.path,u=(d=n[a+r])==null?void 0:d.path;return si(l,u)}var bX=ee('<button type=\"button\"><!></button>');function su(n,e){Pe(e,!1);const t=H(),r=gs(\"absolute-popup\");let i=y(e,\"validationError\",8),s=y(e,\"onExpand\",8);Z(()=>z(i()),()=>{S(t,rU(i())&&i().isChildError?\"Contains invalid data\":i().message)}),wt(),Ne();var o=bX(),a=V(o);Xt(a,{data:Gl}),En(()=>ve(\"click\",o,function(...l){var u;(u=s())==null||u.apply(this,l)})),tn(o,(l,u)=>Zo==null?void 0:Zo(l,u),()=>({text:c(t),...r})),pe(()=>zr(o,`jse-validation-${i().severity??\"\"} svelte-1a8aobl`)),B(n,o),Ie()}var Dn=Ud(()=>gX),wX=ee('<div class=\"jse-separator svelte-wovgt4\">:</div>'),xX=ee('<div class=\"jse-bracket svelte-wovgt4\">[</div> <span class=\"jse-tag jse-expanded svelte-wovgt4\"> </span> &nbsp;',1),CX=ee('<div class=\"jse-bracket svelte-wovgt4\">[</div> <button type=\"button\" class=\"jse-tag svelte-wovgt4\"> </button> <div class=\"jse-bracket svelte-wovgt4\">]</div>',1),SX=ee('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),_X=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"></div>'),kX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),AX=ee('<div class=\"jse-insert-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"><!></div>'),OX=ee('<div slot=\"identifier\" class=\"jse-identifier svelte-wovgt4\"><div class=\"jse-index svelte-wovgt4\"> </div></div>'),EX=ee(\"<!> <!>\",1),TX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),MX=ee('<div class=\"jse-items svelte-wovgt4\"><!> <!></div> <div class=\"jse-footer-outer svelte-wovgt4\"><div data-type=\"selectable-value\" class=\"jse-footer svelte-wovgt4\"><span class=\"jse-bracket svelte-wovgt4\">]</span></div> <!></div>',1),PX=ee('<div class=\"jse-header-outer svelte-wovgt4\"><div class=\"jse-header svelte-wovgt4\"><button type=\"button\" class=\"jse-expand svelte-wovgt4\" title=\"Expand or collapse this array (Ctrl+Click to expand/collapse recursively)\"><!></button> <!> <!> <div class=\"jse-meta svelte-wovgt4\"><div class=\"jse-meta-inner svelte-wovgt4\" data-type=\"selectable-value\"><!></div></div> <!></div> <!> <!></div> <!>',1),IX=ee('<div class=\"jse-separator svelte-wovgt4\">:</div>'),RX=ee('<div class=\"jse-bracket jse-expanded svelte-wovgt4\">&lbrace;</div>'),DX=ee('<div class=\"jse-bracket svelte-wovgt4\">&lbrace;</div> <button type=\"button\" class=\"jse-tag svelte-wovgt4\"> </button> <div class=\"jse-bracket svelte-wovgt4\">&rbrace;</div>',1),NX=ee('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),LX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"></div>'),BX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),FX=ee('<div class=\"jse-insert-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"><!></div>'),jX=ee('<div slot=\"identifier\" class=\"jse-key-outer svelte-wovgt4\"><!></div>'),zX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),VX=ee('<div class=\"jse-props svelte-wovgt4\"><!> <!></div> <div class=\"jse-footer-outer svelte-wovgt4\"><div data-type=\"selectable-value\" class=\"jse-footer svelte-wovgt4\"><div class=\"jse-bracket svelte-wovgt4\">&rbrace;</div></div> <!></div>',1),HX=ee('<div class=\"jse-header-outer svelte-wovgt4\"><div class=\"jse-header svelte-wovgt4\"><button type=\"button\" class=\"jse-expand svelte-wovgt4\" title=\"Expand or collapse this object (Ctrl+Click to expand/collapse recursively)\"><!></button> <!> <!> <div class=\"jse-meta svelte-wovgt4\" data-type=\"selectable-value\"><div class=\"jse-meta-inner svelte-wovgt4\"><!></div></div> <!></div> <!> <!></div> <!>',1),qX=ee('<div class=\"jse-separator svelte-wovgt4\">:</div>'),WX=ee('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),UX=ee('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),KX=ee('<div class=\"jse-contents-outer svelte-wovgt4\"><div class=\"jse-contents svelte-wovgt4\"><!> <!> <div class=\"jse-value-outer svelte-wovgt4\"><!></div> <!></div> <!> <!></div>'),JX=ee('<div class=\"jse-insert-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"><!></div>'),XX=ee('<div role=\"treeitem\" tabindex=\"-1\"><!> <!></div>');function b1(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0);let i=y(e,\"pointer\",9),s=y(e,\"value\",9),o=y(e,\"state\",9),a=y(e,\"validationErrors\",9),l=y(e,\"searchResults\",9),u=y(e,\"selection\",9),f=y(e,\"context\",9),d=y(e,\"onDragSelectionStart\",9);const h=Tr(\"jsoneditor:JSONNode\");let p=H(void 0,!0),g,m=H(void 0,!0),b=H(void 0,!0),v=H(void 0,!0),w=H(void 0,!0),k=H(void 0,!0),x=H(void 0,!0),C=H(void 0,!0);function T($,ne){const G=Object.keys($);return ne&&ne.offset!==0?tS(G,ne.selectionStartIndex,ne.selectionItemsCount,ne.offset):G}function A($,ne,G){const De=ne.start,Be=Math.min(ne.end,$.length),Le=tO(De,Be);return G&&G.offset!==0?tS(Le,G.selectionStartIndex,G.selectionItemsCount,G.offset).map((Ce,ye)=>({index:Ce,gutterIndex:ye})):Le.map(Ce=>({index:Ce,gutterIndex:Ce}))}function O($){$.stopPropagation();const ne=Aw($);f().onExpand(c(b),!c(v),ne)}function R($){$.stopPropagation(),f().onExpand(c(b),!0)}function D($,ne){const G=ah(c(b),Object.keys(s()),$,ne);return f().onPatch(G),zt(ms(G[0].path))}function E($){if($.buttons!==1&&$.buttons!==2||Kq($.target)||$.buttons===1&&dO($.target,\"BUTTON\"))return;$.stopPropagation(),$.preventDefault(),f().focus(),document.addEventListener(\"mousemove\",P,!0),document.addEventListener(\"mouseup\",_);const ne=gy($.target),G=f().getJson(),De=f().getDocumentState();if(u()&&ne!==xn.after&&ne!==xn.inside&&(u().type===ne||u().type===xn.multi)&&Sd(G,u(),c(b))){$.button===0&&d()($);return}if(Dn(Dn().selecting=!0),Dn(Dn().selectionAnchor=c(b)),Dn(Dn().selectionAnchorType=ne),Dn(Dn().selectionFocus=c(b)),$.shiftKey){const Be=f().getSelection();Be&&f().onSelect(si(Xl(Be),c(b)))}else if(ne===xn.multi)if(c(r)&&$.target.hasAttribute(\"data-path\")){const Be=zt(MO(s(),De));f().onSelect(Fw(Be))}else f().onSelect(si(c(b),c(b)));else G!==void 0&&f().onSelect(yS(ne,c(b)))}function I($){if(Dn().selecting){$.preventDefault(),$.stopPropagation(),Dn().selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();const ne=gy($.target);(!Jt(c(b),Dn().selectionFocus)||ne!==Dn().selectionAnchorType)&&(Dn(Dn().selectionFocus=c(b)),Dn(Dn().selectionAnchorType=ne),f().onSelect(si(Dn().selectionAnchor||Dn().selectionFocus,Dn().selectionFocus)))}}function P($){f().onDrag($)}function _($){Dn().selecting&&(Dn(Dn().selecting=!1),$.stopPropagation()),f().onDragEnd(),document.removeEventListener(\"mousemove\",P,!0),document.removeEventListener(\"mouseup\",_)}function L(){var $,ne;return((ne=($=f().findElement([]))==null?void 0:$.getBoundingClientRect())==null?void 0:ne.top)||0}function M($,ne){const De=L()-$.initialContentTop;return ne.clientY-$.initialClientY-De}function N($){if(f().readOnly||!u())return;const ne=rn(gt(u()));if(!Jt(c(b),ne)){d()($);return}const G=Y(u(),c(k)||eu);if(h(\"dragSelectionStart\",{selection:u(),items:G}),!G){h(\"Cannot drag the current selection (probably spread over multiple sections)\");return}const De=f().getJson();if(De===void 0)return;const Be=aa(De,u()),Le=G.findIndex(ye=>Jt(ye.path,Be)),{offset:Ce}=Ey({json:De,selection:f().getSelection(),deltaY:0,items:G});S(m,{initialTarget:$.target,initialClientY:$.clientY,initialContentTop:L(),selectionStartIndex:Le,selectionItemsCount:Xa(De,u()).length,items:G,offset:Ce,didMoveItems:!1}),Dn(Dn().dragging=!0),document.addEventListener(\"mousemove\",F,!0),document.addEventListener(\"mouseup\",j)}function F($){if(c(m)){const ne=f().getJson();if(ne===void 0)return;const G=M(c(m),$),{offset:De}=Ey({json:ne,selection:f().getSelection(),deltaY:G,items:c(m).items});De!==c(m).offset&&(h(\"drag selection\",De,G),S(m,{...c(m),offset:De,didMoveItems:!0}))}}function j($){if(c(m)){const ne=f().getJson();if(ne===void 0)return;const G=M(c(m),$),{operations:De,updatedSelection:Be}=Ey({json:ne,selection:f().getSelection(),deltaY:G,items:c(m).items});if(De)f().onPatch(De,(Le,Ce)=>({state:Ce,selection:Be??u()}));else if($.target===c(m).initialTarget&&!c(m).didMoveItems){const Le=gy($.target),Ce=pO($.target);Ce&&f().onSelect(yS(Le,Ce))}S(m,void 0),Dn(Dn().dragging=!1),document.removeEventListener(\"mousemove\",F,!0),document.removeEventListener(\"mouseup\",j)}}function Y($,ne){const G=[];function De(Be){const Le=c(b).concat(Be),Ce=f().findElement(Le);Ce!==void 0&&G.push({path:Le,height:Ce.clientHeight})}if(Array.isArray(s())){const Be=f().getJson();if(Be===void 0)return;const Le=aa(Be,$),Ce=ol(Be,$),ye=parseInt(zt(Le),10),Re=parseInt(zt(Ce),10),je=ne.find(ot=>ye>=ot.start&&Re<=ot.end);if(!je)return;const{start:$e,end:Ve}=je;nO($e,Math.min(s().length,Ve),ot=>De(String(ot)))}else Object.keys(s()).forEach(De);return G}function ie($){Dn().selecting||Dn().dragging||($.stopPropagation(),La($.target,\"data-type\",\"selectable-value\")?S(p,cS):La($.target,\"data-type\",\"selectable-key\")?S(p,void 0):La($.target,\"data-type\",\"insert-selection-area-inside\")?S(p,gf):La($.target,\"data-type\",\"insert-selection-area-after\")&&S(p,yy),clearTimeout(g))}function Q($){$.stopPropagation(),g=window.setTimeout(()=>S(p,void 0))}function te($){$.shiftKey||($.stopPropagation(),$.preventDefault(),f().onSelect(ua(c(b))))}function U($){$.shiftKey||($.stopPropagation(),$.preventDefault(),f().onSelect(fa(c(b))))}function se($){f().onSelect(ua(c(b))),f().onContextMenu($)}function le($){f().onSelect(fa(c(b))),f().onContextMenu($)}Z(()=>z(i()),()=>{S(b,ms(i()))}),Z(()=>z(i()),()=>{S(t,encodeURIComponent(i()))}),Z(()=>z(o()),()=>{S(v,Kl(o())?o().expanded:!1)}),Z(()=>(z(s()),z(o())),()=>{S(w,oa(s(),o(),[]))}),Z(()=>z(o()),()=>{S(k,Zr(o())?o().visibleSections:void 0)}),Z(()=>z(a()),()=>{var $;S(x,($=a())==null?void 0:$.validationError)}),Z(()=>(z(f()),z(u()),c(b)),()=>{S(C,Sd(f().getJson(),u(),c(b)))}),Z(()=>c(b),()=>{S(r,c(b).length===0)}),wt(),Ne(!0);var W=XX(),ce=V(W);{var fe=$=>{var ne=PX(),G=be(ne),De=V(G),Be=V(De),Le=V(Be);{var Ce=at=>{Xt(at,{data:Ya})},ye=at=>{Xt(at,{data:_d})};oe(Le,at=>{c(v)?at(Ce):at(ye,!1)})}var Re=K(Be,2);en(Re,e,\"identifier\",{},null);var je=K(Re,2);{var $e=at=>{var _t=wX();B(at,_t)};oe(je,at=>{c(r)||at($e)})}var Ve=K(je,2),ot=V(Ve),we=V(ot);{var He=at=>{var _t=xX(),fn=K(be(_t),2),Vt=V(fn);pe(()=>Ke(Vt,`${s().length??\"\"}\n                ${(s().length===1?\"item\":\"items\")??\"\"}`)),B(at,_t)},nt=at=>{var _t=CX(),fn=K(be(_t),2),Vt=V(fn);pe(()=>Ke(Vt,`${s().length??\"\"}\n                ${(s().length===1?\"item\":\"items\")??\"\"}`)),ve(\"click\",fn,R),B(at,_t)};oe(we,at=>{c(v)?at(He):at(nt,!1)})}var Xe=K(Ve,2);{var Je=at=>{var _t=SX(),fn=V(_t);Ta(fn,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),B(at,_t)};oe(Xe,at=>{!f().readOnly&&c(C)&&u()&&(yn(u())||Nn(u()))&&!bi(u())&&Jt(gt(u()),c(b))&&at(Je)})}var Ye=K(De,2);{var Me=at=>{su(at,{get validationError(){return c(x)},onExpand:R})};oe(Ye,at=>{c(x)&&(!c(v)||!c(x).isChildError)&&at(Me)})}var Se=K(Ye,2);{var ue=at=>{var _t=_X();ve(\"click\",_t,te),B(at,_t)},vt=at=>{var _t=kX();ve(\"click\",_t,U),B(at,_t)};oe(Se,at=>{c(v)?at(ue):at(vt,!1)})}var bt=K(G,2);{var Xn=at=>{var _t=MX(),fn=be(_t),Vt=V(fn);{var In=kt=>{var Tt=AX();Ee(Tt,\"title\",vy);var rr=V(Tt);const It=he(()=>c(C)&&Xr(u()));Ta(rr,{insert:!0,get selected(){return c(It)},onContextMenu:se}),pe(Ut=>{Fe(Tt,\"jse-hovered\",c(p)===gf),Fe(Tt,\"jse-selected\",Ut),Zn(Tt,\"--level\",c(b).length+1)},[()=>c(C)&&Xr(u())],he),B(kt,Tt)};oe(Vt,kt=>{!f().readOnly&&(c(p)===gf||c(C)&&Xr(u()))&&kt(In)})}var rt=K(Vt,2);Dt(rt,1,()=>c(k)||eu,un,(kt,Tt,rr)=>{var It=EX(),Ut=be(It);Dt(Ut,1,()=>A(s(),c(Tt),c(m)),kn=>kn.index,(kn,mn)=>{var vn=Ue();const dr=he(()=>Zr(a())?a().items[c(mn).index]:void 0),sn=he(()=>bS(f().getJson(),u(),c(b).concat(String(c(mn).index))));var tr=be(vn);const xe=he(()=>fC(i(),c(mn).index)),Et=he(()=>Zr(o())?o().items[c(mn).index]:void 0),Qt=he(()=>Zr(l())?l().items[c(mn).index]:void 0);b1(tr,{get value(){return s()[c(mn).index]},get pointer(){return c(xe)},get state(){return c(Et)},get validationErrors(){return c(dr)},get searchResults(){return c(Qt)},get selection(){return c(sn)},get context(){return f()},onDragSelectionStart:N,$$slots:{identifier:(pt,hr)=>{var pr=OX(),ir=V(pr),Mr=V(ir);pe(()=>Ke(Mr,c(mn).gutterIndex)),B(pt,pr)}}}),B(kn,vn)});var ln=K(Ut,2);{var hn=kn=>{const mn=he(()=>c(k)||eu);cX(kn,{get visibleSections(){return c(mn)},sectionIndex:rr,get total(){return s().length},get path(){return c(b)},get onExpandSection(){return f().onExpandSection},get selection(){return u()},get context(){return f()}})};oe(ln,kn=>{c(Tt).end<s().length&&kn(hn)})}B(kt,It)});var Lt=K(fn,2),Ht=K(V(Lt),2);{var Gt=kt=>{var Tt=TX();ve(\"click\",Tt,U),B(kt,Tt)};oe(Ht,kt=>{c(r)||kt(Gt)})}B(at,_t)};oe(bt,at=>{c(v)&&at(Xn)})}ve(\"click\",Be,O),B($,ne)},J=$=>{var ne=Ue(),G=be(ne);{var De=Le=>{var Ce=HX(),ye=be(Ce),Re=V(ye),je=V(Re),$e=V(je);{var Ve=rt=>{Xt(rt,{data:Ya})},ot=rt=>{Xt(rt,{data:_d})};oe($e,rt=>{c(v)?rt(Ve):rt(ot,!1)})}var we=K(je,2);en(we,e,\"identifier\",{},null);var He=K(we,2);{var nt=rt=>{var Lt=IX();B(rt,Lt)};oe(He,rt=>{c(r)||rt(nt)})}var Xe=K(He,2),Je=V(Xe),Ye=V(Je);{var Me=rt=>{var Lt=RX();B(rt,Lt)},Se=rt=>{var Lt=DX(),Ht=K(be(Lt),2),Gt=V(Ht);pe((kt,Tt)=>Ke(Gt,`${kt??\"\"}\n                ${Tt??\"\"}`),[()=>Object.keys(s()).length,()=>Object.keys(s()).length===1?\"prop\":\"props\"],he),ve(\"click\",Ht,R),B(rt,Lt)};oe(Ye,rt=>{c(v)?rt(Me):rt(Se,!1)})}var ue=K(Xe,2);{var vt=rt=>{var Lt=NX(),Ht=V(Lt);Ta(Ht,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),B(rt,Lt)};oe(ue,rt=>{!f().readOnly&&c(C)&&u()&&(yn(u())||Nn(u()))&&!bi(u())&&Jt(gt(u()),c(b))&&rt(vt)})}var bt=K(Re,2);{var Xn=rt=>{su(rt,{get validationError(){return c(x)},onExpand:R})};oe(bt,rt=>{c(x)&&(!c(v)||!c(x).isChildError)&&rt(Xn)})}var at=K(bt,2);{var _t=rt=>{var Lt=LX();ve(\"click\",Lt,te),B(rt,Lt)},fn=rt=>{var Lt=Ue(),Ht=be(Lt);{var Gt=kt=>{var Tt=BX();ve(\"click\",Tt,U),B(kt,Tt)};oe(Ht,kt=>{c(r)||kt(Gt)},!0)}B(rt,Lt)};oe(at,rt=>{c(v)?rt(_t):rt(fn,!1)})}var Vt=K(ye,2);{var In=rt=>{var Lt=VX(),Ht=be(Lt),Gt=V(Ht);{var kt=ln=>{var hn=FX();Ee(hn,\"title\",vy);var kn=V(hn);const mn=he(()=>c(C)&&Xr(u()));Ta(kn,{insert:!0,get selected(){return c(mn)},onContextMenu:se}),pe(vn=>{Fe(hn,\"jse-hovered\",c(p)===gf),Fe(hn,\"jse-selected\",vn),Zn(hn,\"--level\",c(b).length+1)},[()=>c(C)&&Xr(u())],he),B(ln,hn)};oe(Gt,ln=>{!f().readOnly&&(c(p)===gf||c(C)&&Xr(u()))&&ln(kt)})}var Tt=K(Gt,2);Dt(Tt,1,()=>T(s(),c(m)),un,(ln,hn)=>{var kn=Ue();const mn=he(()=>fC(i(),c(hn))),vn=he(()=>Fs(l())?l().properties[c(hn)]:void 0),dr=he(()=>Fs(a())?a().properties[c(hn)]:void 0),sn=he(()=>c(b).concat(c(hn))),tr=he(()=>bS(f().getJson(),u(),c(sn)));var xe=be(kn);const Et=he(()=>Fs(o())?o().properties[c(hn)]:void 0);b1(xe,{get value(){return s()[c(hn)]},get pointer(){return c(mn)},get state(){return c(Et)},get validationErrors(){return c(dr)},get searchResults(){return c(vn)},get selection(){return c(tr)},get context(){return f()},onDragSelectionStart:N,$$slots:{identifier:(Qt,pt)=>{var hr=jX(),pr=V(hr);const ir=he(()=>LU(c(vn)));hX(pr,{get pointer(){return c(mn)},get key(){return c(hn)},get selection(){return c(tr)},get searchResultItems(){return c(ir)},get context(){return f()},onUpdateKey:D}),pe(Mr=>Fe(hr,\"jse-selected-key\",Mr),[()=>Or(c(tr))&&Jt(c(tr).path,c(sn))],he),B(Qt,hr)}}}),B(ln,kn)});var rr=K(Ht,2),It=K(V(rr),2);{var Ut=ln=>{var hn=zX();ve(\"click\",hn,U),B(ln,hn)};oe(It,ln=>{c(r)||ln(Ut)})}B(rt,Lt)};oe(Vt,rt=>{c(v)&&rt(In)})}ve(\"click\",je,O),B(Le,Ce)},Be=Le=>{var Ce=KX(),ye=V(Ce),Re=V(ye);en(Re,e,\"identifier\",{},null);var je=K(Re,2);{var $e=ue=>{var vt=qX();B(ue,vt)};oe(je,ue=>{c(r)||ue($e)})}var Ve=K(je,2),ot=V(Ve);const we=he(()=>c(C)?u():void 0),He=he(()=>BU(l()));hE(ot,{get path(){return c(b)},get value(){return s()},get enforceString(){return c(w)},get selection(){return c(we)},get searchResultItems(){return c(He)},get context(){return f()}});var nt=K(Ve,2);{var Xe=ue=>{var vt=WX(),bt=V(vt);Ta(bt,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),B(ue,vt)};oe(nt,ue=>{!f().readOnly&&c(C)&&u()&&(yn(u())||Nn(u()))&&!bi(u())&&Jt(gt(u()),c(b))&&ue(Xe)})}var Je=K(ye,2);{var Ye=ue=>{su(ue,{get validationError(){return c(x)},onExpand:R})};oe(Je,ue=>{c(x)&&ue(Ye)})}var Me=K(Je,2);{var Se=ue=>{var vt=UX();ve(\"click\",vt,U),B(ue,vt)};oe(Me,ue=>{c(r)||ue(Se)})}B(Le,Ce)};oe(G,Le=>{gn(s())?Le(De):Le(Be,!1)},!0)}B($,ne)};oe(ce,$=>{Array.isArray(s())?$(fe):$(J,!1)})}var ae=K(ce,2);{var re=$=>{var ne=JX();Ee(ne,\"title\",vy);var G=V(ne);const De=he(()=>c(C)&&us(u()));Ta(G,{insert:!0,get selected(){return c(De)},onContextMenu:le}),pe(Be=>{Fe(ne,\"jse-hovered\",c(p)===yy),Fe(ne,\"jse-selected\",Be)},[()=>c(C)&&us(u())],he),B($,ne)};oe(ae,$=>{!f().readOnly&&(c(p)===yy||c(C)&&us(u()))&&$(re)})}pe(($,ne,G)=>{zr(W,qr($),\"svelte-wovgt4\"),Ee(W,\"data-path\",c(t)),Ee(W,\"aria-selected\",c(C)),Fe(W,\"jse-root\",c(r)),Fe(W,\"jse-selected\",ne),Fe(W,\"jse-selected-value\",G),Fe(W,\"jse-readonly\",f().readOnly),Fe(W,\"jse-hovered\",c(p)===cS),Zn(W,\"--level\",c(b).length)},[()=>Yu(\"jse-json-node\",{\"jse-expanded\":c(v)},f().onClassName(c(b),s())),()=>c(C)&&Nn(u()),()=>c(C)&&yn(u())],he),ve(\"mousedown\",W,E),ve(\"mousemove\",W,I),ve(\"mouseover\",W,ie),ve(\"mouseout\",W,Q),B(n,W),Ie()}const YX={prefix:\"fas\",iconName:\"jsoneditor-expand\",icon:[512,512,[],\"\",\"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z\"]},GX={prefix:\"fas\",iconName:\"jsoneditor-collapse\",icon:[512,512,[],\"\",\"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z\"]},pE={prefix:\"fas\",iconName:\"jsoneditor-format\",icon:[512,512,[],\"\",\"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z\"]},QX={prefix:\"fas\",iconName:\"jsoneditor-compact\",icon:[512,512,[],\"\",\"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z\"]};function ZX(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0);let s=y(e,\"json\",9),o=y(e,\"selection\",9),a=y(e,\"readOnly\",9),l=y(e,\"showSearch\",13,!1),u=y(e,\"history\",9),f=y(e,\"onExpandAll\",9),d=y(e,\"onCollapseAll\",9),h=y(e,\"onUndo\",9),p=y(e,\"onRedo\",9),g=y(e,\"onSort\",9),m=y(e,\"onTransform\",9),b=y(e,\"onContextMenu\",9),v=y(e,\"onCopy\",9),w=y(e,\"onRenderMenu\",9);function k(){l(!l())}let x=H(void 0,!0),C=H(void 0,!0),T=H(void 0,!0),A=H(void 0,!0);Z(()=>z(s()),()=>{S(t,s()!==void 0)}),Z(()=>(c(t),z(o()),yn),()=>{S(r,c(t)&&(Nn(o())||Or(o())||yn(o())))}),Z(()=>(z(f()),z(s())),()=>{S(x,{type:\"button\",icon:YX,title:\"Expand all\",className:\"jse-expand-all\",onClick:f(),disabled:!lr(s())})}),Z(()=>(z(d()),z(s())),()=>{S(C,{type:\"button\",icon:GX,title:\"Collapse all\",className:\"jse-collapse-all\",onClick:d(),disabled:!lr(s())})}),Z(()=>z(s()),()=>{S(T,{type:\"button\",icon:lv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:k,disabled:s()===void 0})}),Z(()=>(z(a()),c(x),c(C),z(g()),z(s()),z(m()),c(T),z(b()),z(h()),z(u()),z(p()),z(v()),c(r)),()=>{S(A,a()?[c(x),c(C),{type:\"separator\"},{type:\"button\",icon:Wa,title:\"Copy (Ctrl+C)\",className:\"jse-copy\",onClick:v(),disabled:!c(r)},{type:\"separator\"},c(T),{type:\"space\"}]:[c(x),c(C),{type:\"separator\"},{type:\"button\",icon:av,title:\"Sort\",className:\"jse-sort\",onClick:g(),disabled:a()||s()===void 0},{type:\"button\",icon:ov,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:m(),disabled:a()||s()===void 0},c(T),{type:\"button\",icon:XO,title:Ew,className:\"jse-contextmenu\",onClick:b()},{type:\"separator\"},{type:\"button\",icon:zw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:h(),disabled:!u().canUndo},{type:\"button\",icon:jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:p(),disabled:!u().canRedo},{type:\"space\"}])}),Z(()=>(z(w()),c(A)),()=>{S(i,w()(c(A))||c(A))}),wt(),Ne(!0),mv(n,{get items(){return c(i)}}),Ie()}var $X=ee('<div class=\"jse-welcome-info svelte-1eamlhk\">You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:</div> <button class=\"svelte-1eamlhk\">Create object</button> <button class=\"svelte-1eamlhk\">Create array</button>',1),eY=ee('<div class=\"jse-welcome svelte-1eamlhk\" role=\"none\"><div class=\"jse-space jse-before svelte-1eamlhk\"></div> <div class=\"jse-contents svelte-1eamlhk\"><div class=\"jse-welcome-title\">Empty document</div> <!></div> <div class=\"jse-space jse-after svelte-1eamlhk\"></div></div>');function tY(n,e){Pe(e,!1);let t=y(e,\"readOnly\",9),r=y(e,\"onCreateArray\",9),i=y(e,\"onCreateObject\",9),s=y(e,\"onClick\",9);Ne(!0);var o=eY(),a=K(V(o),2),l=K(V(a),2);{var u=f=>{var d=$X(),h=K(be(d),2);Ee(h,\"title\",\"Create an empty JSON object (press '{')\");var p=K(h,2);Ee(p,\"title\",\"Create an empty JSON array (press '[')\"),ve(\"click\",h,Os(()=>i()())),ve(\"click\",p,Os(()=>r()())),B(f,d)};oe(l,f=>{t()||f(u)})}ve(\"click\",o,()=>s()()),B(n,o),Ie()}var Ty={exports:{}},IS;function nY(){if(IS)return Ty.exports;IS=1;/*\n * @version    1.4.0\n * @date       2015-10-26\n * @stability  3 - Stable\n * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)\n * @license    MIT License\n */var n=function(e,t){var r,i,s=1,o=0,a=0,l=String.alphabet;function u(f,d,h){if(h){for(r=d;h=u(f,r),h<76&&h>65;)++r;return+f.slice(d-1,r)}return h=l&&l.indexOf(f.charAt(d)),h>-1?h+76:(h=f.charCodeAt(d)||0,h<45||h>127?h:h<46?65:h<48?h-1:h<58?h+18:h<65?h-11:h<91?h+11:h<97?h-37:h<123?h+5:h-63)}if((e+=\"\")!=(t+=\"\")){for(;s;)if(i=u(e,o++),s=u(t,a++),i<76&&s<76&&i>66&&s>66&&(i=u(e,o,o),s=u(t,a,o=r),a=r),i!=s)return i<s?-1:1}return 0};try{Ty.exports=n}catch{String.naturalCompare=n}return Ty.exports}var rY=nY();const iY=q4(rY);function Xw(n,e){const t=typeof n==\"string\"?n.toLowerCase():n,r=typeof e==\"string\"?e.toLowerCase():e;return iY(t,r)}function gE(n,e=[],t=[],r=1){const i=st(n,e);if(er(i)){if(t===void 0)throw new Error(\"Cannot sort: no property selected by which to sort the array\");return oY(n,e,t,r)}if(gn(i))return sY(n,e,r);throw new Error(\"Cannot sort: no array or object\")}function sY(n,e=[],t=1){const r=st(n,e),s=Object.keys(r).slice();s.sort((a,l)=>t*Xw(a,l));const o={};return s.forEach(a=>o[a]=r[a]),[{op:\"replace\",path:mt(e),value:o}]}function oY(n,e=[],t=[],r=1){const i=aY(t,r),s=st(n,e);return[{op:\"replace\",path:mt(e),value:s.slice(0).sort(i)}]}function aY(n,e){return function(r,i){const s=st(r,n),o=st(i,n);return s===void 0?e:o===void 0?-e:typeof s!=\"string\"&&typeof o!=\"string\"?s>o?e:s<o?-e:0:e*Xw(s,o)}}var lY=ee('<button type=\"button\" class=\"jse-navigation-bar-dropdown-item svelte-2nnd2m\"> </button>'),cY=ee('<button type=\"button\" class=\"jse-navigation-bar-dropdown-item svelte-2nnd2m\">...</button>'),uY=ee('<div class=\"jse-navigation-bar-dropdown svelte-2nnd2m\"><!> <!></div>');function fY(n,e){Pe(e,!1);let t=y(e,\"items\",9),r=y(e,\"selectedItem\",9),i=y(e,\"onSelect\",9);const s=100,o=30;Ne(!0);var a=uY(),l=V(a);Dt(l,1,()=>rO(t(),s),d=>d,(d,h)=>{var p=lY(),g=V(p);pe((m,b)=>{Ee(p,\"title\",m),Fe(p,\"jse-selected\",c(h)===r()),Ke(g,b)},[()=>c(h).toString(),()=>sh(c(h).toString(),o)],he),ve(\"click\",p,Os(()=>i()(c(h)))),B(d,p)});var u=K(l,2);{var f=d=>{var h=cY();Ee(h,\"title\",`Limited to ${s} items`),B(d,h)};oe(u,d=>{t().length>s&&d(f)})}B(n,a),Ie()}var dY=ee('<button type=\"button\" class=\"jse-navigation-bar-button svelte-752ro1\"> </button>'),hY=ee('<div class=\"jse-navigation-bar-item svelte-752ro1\"><button type=\"button\" class=\"jse-navigation-bar-button jse-navigation-bar-arrow svelte-752ro1\"><!></button> <!></div>');function RS(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),{openAbsolutePopup:i,closeAbsolutePopup:s}=gs(\"absolute-popup\");let o=y(e,\"path\",9),a=y(e,\"index\",9),l=y(e,\"onSelect\",9),u=y(e,\"getItems\",9),f=H(void 0,!0),d=H(!1,!0),h;function p(x){s(h),l()(c(t).concat(x))}function g(){if(c(f)){S(d,!0);const x={items:u()(c(t)),selectedItem:c(r),onSelect:p};h=i(fY,x,{anchor:c(f),closeOnOuterClick:!0,onClose:()=>{S(d,!1)}})}}Z(()=>(z(o()),z(a())),()=>{S(t,o().slice(0,a()))}),Z(()=>(z(o()),z(a())),()=>{S(r,o()[a()])}),wt(),Ne(!0);var m=hY(),b=V(m),v=V(b);Xt(v,{data:KO});var w=K(b,2);{var k=x=>{var C=dY(),T=V(C);pe(()=>Ke(T,c(r))),ve(\"click\",C,()=>p(c(r))),B(x,C)};oe(w,x=>{c(r)!==void 0&&x(k)})}_n(m,x=>S(f,x),()=>c(f)),pe(()=>Fe(b,\"jse-open\",c(d))),ve(\"click\",b,g),B(n,m),Ie()}function Yw(n){var e;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=document.queryCommandSupported)!=null&&e.call(document,\"copy\")){const t=document.createElement(\"textarea\");t.value=n,t.style.position=\"fixed\",t.style.opacity=\"0\",document.body.appendChild(t),t.select();try{document.execCommand(\"copy\")}catch(r){console.error(r)}finally{document.body.removeChild(t)}return Promise.resolve()}else return console.error(\"Copy failed.\"),Promise.resolve()}var pY=ee('<button type=\"button\" class=\"jse-navigation-bar-validation-error svelte-zc2wx7\"><!></button>'),gY=ee('<div class=\"jse-copied-text svelte-zc2wx7\">Copied!</div>'),mY=ee('<div class=\"jse-navigation-bar-path-editor svelte-zc2wx7\"><input type=\"text\" class=\"jse-navigation-bar-text svelte-zc2wx7\"> <!> <!> <button type=\"button\" class=\"jse-navigation-bar-copy svelte-zc2wx7\" title=\"Copy selected path to the clipboard\"><!></button></div>');function vY(n,e){Pe(e,!1);const t=H(),r=gs(\"absolute-popup\");let i=y(e,\"path\",8),s=y(e,\"pathParser\",8),o=y(e,\"onChange\",8),a=y(e,\"onClose\",8),l=y(e,\"onError\",8),u=y(e,\"pathExists\",8),f=H(),d=H(),h=H(!1),p,g=H(!1);const m=1e3;cr(()=>{b()}),Hr(()=>{clearTimeout(p)});function b(){c(f).focus()}function v(_){try{const L=s().parse(_);return w(L),{path:L,error:void 0}}catch(L){return{path:void 0,error:L}}}function w(_){if(!u()(_))throw new Error(\"Path does not exist in current document\")}function k(_){S(d,_.currentTarget.value)}function x(_){const L=sa(_);if(L===\"Escape\"&&(_.preventDefault(),a()()),L===\"Enter\"){_.preventDefault(),S(h,!0);const M=v(c(d));M.path!==void 0?o()(M.path):l()(M.error)}}function C(){Yw(c(d)),S(g,!0),p=window.setTimeout(()=>S(g,!1),m),b()}Z(()=>(z(s()),z(i())),()=>{S(d,s().stringify(i()))}),Z(()=>(c(h),c(d)),()=>{S(t,c(h)?v(c(d)).error:void 0)}),wt(),Ne();var T=mY(),A=V(T);_n(A,_=>S(f,_),()=>c(f));var O=K(A,2);{var R=_=>{var L=pY(),M=V(L);Xt(M,{data:Gl}),tn(L,(N,F)=>Zo==null?void 0:Zo(N,F),()=>({text:String(c(t)||\"\"),...r})),B(_,L)};oe(O,_=>{c(t)&&_(R)})}var D=K(O,2);{var E=_=>{var L=gY();B(_,L)};oe(D,_=>{c(g)&&_(E)})}var I=K(D,2),P=V(I);Xt(P,{data:Wa}),pe(()=>{Fe(T,\"error\",c(t)),na(A,c(d)),Fe(I,\"copied\",c(g))}),ve(\"keydown\",A,Os(x)),ve(\"input\",A,k),ve(\"click\",I,C),B(n,T),Ie()}var yY=ee(\"<!> <!>\",1),bY=ee('<div class=\"jse-navigation-bar svelte-xs03gj\"><!> <button type=\"button\" class=\"jse-navigation-bar-edit svelte-xs03gj\"><span class=\"jse-navigation-bar-space svelte-xs03gj\"> </span> <!></button></div>');function wY(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=Tr(\"jsoneditor:NavigationBar\");let s=y(e,\"json\",9),o=y(e,\"selection\",9),a=y(e,\"onSelect\",9),l=y(e,\"onError\",9),u=y(e,\"pathParser\",9),f=H(void 0,!0),d=H(!1,!0);function h(I){setTimeout(()=>{if(c(f)&&c(f).scrollTo){const P=c(f).scrollWidth-c(f).clientWidth;P>0&&(i(\"scrollTo \",P),c(f).scrollTo({left:P,behavior:\"smooth\"}))}})}function p(I){i(\"get items for path\",I);const P=st(s(),I);if(Array.isArray(P))return tO(0,P.length).map(String);if(gn(P)){const L=Object.keys(P).slice(0);return L.sort(Xw),L}else return[]}function g(I){return cs(s(),I)}function m(I){i(\"select path\",JSON.stringify(I)),a()(si(I,I))}function b(){S(d,!c(d))}function v(){S(d,!1)}function w(I){v(),m(I)}Z(()=>(z(o()),gt),()=>{S(t,o()?gt(o()):[])}),Z(()=>(z(s()),c(t)),()=>{S(r,lr(st(s(),c(t))))}),Z(()=>c(t),()=>{h(c(t))}),wt(),Ne(!0);var k=bY(),x=V(k);{var C=I=>{var P=yY(),_=be(P);Dt(_,1,()=>c(t),un,(N,F,j)=>{RS(N,{getItems:p,get path(){return c(t)},index:j,onSelect:m})});var L=K(_,2);{var M=N=>{RS(N,{getItems:p,get path(){return c(t)},get index(){return c(t).length},onSelect:m})};oe(L,N=>{c(r)&&N(M)})}B(I,P)},T=I=>{vY(I,{get path(){return c(t)},onClose:v,onChange:w,get onError(){return l()},pathExists:g,get pathParser(){return u()}})};oe(x,I=>{c(d)?I(T,!1):I(C)})}var A=K(x,2),O=V(A),R=V(O),D=K(O,2);const E=he(()=>c(d)?bK:nK);Xt(D,{get data(){return c(E)}}),_n(k,I=>S(f,I),()=>c(f)),pe(I=>{Ee(A,\"title\",c(d)?\"Cancel editing the selected path\":\"Edit the selected path\"),Fe(A,\"flex\",!c(d)),Fe(A,\"editing\",c(d)),Ke(R,I)},[()=>!lr(s())&&!c(d)?\"Navigation bar\":\"\"],he),ve(\"click\",A,b),B(n,k),Ie()}var xY=ee('<button type=\"button\" class=\"jse-replace-toggle svelte-1mxl2uo\" title=\"Toggle visibility of replace options (Ctrl+H)\"><!></button>'),CY=ee('<div class=\"jse-replace-section svelte-1mxl2uo\"><input class=\"jse-replace-input svelte-1mxl2uo\" title=\"Enter replacement text\" type=\"text\" placeholder=\"Replace\"> <button type=\"button\" title=\"Replace current occurrence (Ctrl+Enter)\" class=\"svelte-1mxl2uo\">Replace</button> <button type=\"button\" title=\"Replace all occurrences\" class=\"svelte-1mxl2uo\">All</button></div>'),SY=ee('<div class=\"jse-search-box svelte-1mxl2uo\"><form class=\"jse-search-form svelte-1mxl2uo\"><!> <div class=\"jse-search-contents svelte-1mxl2uo\"><div class=\"jse-search-section svelte-1mxl2uo\"><div class=\"jse-search-icon svelte-1mxl2uo\"><!></div> <label class=\"jse-search-input-label svelte-1mxl2uo\" about=\"jse-search input\"><input class=\"jse-search-input svelte-1mxl2uo\" title=\"Enter text to search\" type=\"text\" placeholder=\"Find\"></label> <div class=\"jse-search-count svelte-1mxl2uo\"> </div> <button type=\"button\" class=\"jse-search-next svelte-1mxl2uo\" title=\"Go to next search result (Enter)\"><!></button> <button type=\"button\" class=\"jse-search-previous svelte-1mxl2uo\" title=\"Go to previous search result (Shift+Enter)\"><!></button> <button type=\"button\" class=\"jse-search-clear svelte-1mxl2uo\" title=\"Close search box (Esc)\"><!></button></div> <!></div></form></div>');function mE(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=Tr(\"jsoneditor:SearchBox\");let o=y(e,\"json\",9),a=y(e,\"documentState\",9),l=y(e,\"parser\",9),u=y(e,\"showSearch\",9),f=y(e,\"showReplace\",13),d=y(e,\"readOnly\",9),h=y(e,\"columns\",9),p=y(e,\"onSearch\",9),g=y(e,\"onFocus\",9),m=y(e,\"onPatch\",9),b=y(e,\"onClose\",9),v=H(\"\",!0),w=\"\",k=H(\"\",!0),x=H(!1,!0),C=H(void 0,!0);const T=Dg(j,l1),A=Dg(Y,l1);function O(){f(!f()&&!d())}function R(le){le.stopPropagation();const W=sa(le);W===\"Enter\"&&(le.preventDefault(),c(v)!==w?T.flush():L()),W===\"Shift+Enter\"&&(le.preventDefault(),M()),W===\"Ctrl+Enter\"&&(le.preventDefault(),f()?I():L()),W===\"Ctrl+H\"&&(le.preventDefault(),O()),W===\"Escape\"&&(le.preventDefault(),Q())}function D(le){sa(le)===\"Enter\"&&(le.preventDefault(),le.stopPropagation(),I())}async function E(){await Pn(),setTimeout(()=>T.flush())}async function I(){var fe;if(d())return;const le=(fe=c(C))==null?void 0:fe.activeItem;if(s(\"handleReplace\",{replaceText:c(k),activeItem:le}),!c(C)||!le||o()===void 0)return;S(C,{...wS(c(C)),activeIndex:c(r)});const{operations:W,newSelection:ce}=RU(o(),a(),c(k),le,l());m()(W,(J,ae)=>({state:ae,selection:ce})),await Pn(),await A.flush(),await N()}async function P(){if(d())return;s(\"handleReplaceAll\",{text:c(v),replaceText:c(k)});const{operations:le,newSelection:W}=DU(o(),a(),c(v),c(k),l());m()(le,(ce,fe)=>({state:fe,selection:W})),await N()}function _(le){le.select()}async function L(){S(C,c(C)?wS(c(C)):void 0),await N()}async function M(){S(C,c(C)?IU(c(C)):void 0),await N()}async function N(){var W;s(\"handleFocus\",c(C));const le=(W=c(C))==null?void 0:W.activeItem;le&&o()!==void 0&&await g()(le.path)}async function F(le){await ie(le,c(v),o())}async function j(le){await ie(u(),le,o()),await N()}async function Y(le){await ie(u(),c(v),le)}async function ie(le,W,ce){return le?(s(\"applySearch\",{showSearch:le,text:W}),W===\"\"?(s(\"clearing search result\"),c(C)!==void 0&&S(C,void 0),Promise.resolve()):(w=W,S(x,!0),new Promise(fe=>{setTimeout(()=>{const J=VO(W,ce,{maxResults:Uh,columns:h()});S(C,PU(J,c(C))),S(x,!1),fe()})}))):(c(C)&&S(C,void 0),Promise.resolve())}function Q(){s(\"handleClose\"),T.cancel(),A.cancel(),ie(!1,c(v),o()),b()()}Z(()=>c(C),()=>{var le,W;S(t,((W=(le=c(C))==null?void 0:le.items)==null?void 0:W.length)||0)}),Z(()=>c(C),()=>{var le;S(r,((le=c(C))==null?void 0:le.activeIndex)||0)}),Z(()=>(c(t),Uh),()=>{S(i,c(t)>=Uh?`${Uh-1}+`:String(c(t)))}),Z(()=>(z(p()),c(C)),()=>{p()(c(C))}),Z(()=>z(u()),()=>{F(u())}),Z(()=>c(v),()=>{T(c(v))}),Z(()=>z(o()),()=>{A(o())}),wt(),Ne(!0);var te=Ue(),U=be(te);{var se=le=>{var W=SY(),ce=V(W),fe=V(ce);{var J=Xe=>{var Je=xY(),Ye=V(Je);const Me=he(()=>f()?Ya:_d);Xt(Ye,{get data(){return c(Me)}}),ve(\"click\",Je,O),B(Xe,Je)};oe(fe,Xe=>{d()||Xe(J)})}var ae=K(fe,2),re=V(ae),$=V(re),ne=V($);{var G=Xe=>{Xt(Xe,{data:YU,spin:!0})},De=Xe=>{Xt(Xe,{data:lv})};oe(ne,Xe=>{c(x)?Xe(G):Xe(De,!1)})}var Be=K($,2),Le=V(Be);En(()=>Ji(Le,()=>c(v),Xe=>S(v,Xe))),tn(Le,Xe=>_==null?void 0:_(Xe)),En(()=>ve(\"paste\",Le,E));var Ce=K(Be,2),ye=V(Ce),Re=K(Ce,2),je=V(Re);Xt(je,{data:yK});var $e=K(Re,2),Ve=V($e);Xt(Ve,{data:rK});var ot=K($e,2),we=V(ot);Xt(we,{data:cv});var He=K(re,2);{var nt=Xe=>{var Je=CY(),Ye=V(Je),Me=K(Ye,2),Se=K(Me,2);Ji(Ye,()=>c(k),ue=>S(k,ue)),ve(\"keydown\",Ye,D),ve(\"click\",Me,I),ve(\"click\",Se,P),B(Xe,Je)};oe(He,Xe=>{f()&&!d()&&Xe(nt)})}pe(()=>{Fe(Ce,\"jse-visible\",c(v)!==\"\"),Ke(ye,`${(c(r)!==-1&&c(r)<c(t)?`${c(r)+1}/`:\"\")??\"\"}${c(i)??\"\"}`)}),ve(\"click\",Re,L),ve(\"click\",$e,M),ve(\"click\",ot,Q),ve(\"keydown\",ce,R),B(le,W)};oe(U,le=>{u()&&le(se)})}B(n,te),Ie()}var DS=Number.isNaN||function(e){return typeof e==\"number\"&&e!==e};function _Y(n,e){return!!(n===e||DS(n)&&DS(e))}function kY(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!_Y(n[t],e[t]))return!1;return!0}function uh(n,e){e===void 0&&(e=kY);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var o=n.apply(this,i);return t={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){t=null},r}const Ad=Symbol(\"path\");function AY(n,e,t=1/0){const r={};Array.isArray(n)&&kq(n,t,s=>{gn(s)?vE(s,r,e):r[Ad]=!0});const i=[];return Ad in r&&i.push([]),yE(r,[],i,e),i}function vE(n,e,t){for(const r in n){const i=n[r],s=e[r]||(e[r]={});gn(i)&&t?vE(i,s,t):s[Ad]===void 0&&(s[Ad]=!0)}}function yE(n,e,t,r){for(const i in n){const s=e.concat(i),o=n[i];o&&o[Ad]===!0&&t.push(s),ur(o)&&r&&yE(o,s,t,r)}}function OY(n,e){const t=new Set(e.map(mt)),r=new Set(n.map(mt));for(const i of t)r.has(i)||t.delete(i);for(const i of r)t.has(i)||t.add(i);return[...t].map(ms)}function EY(n,e,t,r,i,s,o=80){const a=er(t)?t.length:0,l=TY(r,i),u=n-o,f=e+2*o,d=w=>r[w]||i;let h=0,p=s;for(;p<u&&h<a;)p+=d(h),h++;h>0&&(h--,p-=d(h));let g=h,m=0;for(;m<f&&g<a;)m+=d(g),g++;let b=0;for(let w=g;w<a;w++)b+=d(w);const v=er(t)?t.slice(h,g):[];return{startIndex:h,endIndex:g,startHeight:p,endHeight:b,averageItemHeight:l,visibleHeight:m,visibleItems:v}}function NS(n,e,t,r){const{rowIndex:i}=bs(n,e);let s=0;for(let o=0;o<i;o++)s+=t[o]||r;return s}function TY(n,e){const t=Object.values(n);if(wn(t))return e;const r=(s,o)=>s+o;return t.reduce(r)/t.length}function MY(n,e){const{rowIndex:t,columnIndex:r}=bs(gt(e),n);if(t>0){const i={rowIndex:t-1,columnIndex:r},s=uc(i,n);return jt(s)}return e}function PY(n,e,t){const{rowIndex:r,columnIndex:i}=bs(gt(t),e);if(r<n.length-1){const s={rowIndex:r+1,columnIndex:i},o=uc(s,e);return jt(o)}return t}function IY(n,e){const{rowIndex:t,columnIndex:r}=bs(gt(e),n);if(r>0){const i={rowIndex:t,columnIndex:r-1},s=uc(i,n);return jt(s)}return e}function RY(n,e){const{rowIndex:t,columnIndex:r}=bs(gt(e),n);if(r<n.length-1){const i={rowIndex:t,columnIndex:r+1},s=uc(i,n);return jt(s)}return e}function bs(n,e){const[t,...r]=n,i=parseInt(t,10);return{rowIndex:isNaN(i)?-1:i,columnIndex:e.findIndex(s=>la(r,s))}}function uc(n,e){const{rowIndex:t,columnIndex:r}=n;return[String(t),...e[r]]}function DY(n,e){const[t,r]=pq(n,o=>fw(o.path[0])),i=nq(t,NY),s=lq(i,o=>{const a={row:[],columns:{}};return o.forEach(l=>{const u=LY(l,e);u!==-1?(a.columns[u]===void 0&&(a.columns[u]=[]),a.columns[u].push(l)):a.row.push(l)}),a});return{root:r,rows:s}}function My(n,e){if(!(!e||e.length===0))return e.length===1?e[0]:{path:n,message:\"Multiple validation issues: \"+e.map(t=>zs(t.path)+\" \"+t.message).join(\", \"),severity:Ls.warning}}function NY(n){return parseInt(n.path[0],10)}function LY(n,e){const t=bs(n.path,e);return t.columnIndex!==-1?t.columnIndex:-1}function BY(n,e,t){return e.some(i=>FY(n,i,t))?void 0:n}function FY(n,e,t){if(!n)return!1;if(e.op===\"replace\"){const r=ms(e.path),{rowIndex:i,columnIndex:s}=bs(r,t),o=t.findIndex(a=>Jt(a,n.path));if(i!==-1&&s!==-1&&s!==o)return!1}return!0}function LS(n,e=2){const t=[];function r(i,s){ur(i)&&s.length<e&&Object.keys(i).forEach(o=>{r(i[o],s.concat(o))}),er(i)&&t.push(s)}return r(n,[]),t}const oi=Tr(\"jsoneditor:actions\");async function bE({json:n,selection:e,indentation:t,readOnly:r,parser:i,onPatch:s}){if(r||n===void 0||!e||!Xu(e))return;const o=DO(n,e,t,i);if(o===void 0)return;oi(\"cut\",{selection:e,clipboard:o,indentation:t}),await Yw(o);const{operations:a,newSelection:l}=jO(n,e);s(a,(u,f)=>({state:f,selection:l}))}async function wE({json:n,selection:e,indentation:t,parser:r}){const i=DO(n,e,t,r);i!==void 0&&(oi(\"copy\",{clipboard:i,indentation:t}),await Yw(i))}function xE({clipboardText:n,json:e,selection:t,readOnly:r,parser:i,onPatch:s,onChangeText:o,openRepairModal:a}){if(r)return;function l(u){if(e!==void 0){const f=t||jt([]),d=FO(e,f,u,i);oi(\"paste\",{pastedText:u,operations:d,ensureSelection:f}),s(d,(h,p)=>{let g=p;return d.filter(m=>(dA(m)||rw(m))&&lr(m.value)).forEach(m=>{const b=Ns(e,m.path);g=Jl(h,g,b)}),{state:g}})}else oi(\"paste text\",{pastedText:u}),o(n,(f,d)=>{if(f)return{state:Jl(f,d,[])}})}try{l(n)}catch{a(n,u=>{oi(\"repaired pasted text: \",u),l(u)})}}function CE({json:n,text:e,selection:t,keepSelection:r,readOnly:i,onChange:s,onPatch:o}){if(i||!t)return;const a=n!==void 0&&(Or(t)||yn(t))?si(t.path,t.path):t;if(wn(gt(t)))oi(\"remove root\",{selection:t}),s&&s({text:\"\",json:void 0},n!==void 0?{text:void 0,json:n}:{text:e||\"\",json:n},{contentErrors:void 0,patchResult:void 0});else if(n!==void 0){const{operations:l,newSelection:u}=jO(n,a);oi(\"remove\",{operations:l,selection:t,newSelection:u}),o(l,(f,d)=>({state:d,selection:r?t:u}))}}function jY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Xu(e))return;const{rowIndex:s,columnIndex:o}=bs(gt(e),t);oi(\"duplicate row\",{rowIndex:s});const a=[String(s)],l=BO(n,[a]);i(l,(u,f)=>{const d=s<n.length?s+1:s,h=uc({rowIndex:d,columnIndex:o},t),p=jt(h);return{state:f,selection:p}})}function zY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Xu(e))return;const{rowIndex:s}=bs(gt(e),t);oi(\"insert before row\",{rowIndex:s});const o=[String(s)],l=[{key:\"\",value:ur(n[0])?{}:\"\"}],u=zc(n,o,l);i(u)}function VY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Xu(e))return;const{rowIndex:s,columnIndex:o}=bs(gt(e),t);oi(\"insert after row\",{rowIndex:s});const a=s+1,l=[String(a)],f=[{key:\"\",value:ur(n[0])?{}:\"\"}],d=a<n.length?zc(n,l,f):h1(n,[],f);i(d,(h,p)=>{const g=uc({rowIndex:a,columnIndex:o},t),m=jt(g);return{state:p,selection:m}})}function HY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Xu(e))return;const{rowIndex:s,columnIndex:o}=bs(gt(e),t);oi(\"remove row\",{rowIndex:s});const a=[String(s)],l=jg([a]);i(l,(u,f)=>{const d=s<u.length?s:s>0?s-1:void 0,h=d!==void 0?jt(uc({rowIndex:d,columnIndex:o},t)):void 0;return oi(\"remove row new selection\",{rowIndex:s,newRowIndex:d,newSelection:h}),{state:f,selection:h}})}function Ug({insertType:n,selectInside:e,initialValue:t,json:r,selection:i,readOnly:s,parser:o,onPatch:a,onReplaceJson:l}){if(s)return;const u=TU(r,i,n);if(r!==void 0){const f=o.stringify(u),d=FO(r,i,f,o);oi(\"onInsert\",{insertType:n,operations:d,newValue:u,data:f});const h=zt(d.filter(p=>p.op===\"add\"||p.op===\"replace\"));a(d,(p,g,m)=>{if(h){const b=Ns(p,h.path);if(lr(u))return{state:As(p,g,b,Lw),selection:e?ua(b):m};if(u===\"\"){const v=wn(b)?void 0:st(p,rn(b));return{state:As(p,g,b,qp),selection:gn(v)?Bw(b,t):Fg(b,t)}}}}),oi(\"after patch\")}else{oi(\"onInsert\",{insertType:n,newValue:u});const f=[];l(u,(d,h)=>({state:Jl(d,h,f),selection:lr(u)?ua(f):Fg(f)}))}}async function SE({char:n,selectInside:e,json:t,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a,onSelect:l}){if(!i){if(Or(r)){l({...r,edit:!0,initialValue:n});return}n===\"{\"?Ug({insertType:\"object\",selectInside:e,initialValue:void 0,json:t,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a}):n===\"[\"?Ug({insertType:\"array\",selectInside:e,initialValue:void 0,json:t,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a}):yn(r)&&t!==void 0?lr(st(t,r.path))||l({...r,edit:!0,initialValue:n}):(oi(\"onInsertValueWithCharacter\",{char:n}),await qY({char:n,json:t,selection:r,readOnly:i,parser:s,onPatch:o,onReplaceJson:a}))}}async function qY({char:n,json:e,selection:t,readOnly:r,parser:i,onPatch:s,onReplaceJson:o}){r||Ug({insertType:\"value\",selectInside:!1,initialValue:n,json:e,selection:t,readOnly:r,parser:i,onPatch:s,onReplaceJson:o})}var WY=ee('<div class=\"jse-json-preview svelte-1vjn89h\"> </div>');function _E(n,e){Pe(e,!1);const t=H(),r=H();let i=y(e,\"text\",8),s=y(e,\"json\",8),o=y(e,\"indentation\",8),a=y(e,\"parser\",8);Z(()=>(z(s()),z(i())),()=>{S(t,s()!==void 0?{json:s()}:{text:i()||\"\"})}),Z(()=>(c(t),z(o()),z(a()),c1),()=>{S(r,sh(s1(c(t),o(),a()),c1))}),wt(),Ne();var l=WY(),u=V(l);pe(()=>Ke(u,c(r))),B(n,l),Ie()}var UY=ee('<button type=\"button\"><!> <!></button>');function Py(n,e){Pe(e,!1);let t=y(e,\"item\",8),r=y(e,\"className\",8,void 0),i=y(e,\"onRequestClose\",8);Ne();var s=UY(),o=V(s);{var a=f=>{Xt(f,{get data(){return t().icon}})};oe(o,f=>{t().icon&&f(a)})}var l=K(o,2);{var u=f=>{var d=Ar();pe(()=>Ke(d,t().text)),B(f,d)};oe(l,f=>{t().text&&f(u)})}pe(f=>{zr(s,qr(f),\"svelte-1idfykj\"),Ee(s,\"title\",t().title),s.disabled=t().disabled||!1},[()=>Yu(\"jse-context-menu-button\",r(),t().className)],he),ve(\"click\",s,f=>{i()(),t().onClick(f)}),B(n,s),Ie()}var KY=ee('<li class=\"svelte-11rxb2m\"><button type=\"button\"><!> </button></li>'),JY=ee('<div role=\"button\" tabindex=\"0\" class=\"jse-dropdown-button svelte-11rxb2m\"><!> <button type=\"button\" class=\"jse-open-dropdown svelte-11rxb2m\" data-type=\"jse-open-dropdown\"><!></button> <div class=\"jse-dropdown-items svelte-11rxb2m\"><ul class=\"svelte-11rxb2m\"></ul></div></div>');function XY(n,e){Pe(e,!1);const t=H(void 0,!0);let r=y(e,\"items\",25,()=>[]),i=y(e,\"title\",9,void 0),s=y(e,\"width\",9,\"120px\"),o=H(!1,!0);function a(){const b=c(o);setTimeout(()=>S(o,!b))}function l(){S(o,!1)}function u(b){sa(b)===\"Escape\"&&(b.preventDefault(),S(o,!1))}cr(()=>{document.addEventListener(\"click\",l),document.addEventListener(\"keydown\",u)}),Hr(()=>{document.removeEventListener(\"click\",l),document.removeEventListener(\"keydown\",u)}),Z(()=>z(r()),()=>{S(t,r().every(b=>b.disabled===!0))}),wt(),Ne(!0);var f=JY(),d=V(f);en(d,e,\"defaultItem\",{},null);var h=K(d,2),p=V(h);Xt(p,{data:Ya});var g=K(h,2),m=V(g);Dt(m,5,r,un,(b,v)=>{var w=KY(),k=V(w),x=V(k);{var C=A=>{Xt(A,{get data(){return c(v).icon}})};oe(x,A=>{c(v).icon&&A(C)})}var T=K(x);pe(()=>{Ee(k,\"title\",c(v).title),k.disabled=c(v).disabled,zr(k,qr(c(v).className),\"svelte-11rxb2m\"),Ke(T,` ${c(v).text??\"\"}`)}),ve(\"click\",k,A=>c(v).onClick(A)),B(b,w)}),pe(()=>{Ee(f,\"title\",i()),h.disabled=c(t),Fe(h,\"jse-visible\",c(o)),Ee(g,\"style\",`width: ${s()??\"\"};`),Fe(g,\"jse-visible\",c(o))}),ve(\"click\",h,a),ve(\"click\",f,l),B(n,f),Ie()}var YY=ee('<button type=\"button\" slot=\"defaultItem\"><!> </button>');function Iy(n,e){Pe(e,!1);const t=H();let r=y(e,\"item\",8),i=y(e,\"className\",8,void 0),s=y(e,\"onRequestClose\",8);Z(()=>(z(r()),z(s())),()=>{S(t,r().items.map(o=>({...o,onClick:a=>{s()(),o.onClick(a)}})))}),wt(),Ne(),XY(n,{get width(){return r().width},get items(){return c(t)},$$slots:{defaultItem:(o,a)=>{var l=YY(),u=V(l);{var f=h=>{Xt(h,{get data(){return r().main.icon}})};oe(u,h=>{r().main.icon&&h(f)})}var d=K(u);pe(h=>{zr(l,qr(h),\"svelte-1idfykj\"),Ee(l,\"title\",r().main.title),l.disabled=r().main.disabled||!1,Ke(d,` ${r().main.text??\"\"}`)},[()=>Yu(\"jse-context-menu-button\",i(),r().main.className)],he),ve(\"click\",l,h=>{s()(),r().main.onClick(h)}),B(o,l)}}}),Ie()}var GY=ee('<div class=\"jse-separator svelte-12z7bz1\"></div>'),QY=ee('<div class=\"jse-label svelte-12z7bz1\"> </div>'),ZY=ee('<div class=\"jse-column svelte-12z7bz1\"></div>'),$Y=ee('<div class=\"jse-separator svelte-12z7bz1\"></div>'),eG=ee('<div class=\"jse-row svelte-12z7bz1\"></div>'),tG=ee('<div class=\"jse-separator svelte-12z7bz1\"></div>'),nG=ee('<div class=\"jse-row svelte-12z7bz1\"><div class=\"jse-tip svelte-12z7bz1\"><div class=\"jse-tip-icon svelte-12z7bz1\"><!></div> <div class=\"jse-tip-text\"> </div></div></div>'),rG=ee('<div role=\"menu\" tabindex=\"-1\" class=\"jse-contextmenu svelte-12z7bz1\"><!> <!></div>');function kE(n,e){Pe(e,!1);let t=y(e,\"items\",9),r=y(e,\"onRequestClose\",9),i=y(e,\"tip\",9),s=H(void 0,!0);cr(()=>{const p=Array.from(c(s).querySelectorAll(\"button\")).find(g=>!g.disabled);p&&p.focus()});const o={ArrowUp:\"Up\",ArrowDown:\"Down\",ArrowLeft:\"Left\",ArrowRight:\"Right\"};function a(p){const g=sa(p),m=o[g];if(m&&p.target){p.preventDefault();const b=Array.from(c(s).querySelectorAll(\"button:not([disabled])\")),v=Gq({allElements:b,currentElement:p.target,direction:m,hasPrio:w=>w.getAttribute(\"data-type\")!==\"jse-open-dropdown\"});v&&v.focus()}}function l(p){return console.error(\"Unknown type of context menu item\",p),\"???\"}Ne(!0);var u=rG(),f=V(u);Dt(f,1,t,un,(p,g)=>{var m=Ue(),b=be(m);{var v=k=>{Py(k,{get item(){return c(g)},get onRequestClose(){return r()}})},w=k=>{var x=Ue(),C=be(x);{var T=O=>{Iy(O,{get item(){return c(g)},get onRequestClose(){return r()}})},A=O=>{var R=Ue(),D=be(R);{var E=P=>{var _=eG();Dt(_,5,()=>c(g).items,un,(L,M)=>{var N=Ue(),F=be(N);{var j=ie=>{Py(ie,{get item(){return c(M)},get onRequestClose(){return r()}})},Y=ie=>{var Q=Ue(),te=be(Q);{var U=le=>{Iy(le,{get item(){return c(M)},get onRequestClose(){return r()}})},se=le=>{var W=Ue(),ce=be(W);{var fe=ae=>{var re=ZY();Dt(re,5,()=>c(M).items,un,($,ne)=>{var G=Ue(),De=be(G);{var Be=Ce=>{Py(Ce,{className:\"left\",get item(){return c(ne)},get onRequestClose(){return r()}})},Le=Ce=>{var ye=Ue(),Re=be(ye);{var je=Ve=>{Iy(Ve,{className:\"left\",get item(){return c(ne)},get onRequestClose(){return r()}})},$e=Ve=>{var ot=Ue(),we=be(ot);{var He=Xe=>{var Je=GY();B(Xe,Je)},nt=Xe=>{var Je=Ue(),Ye=be(Je);{var Me=ue=>{var vt=QY(),bt=V(vt);pe(()=>Ke(bt,c(ne).text)),B(ue,vt)},Se=ue=>{var vt=Ar();pe(bt=>Ke(vt,bt),[()=>l(c(ne))],he),B(ue,vt)};oe(Ye,ue=>{ZW(c(ne))?ue(Me):ue(Se,!1)},!0)}B(Xe,Je)};oe(we,Xe=>{Hp(c(ne))?Xe(He):Xe(nt,!1)},!0)}B(Ve,ot)};oe(Re,Ve=>{wy(c(ne))?Ve(je):Ve($e,!1)},!0)}B(Ce,ye)};oe(De,Ce=>{Uf(c(ne))?Ce(Be):Ce(Le,!1)})}B($,G)}),B(ae,re)},J=ae=>{var re=Ue(),$=be(re);{var ne=De=>{var Be=$Y();B(De,Be)},G=De=>{var Be=Ar();pe(Le=>Ke(Be,Le),[()=>l(c(M))],he),B(De,Be)};oe($,De=>{Hp(c(M))?De(ne):De(G,!1)},!0)}B(ae,re)};oe(ce,ae=>{eU(c(M))?ae(fe):ae(J,!1)},!0)}B(le,W)};oe(te,le=>{wy(c(M))?le(U):le(se,!1)},!0)}B(ie,Q)};oe(F,ie=>{Uf(c(M))?ie(j):ie(Y,!1)})}B(L,N)}),B(P,_)},I=P=>{var _=Ue(),L=be(_);{var M=F=>{var j=tG();B(F,j)},N=F=>{var j=Ar();pe(Y=>Ke(j,Y),[()=>l(c(g))],he),B(F,j)};oe(L,F=>{Hp(c(g))?F(M):F(N,!1)},!0)}B(P,_)};oe(D,P=>{$W(c(g))?P(E):P(I,!1)},!0)}B(O,R)};oe(C,O=>{wy(c(g))?O(T):O(A,!1)},!0)}B(k,x)};oe(b,k=>{Uf(c(g))?k(v):k(w,!1)})}B(p,m)});var d=K(f,2);{var h=p=>{var g=nG(),m=V(g),b=V(m),v=V(b);Xt(v,{data:CW});var w=K(b,2),k=V(w);pe(()=>Ke(k,i())),B(p,g)};oe(d,p=>{i()&&p(h)})}_n(u,p=>S(s,p),()=>c(s)),ve(\"keydown\",u,a),B(n,u),Ie()}function iG({json:n,documentState:e,selection:t,readOnly:r,onEditKey:i,onEditValue:s,onToggleEnforceString:o,onCut:a,onCopy:l,onPaste:u,onRemove:f,onDuplicate:d,onExtract:h,onInsertBefore:p,onInsert:g,onConvert:m,onInsertAfter:b,onSort:v,onTransform:w}){const k=n!==void 0,x=!!t,C=t?wn(gt(t)):!1,T=t?st(n,gt(t)):void 0,A=Array.isArray(T)?\"Edit array\":gn(T)?\"Edit object\":\"Edit value\",O=k&&(Nn(t)||Or(t)||yn(t)),R=t&&!C?st(n,rn(gt(t))):void 0,D=!r&&k&&Bg(t)&&!C&&!Array.isArray(R),E=!r&&k&&t!==void 0&&Bg(t),I=E&&!lr(T),P=!r&&O,_=O,L=!r&&x,M=!r&&k&&O&&!C,N=!r&&k&&t!==void 0&&(Nn(t)||yn(t))&&!C,F=O,j=F?\"Convert to:\":\"Insert:\",Y=!r&&(Xr(t)&&Array.isArray(T)||us(t)&&Array.isArray(R)),ie=!r&&(F?Wp(t)&&!gn(T):x),Q=!r&&(F?Wp(t)&&!Array.isArray(T):x),te=!r&&(F?Wp(t)&&lr(T):x),U=t!==void 0?oa(n,e,gt(t)):!1;function se(le){O?le!==\"structure\"&&m(le):g(le)}return[{type:\"row\",items:[{type:\"button\",onClick:()=>i(),icon:nu,text:\"Edit key\",title:\"Edit the key (Double-click on the key)\",disabled:!D},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>s(),icon:nu,text:A,title:\"Edit the value (Double-click on the value)\",disabled:!E},width:\"11em\",items:[{type:\"button\",icon:nu,text:A,title:\"Edit the value (Double-click on the value)\",onClick:()=>s(),disabled:!E},{type:\"button\",icon:U?UO:JO,text:\"Enforce string\",title:\"Enforce keeping the value as string when it contains a numeric value\",onClick:()=>o(),disabled:!I}]}]},{type:\"separator\"},{type:\"row\",items:[{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>a(!0),icon:tu,text:\"Cut\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",disabled:!P},width:\"10em\",items:[{type:\"button\",icon:tu,text:\"Cut formatted\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",onClick:()=>a(!0),disabled:!P},{type:\"button\",icon:tu,text:\"Cut compacted\",title:\"Cut selected contents, without indentation (Ctrl+Shift+X)\",onClick:()=>a(!1),disabled:!P}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>l(!0),icon:Wa,text:\"Copy\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",disabled:!_},width:\"12em\",items:[{type:\"button\",icon:Wa,text:\"Copy formatted\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",onClick:()=>l(!0),disabled:!_},{type:\"button\",icon:Wa,text:\"Copy compacted\",title:\"Copy selected contents, without indentation (Ctrl+Shift+C)\",onClick:()=>l(!1),disabled:!_}]},{type:\"button\",onClick:()=>u(),icon:WO,text:\"Paste\",title:\"Paste clipboard contents (Ctrl+V)\",disabled:!L}]},{type:\"separator\"},{type:\"row\",items:[{type:\"column\",items:[{type:\"button\",onClick:()=>d(),icon:GO,text:\"Duplicate\",title:\"Duplicate selected contents (Ctrl+D)\",disabled:!M},{type:\"button\",onClick:()=>h(),icon:fK,text:\"Extract\",title:\"Extract selected contents\",disabled:!N},{type:\"button\",onClick:()=>v(),icon:av,text:\"Sort\",title:\"Sort array or object contents\",disabled:r||!O},{type:\"button\",onClick:()=>w(),icon:ov,text:\"Transform\",title:\"Transform array or object contents (filter, sort, project)\",disabled:r||!O},{type:\"button\",onClick:()=>f(),icon:m1,text:\"Remove\",title:\"Remove selected contents (Delete)\",disabled:r||!O}]},{type:\"column\",items:[{type:\"label\",text:j},{type:\"button\",onClick:()=>se(\"structure\"),icon:F?Kh:Vc,text:\"Structure\",title:j+\" structure like the first item in the array\",disabled:!Y},{type:\"button\",onClick:()=>se(\"object\"),icon:F?Kh:Vc,text:\"Object\",title:j+\" object\",disabled:!ie},{type:\"button\",onClick:()=>se(\"array\"),icon:F?Kh:Vc,text:\"Array\",title:j+\" array\",disabled:!Q},{type:\"button\",onClick:()=>se(\"value\"),icon:F?Kh:Vc,text:\"Value\",title:j+\" value\",disabled:!te}]}]},{type:\"separator\"},{type:\"row\",items:[{type:\"button\",onClick:()=>p(),icon:sK,text:\"Insert before\",title:\"Select area before current entry to insert or paste contents\",disabled:r||!O||C},{type:\"button\",onClick:()=>b(),icon:ZU,text:\"Insert after\",title:\"Select area after current entry to insert or paste contents\",disabled:r||!O||C}]}]}var sG=ee(\"<!> <!>\",1),oG=ee('<div class=\"jse-search-box-background svelte-vrx1dr\"></div>'),aG=ee('<div class=\"jse-search-box-container svelte-vrx1dr\"><!></div> <div class=\"jse-contents svelte-vrx1dr\"><!> <!></div> <!> <!> <!>',1),lG=ee('<label class=\"jse-hidden-input-label svelte-vrx1dr\"><input type=\"text\" tabindex=\"-1\" class=\"jse-hidden-input svelte-vrx1dr\"></label> <!>',1),cG=ee('<div class=\"jse-contents svelte-vrx1dr\"><div class=\"jse-loading-space svelte-vrx1dr\"></div> <div class=\"jse-loading svelte-vrx1dr\">loading...</div></div>'),uG=ee('<div role=\"tree\" tabindex=\"-1\" class=\"jse-tree-mode svelte-vrx1dr\"><!> <!> <!></div> <!> <!>',1);function w1(n,e){Pe(e,!1);const t=H(void 0,!0),r=Tr(\"jsoneditor:TreeMode\"),i=typeof window>\"u\";r(\"isSSR:\",i);const s=Cu(),o=Cu(),{openAbsolutePopup:a,closeAbsolutePopup:l}=gs(\"absolute-popup\");let u=H(void 0,!0),f=H(void 0,!0),d=H(void 0,!0),h=!1;const p=cE();let g=y(e,\"readOnly\",9),m=y(e,\"externalContent\",9),b=y(e,\"externalSelection\",9),v=y(e,\"history\",9),w=y(e,\"mainMenuBar\",9),k=y(e,\"navigationBar\",9),x=y(e,\"escapeControlCharacters\",9),C=y(e,\"escapeUnicodeCharacters\",9),T=y(e,\"parser\",9),A=y(e,\"parseMemoizeOne\",9),O=y(e,\"validator\",9),R=y(e,\"validationParser\",9),D=y(e,\"pathParser\",9),E=y(e,\"indentation\",9),I=y(e,\"onError\",9),P=y(e,\"onChange\",9),_=y(e,\"onChangeMode\",9),L=y(e,\"onSelect\",9),M=y(e,\"onUndo\",9),N=y(e,\"onRedo\",9),F=y(e,\"onRenderValue\",9),j=y(e,\"onRenderMenu\",9),Y=y(e,\"onRenderContextMenu\",9),ie=y(e,\"onClassName\",9),Q=y(e,\"onFocus\",9),te=y(e,\"onBlur\",9),U=y(e,\"onSortModal\",9),se=y(e,\"onTransformModal\",9),le=y(e,\"onJSONEditorModal\",9),W=!1,ce=H(!1,!0),fe=H(void 0,!0);Kw({onMount:cr,onDestroy:Hr,getWindow:()=>rh(c(d)),hasFocus:()=>W&&document.hasFocus()||_w(c(d)),onFocus:()=>{h=!0,Q()&&Q()()},onBlur:()=>{h=!1,te()&&te()()}});let J=H(void 0,!0),ae=H(void 0,!0),re,$=!1,ne=H(f1({json:c(J)}),!0),G=H(Cd(b())?b():void 0,!0);cr(()=>{if(c(G)){const q=gt(c(G));S(ne,As(c(J),c(ne),q,qp)),setTimeout(()=>Mt(q))}});function De(q){S(G,q)}function Be(q){Jt(q,b())||(r(\"onSelect\",q),L()(q))}let Le=H(void 0,!0),Ce=H(void 0,!0),ye,Re=H(void 0,!0),je=H(!1,!0),$e=H(!1,!0);function Ve(q){c(u)&&q&&c(u).scrollTop===0&&(Ui(u,c(u).style.overflowAnchor=\"none\"),Ui(u,c(u).scrollTop+=Mf),setTimeout(()=>{c(u)&&Ui(u,c(u).style.overflowAnchor=\"\")}))}function ot(q){ye=q,S(Re,ye?HO(c(J),ye.items):void 0)}async function we(q){S(ne,As(c(J),c(ne),q,qp)),await yt(q)}function He(){S(je,!1),S($e,!1),An()}function nt(q){r(\"select validation error\",q),S(G,jt(q.path)),yt(q.path)}function Xe(q,me=gS){r(\"expand\"),S(ne,As(c(J),c(ne),q,me))}function Je(q,me){S(ne,_O(c(J),c(ne),q,me)),c(G)&&yU(c(G),q)&&S(G,void 0)}let Ye=H(!1,!0),Me=H([],!0),Se=H(void 0,!0);const ue=uh(uE);function vt(q,me,ze,ut){Hc(()=>{let We;try{We=ue(q,me,ze,ut)}catch(lt){We=[{path:[],message:\"Failed to validate: \"+lt.message,severity:Ls.warning}]}Jt(We,c(Me))||(r(\"validationErrors changed:\",We),S(Me,We),S(Se,VJ(q,c(Me))))},We=>r(`validationErrors updated in ${We} ms`))}function bt(){return r(\"validate\"),re?{parseError:re,isRepairable:!1}:(vt(c(J),O(),T(),R()),wn(c(Me))?void 0:{validationErrors:c(Me)})}function Xn(){return c(J)}function at(){return c(ne)}function _t(){return c(G)}function fn(q){r(\"applyExternalContent\",{updatedContent:q}),yd(q)?Vt(q.json):vd(q)&&In(q.text)}function Vt(q){if(q===void 0)return;const me=!Jt(c(J),q);if(r(\"update external json\",{isChanged:me,currentlyText:c(J)===void 0}),!me)return;const ze={documentState:c(ne),selection:c(G),json:c(J),text:c(ae),textIsRepaired:c(Ye)};S(J,q),S(ne,Wi(q,c(ne))),Lt(c(J)),S(ae,void 0),S(Ye,!1),re=void 0,Ht(c(J)),Gt(ze)}function In(q){if(q===void 0||yd(m()))return;const me=q!==c(ae);if(r(\"update external text\",{isChanged:me}),!me)return;const ze={documentState:c(ne),selection:c(G),json:c(J),text:c(ae),textIsRepaired:c(Ye)};try{S(J,A()(q)),S(ne,Wi(c(J),c(ne))),Lt(c(J)),S(ae,q),S(Ye,!1),re=void 0}catch(ut){try{S(J,A()(fo(q))),S(ne,Wi(c(J),c(ne))),Lt(c(J)),S(ae,q),S(Ye,!0),re=void 0,Ht(c(J))}catch{S(J,void 0),S(ne,void 0),S(ae,m().text),S(Ye,!1),re=c(ae)!==void 0&&c(ae)!==\"\"?Su(c(ae),ut.message||String(ut)):void 0}}Ht(c(J)),Gt(ze)}function rt(q){Jt(c(G),q)||(r(\"applyExternalSelection\",{selection:c(G),externalSelection:q}),Cd(q)&&S(G,q))}function Lt(q){$||($=!0,S(ne,Jl(q,c(ne),[])))}function Ht(q){c(G)&&(cs(q,Xl(c(G)))&&cs(q,gt(c(G)))||(r(\"clearing selection: path does not exist anymore\",c(G)),S(G,_c(q,c(ne)))))}function Gt(q){if(q.json===void 0&&q.text===void 0)return;const me=c(J)!==void 0&&q.json!==void 0;v().add({type:\"tree\",undo:{patch:me?[{op:\"replace\",path:\"\",value:q.json}]:void 0,json:q.json,text:q.text,documentState:q.documentState,textIsRepaired:q.textIsRepaired,selection:no(q.selection),sortedColumn:void 0},redo:{patch:me?[{op:\"replace\",path:\"\",value:c(J)}]:void 0,json:c(J),text:c(ae),documentState:c(ne),textIsRepaired:c(Ye),selection:no(c(G)),sortedColumn:void 0}})}function kt(){r(\"createDefaultSelection\"),S(G,jt([]))}function Tt(q,me){if(r(\"patch\",q,me),c(J)===void 0)throw new Error(\"Cannot apply patch: no JSON\");const ze=c(J),ut={json:void 0,text:c(ae),documentState:c(ne),selection:no(c(G)),textIsRepaired:c(Ye),sortedColumn:void 0},We=zO(c(J),q),lt=AO(c(J),c(ne),q),Mn=ku(c(J),q)??c(G),qt=typeof me==\"function\"?me(lt.json,lt.documentState,Mn):void 0;return S(J,(qt==null?void 0:qt.json)!==void 0?qt.json:lt.json),S(ne,(qt==null?void 0:qt.state)!==void 0?qt.state:lt.documentState),S(G,(qt==null?void 0:qt.selection)!==void 0?qt.selection:Mn),S(ae,void 0),S(Ye,!1),S(Ce,void 0),re=void 0,Ht(c(J)),v().add({type:\"tree\",undo:{patch:We,...ut},redo:{patch:q,json:void 0,text:c(ae),documentState:c(ne),selection:no(c(G)),sortedColumn:void 0,textIsRepaired:c(Ye)}}),{json:c(J),previousJson:ze,undo:We,redo:q}}function rr(){g()||!c(G)||S(G,Bw(gt(c(G))))}function It(){if(g()||!c(G))return;const q=gt(c(G)),me=st(c(J),q);lr(me)?ke(q,me):S(G,Fg(q))}function Ut(){if(g()||!yn(c(G)))return;const q=gt(c(G)),me=mt(q),ze=st(c(J),q),ut=!oa(c(J),c(ne),q),We=ut?String(ze):Uu(String(ze),T());r(\"handleToggleEnforceString\",{enforceString:ut,value:ze,updatedValue:We}),Ot([{op:\"replace\",path:me,value:We}],(lt,Mn)=>({state:iv(c(J),Mn,q,{type:\"value\",enforceString:ut})}))}function ln(){return c(Ye)&&c(J)!==void 0&&Ur(c(J)),c(J)!==void 0?{json:c(J)}:{text:c(ae)||\"\"}}async function hn(q=!0){await bE({json:c(J),selection:c(G),indentation:q?E():void 0,readOnly:g(),parser:T(),onPatch:Ot})}async function kn(q=!0){c(J)!==void 0&&await wE({json:c(J),selection:c(G),indentation:q?E():void 0,parser:T()})}function mn(q){var ze;q.preventDefault();const me=(ze=q.clipboardData)==null?void 0:ze.getData(\"text/plain\");me!==void 0&&xE({clipboardText:me,json:c(J),selection:c(G),readOnly:g(),parser:T(),onPatch:Ot,onChangeText:br,openRepairModal:dr})}function vn(){S(ce,!0)}function dr(q,me){S(fe,{text:q,onParse:ze=>tv(ze,ut=>nh(ut,T())),onRepair:sO,onApply:me,onClose:An})}function sn(){CE({json:c(J),text:c(ae),selection:c(G),keepSelection:!1,readOnly:g(),onChange:P(),onPatch:Ot})}function tr(){if(g()||c(J)===void 0||!c(G)||!Xu||wn(gt(c(G))))return;r(\"duplicate\",{selection:c(G)});const q=BO(c(J),Xa(c(J),c(G)));Ot(q)}function xe(){if(g()||!c(G)||!Nn(c(G))&&!yn(c(G))||wn(gt(c(G))))return;r(\"extract\",{selection:c(G)});const q=OU(c(J),c(G));Ot(q,(me,ze)=>{if(lr(me))return{state:xy(me,ze,[])}})}function Et(q){Ug({insertType:q,selectInside:!0,initialValue:void 0,json:c(J),selection:c(G),readOnly:g(),parser:T(),onPatch:Ot,onReplaceJson:Ur})}function Qt(q){Or(c(G))&&S(G,jt(c(G).path)),c(G)||S(G,_c(c(J),c(ne))),Et(q)}function pt(q){if(!(g()||!c(G))){if(!Wp(c(G))){I()(new Error(`Cannot convert current selection to ${q}`));return}try{const me=Xl(c(G)),ze=st(c(J),me),ut=Pq(ze,q,T());if(ut===ze)return;const We=[{op:\"replace\",path:mt(me),value:ut}];r(\"handleConvert\",{selection:c(G),path:me,type:q,operations:We}),Ot(We,(lt,Mn)=>({state:c(G)?Jl(lt,Mn,gt(c(G))):c(ne)}))}catch(me){I()(me)}}}function hr(){if(!c(G))return;const q=mS(c(J),c(ne),c(G),!1),me=rn(gt(c(G)));q&&!wn(gt(q))&&Jt(me,rn(gt(q)))?S(G,fa(gt(q))):S(G,ua(me)),r(\"insert before\",{selection:c(G),selectionBefore:q,parentPath:me}),Pn().then(()=>Ss())}function pr(){if(!c(G))return;const q=ol(c(J),c(G));r(\"insert after\",q),S(G,fa(q)),Pn().then(()=>Ss())}async function ir(q){await SE({char:q,selectInside:!0,json:c(J),selection:c(G),readOnly:g(),parser:T(),onPatch:Ot,onReplaceJson:Ur,onSelect:De})}function Mr(){if(g()||!v().canUndo)return;const q=v().undo();if(!Lg(q)){M()(q);return}const me={json:c(J),text:c(ae)};S(J,q.undo.patch?Ds(c(J),q.undo.patch):q.undo.json),S(ne,q.undo.documentState),S(G,q.undo.selection),S(ae,q.undo.text),S(Ye,q.undo.textIsRepaired),re=void 0,r(\"undo\",{item:q,json:c(J),documentState:c(ne),selection:c(G)});const ze=q.undo.patch&&q.redo.patch?{json:c(J),previousJson:me.json,redo:q.undo.patch,undo:q.redo.patch}:void 0;dn(me,ze),An(),c(G)&&yt(gt(c(G)),!1)}function fi(){if(g()||!v().canRedo)return;const q=v().redo();if(!Lg(q)){N()(q);return}const me={json:c(J),text:c(ae)};S(J,q.redo.patch?Ds(c(J),q.redo.patch):q.redo.json),S(ne,q.redo.documentState),S(G,q.redo.selection),S(ae,q.redo.text),S(Ye,q.redo.textIsRepaired),re=void 0,r(\"redo\",{item:q,json:c(J),documentState:c(ne),selection:c(G)});const ze=q.undo.patch&&q.redo.patch?{json:c(J),previousJson:me.json,redo:q.redo.patch,undo:q.undo.patch}:void 0;dn(me,ze),An(),c(G)&&yt(gt(c(G)),!1)}function $i(q){g()||c(J)===void 0||(W=!0,U()({id:s,json:c(J),rootPath:q,onSort:async({operations:me})=>{r(\"onSort\",q,me),Ot(me,(ze,ut)=>({state:xy(ze,ut,q),selection:jt(q)}))},onClose:()=>{W=!1,setTimeout(An)}}))}function _i(){if(!c(G))return;const q=vS(c(J),c(G));$i(q)}function zn(){$i([])}function Vn(q){if(c(J)===void 0)return;const{id:me,onTransform:ze,onClose:ut}=q,We=q.rootPath||[];W=!0,se()({id:me||o,json:c(J),rootPath:We,onTransform:lt=>{ze?ze({operations:lt,json:c(J),transformedJson:Ds(c(J),lt)}):(r(\"onTransform\",We,lt),Ot(lt,(Mn,qt)=>({state:xy(Mn,qt,We),selection:jt(We)})))},onClose:()=>{W=!1,setTimeout(An),ut&&ut()}})}function es(){if(!c(G))return;const q=vS(c(J),c(G));Vn({rootPath:q})}function ge(){Vn({rootPath:[]})}function ke(q,me){r(\"openJSONEditorModal\",{path:q,value:me}),W=!0,le()({content:{json:me},path:q,onPatch:c(de).onPatch,onClose:()=>{W=!1,setTimeout(An)}})}async function yt(q,me=!0){S(ne,As(c(J),c(ne),q,qp)),await Pn();const ze=Zt(q);if(r(\"scrollTo\",{path:q,elem:ze,refContents:c(u)}),!ze||!c(u))return Promise.resolve();const ut=c(u).getBoundingClientRect(),We=ze.getBoundingClientRect();if(!me&&We.bottom>ut.top&&We.top<ut.bottom)return Promise.resolve();const lt=-(ut.height/4);return new Promise(Mn=>{p(ze,{container:c(u),offset:lt,duration:a1,callback:()=>Mn()})})}function Zt(q){var me;return((me=c(u))==null?void 0:me.querySelector(`div[data-path=\"${o1(q)}\"]`))??void 0}function Mt(q){const me=Zt(q);if(!me||!c(u))return;const ze=c(u).getBoundingClientRect(),ut=me.getBoundingClientRect(),We=20,lt=lr(st(c(J),q))?We:ut.height;ut.top<ze.top+We?p(me,{container:c(u),offset:-20,duration:0}):ut.top+lt>ze.bottom-We&&p(me,{container:c(u),offset:-(ze.height-lt-We),duration:0})}function dn(q,me){var ze,ut;if(!(q.json===void 0&&(q==null?void 0:q.text)===void 0)){if(c(ae)!==void 0){const We={text:c(ae),json:void 0};(ze=P())==null||ze(We,q,{contentErrors:bt(),patchResult:me})}else if(c(J)!==void 0){const We={text:void 0,json:c(J)};(ut=P())==null||ut(We,q,{contentErrors:bt(),patchResult:me})}}}function Ot(q,me){r(\"handlePatch\",q,me);const ze={json:c(J),text:c(ae)},ut=Tt(q,me);return dn(ze,ut),ut}function Ur(q,me){const ze={json:c(J),text:c(ae)},ut={documentState:c(ne),selection:c(G),json:c(J),text:c(ae),textIsRepaired:c(Ye)},We=As(c(J),Wi(q,c(ne)),[],Pf),lt=typeof me==\"function\"?me(q,We,c(G)):void 0;S(J,(lt==null?void 0:lt.json)!==void 0?lt.json:q),S(ne,(lt==null?void 0:lt.state)!==void 0?lt.state:We),S(G,(lt==null?void 0:lt.selection)!==void 0?lt.selection:c(G)),S(ae,void 0),S(Ye,!1),re=void 0,Ht(c(J)),Gt(ut),dn(ze,void 0)}function br(q,me){r(\"handleChangeText\");const ze={json:c(J),text:c(ae)},ut={documentState:c(ne),selection:c(G),json:c(J),text:c(ae),textIsRepaired:c(Ye)};try{S(J,A()(q)),S(ne,As(c(J),Wi(c(J),c(ne)),[],Pf)),S(ae,void 0),S(Ye,!1),re=void 0}catch(lt){try{S(J,A()(fo(q))),S(ne,As(c(J),Wi(c(J),c(ne)),[],Pf)),S(ae,q),S(Ye,!0),re=void 0}catch{S(J,void 0),S(ne,f1({json:c(J),expand:Pf})),S(ae,q),S(Ye,!1),re=c(ae)!==\"\"?Su(c(ae),lt.message||String(lt)):void 0}}if(typeof me==\"function\"){const lt=me(c(J),c(ne),c(G));S(J,(lt==null?void 0:lt.json)!==void 0?lt.json:c(J)),S(ne,(lt==null?void 0:lt.state)!==void 0?lt.state:c(ne)),S(G,(lt==null?void 0:lt.selection)!==void 0?lt.selection:c(G))}Ht(c(J)),Gt(ut),dn(ze,void 0)}function Lr(q,me,ze=!1){r(\"handleExpand\",{path:q,expanded:me,recursive:ze}),me?Xe(q,ze?Lw:gS):Je(q,ze),An()}function xs(){Lr([],!0,!0)}function Oo(){Lr([],!1,!0)}function Bi(q){r(\"openFind\",{findAndReplace:q}),S(je,!1),S($e,!1),Pn().then(()=>{S(je,!0),S($e,q)})}function Cs(q,me){r(\"handleExpandSection\",q,me),S(ne,uU(c(J),c(ne),q,me))}function di(q){r(\"pasted json as text\",q),S(Ce,q)}function ya(q){const me=sa(q),ze=q.shiftKey;if(r(\"keydown\",{combo:me,key:q.key}),me===\"Ctrl+X\"&&(q.preventDefault(),hn(!0)),me===\"Ctrl+Shift+X\"&&(q.preventDefault(),hn(!1)),me===\"Ctrl+C\"&&(q.preventDefault(),kn(!0)),me===\"Ctrl+Shift+C\"&&(q.preventDefault(),kn(!1)),me===\"Ctrl+D\"&&(q.preventDefault(),tr()),(me===\"Delete\"||me===\"Backspace\")&&(q.preventDefault(),sn()),me===\"Insert\"&&(q.preventDefault(),Et(\"structure\")),me===\"Ctrl+A\"&&(q.preventDefault(),S(G,SU())),me===\"Ctrl+Q\"&&Ss(q),me===\"ArrowUp\"||me===\"Shift+ArrowUp\"){q.preventDefault();const We=c(G)?mS(c(J),c(ne),c(G),ze)||c(G):_c(c(J),c(ne));S(G,We),Mt(gt(We))}if(me===\"ArrowDown\"||me===\"Shift+ArrowDown\"){q.preventDefault();const We=c(G)?bU(c(J),c(ne),c(G),ze)||c(G):_c(c(J),c(ne));S(G,We),Mt(gt(We))}if(me===\"ArrowLeft\"||me===\"Shift+ArrowLeft\"){q.preventDefault();const We=c(G)?xU(c(J),c(ne),c(G),ze,!g())||c(G):_c(c(J),c(ne));S(G,We),Mt(gt(We))}if(me===\"ArrowRight\"||me===\"Shift+ArrowRight\"){q.preventDefault();const We=c(G)&&c(J)!==void 0?CU(c(J),c(ne),c(G),ze,!g())||c(G):_c(c(J),c(ne));S(G,We),Mt(gt(We))}if(me===\"Enter\"&&c(G)){if(sv(c(G))){const We=c(G).focusPath,lt=st(c(J),rn(We));Array.isArray(lt)&&(q.preventDefault(),S(G,jt(We)))}if(Or(c(G))&&(q.preventDefault(),S(G,{...c(G),edit:!0})),yn(c(G))){q.preventDefault();const We=st(c(J),c(G).path);lr(We)?Lr(c(G).path,!0):S(G,{...c(G),edit:!0})}}if(me.replace(/^Shift\\+/,\"\").length===1&&c(G)){q.preventDefault(),ir(q.key);return}if(me===\"Enter\"&&(us(c(G))||Xr(c(G)))){q.preventDefault(),ir(\"\");return}if(me===\"Ctrl+Enter\"&&yn(c(G))){const We=st(c(J),c(G).path);Km(We)&&window.open(String(We),\"_blank\")}me===\"Escape\"&&c(G)&&(q.preventDefault(),S(G,void 0)),me===\"Ctrl+F\"&&(q.preventDefault(),Bi(!1)),me===\"Ctrl+H\"&&(q.preventDefault(),Bi(!0)),me===\"Ctrl+Z\"&&(q.preventDefault(),Mr()),me===\"Ctrl+Shift+Z\"&&(q.preventDefault(),fi())}function ul(q){r(\"handleMouseDown\",q);const me=q.target;!dO(me,\"BUTTON\")&&!me.isContentEditable&&(An(),!c(G)&&c(J)===void 0&&(c(ae)===\"\"||c(ae)===void 0)&&kt())}function Hn({anchor:q,left:me,top:ze,width:ut,height:We,offsetTop:lt,offsetLeft:Mn,showTip:qt}){const ki=iG({json:c(J),documentState:c(ne),selection:c(G),readOnly:g(),onEditKey:rr,onEditValue:It,onToggleEnforceString:Ut,onCut:hn,onCopy:kn,onPaste:vn,onRemove:sn,onDuplicate:tr,onExtract:xe,onInsertBefore:hr,onInsert:Qt,onInsertAfter:pr,onConvert:pt,onSort:_i,onTransform:es}),wr=Y()(ki)??ki;if(wr===!1)return;const Ai={tip:qt?\"Tip: you can open this context menu via right-click or with Ctrl+Q\":void 0,items:wr,onRequestClose:()=>l(hi)},ei={left:me,top:ze,offsetTop:lt,offsetLeft:Mn,width:ut,height:We,anchor:q,closeOnOuterClick:!0,onClose:()=>{W=!1,An()}};W=!0;const hi=a(kE,Ai,ei)}function Ss(q){var me,ze;if(!bi(c(G)))if(q&&(q.stopPropagation(),q.preventDefault()),q&&q.type===\"contextmenu\"&&q.target!==c(f))Hn({left:q.clientX,top:q.clientY,width:Wo,height:qo,showTip:!1});else{const ut=(me=c(u))==null?void 0:me.querySelector(\".jse-context-menu-pointer.jse-selected\");if(ut)Hn({anchor:ut,offsetTop:2,width:Wo,height:qo,showTip:!1});else{const We=(ze=c(u))==null?void 0:ze.getBoundingClientRect();We&&Hn({top:We.top+2,left:We.left+2,width:Wo,height:qo,showTip:!1})}}}function fl(q){Hn({anchor:hO(q.target,\"BUTTON\"),offsetTop:0,width:Wo,height:qo,showTip:!0})}async function dl(){if(r(\"apply pasted json\",c(Ce)),!c(Ce))return;const{onPasteAsJson:q}=c(Ce);S(Ce,void 0),q(),setTimeout(An)}function ef(){r(\"clear pasted json\"),S(Ce,void 0),An()}function hl(){_()(Cr.text)}function hc(q){S(G,q),An(),yt(gt(q))}function An(){r(\"focus\"),c(f)&&(c(f).focus(),c(f).select())}function pc(q){!Ju(q.target,ze=>ze===c(d))&&bi(c(G))&&(r(\"click outside the editor, exit edit mode\"),S(G,no(c(G))),h&&c(f)&&(c(f).focus(),c(f).blur()),r(\"blur (outside editor)\"),c(f)&&c(f).blur())}function gc(q){return wU(c(J),c(ne),q)}function tf(q){c(t)&&c(t).onDrag(q)}function nf(){c(t)&&c(t).onDragEnd()}let de=H(void 0,!0);Z(()=>c(G),()=>{Be(c(G))}),Z(()=>(z(x()),z(C())),()=>{S(Le,Cw({escapeControlCharacters:x(),escapeUnicodeCharacters:C()}))}),Z(()=>c(je),()=>{Ve(c(je))}),Z(()=>z(m()),()=>{fn(m())}),Z(()=>z(b()),()=>{rt(b())}),Z(()=>(c(J),z(O()),z(T()),z(R())),()=>{vt(c(J),O(),T(),R())}),Z(()=>(c(u),MS),()=>{S(t,c(u)?MS(c(u)):void 0)}),Z(()=>(z(g()),z(T()),c(Le),z(F()),z(ie())),()=>{S(de,{mode:Cr.tree,readOnly:g(),parser:T(),normalization:c(Le),getJson:Xn,getDocumentState:at,getSelection:_t,findElement:Zt,findNextInside:gc,focus:An,onPatch:Ot,onInsert:Et,onExpand:Lr,onSelect:De,onFind:Bi,onExpandSection:Cs,onPasteJson:di,onRenderValue:F(),onContextMenu:Hn,onClassName:ie()||(()=>{}),onDrag:tf,onDragEnd:nf})}),Z(()=>c(de),()=>{r(\"context changed\",c(de))}),wt(),Ne(!0);var Te=uG();ve(\"mousedown\",mr,pc);var xt=be(Te),Rn=V(xt);{var Pr=q=>{ZX(q,{get json(){return c(J)},get selection(){return c(G)},get readOnly(){return g()},get history(){return v()},onExpandAll:xs,onCollapseAll:Oo,onUndo:Mr,onRedo:fi,onSort:zn,onTransform:ge,onContextMenu:fl,onCopy:kn,get onRenderMenu(){return j()},get showSearch(){return c(je)},set showSearch(me){S(je,me)},$$legacy:!0})};oe(Rn,q=>{w()&&q(Pr)})}var X=K(Rn,2);{var _e=q=>{wY(q,{get json(){return c(J)},get selection(){return c(G)},onSelect:hc,get onError(){return I()},get pathParser(){return D()}})};oe(X,q=>{k()&&q(_e)})}var Ge=K(X,2);{var it=q=>{var me=lG(),ze=be(me),ut=V(ze);ut.readOnly=!0,_n(ut,qt=>S(f,qt),()=>c(f));var We=K(ze,2);{var lt=qt=>{var ki=Ue(),wr=be(ki);{var Ai=hi=>{tY(hi,{get readOnly(){return g()},onCreateObject:()=>{An(),ir(\"{\")},onCreateArray:()=>{An(),ir(\"[\")},onClick:()=>{An()}})},ei=hi=>{var pl=sG(),gl=be(pl);const mc=he(()=>g()?[]:[{icon:zg,text:\"Repair manually\",title:'Open the document in \"code\" mode and repair it manually',onClick:hl}]);js(gl,{type:\"error\",message:\"The loaded JSON document is invalid and could not be repaired automatically.\",get actions(){return c(mc)}});var vc=K(gl,2);_E(vc,{get text(){return c(ae)},get json(){return c(J)},get indentation(){return E()},get parser(){return T()}}),B(hi,pl)};oe(wr,hi=>{c(ae)===\"\"||c(ae)===void 0?hi(Ai):hi(ei,!1)})}B(qt,ki)},Mn=qt=>{var ki=aG(),wr=be(ki),Ai=V(wr);mE(Ai,{get json(){return c(J)},get documentState(){return c(ne)},get parser(){return T()},get showSearch(){return c(je)},get showReplace(){return c($e)},get readOnly(){return g()},columns:void 0,onSearch:ot,onFocus:we,onPatch:Ot,onClose:He});var ei=K(wr,2);Ee(ei,\"data-jsoneditor-scrollable-contents\",!0);var hi=V(ei);{var pl=pi=>{var ml=oG();B(pi,ml)};oe(hi,pi=>{c(je)&&pi(pl)})}var gl=K(hi,2);b1(gl,{get value(){return c(J)},pointer:\"\",get state(){return c(ne)},get validationErrors(){return c(Se)},get searchResults(){return c(Re)},get selection(){return c(G)},get context(){return c(de)},onDragSelectionStart:gr}),_n(ei,pi=>S(u,pi),()=>c(u));var mc=K(ei,2);{var vc=pi=>{const ml=he(()=>`You pasted a JSON ${Array.isArray(c(Ce).contents)?\"array\":\"object\"} as text`);js(pi,{type:\"info\",get message(){return c(ml)},actions:[{icon:Au,text:\"Paste as JSON instead\",title:\"Replace the value with the pasted JSON\",onMouseDown:dl},{text:\"Leave as is\",title:\"Keep the JSON embedded in the value\",onClick:ef}]})};oe(mc,pi=>{c(Ce)&&pi(vc)})}var rf=K(mc,2);{var Pv=pi=>{const ml=he(()=>g()?[]:[{icon:Vw,text:\"Ok\",title:\"Accept the repaired document\",onClick:ln},{icon:zg,text:\"Repair manually instead\",title:\"Leave the document unchanged and repair it manually instead\",onClick:hl}]);js(pi,{type:\"success\",message:\"The loaded JSON document was invalid but is successfully repaired.\",get actions(){return c(ml)},onClose:An})};oe(rf,pi=>{c(Ye)&&pi(Pv)})}var yh=K(rf,2);Jw(yh,{get validationErrors(){return c(Me)},selectError:nt}),B(qt,ki)};oe(We,qt=>{c(J)===void 0?qt(lt):qt(Mn,!1)})}ve(\"paste\",ut,mn),B(q,me)},tt=q=>{var me=cG();B(q,me)};oe(Ge,q=>{i?q(tt,!1):q(it)})}_n(xt,q=>S(d,q),()=>c(d));var et=K(xt,2);{var bn=q=>{fE(q,{onClose:()=>S(ce,!1)})};oe(et,q=>{c(ce)&&q(bn)})}var Kt=K(et,2);{var Yn=q=>{dE(q,Qr(()=>c(fe),{onClose:()=>{var me;(me=c(fe))==null||me.onClose(),S(fe,void 0)}}))};oe(Kt,q=>{c(fe)&&q(Yn)})}return pe(()=>Fe(xt,\"no-main-menu\",!w())),ve(\"keydown\",xt,ya),ve(\"mousedown\",xt,ul),ve(\"contextmenu\",xt,Ss),B(n,Te),St(e,\"expand\",Xe),St(e,\"collapse\",Je),St(e,\"validate\",bt),St(e,\"getJson\",Xn),St(e,\"patch\",Tt),St(e,\"acceptAutoRepair\",ln),St(e,\"openTransformModal\",Vn),St(e,\"scrollTo\",yt),St(e,\"findElement\",Zt),St(e,\"focus\",An),Ie({expand:Xe,collapse:Je,validate:bt,getJson:Xn,patch:Tt,acceptAutoRepair:ln,openTransformModal:Vn,scrollTo:yt,findElement:Zt,focus:An})}function AE(n){return fG(n)?new Proxy(n,{get(e,t,r){const i=Reflect.get(e,t,r);return AE(i)},set(){return!1},deleteProperty(){return!1}}):n}function fG(n){return typeof n==\"object\"&&n!==null}const dG=1e3,Yh=Tr(\"jsoneditor:History\");function OE(n={}){const e=n.maxItems||dG;let t=[],r=0;function i(){return r<t.length}function s(){return r>0}function o(){return{canUndo:i(),canRedo:s(),items:()=>t.slice().reverse(),add:l,undo:f,redo:d,clear:u}}function a(){n.onChange&&n.onChange(o())}function l(h){Yh(\"add\",h),t=[h].concat(t.slice(r)).slice(0,e),r=0,a()}function u(){Yh(\"clear\"),t=[],r=0,a()}function f(){if(i()){const h=t[r];return r+=1,Yh(\"undo\",h),a(),h}}function d(){if(s())return r-=1,Yh(\"redo\",t[r]),a(),t[r]}return{get:o}}var mf=Ud(()=>AK),kc=Ud(()=>OK),hG=ee('<div class=\"query-error svelte-rrrjnb\"> </div>'),pG=ee(\"<!> <!>\",1),gG=ee('<div class=\"jse-preview jse-error svelte-rrrjnb\"> </div>'),mG=ee('<!> <div class=\"jse-modal-contents svelte-rrrjnb\"><div class=\"jse-main-contents svelte-rrrjnb\"><div class=\"jse-query-contents svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Language</div></div> <div class=\"jse-description svelte-rrrjnb\"><!></div> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Path</div></div> <input class=\"jse-path svelte-rrrjnb\" type=\"text\" readonly=\"\" title=\"Selected path\"> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\"><button type=\"button\" class=\"svelte-rrrjnb\"><!> Wizard</button></div></div> <!> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Query</div></div> <textarea class=\"jse-query svelte-rrrjnb\" spellcheck=\"false\"></textarea></div> <div class=\"jse-data-contents svelte-rrrjnb\"><div class=\"jse-original-data svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\"><button type=\"button\" class=\"svelte-rrrjnb\"><!> Original</button></div></div> <!></div> <div class=\"jse-preview-data svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Preview</div></div> <!></div></div></div> <div class=\"jse-actions svelte-rrrjnb\"><button type=\"button\" class=\"jse-primary svelte-rrrjnb\">Transform</button></div></div>',1),vG=ee('<div class=\"jse-transform-modal-inner svelte-rrrjnb\"><!></div>');function yG(n,e){Pe(e,!1);const t=Tr(\"jsoneditor:TransformModal\");let r=y(e,\"id\",25,()=>\"transform-modal-\"+jc()),i=y(e,\"json\",9),s=y(e,\"rootPath\",25,()=>[]),o=y(e,\"indentation\",9),a=y(e,\"escapeControlCharacters\",9),l=y(e,\"escapeUnicodeCharacters\",9),u=y(e,\"parser\",9),f=y(e,\"parseMemoizeOne\",9),d=y(e,\"validationParser\",9),h=y(e,\"pathParser\",9),p=y(e,\"queryLanguages\",9),g=y(e,\"queryLanguageId\",13),m=y(e,\"onChangeQueryLanguage\",9),b=y(e,\"onRenderValue\",9),v=y(e,\"onRenderMenu\",9),w=y(e,\"onRenderContextMenu\",9),k=y(e,\"onClassName\",9),x=y(e,\"onTransform\",9),C=y(e,\"onClose\",9),T=H(void 0,!0);const A=OE({onChange:$=>S(O,$)});let O=H(A.get(),!0),R=H(void 0,!0),D=H(void 0,!0),E=H(!1,!0);const I=`${r()}:${mt(s())}`,P=mf()[I]??{};let _=H(kc().showWizard!==!1,!0),L=H(kc().showOriginal!==!1,!0),M=H(P.queryOptions??{},!0),N=H(g()===P.queryLanguageId&&P.query?P.query:\"\",!0),F=H(P.isManual??!1,!0),j=H(void 0,!0),Y=H(void 0,!0),ie=H({text:\"\"},!0);c(F)||te(c(M)),cr(()=>{var $;($=c(T))==null||$.focus()});function Q($){return p().find(ne=>ne.id===$)??p()[0]}function te($){try{S(M,$),S(N,Q(g()).createQuery(c(R),$)),S(j,void 0),S(F,!1),t(\"updateQueryByWizard\",{queryOptions:c(M),query:c(N),isManual:c(F)})}catch(ne){S(j,String(ne))}}function U($){S(N,$.target.value),S(F,!0),t(\"handleChangeQuery\",{query:c(N),isManual:c(F)})}function se($,ne){if($===void 0){S(ie,{text:\"\"}),S(Y,\"Error: No JSON\");return}if(ne.trim()===\"\"){S(ie,{json:$});return}try{t(\"previewTransform\",{query:ne});const G=Q(g()).executeQuery($,ne,u());S(ie,{json:G}),S(Y,void 0)}catch(G){S(ie,{text:\"\"}),S(Y,String(G))}}const le=Dg(se,l1);function W(){if(c(R)===void 0){S(ie,{text:\"\"}),S(Y,\"Error: No JSON\");return}try{t(\"handleTransform\",{query:c(N)});const $=Q(g()).executeQuery(c(R),c(N),u());x()([{op:\"replace\",path:mt(s()),value:$}]),C()()}catch($){console.error($),S(ie,{text:\"\"}),S(Y,String($))}}function ce(){S(_,!c(_)),kc(kc().showWizard=c(_))}function fe(){S(L,!c(L)),kc(kc().showOriginal=c(L))}function J($){$.focus()}function ae($){t(\"handleChangeQueryLanguage\",$),g($),m()($),te(c(M))}function re(){c(E)?S(E,!c(E)):C()()}Z(()=>(z(i()),z(s())),()=>{S(R,AE(st(i(),s())))}),Z(()=>c(R),()=>{S(D,c(R)?{json:c(R)}:{text:\"\"})}),Z(()=>(c(R),c(N)),()=>{le(c(R),c(N))}),Z(()=>(mf(),c(M),c(N),z(g()),c(F)),()=>{mf(mf()[I]={queryOptions:c(M),query:c(N),queryLanguageId:g(),isManual:c(F)}),t(\"store state in memory\",I,mf()[I])}),wt(),Ne(!0),ch(n,{get onClose(){return C()},className:\"jse-transform-modal\",get fullscreen(){return c(E)},children:($,ne)=>{var G=vG(),De=V(G);Ow(De,{children:(Be,Le)=>{var Ce=mG(),ye=be(Ce);FJ(ye,{get queryLanguages(){return p()},get queryLanguageId(){return g()},onChangeQueryLanguage:ae,get onClose(){return C()},get fullscreen(){return c(E)},set fullscreen(It){S(E,It)},$$legacy:!0});var Re=K(ye,2),je=V(Re),$e=V(je),Ve=K(V($e),2),ot=V(Ve);Db(ot,()=>Q(g()).description,!1,!1);var we=K(Ve,4),He=K(we,2),nt=V(He),Xe=V(nt),Je=V(Xe);const Ye=he(()=>c(_)?Ya:_d);Xt(Je,{get data(){return c(Ye)}});var Me=K(He,2);{var Se=It=>{var Ut=Ue(),ln=be(Ut);{var hn=mn=>{var vn=pG(),dr=be(vn);PJ(dr,{get queryOptions(){return c(M)},get json(){return c(R)},onChange:te});var sn=K(dr,2);{var tr=xe=>{var Et=hG(),Qt=V(Et);pe(()=>Ke(Qt,c(j))),B(xe,Et)};oe(sn,xe=>{c(j)&&xe(tr)})}B(mn,vn)},kn=mn=>{var vn=Ar(\"(Only available for arrays, not for objects)\");B(mn,vn)};oe(ln,mn=>{Array.isArray(c(R))?mn(hn):mn(kn,!1)})}B(It,Ut)};oe(Me,It=>{c(_)&&It(Se)})}var ue=K(Me,4);_n(ue,It=>S(T,It),()=>c(T));var vt=K($e,2),bt=V(vt),Xn=V(bt),at=V(Xn),_t=V(at),fn=V(_t);const Vt=he(()=>c(L)?Ya:_d);Xt(fn,{get data(){return c(Vt)}});var In=K(Xn,2);{var rt=It=>{w1(It,{get externalContent(){return c(D)},externalSelection:void 0,get history(){return c(O)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return o()},get escapeControlCharacters(){return a()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return f()},get onRenderValue(){return b()},get onRenderMenu(){return v()},get onRenderContextMenu(){return w()},onError:console.error,onChange:gr,onChangeMode:gr,onSelect:gr,onUndo:gr,onRedo:gr,onFocus:gr,onBlur:gr,onSortModal:gr,onTransformModal:gr,onJSONEditorModal:gr,get onClassName(){return k()},validator:void 0,get validationParser(){return d()},get pathParser(){return h()}})};oe(In,It=>{c(L)&&It(rt)})}var Lt=K(bt,2),Ht=K(V(Lt),2);{var Gt=It=>{w1(It,{get externalContent(){return c(ie)},externalSelection:void 0,get history(){return c(O)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return o()},get escapeControlCharacters(){return a()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return f()},get onRenderValue(){return b()},get onRenderMenu(){return v()},get onRenderContextMenu(){return w()},onError:console.error,onChange:gr,onChangeMode:gr,onSelect:gr,onUndo:gr,onRedo:gr,onFocus:gr,onBlur:gr,onSortModal:gr,onTransformModal:gr,onJSONEditorModal:gr,get onClassName(){return k()},validator:void 0,get validationParser(){return d()},get pathParser(){return h()}})},kt=It=>{var Ut=gG(),ln=V(Ut);pe(()=>Ke(ln,c(Y))),B(It,Ut)};oe(Ht,It=>{c(Y)?It(kt,!1):It(Gt)})}var Tt=K(je,2),rr=V(Tt);En(()=>ve(\"click\",rr,W)),tn(rr,It=>J==null?void 0:J(It)),pe(It=>{na(we,It),na(ue,c(N)),Fe(vt,\"jse-hide-original-data\",!c(L)),Fe(bt,\"jse-hide\",!c(L)),rr.disabled=!!c(Y)},[()=>wn(s())?\"(document root)\":zs(s())],he),ve(\"click\",Xe,ce),ve(\"input\",ue,U),ve(\"click\",_t,fe),B(Be,Ce)},$$slots:{default:!0}}),tn(G,(Be,Le)=>iu==null?void 0:iu(Be,Le),()=>re),B($,G)},$$slots:{default:!0}}),Ie()}function ns(){}function BS(n,e=1e3){if(n<.9*e)return n.toFixed()+\" B\";const t=n/e;if(t<.9*e)return t.toFixed(1)+\" KB\";const r=t/e;if(r<.9*e)return r.toFixed(1)+\" MB\";const i=r/e;return i<.9*e?i.toFixed(1)+\" GB\":(i/e).toFixed(1)+\" TB\"}function bG(n,e){Pe(e,!1);const t=H(void 0,!0);let r=y(e,\"readOnly\",9,!1),i=y(e,\"onFormat\",9),s=y(e,\"onCompact\",9),o=y(e,\"onSort\",9),a=y(e,\"onTransform\",9),l=y(e,\"onToggleSearch\",9),u=y(e,\"onUndo\",9),f=y(e,\"onRedo\",9),d=y(e,\"canUndo\",9),h=y(e,\"canRedo\",9),p=y(e,\"canFormat\",9),g=y(e,\"canCompact\",9),m=y(e,\"canSort\",9),b=y(e,\"canTransform\",9),v=y(e,\"onRenderMenu\",9);const w={type:\"button\",icon:lv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:l()};let k=H(void 0,!0);Z(()=>(z(r()),z(i()),z(p()),z(s()),z(g()),z(o()),z(m()),z(a()),z(b()),z(u()),z(d()),z(f()),z(h())),()=>{S(k,r()?[w,{type:\"space\"}]:[{type:\"button\",icon:pE,title:\"Format JSON: add proper indentation and new lines (Ctrl+I)\",className:\"jse-format\",onClick:i(),disabled:r()||!p()},{type:\"button\",icon:QX,title:\"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)\",className:\"jse-compact\",onClick:s(),disabled:r()||!g()},{type:\"separator\"},{type:\"button\",icon:av,title:\"Sort\",className:\"jse-sort\",onClick:o(),disabled:r()||!m()},{type:\"button\",icon:ov,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:a(),disabled:r()||!b()},w,{type:\"separator\"},{type:\"button\",icon:zw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:u(),disabled:!d()},{type:\"button\",icon:jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:f(),disabled:!h()},{type:\"space\"}])}),Z(()=>(z(v()),c(k)),()=>{S(t,v()(c(k))||c(k))}),wt(),Ne(!0),mv(n,{get items(){return c(t)}}),Ie()}let x1=[],EE=[];(()=>{let n=\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?EE:x1).push(t=t+n[e])})();function wG(n){if(n<768)return!1;for(let e=0,t=x1.length;;){let r=e+t>>1;if(n<x1[r])t=r;else if(n>=EE[r])e=r+1;else return!0;if(e==t)return!1}}function FS(n){return n>=127462&&n<=127487}const jS=8205;function xG(n,e,t=!0,r=!0){return(t?TE:CG)(n,e,r)}function TE(n,e,t){if(e==n.length)return e;e&&ME(n.charCodeAt(e))&&PE(n.charCodeAt(e-1))&&e--;let r=Ry(n,e);for(e+=zS(r);e<n.length;){let i=Ry(n,e);if(r==jS||i==jS||t&&wG(i))e+=zS(i),r=i;else if(FS(i)){let s=0,o=e-2;for(;o>=0&&FS(Ry(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function CG(n,e,t){for(;e>0;){let r=TE(n,e-2,t);if(r<e)return r;e--}return 0}function Ry(n,e){let t=n.charCodeAt(e);if(!PE(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return ME(r)?(t-55296<<10)+(r-56320)+65536:t}function ME(n){return n>=56320&&n<57344}function PE(n){return n>=55296&&n<56320}function zS(n){return n<65536?1:2}let Sn=class IE{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Tu(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),ro.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Tu(this,e,t);let r=[];return this.decompose(e,t,r,0),ro.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Kf(this),s=new Kf(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Kf(this,e)}iterRange(e,t=this.length){return new RE(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new DE(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError(\"A document must have at least one line\");return e.length==1&&!e[0]?IE.empty:e.length<=32?new yr(e):ro.from(yr.split(e,[]))}};class yr extends Sn{constructor(e,t=SG(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new _G(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new yr(VS(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Up(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new yr(a,o.length+s.length));else{let l=a.length>>1;r.push(new yr(a.slice(0,l)),new yr(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof yr))return super.replace(e,t,r);[e,t]=Tu(this,e,t);let i=Up(this.text,Up(r.text,VS(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new yr(i,s):ro.from(yr.split(i,[]),s)}sliceString(e,t=this.length,r=`\n`){[e,t]=Tu(this,e,t);let i=\"\";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new yr(r,i)),r=[],i=-1);return i>-1&&t.push(new yr(r,i)),t}}class ro extends Sn{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let u=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!u?r.push(a):a.decompose(e-o,t-o,r,u)}o=l+1}}replace(e,t,r){if([e,t]=Tu(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let f=this.children.slice();return f[i]=l,new ro(f,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`\n`){[e,t]=Tu(this,e,t);let i=\"\";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ro))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let g of e)g.flatten(p);return new yr(p,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,f=[];function d(p){let g;if(p.lines>s&&p instanceof ro)for(let m of p.children)d(m);else p.lines>o&&(l>o||!l)?(h(),a.push(p)):p instanceof yr&&l&&(g=f[f.length-1])instanceof yr&&p.lines+g.lines<=32?(l+=p.lines,u+=p.length+1,f[f.length-1]=new yr(g.text.concat(p.text),g.length+1+p.length)):(l+p.lines>i&&h(),l+=p.lines,u+=p.length+1,f.push(p))}function h(){l!=0&&(a.push(f.length==1?f[0]:ro.from(f,u)),u=-1,l=f.length=0)}for(let p of e)d(p);return h(),a.length==1?a[0]:new ro(a,t)}}Sn.empty=new yr([\"\"],0);function SG(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Up(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function VS(n,e,t){return Up(n,[\"\"],e,t)}class Kf{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value=\"\",this.nodes=[e],this.offsets=[t>0?1:(e instanceof yr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof yr?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value=\"\",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`\n`,this;e--}else if(i instanceof yr){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof yr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class RE{constructor(e,t,r){this.value=\"\",this.done=!1,this.cursor=new Kf(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value=\"\",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=\"\"}}class DE{constructor(e){this.inner=e,this.afterBreak=!0,this.value=\"\",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value=\"\",this.afterBreak=!1):t?(this.done=!0,this.value=\"\"):r?this.afterBreak?this.value=\"\":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<\"u\"&&(Sn.prototype[Symbol.iterator]=function(){return this.iter()},Kf.prototype[Symbol.iterator]=RE.prototype[Symbol.iterator]=DE.prototype[Symbol.iterator]=function(){return this});class _G{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Tu(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function $r(n,e,t=!0,r=!0){return xG(n,e,t,r)}function kG(n){return n>=56320&&n<57344}function AG(n){return n>=55296&&n<56320}function Pi(n,e){let t=n.charCodeAt(e);if(!AG(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return kG(r)?(t-55296<<10)+(r-56320)+65536:t}function Gw(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function io(n){return n<65536?1:2}const C1=/\\r\\n?|\\n/;var yi=function(n){return n[n.Simple=0]=\"Simple\",n[n.TrackDel=1]=\"TrackDel\",n[n.TrackBefore=2]=\"TrackBefore\",n[n.TrackAfter=3]=\"TrackAfter\",n}(yi||(yi={}));class $o{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){S1(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new $o(e)}composeDesc(e){return this.empty?e:e.empty?this:NE(this,e)}mapDesc(e,t=!1){return e.empty?this:_1(this,e,t)}mapPos(e,t=-1,r=yi.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=yi.Simple&&u>=e&&(r==yi.TrackDel&&i<e&&u>e||r==yi.TrackBefore&&i<e||r==yi.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?\"cover\":!0;i=a}return!1}toString(){let e=\"\";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?\" \":\"\")+r+(i>=0?\":\"+i:\"\")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!=\"number\"))throw new RangeError(\"Invalid JSON representation of ChangeDesc\");return new $o(e)}static create(e){return new $o(e)}}class _r extends $o{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError(\"Applying change set to a document with the wrong length\");return S1(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return _1(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Sn.empty);r.push(o?e.slice(s,s+o):Sn.empty)}s+=o}return new _r(t,r)}compose(e){return this.empty?e:e.empty?this:NE(this,e,!0)}map(e,t=!1){return e.empty?this:_1(this,e,t,!0)}iterChanges(e,t=!1){S1(this,e,t)}get desc(){return $o.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Od(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,l-a);ni(i,f,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;ni(t,f,d),d>0&&Ba(r,t,s.text),s.forward(f),a+=f}let u=e[o++];for(;a<u;){if(s.done)break e;let f=Math.min(s.len,u-a);ni(t,f,-1),ni(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),a+=f}}return{changes:new _r(t,r),filtered:$o.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(f=!1){if(!f&&!i.length)return;o<t&&ni(i,t-o,-1);let d=new _r(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function u(f){if(Array.isArray(f))for(let d of f)u(d);else if(f instanceof _r){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);l(),a=a?a.compose(f.map(a)):f}else{let{from:d,to:h=d,insert:p}=f;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let g=p?typeof p==\"string\"?Sn.of(p.split(r||C1)):p:Sn.empty,m=g.length;if(d==h&&m==0)return;d<o&&l(),d>o&&ni(i,d-o,-1),ni(i,h-d,m),Ba(s,i,g),o=h}}return u(e),l(!a),a}static empty(e){return new _r(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError(\"Invalid JSON representation of ChangeSet\");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s==\"number\")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!=\"number\"||s.some((o,a)=>a&&typeof o!=\"string\"))throw new RangeError(\"Invalid JSON representation of ChangeSet\");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(Sn.empty);r[i]=Sn.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new _r(t,r)}static createSet(e,t){return new _r(e,t)}}function ni(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Ba(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Sn.empty);n.push(t)}}function S1(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,f=s,d=Sn.empty;for(;u+=a,f+=l,l&&r&&(d=d.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,u,s,f,d),i=u,s=f}}}function _1(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Od(n),a=new Od(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error(\"Mismatched change set lengths\");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);ni(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let u=a.len;for(ni(i,a.ins,-1);u;){let f=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=f&&(ni(i,0,o.ins),s&&Ba(s,i,o.text),l=o.i),o.forward(f),u-=f}a.next()}else if(o.ins>=0){let u=0,f=o.len;for(;f;)if(a.ins==-1){let d=Math.min(f,a.len);u+=d,f-=d,a.forward(d)}else if(a.ins==0&&a.len<f)f-=a.len,a.next();else break;ni(i,u,l<o.i?o.ins:0),s&&l<o.i&&Ba(s,i,o.text),l=o.i,o.forward(o.len-f)}else{if(o.done&&a.done)return s?_r.createSet(i,s):$o.create(i);throw new Error(\"Mismatched change set lengths\")}}}function NE(n,e,t=!1){let r=[],i=t?[]:null,s=new Od(n),o=new Od(e);for(let a=!1;;){if(s.done&&o.done)return i?_r.createSet(r,i):$o.create(r);if(s.ins==0)ni(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)ni(r,0,o.ins,a),i&&Ba(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error(\"Mismatched change set lengths\");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;ni(r,l,f,a),i&&f&&Ba(i,r,o.text)}else o.ins==-1?(ni(r,s.off?0:s.len,l,a),i&&Ba(i,r,s.textBit(l))):(ni(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Ba(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Od{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Sn.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Sn.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Pl{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Pl(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Oe.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Oe.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!=\"number\"||typeof e.head!=\"number\")throw new RangeError(\"Invalid JSON representation for SelectionRange\");return Oe.range(e.anchor,e.head)}static create(e,t,r){return new Pl(e,t,r)}}class Oe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Oe.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,t=!0){return Oe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Oe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!=\"number\"||e.main>=e.ranges.length)throw new RangeError(\"Invalid JSON representation for EditorSelection\");return new Oe(e.ranges.map(t=>Pl.fromJSON(t)),e.main)}static single(e,t=e){return new Oe([Oe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError(\"A selection needs at least one range\");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Oe.normalized(e.slice(),t);r=s.to}return new Oe(e,t)}static cursor(e,t=0,r,i){return Pl.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Pl.create(t,e,48|s):Pl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Oe.range(l,a):Oe.range(a,l))}}return new Oe(e,t)}}function LE(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError(\"Selection points outside of document\")}let Qw=0;class dt{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=Qw++,this.default=e([]),this.extensions=typeof s==\"function\"?s(this):s}get reader(){return this}static define(e={}){return new dt(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:Zw),!!e.static,e.enables)}of(e){return new Kp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error(\"Can't compute a static facet\");return new Kp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error(\"Can't compute a static facet\");return new Kp(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function Zw(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Kp{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=Qw++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,f=[];for(let d of this.dependencies)d==\"doc\"?l=!0:d==\"selection\"?u=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||f.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||k1(d,f)){let p=r(d);if(a?!HS(p,d.values[o],i):!i(p,d.values[o]))return d.values[o]=p,1}return 0},reconfigure:(d,h)=>{let p,g=h.config.address[s];if(g!=null){let m=Jg(h,g);if(this.dependencies.every(b=>b instanceof dt?h.facet(b)===d.facet(b):b instanceof Wr?h.field(b,!1)==d.field(b,!1):!0)||(a?HS(p=r(d),m,i):i(p=r(d),m)))return d.values[o]=m,0}else p=r(d);return d.values[o]=p,1}}}}function HS(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function k1(n,e){let t=!1;for(let r of e)Jf(n,r)&1&&(t=!0);return t}function OG(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let u=[];for(let f=0;f<r.length;f++){let d=Jg(l,r[f]);if(i[f]==2)for(let h of d)u.push(h);else u.push(d)}return e.combine(u)}return{create(l){for(let u of r)Jf(l,u);return l.values[o]=a(l),1},update(l,u){if(!k1(l,s))return 0;let f=a(l);return e.compare(f,l.values[o])?0:(l.values[o]=f,1)},reconfigure(l,u){let f=k1(l,r),d=u.config.facets[e.id],h=u.facet(e);if(d&&!f&&Zw(t,d))return l.values[o]=h,0;let p=a(l);return e.compare(p,h)?(l.values[o]=h,0):(l.values[o]=p,1)}}}const qS=dt.define({static:!0});class Wr{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Wr(Qw++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(qS).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,qS.of({field:this,create:e})]}get extension(){return this}}const _l={lowest:4,low:3,default:2,high:1,highest:0};function vf(n){return e=>new BE(e,n)}const fc={highest:vf(_l.highest),high:vf(_l.high),default:vf(_l.default),low:vf(_l.low),lowest:vf(_l.lowest)};class BE{constructor(e,t){this.inner=e,this.prec=t}}class jo{of(e){return new A1(this,e)}reconfigure(e){return jo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class A1{constructor(e,t){this.compartment=e,this.inner=t}}class Kg{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let h of EG(e,t,o))h instanceof Wr?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],u=[];for(let h of i)a[h.id]=u.length<<1,u.push(p=>h.slot(p));let f=r==null?void 0:r.config.facets;for(let h in s){let p=s[h],g=p[0].facet,m=f&&f[h]||[];if(p.every(b=>b.type==0))if(a[g.id]=l.length<<1|1,Zw(m,p))l.push(r.facet(g));else{let b=g.combine(p.map(v=>v.value));l.push(r&&g.compare(b,r.facet(g))?r.facet(g):b)}else{for(let b of p)b.type==0?(a[b.id]=l.length<<1|1,l.push(b.value)):(a[b.id]=u.length<<1,u.push(v=>b.dynamicSlot(v)));a[g.id]=u.length<<1,u.push(b=>OG(b,g,p))}}let d=u.map(h=>h(a));return new Kg(e,o,d,a,l,s)}}function EG(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof A1&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof A1){if(t.has(o.compartment))throw new RangeError(\"Duplicate use of compartment in extensions\");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),s(u,a)}else if(o instanceof BE)s(o.inner,o.prec);else if(o instanceof Wr)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Kp)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,_l.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(n,_l.default),r.reduce((o,a)=>o.concat(a))}function Jf(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error(\"Cyclic dependency between fields and/or facets\");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function Jg(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const FE=dt.define(),O1=dt.define({combine:n=>n.some(e=>e),static:!0}),jE=dt.define({combine:n=>n.length?n[0]:void 0,static:!0}),zE=dt.define(),VE=dt.define(),HE=dt.define(),qE=dt.define({combine:n=>n.length?n[0]:!1});class al{constructor(e,t){this.type=e,this.value=t}static define(){return new TG}}class TG{of(e){return new al(this,e)}}class MG{constructor(e){this.map=e}of(e){return new Yt(this,e)}}class Yt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Yt(this.type,t)}is(e){return this.type==e}static define(e={}){return new MG(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Yt.reconfigure=Yt.define();Yt.appendConfig=Yt.define();class ii{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&LE(r,t.newLength),s.some(a=>a.type==ii.time)||(this.annotations=s.concat(ii.time.of(Date.now())))}static create(e,t,r,i,s,o){return new ii(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ii.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]==\".\"))}}ii.time=al.define();ii.userEvent=al.define();ii.addToHistory=al.define();ii.remote=al.define();function PG(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function WE(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=_r.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Yt.mapEffects(n.effects,i).concat(Yt.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function E1(n,e,t){let r=e.selection,i=ou(e.annotations);return e.userEvent&&(i=i.concat(ii.userEvent.of(e.userEvent))),{changes:e.changes instanceof _r?e.changes:_r.of(e.changes||[],t,n.facet(jE)),selection:r&&(r instanceof Oe?r:Oe.single(r.anchor,r.head)),effects:ou(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function UE(n,e,t){let r=E1(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=WE(r,E1(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=ii.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return RG(t?IG(i):i)}function IG(n){let e=n.startState,t=!0;for(let i of e.facet(zE)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:PG(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=_r.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=ii.create(e,i,n.selection&&n.selection.map(s),Yt.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(VE);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof ii?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ii?n=s[0]:n=UE(e,ou(s),!1)}return n}function RG(n){let e=n.startState,t=e.facet(HE),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=WE(r,E1(e,s,n.changes.newLength),!0))}return r==n?n:ii.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const DG=[];function ou(n){return n==null?DG:Array.isArray(n)?n:[n]}var nr=function(n){return n[n.Word=0]=\"Word\",n[n.Space=1]=\"Space\",n[n.Other=2]=\"Other\",n}(nr||(nr={}));const NG=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;let T1;try{T1=new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\",\"u\")}catch{}function LG(n){if(T1)return T1.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\\w/.test(t)||t>\"\"&&(t.toUpperCase()!=t.toLowerCase()||NG.test(t)))return!0}return!1}function BG(n){return e=>{if(!/\\S/.test(e))return nr.Space;if(LG(e))return nr.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return nr.Word;return nr.Other}}class cn{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Jf(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError(\"Field is not present in this state\");return}return Jf(this,r),Jg(this,r)}update(...e){return UE(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(jo.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,u)=>i.set(u,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Yt.reconfigure)?(t=null,r=a.value):a.is(Yt.appendConfig)&&(t=null,r=ou(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=Kg.resolve(r,i,this),s=new cn(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(O1)?e.newSelection:e.newSelection.asSingle();new cn(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e==\"string\"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Oe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=ou(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),u=this.changes(l.changes),f=u.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(f);let d=i.mapDesc(u,!0);s.push(l.range.map(d)),i=i.compose(f),o=Yt.mapEffects(o,f).concat(Yt.mapEffects(ou(l.effects),d))}return{changes:i,selection:Oe.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof _r?e:_r.of(e,this.doc.length,this.facet(cn.lineSeparator))}toText(e){return Sn.of(e.split(this.facet(cn.lineSeparator)||C1))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Jf(this,t),Jg(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Wr&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!=\"string\")throw new RangeError(\"Invalid JSON representation for EditorState\");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return cn.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Kg.resolve(e.extensions||[],new Map),r=e.doc instanceof Sn?e.doc:Sn.of((e.doc||\"\").split(t.staticFacet(cn.lineSeparator)||C1)),i=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return LE(i,r.length),t.staticFacet(O1)||(i=i.asSingle()),new cn(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(cn.tabSize)}get lineBreak(){return this.facet(cn.lineSeparator)||`\n`}get readOnly(){return this.facet(qE)}phrase(e,...t){for(let r of this.facet(cn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\\$(\\$|\\d*)/g,(r,i)=>{if(i==\"$\")return\"$\";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(FE))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return BG(this.languageDataAt(\"wordChars\",e).join(\"\"))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=$r(t,o,!1);if(s(t.slice(l,o))!=nr.Word)break;o=l}for(;a<i;){let l=$r(t,a);if(s(t.slice(a,l))!=nr.Word)break;a=l}return o==a?null:Oe.range(o+r,a+r)}}cn.allowMultipleSelections=O1;cn.tabSize=dt.define({combine:n=>n.length?n[0]:4});cn.lineSeparator=jE;cn.readOnly=qE;cn.phrases=dt.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});cn.languageData=FE;cn.changeFilter=zE;cn.transactionFilter=VE;cn.transactionExtender=HE;jo.reconfigure=Yt.define();function Xs(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error(\"Config merge conflict for field \"+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class $l{eq(e){return this==e}range(e,t=e){return M1.create(e,t,this)}}$l.prototype.startSide=$l.prototype.endSide=0;$l.prototype.point=!1;$l.prototype.mapMode=yi.TrackDel;let M1=class KE{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new KE(e,t,r)}};function P1(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class $w{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],f=this.from[l]+e,d=this.to[l]+e,h,p;if(f==d){let g=t.mapPos(f,u.startSide,u.mapMode);if(g==null||(h=p=g,u.startSide!=u.endSide&&(p=t.mapPos(f,u.endSide),p<h)))continue}else if(h=t.mapPos(f,u.startSide),p=t.mapPos(d,u.endSide),h>p||h==p&&u.startSide>0&&u.endSide<=0)continue;(p-h||u.endSide-u.startSide)<0||(o<0&&(o=h),u.point&&(a=Math.max(a,p-h)),r.push(u),i.push(h-o),s.push(p-o))}return{mapped:r.length?new $w(i,s,r,a):null,pos:o}}}class pn{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new pn(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(P1)),this.isEmpty)return t.length?pn.of(t):this;let a=new JE(this,null,-1).goto(0),l=0,u=[],f=new qs;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let d=t[l++];f.addInner(d.from,d.to,d.value)||u.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&f.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(f.addInner(a.from,a.to,a.value)||u.push(M1.create(a.from,a.to,a.value))),a.next());return f.finishInner(this.nextLayer.isEmpty&&!u.length?pn.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:f,pos:d}=l.map(a,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),r.push(d))}}let s=this.nextLayer.map(e);return t.length==0?s:new pn(r,t,s||pn.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Ed.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ed.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=WS(o,a,r),u=new yf(o,l,s),f=new yf(a,l,s);r.iterGaps((d,h,p)=>US(u,d,f,h,p,i)),r.empty&&r.length==0&&US(u,0,f,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=WS(s,o),l=new yf(s,a,0).goto(r),u=new yf(o,a,0).goto(r);for(;;){if(l.to!=u.to||!I1(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,t,r,i,s=-1){let o=new yf(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let f=o.activeForPoint(o.to),d=o.pointFrom<t?f.length+1:o.point.startSide<0?f.length:Math.min(f.length,l);i.point(a,u,o.point,f,d,o.pointRank),l=Math.min(o.openEnd(u),f.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new qs;for(let i of e instanceof M1?[e]:t?FG(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return pn.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=pn.empty;i=i.nextLayer)t=new pn(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}pn.empty=new pn([],[],null,-1);function FG(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(P1(e,r)>0)return n.slice().sort(P1);e=r}return n}pn.empty.nextLayer=pn.empty;class qs{finishChunk(e){this.chunks.push(new $w(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new qs)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(pn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=pn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function WS(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class JE{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ed{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new JE(o,t,r,s));return i.length==1?i[0]:new Ed(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Dy(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Dy(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Dy(this.heap,0)}}}function Dy(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class yf{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ed.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Gh(this.active,e),Gh(this.activeTo,e),Gh(this.activeRank,e),this.minActive=KS(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Qh(this.active,t,r),Qh(this.activeTo,t,i),Qh(this.activeRank,t,s),e&&Qh(e,t,this.cursor.from),this.minActive=KS(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Gh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function US(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=n.to+l-t.to,f=u||n.endSide-t.endSide,d=f<0?n.to+l:t.to,h=Math.min(d,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&I1(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,h,n.point,t.point):h>a&&!I1(n.active,t.active)&&s.compareRange(a,h,n.active,t.active),d>o)break;(u||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(d),a=d,f<=0&&n.next(),f>=0&&t.next()}}function I1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Gh(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Qh(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function KS(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Qu(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=$r(n,i));return r}function R1(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=$r(n,i)}return r===!0?-1:n.length}const D1=\"\",JS=typeof Symbol>\"u\"?\"__\"+D1:Symbol.for(D1),N1=typeof Symbol>\"u\"?\"__styleSet\"+Math.floor(Math.random()*1e8):Symbol(\"styleSet\"),XS=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:{};class Qa{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\\s*/)}function s(o,a,l,u){let f=[],d=/^@(\\w+)\\b/.exec(o[0]),h=d&&d[1]==\"keyframes\";if(d&&a==null)return l.push(o[0]+\";\");for(let p in a){let g=a[p];if(/&/.test(p))s(p.split(/,\\s*/).map(m=>o.map(b=>m.replace(/&/,b))).reduce((m,b)=>m.concat(b)),g,l);else if(g&&typeof g==\"object\"){if(!d)throw new RangeError(\"The value of a property (\"+p+\") should be a primitive value.\");s(i(p),g,f,h)}else g!=null&&f.push(p.replace(/_.*/,\"\").replace(/[A-Z]/g,m=>\"-\"+m.toLowerCase())+\": \"+g+\";\")}(f.length||h)&&l.push((r&&!d&&!u?o.map(r):o).join(\", \")+\" {\"+f.join(\" \")+\"}\")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`\n`)}static newName(){let e=XS[JS]||1;return XS[JS]=e+1,D1+e.toString(36)}static mount(e,t,r){let i=e[N1],s=r&&r.nonce;i?s&&i.setNonce(s):i=new jG(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let YS=new Map;class jG{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=YS.get(r);if(s)return e[N1]=s;this.sheet=new i.CSSStyleSheet,YS.set(r,this)}else this.styleTag=r.createElement(\"style\"),t&&this.styleTag.setAttribute(\"nonce\",t);this.modules=[],e[N1]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o=\"\";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`\n`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute(\"nonce\")!=e&&this.styleTag.setAttribute(\"nonce\",e)}}var Za={8:\"Backspace\",9:\"Tab\",10:\"Enter\",12:\"NumLock\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",44:\"PrintScreen\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Meta\",92:\"Meta\",106:\"*\",107:\"+\",108:\",\",109:\"-\",110:\".\",111:\"/\",144:\"NumLock\",145:\"ScrollLock\",160:\"Shift\",161:\"Shift\",162:\"Control\",163:\"Control\",164:\"Alt\",165:\"Alt\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\"},Td={48:\")\",49:\"!\",50:\"@\",51:\"#\",52:\"$\",53:\"%\",54:\"^\",55:\"&\",56:\"*\",57:\"(\",59:\":\",61:\"+\",173:\"_\",186:\":\",187:\"+\",188:\"<\",189:\"_\",190:\">\",191:\"?\",192:\"~\",219:\"{\",220:\"|\",221:\"}\",222:'\"'},zG=typeof navigator<\"u\"&&/Mac/.test(navigator.platform),VG=typeof navigator<\"u\"&&/MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent);for(var Yr=0;Yr<10;Yr++)Za[48+Yr]=Za[96+Yr]=String(Yr);for(var Yr=1;Yr<=24;Yr++)Za[Yr+111]=\"F\"+Yr;for(var Yr=65;Yr<=90;Yr++)Za[Yr]=String.fromCharCode(Yr+32),Td[Yr]=String.fromCharCode(Yr);for(var Ny in Za)Td.hasOwnProperty(Ny)||(Td[Ny]=Za[Ny]);function HG(n){var e=zG&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||VG&&n.shiftKey&&n.key&&n.key.length==1||n.key==\"Unidentified\",t=!e&&n.key||(n.shiftKey?Td:Za)[n.keyCode]||n.key||\"Unidentified\";return t==\"Esc\"&&(t=\"Escape\"),t==\"Del\"&&(t=\"Delete\"),t==\"Left\"&&(t=\"ArrowLeft\"),t==\"Up\"&&(t=\"ArrowUp\"),t==\"Right\"&&(t=\"ArrowRight\"),t==\"Down\"&&(t=\"ArrowDown\"),t}function Md(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function L1(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Jp(n,e){if(!e.anchorNode)return!1;try{return L1(n,e.anchorNode)}catch{return!1}}function Pd(n){return n.nodeType==3?tc(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Xf(n,e,t,r){return t?GS(n,e,t,r,-1)||GS(n,e,t,r,1):!1}function ec(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Xg(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(n.nodeName)}function GS(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:wo(n))){if(n.nodeName==\"DIV\")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=ec(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable==\"false\")return!1;e=i<0?wo(n):0}else return!1}}function wo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function vv(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function qG(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function XE(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function WG(n,e,t,r,i,s,o,a){let l=n.ownerDocument,u=l.defaultView||window;for(let f=n,d=!1;f&&!d;)if(f.nodeType==1){let h,p=f==l.body,g=1,m=1;if(p)h=qG(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let w=f.getBoundingClientRect();({scaleX:g,scaleY:m}=XE(f,w)),h={left:w.left,right:w.left+f.clientWidth*g,top:w.top,bottom:w.top+f.clientHeight*m}}let b=0,v=0;if(i==\"nearest\")e.top<h.top?(v=-(h.top-e.top+o),t>0&&e.bottom>h.bottom+v&&(v=e.bottom-h.bottom+v+o)):e.bottom>h.bottom&&(v=e.bottom-h.bottom+o,t<0&&e.top-v<h.top&&(v=-(h.top+v-e.top+o)));else{let w=e.bottom-e.top,k=h.bottom-h.top;v=(i==\"center\"&&w<=k?e.top+w/2-k/2:i==\"start\"||i==\"center\"&&t<0?e.top-o:e.bottom-k+o)-h.top}if(r==\"nearest\"?e.left<h.left?(b=-(h.left-e.left+s),t>0&&e.right>h.right+b&&(b=e.right-h.right+b+s)):e.right>h.right&&(b=e.right-h.right+s,t<0&&e.left<h.left+b&&(b=-(h.left+b-e.left+s))):b=(r==\"center\"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r==\"start\"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,b||v)if(p)u.scrollBy(b,v);else{let w=0,k=0;if(v){let x=f.scrollTop;f.scrollTop+=v/m,k=(f.scrollTop-x)*m}if(b){let x=f.scrollLeft;f.scrollLeft+=b/g,w=(f.scrollLeft-x)*g}e={left:e.left-w,top:e.top-k,right:e.right-w,bottom:e.bottom-k},w&&Math.abs(w-b)<1&&(r=\"nearest\"),k&&Math.abs(k-v)<1&&(i=\"nearest\")}if(p)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function UG(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class KG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?wo(t):0),r,Math.min(e.focusOffset,r?wo(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Ac=null;function YE(n){if(n.setActive)return n.setActive();if(Ac)return n.focus(Ac);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ac==null?{get preventScroll(){return Ac={preventScroll:!0},!0}}:void 0),!Ac){Ac=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let QS;function tc(n,e,t=e){let r=QS||(QS=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function au(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent(\"keydown\",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent(\"keyup\",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function JG(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function GE(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function XG(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,wo(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable==\"false\"?r--:(t=i,r=wo(t))}else{if(t==n)return!0;r=ec(t),t=t.parentNode}}function QE(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function ZE(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable==\"false\")return null;t=t.childNodes[r-1],r=wo(t)}else if(t.parentNode&&!Xg(t))r=ec(t),t=t.parentNode;else return null}}function $E(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable==\"false\")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Xg(t))r=ec(t)+1,t=t.parentNode;else return null}}class ri{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new ri(e.parentNode,ec(e),t)}static after(e,t){return new ri(e.parentNode,ec(e)+1,t)}}const e2=[];class jn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError(\"Invalid child in posBefore\")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=jn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=ZS(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=ZS(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=wo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!jn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,f=r;l<this.children.length;l++){let d=this.children[l],h=u+d.length;if(u<e&&h>t)return d.domBoundsAround(e,t,u);if(h>=e&&i==-1&&(i=l,s=u),u>t&&d.dom.parentNode==this.dom){o=l,a=f;break}f=h,u=h+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=e2){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new e6(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace(\"View\",\"\");return e+(this.children.length?\"(\"+this.children.join()+\")\":this.length?\"[\"+(e==\"Text\"?this.text:this.length)+\"]\":\"\")+(this.breakAfter?\"#\":\"\")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}jn.prototype.breakAfter=0;function ZS(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class e6{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function t6(n,e,t,r,i,s,o,a,l){let{children:u}=n,f=u.length?u[e]:null,d=s.length?s[s.length-1]:null,h=d?d.breakAfter:o;if(!(e==r&&f&&!o&&!h&&s.length<2&&f.merge(t,i,s.length?d:null,t==0,a,l))){if(r<u.length){let p=u[r];p&&(i<p.length||p.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(p=p.split(i),i=0),!h&&d&&p.merge(0,i,d,!0,0,l)?s[s.length-1]=p:((i||p.children.length&&!p.children[0].length)&&p.merge(0,i,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(f&&(f.breakAfter=o,t>0&&(!o&&s.length&&f.merge(t,f.length,s[0],!1,a,0)?f.breakAfter=s.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function n6(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:u,off:f}=o.findPos(e,-1),d=e-t;for(let h of r)d+=h.length;n.length+=d,t6(n,u,f,a,l,r,0,i,s)}let Ii=typeof navigator<\"u\"?navigator:{userAgent:\"\",vendor:\"\",platform:\"\"},B1=typeof document<\"u\"?document:{documentElement:{style:{}}};const F1=/Edge\\/(\\d+)/.exec(Ii.userAgent),r6=/MSIE \\d/.test(Ii.userAgent),j1=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(Ii.userAgent),yv=!!(r6||j1||F1),$S=!yv&&/gecko\\/(\\d+)/i.test(Ii.userAgent),Ly=!yv&&/Chrome\\/(\\d+)/.exec(Ii.userAgent),e3=\"webkitFontSmoothing\"in B1.documentElement.style,i6=!yv&&/Apple Computer/.test(Ii.vendor),t3=i6&&(/Mobile\\/\\w+/.test(Ii.userAgent)||Ii.maxTouchPoints>2);var ft={mac:t3||/Mac/.test(Ii.platform),windows:/Win/.test(Ii.platform),linux:/Linux|X11/.test(Ii.platform),ie:yv,ie_version:r6?B1.documentMode||6:j1?+j1[1]:F1?+F1[1]:0,gecko:$S,gecko_version:$S?+(/Firefox\\/(\\d+)/.exec(Ii.userAgent)||[0,0])[1]:0,chrome:!!Ly,chrome_version:Ly?+Ly[1]:0,ios:t3,android:/Android\\b/.test(Ii.userAgent),webkit:e3,safari:i6,webkit_version:e3?+(/\\bAppleWebKit\\/(\\d+)/.exec(Ii.userAgent)||[0,0])[1]:0,tabSize:B1.documentElement.style.tabSize!=null?\"tab-size\":\"-moz-tab-size\"};const YG=256;class Ws extends jn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Ws)||this.length-(t-e)+r.length>YG||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:\"\")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ws(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ri(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return GG(this.dom,e,t)}}class da extends jn{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(GE(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof da&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(n6(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new da(this.mark,t,o)}domAtPos(e){return s6(this,e)}coordsAt(e,t){return a6(this,e,t)}}function GG(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?ft.chrome||ft.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=tc(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return ft.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?vv(l,o<0):l||null}class Fa extends jn{static create(e,t,r){return new Fa(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Fa.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable=\"false\"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof Fa)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Fa&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Sn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Sn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ri.before(this.dom):ri.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return vv(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Mu extends jn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Mu&&e.side==this.side}split(){return new Mu(this.side)}sync(){if(!this.dom){let e=document.createElement(\"img\");e.className=\"cm-widgetBuffer\",e.setAttribute(\"aria-hidden\",\"true\"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ri.before(this.dom):ri.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Sn.empty}get isHidden(){return!0}}Ws.prototype.children=Fa.prototype.children=Mu.prototype.children=e2;function s6(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new ri(t,0)}function o6(n,e,t){let r,{children:i}=n;t>0&&e instanceof da&&i.length&&(r=i[i.length-1])instanceof da&&r.mark.eq(e.mark)?o6(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function a6(n,e,t){let r=null,i=-1,s=null,o=-1;function a(u,f){for(let d=0,h=0;d<u.children.length&&h<=f;d++){let p=u.children[d],g=h+p.length;g>=f&&(p.children.length?a(p,f-h):(!s||s.isHidden&&t>0)&&(g>f||h==g&&p.getSide()>0)?(s=p,o=f-h):(h<f||h==g&&p.getSide()<0&&!p.isHidden)&&(r=p,i=f-h)),h=g}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):QG(n)}function QG(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Pd(e);return t[t.length-1]||null}function z1(n,e){for(let t in n)t==\"class\"&&e.class?e.class+=\" \"+n.class:t==\"style\"&&e.style?e.style+=\";\"+n.style:e[t]=n[t];return e}const n3=Object.create(null);function Yg(n,e,t){if(n==e)return!0;n||(n=n3),e||(e=n3);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function V1(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i==\"style\"?n.style.cssText=\"\":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i==\"style\"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function ZG(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class ll{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var xi=function(n){return n[n.Text=0]=\"Text\",n[n.WidgetBefore=1]=\"WidgetBefore\",n[n.WidgetAfter=2]=\"WidgetAfter\",n[n.WidgetRange=3]=\"WidgetRange\",n}(xi||(xi={}));class At extends $l{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new fh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new $a(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=l6(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new $a(e,r,i,t,e.widget||null,!0)}static line(e){return new dh(e)}static set(e,t=!1){return pn.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}At.none=pn.empty;class fh extends At{constructor(e){let{start:t,end:r}=l6(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||\"span\",this.class=e.class||\"\",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof fh&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Yg(this.attrs,e.attrs,\"class\")}range(e,t=e){if(e>=t)throw new RangeError(\"Mark decorations may not be empty\");return super.range(e,t)}}fh.prototype.point=!1;class dh extends At{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof dh&&this.spec.class==e.spec.class&&Yg(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError(\"Line decoration ranges must be zero-length\");return super.range(e,t)}}dh.prototype.mapMode=yi.TrackBefore;dh.prototype.point=!0;class $a extends At{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?yi.TrackBefore:yi.TrackAfter:yi.TrackDel}get type(){return this.startSide!=this.endSide?xi.WidgetRange:this.startSide<=0?xi.WidgetBefore:xi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $a&&$G(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError(\"Invalid range for replacement decoration\");if(!this.isReplace&&t!=e)throw new RangeError(\"Widget decorations can only have zero-length ranges\");return super.range(e,t)}}$a.prototype.point=!0;function l6(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function $G(n,e){return n==e||!!(n&&e&&n.compare(e))}function Xp(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class xr extends jn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof xr))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),n6(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new xr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Yg(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){o6(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=z1(t,this.attrs||{})),r&&(this.attrs=z1({class:r},this.attrs||{}))}domAtPos(e){return s6(this,e)}reuseDOM(e){e.nodeName==\"DIV\"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(GE(this.dom),this.dom.className=\"cm-line\",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement(\"div\")),this.dom.className=\"cm-line\",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(V1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(\"cm-line\"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&jn.get(i)instanceof da;)i=i.lastChild;if(!i||!this.length||i.nodeName!=\"BR\"&&((r=jn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ft.ios||!this.children.some(s=>s instanceof Ws))){let s=document.createElement(\"BR\");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Ws)||/[^ -~]/.test(r.text))return null;let i=Pd(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=a6(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof xr&&this.children.length==0&&e.children.length==0&&Yg(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof xr)return s;if(o>t)break}i=o+s.breakAfter}return null}}class ea extends jn{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof ea)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?ri.before(this.dom):ri.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new ea(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return e2}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable=\"false\"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Sn.empty}domBoundsAround(){return null}become(e){return e instanceof ea&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof H1?null:vv(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class H1 extends ll{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement(\"div\");return e.className=\"cm-gap\",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+\"px\",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Yf{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text=\"\",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ea&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new xr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Zh(new Mu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ea)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error(\"Ran out of text content when drawing inline views\");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Zh(new Ws(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof $a){if(r.block)throw new RangeError(\"Block decorations may not be specified via plugins\");if(t>this.doc.lineAt(this.pos).to)throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\")}let a=t-e;if(r instanceof $a)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ea(r.widget||Pu.block,a,r));else{let l=Fa.create(r.widget||Pu.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),f=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(d.append(Zh(new Mu(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(Zh(l,i),s),this.atCursorPos=f,this.pendingBuffer=f?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text=\"\",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new Yf(e,t,r,s);return o.openEnd=pn.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Zh(n,e){for(let t of e)n=new da(t,[n],n.length);return n}class Pu extends ll{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Pu.inline=new Pu(\"span\");Pu.block=new Pu(\"div\");var $n=function(n){return n[n.LTR=0]=\"LTR\",n[n.RTL=1]=\"RTL\",n}($n||($n={}));const nc=$n.LTR,t2=$n.RTL;function c6(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const eQ=c6(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\"),tQ=c6(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\"),q1=Object.create(null),Qs=[];for(let n of[\"()\",\"[]\",\"{}\"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);q1[e]=t,q1[t]=-e}function u6(n){return n<=247?eQ[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?tQ[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const nQ=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;class ja{get dir(){return this.level%2?t2:nc}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError(\"Index out of range\");return s}}function f6(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!f6(r.inner,i.inner))return!1}return!0}const Bn=[];function rQ(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let u=o,f=l,d=l;u<a;u++){let h=u6(n.charCodeAt(u));h==512?h=f:h==8&&d==4&&(h=16),Bn[u]=h==4?2:h,h&7&&(d=h),f=h}for(let u=o,f=l,d=l;u<a;u++){let h=Bn[u];if(h==128)u<a-1&&f==Bn[u+1]&&f&24?h=Bn[u]=f:Bn[u]=256;else if(h==64){let p=u+1;for(;p<a&&Bn[p]==64;)p++;let g=u&&f==8||p<t&&Bn[p]==8?d==1?1:8:256;for(let m=u;m<p;m++)Bn[m]=g;u=p-1}else h==8&&d==1&&(Bn[u]=1);f=h,h&7&&(d=h)}}}function iQ(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,f=o<r.length?r[o].from:t;for(let d=u,h,p,g;d<f;d++)if(p=q1[h=n.charCodeAt(d)])if(p<0){for(let m=a-3;m>=0;m-=3)if(Qs[m+1]==-p){let b=Qs[m+2],v=b&2?i:b&4?b&1?s:i:0;v&&(Bn[d]=Bn[Qs[m]]=v),a=m;break}}else{if(Qs.length==189)break;Qs[a++]=d,Qs[a++]=h,Qs[a++]=l}else if((g=Bn[d])==2||g==1){let m=g==i;l=m?0:1;for(let b=a-3;b>=0;b-=3){let v=Qs[b+2];if(v&2)break;if(m)Qs[b+2]|=2;else{if(v&4)break;Qs[b+2]|=4}}}}}function sQ(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let u=Bn[l];if(u==256){let f=l+1;for(;;)if(f==a){if(i==t.length)break;f=t[i++].to,a=i<t.length?t[i].from:e}else if(Bn[f]==256)f++;else break;let d=s==1,h=(f<e?Bn[f]:r)==1,p=d==h?d?1:2:r;for(let g=f,m=i,b=m?t[m-1].to:n;g>l;)g==b&&(g=t[--m].from,b=m?t[m-1].to:n),Bn[--g]=p;l=f}else s=u,l++}}}function W1(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<t;){let f=!0,d=!1;if(u==s.length||l<s[u].from){let m=Bn[l];m!=a&&(f=!1,d=m==16)}let h=!f&&a==1?[]:null,p=f?r:r+1,g=l;e:for(;;)if(u<s.length&&g==s[u].from){if(d)break e;let m=s[u];if(!f)for(let b=m.to,v=u+1;;){if(b==t)break e;if(v<s.length&&s[v].from==b)b=s[v++].to;else{if(Bn[b]==a)break e;break}}if(u++,h)h.push(m);else{m.from>l&&o.push(new ja(l,m.from,p));let b=m.direction==nc!=!(p%2);U1(n,b?r+1:r,i,m.inner,m.from,m.to,o),l=m.to}g=m.to}else{if(g==t||(f?Bn[g]!=a:Bn[g]==a))break;g++}h?W1(n,l,g,r+1,i,h,o):l<g&&o.push(new ja(l,g,p)),l=g}else for(let l=t,u=s.length;l>e;){let f=!0,d=!1;if(!u||l>s[u-1].to){let m=Bn[l-1];m!=a&&(f=!1,d=m==16)}let h=!f&&a==1?[]:null,p=f?r:r+1,g=l;e:for(;;)if(u&&g==s[u-1].to){if(d)break e;let m=s[--u];if(!f)for(let b=m.from,v=u;;){if(b==e)break e;if(v&&s[v-1].to==b)b=s[--v].from;else{if(Bn[b-1]==a)break e;break}}if(h)h.push(m);else{m.to<l&&o.push(new ja(m.to,l,p));let b=m.direction==nc!=!(p%2);U1(n,b?r+1:r,i,m.inner,m.from,m.to,o),l=m.from}g=m.from}else{if(g==e||(f?Bn[g-1]!=a:Bn[g-1]==a))break;g--}h?W1(n,g,l,r+1,i,h,o):g<l&&o.push(new ja(g,l,p)),l=g}}function U1(n,e,t,r,i,s,o){let a=e%2?2:1;rQ(n,i,s,r,a),iQ(n,i,s,r,a),sQ(i,s,r,a),W1(n,i,s,e,t,r,o)}function oQ(n,e,t){if(!n)return[new ja(0,0,e==t2?1:0)];if(e==nc&&!t.length&&!nQ.test(n))return d6(n.length);if(t.length)for(;n.length>Bn.length;)Bn[Bn.length]=256;let r=[],i=e==nc?0:1;return U1(n,i,i,t,0,n.length,r),r}function d6(n){return[new ja(0,n,0)]}let h6=\"\";function aQ(n,e,t,r,i){var s;let o=r.head-n.from,a=ja.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,t);if(o==u){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,t),u=l.side(i,t)}let f=$r(n.text,o,l.forward(i,t));(f<l.from||f>l.to)&&(f=u),h6=n.text.slice(Math.min(o,f),Math.max(o,f));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&f==u&&d.level+(i?0:1)<l.level?Oe.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):Oe.cursor(f+n.from,l.forward(i,t)?-1:1,l.level)}function lQ(n,e,t){for(let r=e;r<t;r++){let i=u6(n.charCodeAt(r));if(i==1)return nc;if(i==2||i==4)return t2}return nc}const p6=dt.define(),g6=dt.define(),m6=dt.define(),v6=dt.define(),K1=dt.define(),y6=dt.define(),b6=dt.define(),n2=dt.define(),r2=dt.define(),w6=dt.define({combine:n=>n.some(e=>e)}),x6=dt.define({combine:n=>n.some(e=>e)}),C6=dt.define();class lu{constructor(e,t=\"nearest\",r=\"nearest\",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new lu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new lu(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const $h=Yt.define({map:(n,e)=>n.map(e)}),S6=Yt.define();function wi(n,e,t){let r=n.facet(v6);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+\":\",e):console.error(e)}const zo=dt.define({combine:n=>n.length?n[0]:!0});let cQ=0;const If=dt.define();class fr{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new fr(cQ++,e,r,i,a=>{let l=[If.of(a)];return o&&l.push(Id.of(u=>{let f=u.plugin(a);return f?o(f):At.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return fr.define(r=>new e(r),t)}}class By{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(wi(t.state,r,\"CodeMirror plugin crashed\"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){wi(e.state,t,\"CodeMirror plugin crashed\"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){wi(e.state,r,\"CodeMirror plugin crashed\")}}deactivate(){this.spec=this.value=null}}const _6=dt.define(),i2=dt.define(),Id=dt.define(),k6=dt.define(),s2=dt.define(),A6=dt.define();function r3(n,e){let t=n.state.facet(A6);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return pn.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,f=o-e.from,d=i;for(let h=a.length-1;h>=0;h--,l--){let p=a[h].spec.bidiIsolate,g;if(p==null&&(p=lQ(e.text,u,f)),l>0&&d.length&&(g=d[d.length-1]).to==u&&g.direction==p)g.to=f,d=g.inner;else{let m={from:u,to:f,direction:p,inner:[]};d.push(m),d=m.inner}}}}),i}const O6=dt.define();function o2(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(O6)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Rf=dt.define();class fs{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new fs(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,f=l?l.fromB:1e9;for(;s<t.length&&t[s]<f;){let d=t[s],h=t[s+1],p=Math.max(a,d),g=Math.min(f,h);if(p<=g&&new fs(p+u,g+u,p,g).addToSet(r),h>f)break;s+=2}if(!l)return r;new fs(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Gg{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=_r.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new fs(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new Gg(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class i3 extends jn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=At.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new xr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new fs(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:f})=>f<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!mQ(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?fQ(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:f}=this.hasComposition;r=new fs(u,f,e.changes.mapPos(u,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ft.ie||ft.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=pQ(o,a,e.changes);return r=fs.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+\"px\",this.dom.style.flexBasis=this.minWidth?this.minWidth+\"px\":\"\";let o=ft.chrome||ft.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=\"\"}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof ea&&o.widget instanceof H1&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:f,toB:d}=a,h,p,g,m;if(r&&r.range.fromB<d&&r.range.toB>f){let x=Yf.build(this.view.state.doc,f,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=Yf.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);p=x.breakAtStart,g=x.openStart,m=C.openEnd;let T=this.compositionView(r);C.breakAtStart?T.breakAfter=1:C.content.length&&T.merge(T.length,T.length,C.content[0],!1,C.openStart,0)&&(T.breakAfter=C.content[0].breakAfter,C.content.shift()),x.content.length&&T.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),h=x.content.concat(T).concat(C.content)}else({content:h,breakAtStart:p,openStart:g,openEnd:m}=Yf.build(this.view.state.doc,f,d,this.decorations,this.dynamicDecorationMap));let{i:b,off:v}=s.findPos(u,1),{i:w,off:k}=s.findPos(l,-1);t6(this,w,k,b,v,h,p,g,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(S6)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Ws(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new da(i,[t],t.length);let r=new xr;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=jn.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(zo)||this.dom.tabIndex>-1)&&Jp(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ft.gecko&&a.empty&&!this.hasComposition&&uQ(l)){let d=document.createTextNode(\"\");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=u=new ri(d,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||(!Xf(l.node,l.offset,f.anchorNode,f.anchorOffset)||!Xf(u.node,u.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,a))&&(this.view.observer.ignore(()=>{ft.android&&ft.chrome&&this.dom.contains(f.focusNode)&&gQ(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Md(this.view.root);if(d)if(a.empty){if(ft.gecko){let h=dQ(l.node,l.offset);if(h&&h!=3){let p=(h==1?ZE:$E)(l.node,l.offset);p&&(l=new ri(p.node,p.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new ri(f.anchorNode,f.anchorOffset),this.impreciseHead=u.precise?null:new ri(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Xf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Md(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=xr.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let f=this.domAtPos(t.head+t.assoc);r.collapse(f.node,f.offset),r.modify(\"move\",t.assoc<0?\"forward\":\"backward\",\"lineboundary\"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=jn.get(t.childNodes[i]);s instanceof xr&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=jn.get(t.childNodes[i]);s instanceof xr&&(r=s.domAtPos(s.length))}return r?new ri(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=jn.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError(\"Trying to find position for a DOM position outside of the document\");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof xr)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof xr&&!(r instanceof xr&&t>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof ea&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof xr))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Ws))return null;let s=$r(i.text,r);if(s==r)return null;let o=tc(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==$n.LTR;for(let u=0,f=0;f<this.children.length;f++){let d=this.children[f],h=u+d.length;if(h>i)break;if(u>=r){let p=d.dom.getBoundingClientRect();if(t.push(p.height),o){let g=d.dom.lastChild,m=g?Pd(g):[];if(m.length){let b=m[m.length-1],v=l?b.right-p.left:p.right-b.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction==\"rtl\"?$n.RTL:$n.LTR}measureTextSize(){for(let s of this.children)if(s instanceof xr){let o=s.measureTextSize();if(o)return o}let e=document.createElement(\"div\"),t,r,i;return e.className=\"cm-line\",e.style.width=\"99999px\",e.style.position=\"absolute\",e.textContent=\"abc def ghi jkl mno pqr stu\",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Pd(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new e6(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(At.replace({widget:new H1(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return At.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Id).map(s=>(this.dynamicDecorationMap[e++]=typeof s==\"function\")?s(this.view):s),r=!1,i=this.view.state.facet(k6).map((s,o)=>{let a=typeof s==\"function\";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(pn.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(C6))try{if(u(this.view,e.range,e))return!0}catch(f){wi(this.view.state,f,\"scroll handler\")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=o2(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;WG(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==$n.LTR)}}function uQ(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable==\"false\")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable==\"false\")}function E6(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=ZE(t.focusNode,t.focusOffset),i=$E(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=jn.get(i.node);if(!a||a instanceof Ws&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=jn.get(r.node);!l||l instanceof Ws&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function fQ(n,e,t){let r=E6(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\\n\\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new fs(l.mapPos(s),l.mapPos(o),s,o),f=[];for(let d=i.parentNode;;d=d.parentNode){let h=jn.get(d);if(h instanceof da)f.push({node:d,deco:h.mark});else{if(h instanceof xr||d.nodeName==\"DIV\"&&d.parentNode==n.contentDOM)return{range:u,text:i,marks:f,line:d};if(d!=n.contentDOM)f.push({node:d,deco:new fh({inclusive:!0,attributes:ZG(d),tagName:d.tagName.toLowerCase()})});else return null}}}function dQ(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable==\"false\"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable==\"false\"?2:0)}let hQ=class{constructor(){this.changes=[]}compareRange(e,t){Xp(e,t,this.changes)}comparePoint(e,t){Xp(e,t,this.changes)}boundChange(e){Xp(e,e,this.changes)}};function pQ(n,e,t){let r=new hQ;return pn.compare(n,e,t,r),r.changes}function gQ(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable==\"false\")return!0;return!1}function mQ(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function vQ(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return Oe.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=$r(i.text,s,!1):a=$r(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=$r(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=$r(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return Oe.range(o+i.from,a+i.from)}function yQ(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function bQ(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Fy(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function s3(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function o3(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function J1(n,e,t){let r,i,s,o,a=!1,l,u,f,d;for(let g=n.firstChild;g;g=g.nextSibling){let m=Pd(g);for(let b=0;b<m.length;b++){let v=m[b];i&&Fy(i,v)&&(v=s3(o3(v,i.bottom),i.top));let w=yQ(e,v),k=bQ(t,v);if(w==0&&k==0)return g.nodeType==3?a3(g,e,t):J1(g,e,t);if(!r||o>k||o==k&&s>w){r=g,i=v,s=w,o=k;let x=k?t<v.top?-1:1:w?e<v.left?-1:1:0;a=!x||(x>0?b<m.length-1:b>0)}w==0?t>v.bottom&&(!f||f.bottom<v.bottom)?(l=g,f=v):t<v.top&&(!d||d.top>v.top)&&(u=g,d=v):f&&Fy(f,v)?f=o3(f,v.bottom):d&&Fy(d,v)&&(d=s3(d,v.top))}}if(f&&f.bottom>=t?(r=l,i=f):d&&d.top<=t&&(r=u,i=d),!r)return{node:n,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return a3(r,h,t);if(a&&r.contentEditable!=\"false\")return J1(r,h,t);let p=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:p}}function a3(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=tc(n,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(f.top==f.bottom)continue;o||(o=e-f.left);let d=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&d<s){let h=e>=(f.left+f.right)/2,p=h;if((ft.chrome||ft.gecko)&&tc(n,a).getBoundingClientRect().left==f.right&&(p=!h),d<=0)return{node:n,offset:a+(p?1:0)};i=a+(p?1:0),s=d}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function T6(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:f,y:d}=e,h=d-a;if(h<0)return 0;if(h>u)return n.state.doc.length;for(let x=n.viewState.heightOracle.textHeight/2,C=!1;l=n.elementAtHeight(h),l.type!=xi.Text;)for(;h=r>0?l.bottom+x:l.top-x,!(h>=0&&h<=u);){if(C)return t?null:0;C=!0,r=-r}d=a+h;let p=l.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:l3(n,o,l,f,d);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:l3(n,o,l,f,d);let g=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:g,b=m.elementFromPoint(f,d);b&&!n.contentDOM.contains(b)&&(b=null),b||(f=Math.max(o.left+1,Math.min(o.right-1,f)),b=m.elementFromPoint(f,d),b&&!n.contentDOM.contains(b)&&(b=null));let v,w=-1;if(b&&((i=n.docView.nearest(b))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let x=g.caretPositionFromPoint(f,d);x&&({offsetNode:v,offset:w}=x)}else if(g.caretRangeFromPoint){let x=g.caretRangeFromPoint(f,d);x&&({startContainer:v,startOffset:w}=x,(!n.contentDOM.contains(v)||ft.safari&&wQ(v,w,f)||ft.chrome&&xQ(v,w,f))&&(v=void 0))}v&&(w=Math.min(wo(v),w))}if(!v||!n.docView.dom.contains(v)){let x=xr.find(n.docView,p);if(!x)return h>l.top+l.height/2?l.to:l.from;({node:v,offset:w}=J1(x.dom,f,d))}let k=n.docView.nearest(v);if(!k)return null;if(k.isWidget&&((s=k.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=k.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(v,w)+k.posAtStart}function l3(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+R1(o,s,n.state.tabSize)}function wQ(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!=\"BR\")return!1;return tc(n,r-1,r).getBoundingClientRect().left>t}function xQ(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains(\"cm-line\"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():tc(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function X1(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==xi.Text))return r}return t}function CQ(n,e,t,r){let i=X1(n,e.head),s=!r||i.type!=xi.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==$n.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Oe.cursor(l,t?-1:1)}return Oe.cursor(t?i.to:i.from,t?-1:1)}function c3(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let u=aQ(i,s,o,a,t),f=h6;if(!u){if(i.number==(t?n.state.doc.lines:1))return a;f=`\n`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(l){if(!l(f))return a}else{if(!r)return u;l=r(f)}a=u}}function SQ(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==nr.Space&&(i=o),i==o}}function _Q(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return Oe.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,e.assoc||-1),f=n.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let p=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-p.from))),a=(s<0?p.top:p.bottom)+f}let d=l.left+o,h=r??n.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=a+(h+p)*s,m=T6(n,{x:d,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?m<i:m>i)){let b=n.docView.coordsForChar(m),v=!b||g<b.top?-1:1;return Oe.cursor(m,v,void 0,o)}}}function Yp(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function jy(n,e,t){let r=Yp(n.state.facet(s2).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:Oe.cursor(r,r<t.from?1:-1)}const Df=\"\";class kQ{constructor(e,t){this.points=e,this.text=\"\",this.lineSeparator=t.facet(cn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Df}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=jn.get(i),l=jn.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Xg(i))||Xg(o)&&(i.nodeName!=\"BR\"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\\r\\n?|\\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=jn.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName==\"BR\"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(AQ(e,r.node,r.offset)?t:0))}}function AQ(n,e,t){for(;;){if(!e||t<wo(e))return!1;if(e==n)return!0;t=ec(e)+1,e=e.parentNode}}class u3{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class OQ{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text=\"\",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:MQ(e),l=new kQ(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=PQ(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!L1(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!L1(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),f=e.viewport;if((ft.ios||ft.chrome)&&e.state.selection.main.empty&&l!=u&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(l,u),h=Math.max(l,u),p=f.from-d,g=f.to-h;(p==0||p==1||d==0)&&(g==0||g==-1||h==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Oe.single(u,l)}}}function M6(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||ft.android&&e.text.length<a-o)&&(l=i.to,u=\"end\");let f=TQ(n.state.doc.sliceString(o,a,Df),e.text,l-o,u);f&&(ft.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Df+Df&&f.toB--,t={from:o+f.from,to:o+f.toA,insert:Sn.of(e.text.slice(f.from,f.toB).split(Df))})}else r&&(!n.hasFocus&&n.state.facet(zo)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(ft.mac||ft.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute(\"autocorrect\")==\"off\"?(r&&t.insert.length==2&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Sn.of([t.insert.toString().replace(\".\",\" \")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:ft.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`\n `&&n.lineWrapping&&(r&&(r=Oe.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Sn.of([\" \"])}),t)return a2(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a=\"select\";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin==\"select\"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function a2(n,e,t,r=-1){if(ft.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ft.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==\" \")&&e.insert.length==1&&e.insert.lines==2&&au(n.contentDOM,\"Enter\",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&au(n.contentDOM,\"Backspace\",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&au(n.contentDOM,\"Delete\",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=EQ(n,e,t));return n.state.facet(y6).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function EQ(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):\"\",l=s.to>e.to?i.sliceDoc(e.to,s.to):\"\";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let u=n.state.sliceDoc(e.from,e.to),f,d=t&&E6(n,t.main.head);if(d){let g=e.insert.length-(e.to-e.from);f={from:d.from,to:d.to-g}}else f=n.state.doc.lineAt(s.head);let h=s.to-e.to,p=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let m=g.to-h,b=m-u.length;if(g.to-g.from!=p||n.state.sliceDoc(b,m)!=u||g.to>=f.from&&g.from<=f.to)return{range:g};let v=i.changes({from:b,to:m,insert:e.insert}),w=g.to-s.to;return{changes:v,range:l?Oe.range(Math.max(0,l.anchor+w),Math.max(0,l.head+w)):g.map(v)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o=\"input.type\";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=\".compose\",n.inputState.compositionFirstChange&&(o+=\".start\",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function TQ(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r==\"end\"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function MQ(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new u3(t,r)),(i!=t||s!=r)&&e.push(new u3(i,s))),e}function PQ(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?Oe.single(t+e,r+e):null}class IQ{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ft.safari&&e.contentDOM.addEventListener(\"input\",()=>null),ft.gecko&&XQ(e.contentDOM.ownerDocument)}handleEvent(e){!zQ(this.view,e)||this.ignoreDuringComposition(e)||e.type==\"keydown\"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=RQ(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!=\"scroll\"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!=\"scroll\"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&I6.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ft.android&&ft.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ft.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=P6.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||DQ.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key==\"Enter\"&&e&&e.from<e.to&&/^\\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,au(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ft.safari&&!ft.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function f3(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){wi(t.state,i)}}}function RQ(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&t(s).handlers.push(f3(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&t(s).observers.push(f3(r.value,o))}}for(let r in Us)t(r).handlers.push(Us[r]);for(let r in ys)t(r).observers.push(ys[r]);return e}const P6=[{key:\"Backspace\",keyCode:8,inputType:\"deleteContentBackward\"},{key:\"Enter\",keyCode:13,inputType:\"insertParagraph\"},{key:\"Enter\",keyCode:13,inputType:\"insertLineBreak\"},{key:\"Delete\",keyCode:46,inputType:\"deleteContentForward\"}],DQ=\"dthko\",I6=[16,17,18,20,91,92,224,225],ep=6;function tp(n){return Math.max(0,n)*.7+8}function NQ(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class LQ{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=UG(e.contentDOM),this.atoms=e.state.facet(s2).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener(\"mousemove\",this.move=this.move.bind(this)),s.addEventListener(\"mouseup\",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(cn.allowMultipleSelections)&&BQ(e,t),this.dragging=jQ(e,t)&&N6(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&NQ(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=o2(this.view);e.clientX-l.left<=i+ep?t=-tp(i-e.clientX):e.clientX+l.right>=o-ep&&(t=tp(e.clientX-o)),e.clientY-l.top<=s+ep?r=-tp(s-e.clientY):e.clientY+l.bottom>=a-ep&&(r=tp(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener(\"mousemove\",this.move),e.removeEventListener(\"mouseup\",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Yp(this.atoms,i.from,0);o!=i.from&&(s=Oe.cursor(o,-1))}else{let o=Yp(this.atoms,i.from,-1),a=Yp(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=Oe.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?Oe.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:\"select.pointer\"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent(\"input.type\"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function BQ(n,e){let t=n.state.facet(p6);return t.length?t[0](e):ft.mac?e.metaKey:e.ctrlKey}function FQ(n,e){let t=n.state.facet(g6);return t.length?t[0](e):ft.mac?!e.altKey:!e.ctrlKey}function jQ(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Md(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function zQ(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=jn.get(t))&&r.ignoreEvent(e))return!1;return!0}const Us=Object.create(null),ys=Object.create(null),R6=ft.ie&&ft.ie_version<15||ft.ios&&ft.webkit_version<604;function VQ(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement(\"textarea\"));t.style.cssText=\"position: fixed; left: -10000px; top: 10px\",t.focus(),setTimeout(()=>{n.focus(),t.remove(),D6(n,t.value)},50)}function bv(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function D6(n,e){e=bv(n.state,n2,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(Y1!=null&&t.selection.ranges.every(l=>l.empty)&&Y1==s.toString()){let l=-1;r=t.changeByRange(u=>{let f=t.doc.lineAt(u.from);if(f.from==l)return{range:u};l=f.from;let d=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:d},range:Oe.cursor(u.from+d.length)}})}else o?r=t.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Oe.cursor(l.from+u.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:\"input.paste\",scrollIntoView:!0})}ys.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Us.keydown=(n,e)=>(n.inputState.setSelectionOrigin(\"select\"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);ys.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin(\"select.pointer\")};ys.touchmove=n=>{n.inputState.setSelectionOrigin(\"select.pointer\")};Us.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(m6))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=WQ(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new LQ(n,e,t,r)),r&&n.observer.ignore(()=>{YE(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function d3(n,e,t,r){if(r==1)return Oe.cursor(e,t);if(r==2)return vQ(n.state,e,t);{let i=xr.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,Oe.range(o,a)}}let h3=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function HQ(n,e,t,r){let i=xr.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&h3(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&h3(t,r,a)?1:o&&o.bottom>=r?-1:1}function p3(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:HQ(n,t,e.clientX,e.clientY)}}const qQ=ft.ie&&ft.ie_version<=11;let g3=null,m3=0,v3=0;function N6(n){if(!qQ)return n.detail;let e=g3,t=v3;return g3=n,v3=Date.now(),m3=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(m3+1)%3:1}function WQ(n,e){let t=p3(n,e),r=N6(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=p3(n,s),u,f=d3(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let d=d3(n,t.pos,t.bias,r),h=Math.min(d.from,f.from),p=Math.max(d.to,f.to);f=h<f.from?Oe.range(h,p):Oe.range(p,h)}return o?i.replaceRange(i.main.extend(f.from,f.to)):a&&r==1&&i.ranges.length>1&&(u=UQ(i,l.pos))?u:a?i.addRange(f):Oe.create([f])}}}function UQ(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return Oe.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Us.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=Oe.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData(\"Text\",bv(n.state,r2,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed=\"copyMove\"),!1};Us.dragend=n=>(n.inputState.draggedContent=null,!1);function y3(n,e,t,r){if(t=bv(n.state,n2,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&FQ(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?\"move.drop\":\"input.drop\"}),n.inputState.draggedContent=null}Us.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&y3(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData(\"Text\");if(r)return y3(n,e,r,!0),!0}return!1};Us.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=R6?null:e.clipboardData;return t?(D6(n,t.getData(\"text/plain\")||t.getData(\"text/uri-list\")),!0):(VQ(n),!1)};function KQ(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement(\"textarea\"));r.style.cssText=\"position: fixed; left: -10000px; top: 10px\",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function JQ(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:bv(n,r2,e.join(n.lineBreak)),ranges:t,linewise:r}}let Y1=null;Us.copy=Us.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=JQ(n.state);if(!t&&!i)return!1;Y1=i?t:null,e.type==\"cut\"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:\"delete.cut\"});let s=R6?null:e.clipboardData;return s?(s.clearData(),s.setData(\"text/plain\",t),!0):(KQ(n,t),!1)};const L6=al.define();function B6(n,e){let t=[];for(let r of n.facet(b6)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:L6.of(!0)}):null}function F6(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=B6(n.state,e);t?n.dispatch(t):n.update([])}},10)}ys.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),F6(n)};ys.blur=n=>{n.observer.clearSelectionRange(),F6(n)};ys.compositionstart=ys.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};ys.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ft.chrome&&ft.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};ys.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Us.beforeinput=(n,e)=>{var t,r;if(e.inputType==\"insertReplacementText\"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData(\"text/plain\"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),u=n.posAtDOM(a.endContainer,a.endOffset);return a2(n,{from:l,to:u,insert:n.state.toText(s)},null),!0}}let i;if(ft.chrome&&ft.android&&(i=P6.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key==\"Backspace\"||i.key==\"Delete\")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ft.ios&&e.inputType==\"deleteContentForward\"&&n.observer.flushSoon(),ft.safari&&e.inputType==\"insertText\"&&n.inputState.composing>=0&&setTimeout(()=>ys.compositionend(n,e),20),!1};const b3=new Set;function XQ(n){b3.has(n)||(b3.add(n),n.addEventListener(\"copy\",()=>{}),n.addEventListener(\"cut\",()=>{}))}const w3=[\"pre-wrap\",\"normal\",\"pre-line\",\"break-spaces\"];let Iu=!1;function x3(){Iu=!1}class YQ{constructor(e){this.lineWrapping=e,this.doc=Sn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return w3.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=w3.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let f=o[u];f<0?u++:this.heightSamples[Math.floor(f*10)]=!0}}return l}}class GQ{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class so{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content==\"number\"?xi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $a?this._content.widget:null}get widgetLineBreaks(){return typeof this._content==\"number\"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new so(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Qn=function(n){return n[n.ByPos=0]=\"ByPos\",n[n.ByHeight=1]=\"ByHeight\",n[n.ByPosNoHeight=2]=\"ByPosNoHeight\",n}(Qn||(Qn={}));const Gp=.001;class Ci{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Gp&&(Iu=!0),this.height=e)}replace(e,t,r){return Ci.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:f,toB:d}=i[a],h=s.lineAt(l,Qn.ByPosNoHeight,r.setDoc(t),0,0),p=h.to>=u?h:s.lineAt(u,Qn.ByPosNoHeight,r,0,0);for(d+=p.to-u,u=p.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,f=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,Qn.ByPosNoHeight,r,0,0));f+=h.from-l,l=h.from;let g=l2.build(r.setDoc(o),e,f,d);s=Qg(s,s.replace(l,u,g))}return s.updateHeight(r,0)}static empty(){return new Hi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new QQ(Ci.of(e.slice(0,t)),o,Ci.of(e.slice(r)))}}function Qg(n,e){return n==e?n:(n.constructor!=e.constructor&&(Iu=!0),e)}Ci.prototype.size=1;class j6 extends Ci{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new so(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Hi extends j6{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new so(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Hi||i instanceof Jr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Jr?i=new Hi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ci.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:\"\"}${this.widgetHeight?\":\"+this.widgetHeight:\"\"})`}}class Jr extends Ci{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=t.doc.lineAt(u),d=a+f.length*l,h=Math.max(r,e-d/2);return new so(f.from,f.length,h,d,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:f,length:d}=t.doc.line(s+u);return new so(f,d,r+a*u,a,0)}}lineAt(e,t,r,i,s){if(t==Qn.ByHeight)return this.blockAt(e,r,i,s);if(t==Qn.ByPosNoHeight){let{from:p,to:g}=r.doc.lineAt(e);return new so(p,g-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),f=a+u.length*l,d=u.number-o,h=i+a*d+l*(u.from-s-d);return new so(u.from,u.length,Math.max(i,Math.min(h,i+this.height-f)),f,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let f=e,d=i;f<=t;){let h=r.doc.lineAt(f);if(f==e){let g=h.number-a;d+=l*g+u*(e-s-g)}let p=l+u*h.length;o(new so(h.from,h.length,d,p,0)),d+=p,f=h.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof Jr?r[r.length-1]=new Jr(s.length+i):r.push(null,new Jr(i-1))}if(e>0){let s=r[0];s instanceof Jr?r[0]=new Jr(e+s.length):r.unshift(new Jr(e-1),null)}return Ci.of(r)}decomposeLeft(e,t){t.push(new Jr(e-1),null)}decomposeRight(e,t){t.push(null,new Jr(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new Jr(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let f=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=Gp&&(l=-2);let h=new Hi(f,d);h.outdated=!1,o.push(h),a+=f+1}a<=s&&o.push(null,new Jr(s-a).updateHeight(e,a));let u=Ci.of(o);return(l<0||Math.abs(u.height-this.height)>=Gp||Math.abs(l-this.heightMetrics(e,t).perLine)>=Gp)&&(Iu=!0),Qg(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class QQ extends Ci{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Qn.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let f=t==Qn.ByPosNoHeight?Qn.ByPosNoHeight:Qn.ByPos;return l?u.join(this.right.lineAt(a,f,r,o,a)):this.left.lineAt(a,f,r,i,s).join(u)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let u=this.lineAt(l,Qn.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&C3(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),C3(s,a)}return Ci.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Ci.of(this.break?[e,null,t]:[e,t]):(this.left=Qg(this.left,e),this.right=Qg(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?\" \":\"-\")+this.right}}function C3(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Jr&&(r=n[e+1])instanceof Jr&&n.splice(e-1,3,new Jr(t.length+1+r.length))}const ZQ=5;class l2{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Hi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Hi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new j6(o,i,r)):(o||s||i>=ZQ)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Hi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Jr(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Hi)return e;let t=new Hi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Hi)&&!this.isCovered?this.nodes.push(new Hi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Hi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new l2(r,e);return pn.spans(t,r,i,s,0),s.finish(r)}}function $Q(n,e,t){let r=new eZ;return pn.compare(n,e,t,r,0),r.changes}class eZ{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Xp(e,t,this.changes,5)}}function tZ(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let f=u,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!=\"visible\"){let h=f.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(u==n.parentNode?i.innerHeight:l,h.bottom)}u=d.position==\"absolute\"||d.position==\"fixed\"?f.offsetParent:f.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function nZ(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function rZ(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class zy{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return At.replace({widget:new iZ(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class iZ extends ll{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement(\"div\");return this.vertical?e.style.height=this.size+\"px\":(e.style.width=this.size+\"px\",e.style.height=\"2px\",e.style.display=\"inline-block\"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class S3{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=_3,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=$n.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(i2).some(r=>typeof r!=\"function\"&&r.class==\"cm-lineWrapping\");this.heightOracle=new YQ(t),this.stateDeco=e.facet(Id).filter(r=>typeof r!=\"function\"),this.heightMap=Ci.empty().applyChanges(this.stateDeco,Sn.empty,this.heightOracle.setDoc(e.doc),[new fs(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=At.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new np(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?_3:new c2(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Nf(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Id).filter(f=>typeof f!=\"function\");let i=e.changedRanges,s=fs.extendWithRanges(i,$Q(r,this.stateDeco,e?e.changes:_r.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);x3(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Iu)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(x6)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction==\"rtl\"?$n.RTL:$n.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,f=0;if(a.width&&a.height){let{scaleX:x,scaleY:C}=XE(t,a);(x>.005&&Math.abs(this.scaleX-x)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=x,this.scaleY=C,u|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=QE(e.scrollDOM);let g=(this.printing?rZ:tZ)(t,this.paddingTop),m=g.top-this.pixelViewport.top,b=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!nZ(e.dom))return 0;let w=a.width;if((this.contentDOMWidth!=w||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(w-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:T,textHeight:A}=e.docView.measureTextSize();o=C>0&&i.refresh(s,C,T,A,w/T,x),o&&(e.docView.minWidth=0,u|=16)}m>0&&b>0?f=Math.max(m,b):m<0&&b<0&&(f=Math.min(m,b)),x3();for(let C of this.viewports){let T=C.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?Ci.empty().applyChanges(this.stateDeco,Sn.empty,this.heightOracle,[new fs(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new GQ(C.from,T))}Iu&&(u|=2)}let k=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),u|=this.updateForViewport()),(u&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new np(i.lineAt(o-r*1e3,Qn.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Qn.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,Qn.ByPos,s,0,0),h;t.y==\"center\"?h=(d.top+d.bottom)/2-f/2:t.y==\"start\"||t.y==\"nearest\"&&u<l.from?h=d.top:h=d.bottom-f,l=new np(i.lineAt(h-1e3/2,Qn.ByHeight,s,0,0).from,i.lineAt(h+f+1e3/2,Qn.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new np(this.heightMap.lineAt(r,Qn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Qn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Qn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Qn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new zy(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=$n.LTR&&!r)return[];let a=[],l=(f,d,h,p)=>{if(d-f<s)return;let g=this.state.selection.main,m=[g.from];g.empty||m.push(g.to);for(let v of m)if(v>f&&v<d){l(f,v-10,h,p),l(v+10,d,h,p);return}let b=oZ(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-f)<s&&Math.abs(v.to-d)<s&&!m.some(w=>v.from<w&&v.to>w));if(!b){if(d<h.to&&t&&r&&t.visibleRanges.some(k=>k.from<=d&&k.to>=d)){let k=t.moveToLineBoundary(Oe.cursor(d),!1,!0).head;k>f&&(d=k)}let v=this.gapSize(h,f,d,p),w=r||v<2e6?v:2e6;b=new zy(f,d,v,w)}a.push(b)},u=f=>{if(f.length<o||f.type!=xi.Text)return;let d=sZ(f.from,f.to,this.stateDeco);if(d.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,p,g;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,v;if(h!=null){let w=ip(d,h),k=((this.visibleBottom-this.visibleTop)/2+m)/f.height;b=w-k,v=w+k}else b=(this.visibleTop-f.top-m)/f.height,v=(this.visibleBottom-f.top+m)/f.height;p=rp(d,b),g=rp(d,v)}else{let m=d.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,v=0;if(m>2e6)for(let T of e)T.from>=f.from&&T.from<f.to&&T.size!=T.displaySize&&T.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=T.size-T.displaySize);let w=this.pixelViewport.left+v,k=this.pixelViewport.right+v,x,C;if(h!=null){let T=ip(d,h),A=((k-w)/2+b)/m;x=T-A,C=T+A}else x=(w-b)/m,C=(k+b)/m;p=rp(d,x),g=rp(d,C)}p>f.from&&l(f.from,p,f,d),g<f.to&&l(g,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(u):u(f);return a}gapSize(e,t,r,i){let s=ip(i,r)-ip(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){zy.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=At.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];pn.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Nf(this.heightMap.lineAt(e,Qn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Nf(this.heightMap.lineAt(this.scaler.fromDOM(e),Qn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Nf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class np{constructor(e,t){this.from=e,this.to=t}}function sZ(n,e,t){let r=[],i=n,s=0;return pn.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function rp({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function ip(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function oZ(n,e){for(let t of n)if(e(t))return t}const _3={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class c2{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=t.lineAt(a,Qn.ByPos,e,0,0).top,f=t.lineAt(l,Qn.ByPos,e,0,0).bottom;return i+=f-u,{from:a,to:l,top:u,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof c2?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Nf(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new so(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Nf(i,e)):n._content)}const sp=dt.define({combine:n=>n.join(\" \")}),G1=dt.define({combine:n=>n.indexOf(!0)>-1}),Q1=Qa.newName(),z6=Qa.newName(),V6=Qa.newName(),H6={\"&light\":\".\"+z6,\"&dark\":\".\"+V6};function Z1(n,e,t){return new Qa(e,{finish(r){return/&/.test(r)?r.replace(/&\\w*/,i=>{if(i==\"&\")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+\" \"+r}})}const aZ=Z1(\".\"+Q1,{\"&\":{position:\"relative !important\",boxSizing:\"border-box\",\"&.cm-focused\":{outline:\"1px dotted #212121\"},display:\"flex !important\",flexDirection:\"column\"},\".cm-scroller\":{display:\"flex !important\",alignItems:\"flex-start !important\",fontFamily:\"monospace\",lineHeight:1.4,height:\"100%\",overflowX:\"auto\",position:\"relative\",zIndex:0,overflowAnchor:\"none\"},\".cm-content\":{margin:0,flexGrow:2,flexShrink:0,display:\"block\",whiteSpace:\"pre\",wordWrap:\"normal\",boxSizing:\"border-box\",minHeight:\"100%\",padding:\"4px 0\",outline:\"none\",\"&[contenteditable=true]\":{WebkitUserModify:\"read-write-plaintext-only\"}},\".cm-lineWrapping\":{whiteSpace_fallback:\"pre-wrap\",whiteSpace:\"break-spaces\",wordBreak:\"break-word\",overflowWrap:\"anywhere\",flexShrink:1},\"&light .cm-content\":{caretColor:\"black\"},\"&dark .cm-content\":{caretColor:\"white\"},\".cm-line\":{display:\"block\",padding:\"0 2px 0 6px\"},\".cm-layer\":{position:\"absolute\",left:0,top:0,contain:\"size style\",\"& > *\":{position:\"absolute\"}},\"&light .cm-selectionBackground\":{background:\"#d9d9d9\"},\"&dark .cm-selectionBackground\":{background:\"#222\"},\"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\":{background:\"#d7d4f0\"},\"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\":{background:\"#233\"},\".cm-cursorLayer\":{pointerEvents:\"none\"},\"&.cm-focused > .cm-scroller > .cm-cursorLayer\":{animation:\"steps(1) cm-blink 1.2s infinite\"},\"@keyframes cm-blink\":{\"0%\":{},\"50%\":{opacity:0},\"100%\":{}},\"@keyframes cm-blink2\":{\"0%\":{},\"50%\":{opacity:0},\"100%\":{}},\".cm-cursor, .cm-dropCursor\":{borderLeft:\"1.2px solid black\",marginLeft:\"-0.6px\",pointerEvents:\"none\"},\".cm-cursor\":{display:\"none\"},\"&dark .cm-cursor\":{borderLeftColor:\"#ddd\"},\".cm-dropCursor\":{position:\"absolute\"},\"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor\":{display:\"block\"},\".cm-iso\":{unicodeBidi:\"isolate\"},\".cm-announced\":{position:\"fixed\",top:\"-10000px\"},\"@media print\":{\".cm-announced\":{display:\"none\"}},\"&light .cm-activeLine\":{backgroundColor:\"#cceeff44\"},\"&dark .cm-activeLine\":{backgroundColor:\"#99eeff33\"},\"&light .cm-specialChar\":{color:\"red\"},\"&dark .cm-specialChar\":{color:\"#f78\"},\".cm-gutters\":{flexShrink:0,display:\"flex\",height:\"100%\",boxSizing:\"border-box\",insetInlineStart:0,zIndex:200},\"&light .cm-gutters\":{backgroundColor:\"#f5f5f5\",color:\"#6c6c6c\",borderRight:\"1px solid #ddd\"},\"&dark .cm-gutters\":{backgroundColor:\"#333338\",color:\"#ccc\"},\".cm-gutter\":{display:\"flex !important\",flexDirection:\"column\",flexShrink:0,boxSizing:\"border-box\",minHeight:\"100%\",overflow:\"hidden\"},\".cm-gutterElement\":{boxSizing:\"border-box\"},\".cm-lineNumbers .cm-gutterElement\":{padding:\"0 3px 0 5px\",minWidth:\"20px\",textAlign:\"right\",whiteSpace:\"nowrap\"},\"&light .cm-activeLineGutter\":{backgroundColor:\"#e2f2ff\"},\"&dark .cm-activeLineGutter\":{backgroundColor:\"#222227\"},\".cm-panels\":{boxSizing:\"border-box\",position:\"sticky\",left:0,right:0,zIndex:300},\"&light .cm-panels\":{backgroundColor:\"#f5f5f5\",color:\"black\"},\"&light .cm-panels-top\":{borderBottom:\"1px solid #ddd\"},\"&light .cm-panels-bottom\":{borderTop:\"1px solid #ddd\"},\"&dark .cm-panels\":{backgroundColor:\"#333338\",color:\"white\"},\".cm-tab\":{display:\"inline-block\",overflow:\"hidden\",verticalAlign:\"bottom\"},\".cm-widgetBuffer\":{verticalAlign:\"text-top\",height:\"1em\",width:0,display:\"inline\"},\".cm-placeholder\":{color:\"#888\",display:\"inline-block\",verticalAlign:\"top\"},\".cm-highlightSpace\":{backgroundImage:\"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)\",backgroundPosition:\"center\"},\".cm-highlightTab\":{backgroundImage:`url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"20\"><path stroke=\"%23888\" stroke-width=\"1\" fill=\"none\" d=\"M1 10H196L190 5M190 15L196 10M197 4L197 16\"/></svg>')`,backgroundSize:\"auto 100%\",backgroundPosition:\"right 90%\",backgroundRepeat:\"no-repeat\"},\".cm-trailingSpace\":{backgroundColor:\"#ff332255\"},\".cm-button\":{verticalAlign:\"middle\",color:\"inherit\",fontSize:\"70%\",padding:\".2em 1em\",borderRadius:\"1px\"},\"&light .cm-button\":{backgroundImage:\"linear-gradient(#eff1f5, #d9d9df)\",border:\"1px solid #888\",\"&:active\":{backgroundImage:\"linear-gradient(#b4b4b4, #d0d3d6)\"}},\"&dark .cm-button\":{backgroundImage:\"linear-gradient(#393939, #111)\",border:\"1px solid #888\",\"&:active\":{backgroundImage:\"linear-gradient(#111, #333)\"}},\".cm-textfield\":{verticalAlign:\"middle\",color:\"inherit\",fontSize:\"70%\",border:\"1px solid silver\",padding:\".2em .5em\"},\"&light .cm-textfield\":{backgroundColor:\"white\"},\"&dark .cm-textfield\":{border:\"1px solid #555\",backgroundColor:\"inherit\"}},H6),lZ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Vy=ft.ie&&ft.ie_version<=11;class cZ{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new KG,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ft.ie&&ft.ie_version<=11||ft.ios&&e.composing)&&t.some(r=>r.type==\"childList\"&&r.removedNodes.length||r.type==\"characterData\"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ft.chrome&&ft.chrome_version<126)&&(this.editContext=new fZ(e),e.state.facet(zo)&&(e.contentDOM.editContext=this.editContext.editContext)),Vy&&(this.onCharData=t=>{this.queue.push({target:t.target,type:\"characterData\",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia(\"print\")),typeof ResizeObserver==\"function\"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver==\"function\"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent(\"Event\")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent(\"Event\"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers(\"scroll\",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type==\"change\"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(zo)?r.root.activeElement!=this.dom:!Jp(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ft.ie&&ft.ie_version<=11||ft.android&&ft.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Xf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Md(e.root);if(!t)return!1;let r=ft.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&uZ(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Jp(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&XG(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener(\"scroll\",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener(\"scroll\",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,lZ),Vy&&this.dom.addEventListener(\"DOMCharacterDataModified\",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Vy&&this.dom.removeEventListener(\"DOMCharacterDataModified\",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&au(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e==\"Enter\")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Jp(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new OQ(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=M6(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type==\"attributes\"),e.type==\"attributes\"&&(t.flags|=4),e.type==\"childList\"){let r=k3(t,e.previousSibling||e.target.previousSibling,-1),i=k3(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type==\"characterData\"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener(\"resize\",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener(\"change\",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener(\"beforeprint\",this.onPrint),e.addEventListener(\"scroll\",this.onScroll),e.document.addEventListener(\"selectionchange\",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener(\"scroll\",this.onScroll),e.removeEventListener(\"resize\",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener(\"change\",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener(\"beforeprint\",this.onPrint),e.document.removeEventListener(\"selectionchange\",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(zo)!=e.state.facet(zo)&&(e.view.contentDOM.editContext=e.state.facet(zo)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener(\"scroll\",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function k3(n,e,t){for(;e;){let r=jn.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function A3(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return Xf(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function uZ(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return A3(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener(\"beforeinput\",r,!0),n.dom.ownerDocument.execCommand(\"indent\"),n.contentDOM.removeEventListener(\"beforeinput\",r,!0),t?A3(n,t):null}class fZ{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u={from:a,to:l,insert:Sn.of(r.text.split(`\n`))};if(u.from==this.from&&s<this.from?u.from=s:u.to==this.to&&s>this.to&&(u.to=s),u.from==u.to&&!u.insert.length){let f=Oe.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));f.main.eq(i)||e.dispatch({selection:f,userEvent:\"select\"});return}if((ft.mac||ft.android)&&u.from==o-1&&/^\\. ?$/.test(r.text)&&e.contentDOM.getAttribute(\"autocorrect\")==\"off\"&&(u={from:a,to:l,insert:Sn.of([r.text.replace(\".\",\" \")])}),this.pendingContextChange=u,!e.state.readOnly){let f=this.to-this.from+(u.to-u.from+u.insert.length);a2(e,u,Oe.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!=\"None\"&&a!=\"None\"){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let f=`text-decoration: underline ${o==\"Dashed\"?\"dashed \":o==\"Squiggle\"?\"wavy \":\"\"}${a==\"Thin\"?1:2}px`;i.push(At.mark({attributes:{style:f}}).range(l,u))}}}e.dispatch({effects:S6.of(At.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Md(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let f=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=f}t+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(r=>!r.isUserEvent(\"input.type\")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ct{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement(\"div\"),this.scrollDOM=document.createElement(\"div\"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className=\"cm-scroller\",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement(\"div\"),this.announceDOM.className=\"cm-announced\",this.announceDOM.setAttribute(\"aria-live\",\"polite\"),this.dom=document.createElement(\"div\"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||JG(e.parent)||document,this.viewState=new S3(e.state||cn.create(e)),e.scrollTo&&e.scrollTo.is($h)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(If).map(i=>new By(i));for(let i of this.plugins)i.update(this);this.observer=new cZ(this),this.inputState=new IQ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new i3(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ii?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");let t=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(L6))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=B6(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,f=null;if(u?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(cn.phrases)!=this.state.facet(cn.phrases))return this.setState(s);i=Gg.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;d=new lu(p.empty?p:Oe.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is($h)&&(d=p.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=Zg.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Rf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent(\"select.pointer\")))}finally{this.updateState=0}if(i.startState.facet(sp)!=i.state.facet(sp)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(K1))try{h(i)}catch(p){wi(this.state,p,\"update listener\")}(l||f)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),f&&!M6(this,f)&&u.force&&au(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new S3(e),this.plugins=e.facet(If).map(r=>new By(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new i3(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(If),r=e.state.facet(If);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new By(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){wi(this.state,r,\"doc view update listener\")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(QE(r))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?\"Measure loop restarted more than 5 times\":\"Viewport failed to stabilize\");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(p=>{try{return p.read(this)}catch(g){return wi(this.state,g),O3}}),d=Gg.create(this,this.state,[]),h=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d),h&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(f[p]!=O3)try{let g=u[p];g.write&&g.write(f[p],this)}catch(g){wi(this.state,g)}if(h&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(K1))a(t)}get themeClasses(){return Q1+\" \"+(this.state.facet(G1)?V6:z6)+\" \"+this.state.facet(sp)}updateAttrs(){let e=E3(this,_6,{class:\"cm-editor\"+(this.hasFocus?\" cm-focused \":\" \")+this.themeClasses}),t={spellcheck:\"false\",autocorrect:\"off\",autocapitalize:\"off\",writingsuggestions:\"false\",translate:\"no\",contenteditable:this.state.facet(zo)?\"true\":\"false\",class:\"cm-content\",style:`${ft.tabSize}: ${this.state.tabSize}`,role:\"textbox\",\"aria-multiline\":\"true\"};this.state.readOnly&&(t[\"aria-readonly\"]=\"true\"),E3(this,i2,t);let r=this.observer.ignore(()=>{let i=V1(this.contentDOM,this.contentAttrs,t),s=V1(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ct.announce)){t&&(this.announceDOM.textContent=\"\"),t=!1;let s=this.announceDOM.appendChild(document.createElement(\"div\"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Rf);let e=this.state.facet(ct.cspNonce);Qa.mount(this.root,this.styleModules.concat(aZ).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error(\"Reading the editor layout isn't allowed during an update\");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return jy(this,e,c3(this,e,t,r))}moveByGroup(e,t){return jy(this,e,c3(this,e,t,r=>SQ(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return Oe.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return CQ(this,e,t,r)}moveVertically(e,t,r){return jy(this,e,_Q(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),T6(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[ja.find(s,e-i.from,-1,t)];return vv(r,o.dir==$n.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(w6)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>dZ)return d6(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||f6(s.isolates,r=r3(this,e))))return s.order;r||(r=r3(this,e));let i=oQ(e.text,t,r);return this.bidiCache.push(new Zg(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ft.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{YE(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return $h.of(new lu(typeof e==\"number\"?Oe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return $h.of(new lu(Oe.cursor(r.from),\"start\",\"start\",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e==\"boolean\"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return fr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return fr.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Qa.newName(),i=[sp.of(r),Rf.of(Z1(`.${r}`,e))];return t&&t.dark&&i.push(G1.of(!0)),i}static baseTheme(e){return fc.lowest(Rf.of(Z1(\".\"+Q1,e,H6)))}static findFromDOM(e){var t;let r=e.querySelector(\".cm-content\"),i=r&&jn.get(r)||jn.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}ct.styleModule=Rf;ct.inputHandler=y6;ct.clipboardInputFilter=n2;ct.clipboardOutputFilter=r2;ct.scrollHandler=C6;ct.focusChangeEffect=b6;ct.perLineTextDirection=w6;ct.exceptionSink=v6;ct.updateListener=K1;ct.editable=zo;ct.mouseSelectionStyle=m6;ct.dragMovesSelection=g6;ct.clickAddsSelectionRange=p6;ct.decorations=Id;ct.outerDecorations=k6;ct.atomicRanges=s2;ct.bidiIsolatedRanges=A6;ct.scrollMargins=O6;ct.darkTheme=G1;ct.cspNonce=dt.define({combine:n=>n.length?n[0]:\"\"});ct.contentAttributes=i2;ct.editorAttributes=_6;ct.lineWrapping=ct.contentAttributes.of({class:\"cm-lineWrapping\"});ct.announce=Yt.define();const dZ=4096,O3={};class Zg{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:$n.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new Zg(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function E3(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s==\"function\"?s(n):s;o&&z1(o,t)}return t}const hZ=ft.mac?\"mac\":ft.windows?\"win\":ft.linux?\"linux\":\"key\";function pZ(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r==\"Space\"&&(r=\" \");let i,s,o,a;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e==\"mac\"?a=!0:s=!0;else throw new Error(\"Unrecognized modifier name: \"+u)}return i&&(r=\"Alt-\"+r),s&&(r=\"Ctrl-\"+r),a&&(r=\"Meta-\"+r),o&&(r=\"Shift-\"+r),r}function op(n,e,t){return e.altKey&&(n=\"Alt-\"+n),e.ctrlKey&&(n=\"Ctrl-\"+n),e.metaKey&&(n=\"Meta-\"+n),t!==!1&&e.shiftKey&&(n=\"Shift-\"+n),n}const gZ=fc.default(ct.domEventHandlers({keydown(n,e){return W6(q6(e.state),n,e,\"editor\")}})),$g=dt.define({enables:gZ}),T3=new WeakMap;function q6(n){let e=n.facet($g),t=T3.get(e);return t||T3.set(e,t=yZ(e.reduce((r,i)=>r.concat(i),[]))),t}function mZ(n,e,t){return W6(q6(n.state),e,n,t)}let Ra=null;const vZ=4e3;function yZ(n,e=hZ){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error(\"Key binding \"+o+\" is used both as a regular binding and as a multi-stroke prefix\")},s=(o,a,l,u,f)=>{var d,h;let p=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(v=>pZ(v,e));for(let v=1;v<g.length;v++){let w=g.slice(0,v).join(\" \");i(w,!0),p[w]||(p[w]={preventDefault:!0,stopPropagation:!1,run:[k=>{let x=Ra={view:k,prefix:w,scope:o};return setTimeout(()=>{Ra==x&&(Ra=null)},vZ),!0}]})}let m=g.join(\" \");i(m,!1);let b=p[m]||(p[m]={preventDefault:!1,stopPropagation:!1,run:((h=(d=p._any)===null||d===void 0?void 0:d.run)===null||h===void 0?void 0:h.slice())||[]});l&&b.run.push(l),u&&(b.preventDefault=!0),f&&(b.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(\" \"):[\"editor\"];if(o.any)for(let u of a){let f=t[u]||(t[u]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let h in f)f[h].run.push(p=>d(p,$1))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,\"Shift-\"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let $1=null;function W6(n,e,t,r){$1=e;let i=HG(e),s=Pi(i,0),o=io(s)==i.length&&i!=\" \",a=\"\",l=!1,u=!1,f=!1;Ra&&Ra.view==t&&Ra.scope==r&&(a=Ra.prefix+\" \",I6.indexOf(e.keyCode)<0&&(u=!0,Ra=null));let d=new Set,h=b=>{if(b){for(let v of b.run)if(!d.has(v)&&(d.add(v),v(t)))return b.stopPropagation&&(f=!0),!0;b.preventDefault&&(b.stopPropagation&&(f=!0),u=!0)}return!1},p=n[r],g,m;return p&&(h(p[a+op(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ft.windows&&e.ctrlKey&&e.altKey)&&(g=Za[e.keyCode])&&g!=i?(h(p[a+op(g,e,!0)])||e.shiftKey&&(m=Td[e.keyCode])!=i&&m!=g&&h(p[a+op(m,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(p[a+op(i,e,!0)])&&(l=!0),!l&&h(p._any)&&(l=!0)),u&&(l=!0),l&&f&&e.stopPropagation(),$1=null,l}class hh{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement(\"div\");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+\"px\",e.style.top=this.top+\"px\",this.width!=null&&(e.style.width=this.width+\"px\"),e.style.height=this.height+\"px\"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=U6(e);return[new hh(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return bZ(e,t,r)}}function U6(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==$n.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function M3(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function bZ(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==$n.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=U6(n),u=o.querySelector(\".cm-line\"),f=u&&window.getComputedStyle(u),d=a.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),h=a.right-(f?parseInt(f.paddingRight):0),p=X1(n,r),g=X1(n,i),m=p.type==xi.Text?p:null,b=g.type==xi.Text?g:null;if(m&&(n.lineWrapping||p.widgetLineBreaks)&&(m=M3(n,r,1,m)),b&&(n.lineWrapping||g.widgetLineBreaks)&&(b=M3(n,i,-1,b)),m&&b&&m.from==b.from&&m.to==b.to)return w(k(t.from,t.to,m));{let C=m?k(t.from,null,m):x(p,!1),T=b?k(null,t.to,b):x(g,!0),A=[];return(m||p).to<(b||g).from-(m&&b?1:0)||p.widgetLineBreaks>1&&C.bottom+n.defaultLineHeight/2<T.top?A.push(v(d,C.bottom,h,T.top)):C.bottom<T.top&&n.elementAtHeight((C.bottom+T.top)/2).type==xi.Text&&(C.bottom=T.top=(C.bottom+T.top)/2),w(C).concat(A).concat(w(T))}function v(C,T,A,O){return new hh(e,C-l.left,T-l.top,A-C,O-T)}function w({top:C,bottom:T,horizontal:A}){let O=[];for(let R=0;R<A.length;R+=2)O.push(v(A[R],C,A[R+1],T));return O}function k(C,T,A){let O=1e9,R=-1e9,D=[];function E(_,L,M,N,F){let j=n.coordsAtPos(_,_==A.to?-2:2),Y=n.coordsAtPos(M,M==A.from?2:-2);!j||!Y||(O=Math.min(j.top,Y.top,O),R=Math.max(j.bottom,Y.bottom,R),F==$n.LTR?D.push(s&&L?d:j.left,s&&N?h:Y.right):D.push(!s&&N?d:Y.left,!s&&L?h:j.right))}let I=C??A.from,P=T??A.to;for(let _ of n.visibleRanges)if(_.to>I&&_.from<P)for(let L=Math.max(_.from,I),M=Math.min(_.to,P);;){let N=n.state.doc.lineAt(L);for(let F of n.bidiSpans(N)){let j=F.from+N.from,Y=F.to+N.from;if(j>=M)break;Y>L&&E(Math.max(j,L),C==null&&j<=I,Math.min(Y,M),T==null&&Y>=P,F.dir)}if(L=N.to+1,L>=M)break}return D.length==0&&E(I,C==null,P,T==null,n.textDirection),{top:O,bottom:R,horizontal:D}}function x(C,T){let A=a.top+(T?C.top:C.bottom);return{top:A,bottom:A,horizontal:[]}}}function wZ(n,e){return n.constructor==e.constructor&&n.eq(e)}class xZ{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement(\"div\")),this.dom.classList.add(\"cm-layer\"),t.above&&this.dom.classList.add(\"cm-layer-above\"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute(\"aria-hidden\",\"true\"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Qp)!=e.state.facet(Qp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Qp);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!wZ(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Qp=dt.define();function K6(n){return[fr.define(e=>new xZ(e,n)),Qp.of(n)]}const J6=!(ft.ios&&ft.webkit&&ft.webkit_version<534),Rd=dt.define({combine(n){return Xs(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function CZ(n={}){return[Rd.of(n),SZ,_Z,kZ,x6.of(!0)]}function X6(n){return n.startState.facet(Rd)!=n.state.facet(Rd)}const SZ=K6({above:!0,markers(n){let{state:e}=n,t=e.facet(Rd),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||J6:t.drawRangeCursor){let o=s?\"cm-cursor cm-cursor-primary\":\"cm-cursor cm-cursor-secondary\",a=i.empty?i:Oe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of hh.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName==\"cm-blink\"?\"cm-blink2\":\"cm-blink\");let t=X6(n);return t&&P3(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){P3(e.state,n)},class:\"cm-cursorLayer\"});function P3(n,e){e.style.animationDuration=n.facet(Rd).cursorBlinkRate+\"ms\"}const _Z=K6({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:hh.forRange(n,\"cm-selectionBackground\",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||X6(n)},class:\"cm-selectionLayer\"}),eb={\".cm-line\":{\"& ::selection, &::selection\":{backgroundColor:\"transparent !important\"}},\".cm-content\":{\"& :focus\":{caretColor:\"initial !important\",\"&::selection, & ::selection\":{backgroundColor:\"Highlight !important\"}}}};J6&&(eb[\".cm-line\"].caretColor=eb[\".cm-content\"].caretColor=\"transparent !important\");const kZ=fc.highest(ct.theme(eb)),Y6=Yt.define({map(n,e){return n==null?null:e.mapPos(n)}}),Lf=Wr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(Y6)?r.value:t,n)}}),AZ=fr.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Lf);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement(\"div\")),this.cursor.className=\"cm-dropCursor\"),(n.startState.field(Lf)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Lf),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+\"px\",this.cursor.style.top=n.top/t+\"px\",this.cursor.style.height=n.height/t+\"px\"):this.cursor.style.left=\"-100000px\"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Lf)!=n&&this.view.dispatch({effects:Y6.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function OZ(){return[Lf,AZ]}function I3(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function EZ(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class TZ{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");if(this.regexp=t,i)this.addMatch=(a,l,u,f)=>i(f,u,u+a[0].length,a,l);else if(typeof r==\"function\")this.addMatch=(a,l,u,f)=>{let d=r(a,l,u);d&&f(u,u+a[0].length,d)};else if(r)this.addMatch=(a,l,u,f)=>f(u,u+a[0].length,r);else throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");this.boundary=s,this.maxLength=o}createDeco(e){let t=new qs,r=t.add.bind(t);for(let{from:i,to:s}of EZ(e,this.maxLength))I3(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,f=Math.max(s.from,l.from),d=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){f=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){d=a;break}}let h=[],p,g=(m,b,v)=>h.push(v.range(m,b));if(l==u)for(this.regexp.lastIndex=f-l.from;(p=this.regexp.exec(l.text))&&p.index<d-l.from;)this.addMatch(p,e,p.index+l.from,g);else I3(e.state.doc,this.regexp,f,d,(m,b)=>this.addMatch(b,e,m,g));t=t.update({filterFrom:f,filterTo:d,filter:(m,b)=>m<f||b>d,add:h})}}return t}}const tb=/x/.unicode!=null?\"gu\":\"g\",MZ=new RegExp(`[\\0-\\b\n-\u001f-\\u2028\\u2029\\uFEFF-]`,tb),PZ={0:\"null\",7:\"bell\",8:\"backspace\",10:\"newline\",11:\"vertical tab\",13:\"carriage return\",27:\"escape\",8203:\"zero width space\",8204:\"zero width non-joiner\",8205:\"zero width joiner\",8206:\"left-to-right mark\",8207:\"right-to-left mark\",8232:\"line separator\",8237:\"left-to-right override\",8238:\"right-to-left override\",8294:\"left-to-right isolate\",8295:\"right-to-left isolate\",8297:\"pop directional isolate\",8233:\"paragraph separator\",65279:\"zero width no-break space\",65532:\"object replacement\"};let Hy=null;function IZ(){var n;if(Hy==null&&typeof document<\"u\"&&document.body){let e=document.body.style;Hy=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Hy||!1}const Zp=dt.define({combine(n){let e=Xs(n,{render:null,specialChars:MZ,addSpecialChars:null});return(e.replaceTabs=!IZ())&&(e.specialChars=new RegExp(\"\t|\"+e.specialChars.source,tb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+\"|\"+e.addSpecialChars.source,tb)),e}});function RZ(n={}){return[Zp.of(n),DZ()]}let R3=null;function DZ(){return R3||(R3=fr.fromClass(class{constructor(n){this.view=n,this.decorations=At.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Zp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new TZ({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Pi(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=Qu(o.text,a,r-o.from);return At.replace({widget:new FZ((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=At.replace({widget:new BZ(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Zp);n.startState.facet(Zp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const NZ=\"\";function LZ(n){return n>=32?NZ:n==10?\"\":String.fromCharCode(9216+n)}class BZ extends ll{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=LZ(this.code),r=e.state.phrase(\"Control character\")+\" \"+(PZ[this.code]||\"0x\"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement(\"span\");return s.textContent=t,s.title=r,s.setAttribute(\"aria-label\",r),s.className=\"cm-specialChar\",s}ignoreEvent(){return!1}}class FZ extends ll{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement(\"span\");return e.textContent=\"\t\",e.className=\"cm-tab\",e.style.width=this.width+\"px\",e}ignoreEvent(){return!1}}function jZ(){return VZ}const zZ=At.line({class:\"cm-activeLine\"}),VZ=fr.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(zZ.range(i.from)),e=i.from)}return At.set(t)}},{decorations:n=>n.decorations}),nb=2e3;function HZ(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>nb||t.off>nb||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let u=n.doc.line(l);u.length<=a&&s.push(Oe.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let u=n.doc.line(l),f=R1(u.text,o,n.tabSize,!0);if(f<0)s.push(Oe.cursor(u.to));else{let d=R1(u.text,a,n.tabSize);s.push(Oe.range(u.from+f,u.from+d))}}}return s}function qZ(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function D3(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>nb?-1:i==r.length?qZ(n,e.clientX):Qu(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function WZ(n,e){let t=D3(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=D3(n,i);if(!a)return r;let l=HZ(n.state,t,a);return l.length?o?Oe.create(l.concat(r.ranges)):Oe.create(l):r}}:null}function UZ(n){let e=t=>t.altKey&&t.button==0;return ct.mouseSelectionStyle.of((t,r)=>e(r)?WZ(t,r):null)}const KZ={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},JZ={style:\"cursor: crosshair\"};function XZ(n={}){let[e,t]=KZ[n.key||\"Alt\"],r=fr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ct.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?JZ:null})]}const bf=\"-10000px\";class G6{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let u=s[l],f=-1;if(u){for(let d=0;d<this.tooltips.length;d++){let h=this.tooltips[d];h&&h.create==u.create&&(f=d)}if(f<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let d=o[l]=this.tooltipViews[f];a&&(a[l]=t[f]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,u)=>t[u]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function YZ(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const qy=dt.define({combine:n=>{var e,t,r;return{position:ft.ios?\"absolute\":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||\"fixed\",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||YZ}}}),N3=new WeakMap,u2=fr.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(qy);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver==\"function\"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new G6(n,wv,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver==\"function\"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener(\"resize\",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement(\"div\"),this.container.style.position=\"relative\",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(qy);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add(\"cm-tooltip\"),n.arrow&&!t.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")){let i=document.createElement(\"div\");i.className=\"cm-tooltip-arrow\",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=bf,t.dom.style.left=\"0px\",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener(\"resize\",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position==\"fixed\"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ft.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==bf&&s.style.left==\"0px\"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position==\"absolute\")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=o2(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(qy).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position=\"absolute\";for(let a of this.manager.tooltipViews)a.dom.style.position=\"absolute\"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:f}=u,d=n.pos[a],h=n.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){f.style.top=bf;continue}let p=l.arrow?u.dom.querySelector(\".cm-tooltip-arrow\"):null,g=p?7:0,m=h.right-h.left,b=(e=N3.get(u))!==null&&e!==void 0?e:h.bottom-h.top,v=u.offset||QZ,w=this.view.textDirection==$n.LTR,k=h.width>r.right-r.left?w?r.left:r.right-h.width:w?Math.max(r.left,Math.min(d.left-(p?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,d.left-m+(p?14:0)-v.x),r.right-m),x=this.above[a];!l.strictSide&&(x?d.top-b-g-v.y<r.top:d.bottom+b+g+v.y>r.bottom)&&x==r.bottom-d.bottom>d.top-r.top&&(x=this.above[a]=!x);let C=(x?d.top-r.top:r.bottom-d.bottom)-g;if(C<b&&u.resize!==!1){if(C<this.view.defaultLineHeight){f.style.top=bf;continue}N3.set(u,b),f.style.height=(b=C)/s+\"px\"}else f.style.height&&(f.style.height=\"\");let T=x?d.top-b-g-v.y:d.bottom+g+v.y,A=k+m;if(u.overlap!==!0)for(let O of o)O.left<A&&O.right>k&&O.top<T+b&&O.bottom>T&&(T=x?O.top-b-2-g:O.bottom+g+2);if(this.position==\"absolute\"?(f.style.top=(T-n.parent.top)/s+\"px\",L3(f,(k-n.parent.left)/i)):(f.style.top=T/s+\"px\",L3(f,k/i)),p){let O=d.left+(w?v.x:-v.x)-(k+14-7);p.style.left=O/i+\"px\"}u.overlap!==!0&&o.push({left:k,top:T,right:A,bottom:T+b}),f.classList.toggle(\"cm-tooltip-above\",x),f.classList.toggle(\"cm-tooltip-below\",!x),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=bf}},{eventObservers:{scroll(){this.maybeMeasure()}}});function L3(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+\"px\")}const GZ=ct.baseTheme({\".cm-tooltip\":{zIndex:500,boxSizing:\"border-box\"},\"&light .cm-tooltip\":{border:\"1px solid #bbb\",backgroundColor:\"#f5f5f5\"},\"&light .cm-tooltip-section:not(:first-child)\":{borderTop:\"1px solid #bbb\"},\"&dark .cm-tooltip\":{backgroundColor:\"#333338\",color:\"white\"},\".cm-tooltip-arrow\":{height:\"7px\",width:`${7*2}px`,position:\"absolute\",zIndex:-1,overflow:\"hidden\",\"&:before, &:after\":{content:\"''\",position:\"absolute\",width:0,height:0,borderLeft:\"7px solid transparent\",borderRight:\"7px solid transparent\"},\".cm-tooltip-above &\":{bottom:\"-7px\",\"&:before\":{borderTop:\"7px solid #bbb\"},\"&:after\":{borderTop:\"7px solid #f5f5f5\",bottom:\"1px\"}},\".cm-tooltip-below &\":{top:\"-7px\",\"&:before\":{borderBottom:\"7px solid #bbb\"},\"&:after\":{borderBottom:\"7px solid #f5f5f5\",top:\"1px\"}}},\"&dark .cm-tooltip .cm-tooltip-arrow\":{\"&:before\":{borderTopColor:\"#333338\",borderBottomColor:\"#333338\"},\"&:after\":{borderTopColor:\"transparent\",borderBottomColor:\"transparent\"}}}),QZ={x:0,y:0},wv=dt.define({enables:[u2,GZ]}),em=dt.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class xv{static create(e){return new xv(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement(\"div\"),this.dom.classList.add(\"cm-tooltip-hover\"),this.manager=new G6(e,em,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add(\"cm-tooltip-section\"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp(\"offset\")}get getCoords(){return this.passProp(\"getCoords\")}get overlap(){return this.passProp(\"overlap\")}get resize(){return this.passProp(\"resize\")}}const ZZ=wv.compute([em],n=>{let e=n.facet(em);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:xv.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class $Z{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener(\"mouseleave\",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener(\"mousemove\",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Fa)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),u=l&&l.dir==$n.RTL?-1:1;s=t.x<a.left?-u:u}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>wi(e.state,l,\"hover tooltip\"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(u2),t=e?e.manager.tooltips.findIndex(r=>r.create==xv.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!e$(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!t$(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener(\"mouseleave\",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener(\"mouseleave\",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener(\"mouseleave\",this.mouseleave),this.view.dom.removeEventListener(\"mousemove\",this.mousemove)}}const ap=4;function e$(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(\".cm-tooltip-arrow\")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-ap&&e.clientX<=r+ap&&e.clientY>=i-ap&&e.clientY<=s+ap}function t$(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function n$(n,e={}){let t=Yt.define(),r=Wr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,yi.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(r$)&&(i=[]);return i},provide:i=>em.from(i)});return{active:r,extension:[r,fr.define(i=>new $Z(i,n,r,t,e.hoverTime||300)),ZZ]}}function Q6(n,e){let t=n.plugin(u2);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const r$=Yt.define(),B3=dt.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Dd(n,e){let t=n.plugin(Z6),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const Z6=fr.fromClass(class{constructor(n){this.input=n.state.facet(Nd),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(B3);this.top=new lp(n,!0,e.topContainer),this.bottom=new lp(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add(\"cm-panel\"),t.mount&&t.mount()}update(n){let e=n.state.facet(B3);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new lp(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new lp(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Nd);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),f;u<0?(f=l(n.view),a.push(f)):(f=this.panels[u],f.update&&f.update(n)),i.push(f),(f.top?s:o).push(f)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add(\"cm-panel\"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ct.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class lp{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes=\"\",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement(\"div\"),this.dom.className=this.top?\"cm-panels cm-panels-top\":\"cm-panels cm-panels-bottom\",this.dom.style[this.top?\"top\":\"bottom\"]=\"0\";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=F3(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=F3(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(\" \"))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(\" \"))e&&this.container.classList.add(e)}}}function F3(n){let e=n.nextSibling;return n.remove(),e}const Nd=dt.define({enables:Z6});class xo extends $l{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xo.prototype.elementClass=\"\";xo.prototype.toDOM=void 0;xo.prototype.mapMode=yi.TrackBefore;xo.prototype.startSide=xo.prototype.endSide=-1;xo.prototype.point=!0;const $p=dt.define(),i$=dt.define(),s$={class:\"\",renderEmptyElements:!1,elementStyle:\"\",markers:()=>pn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Gf=dt.define();function $6(n){return[e8(),Gf.of(Object.assign(Object.assign({},s$),n))]}const j3=dt.define({combine:n=>n.some(e=>e)});function e8(n){return[o$]}const o$=fr.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutters\",this.dom.setAttribute(\"aria-hidden\",\"true\"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+\"px\",this.gutters=n.state.facet(Gf).map(e=>new V3(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(j3),this.fixed&&(this.dom.style.position=\"sticky\"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+\"px\"),this.view.state.facet(j3)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?\"sticky\":\"\"),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=pn.iter(this.view.state.facet($p),this.view.viewport.from),r=[],i=this.gutters.map(s=>new a$(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==xi.Text&&o){rb(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==xi.Text){rb(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Gf),t=n.state.facet(Gf),r=n.docChanged||n.heightChanged||n.viewportChanged||!pn.eq(n.startState.facet($p),n.state.facet($p),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new V3(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ct.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==$n.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function z3(n){return Array.isArray(n)?n:[n]}function rb(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class a${constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=pn.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new t8(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];rb(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(i$)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class V3{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutter\"+(this.config.class?\" \"+this.config.class:\"\");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=z3(t.markers(e)),t.initialSpacer&&(this.spacer=new t8(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+=\"visibility: hidden; pointer-events: none\")}update(e){let t=this.markers;if(this.markers=z3(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!pn.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class t8{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutterElement\",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+\"px\"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+\"px\":\"\"),l$(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r=\"cm-gutterElement\",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,u=!1;if(l){let f=l.elementClass;f&&(r+=\" \"+f);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,u=!0;break}}else a=this.markers.length;for(;o<a;){let f=this.markers[o++];if(f.toDOM){f.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function l$(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const c$=dt.define(),u$=dt.define(),qc=dt.define({combine(n){return Xs(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class Wy extends xo{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Uy(n,e){return n.state.facet(qc).formatNumber(e,n.state)}const f$=Gf.compute([qc],n=>({class:\"cm-lineNumbers\",renderEmptyElements:!1,markers(e){return e.state.facet(c$)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new Wy(Uy(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(u$)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(qc)!=e.state.facet(qc),initialSpacer(e){return new Wy(Uy(e,H3(e.state.doc.lines)))},updateSpacer(e,t){let r=Uy(t.view,H3(t.view.state.doc.lines));return r==e.number?e:new Wy(r)},domEventHandlers:n.facet(qc).domEventHandlers}));function d$(n={}){return[qc.of(n),e8(),f$]}function H3(n){let e=9;for(;e<n;)e=e*10+9;return e}const h$=new class extends xo{constructor(){super(...arguments),this.elementClass=\"cm-activeLineGutter\"}},p$=$p.compute([\"selection\"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(h$.range(i)))}return pn.of(e)});function g$(){return p$}const n8=1024;let m$=0;class Ky{constructor(e,t){this.from=e,this.to=t}}class an{constructor(e={}){this.id=m$++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error(\"This node type doesn't define a deserialize function\")})}add(e){if(this.perNode)throw new RangeError(\"Can't add per-node props to node types\");return typeof e!=\"function\"&&(e=Li.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}an.closedBy=new an({deserialize:n=>n.split(\" \")});an.openedBy=new an({deserialize:n=>n.split(\" \")});an.group=new an({deserialize:n=>n.split(\" \")});an.isolate=new an({deserialize:n=>{if(n&&n!=\"rtl\"&&n!=\"ltr\"&&n!=\"auto\")throw new RangeError(\"Invalid value for isolate: \"+n);return n||\"auto\"}});an.contextHash=new an({perNode:!0});an.lookAhead=new an({perNode:!0});an.mounted=new an({perNode:!0});class tm{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[an.mounted.id]}}const v$=Object.create(null);class Li{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):v$,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Li(e.name||\"\",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError(\"Can't store a per-node prop on a node type\");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e==\"string\"){if(this.name==e)return!0;let t=this.prop(an.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(\" \"))t[i]=e[r];return r=>{for(let i=r.prop(an.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}Li.none=new Li(\"\",Object.create(null),0,8);class f2{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new Li(r.name,i,r.id,r.flags):r)}return new f2(t)}}const cp=new WeakMap,q3=new WeakMap;var Fr;(function(n){n[n.ExcludeBuffers=1]=\"ExcludeBuffers\",n[n.IncludeAnonymous=2]=\"IncludeAnonymous\",n[n.IgnoreMounts=4]=\"IgnoreMounts\",n[n.IgnoreOverlays=8]=\"IgnoreOverlays\"})(Fr||(Fr={}));class kr{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o==\"number\"?o:o.id]=a}}toString(){let e=tm.get(this);if(e&&!e.overlay)return e.tree.toString();let t=\"\";for(let r of this.children){let i=r.toString();i&&(t&&(t+=\",\"),t+=i)}return this.type.name?(/\\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?\"(\"+t+\")\":\"\"):t}cursor(e=0){return new sb(this.topNode,e)}cursorAt(e,t=0,r=0){let i=cp.get(this)||this.topNode,s=new sb(i);return s.moveTo(e,t),cp.set(this,s._tree),s}get topNode(){return new ds(this,0,0,null)}resolve(e,t=0){let r=Ld(cp.get(this)||this.topNode,e,t,!1);return cp.set(this,r),r}resolveInner(e,t=0){let r=Ld(q3.get(this)||this.topNode,e,t,!0);return q3.set(this,r),r}resolveStack(e,t=0){return w$(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Fr.IncludeAnonymous)>0;for(let l=this.cursor(o|Fr.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:p2(Li.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new kr(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new kr(Li.none,t,r,i)))}static build(e){return x$(e)}}kr.empty=new kr(Li.none,[],[],0);class d2{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new d2(this.buffer,this.index)}}class el{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Li.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(\",\")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+\"(\"+o.join(\",\")+\")\"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(r8(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new el(s,o,this.set)}}function r8(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ld(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof ds&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Fr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof ds&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class i8{cursor(e=0){return new sb(this,e)}getChild(e,t=null,r=null){let i=W3(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return W3(this,e,t,r)}resolve(e,t=0){return Ld(this,e,t,!1)}resolveInner(e,t=0){return Ld(this,e,t,!0)}matchContext(e){return ib(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class ds extends i8{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=t>0?a.length:-1;e!=u;e+=t){let f=a[e],d=l[e]+o.from;if(r8(i,r,d,d+f.length)){if(f instanceof el){if(s&Fr.ExcludeBuffers)continue;let h=f.findChild(0,f.buffer.length,t,r-d,i);if(h>-1)return new za(new y$(o,f,e,d),null,h)}else if(s&Fr.IncludeAnonymous||!f.type.isAnonymous||h2(f)){let h;if(!(s&Fr.IgnoreMounts)&&(h=tm.get(f))&&!h.overlay)return new ds(h.tree,d,e,o);let p=new ds(f,d,e,o);return s&Fr.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?f.children.length-1:0,t,r,i)}}}if(s&Fr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Fr.IgnoreOverlays)&&(i=tm.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ds(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function W3(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function ib(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class y${constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class za extends i8{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new za(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Fr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new za(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new za(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new za(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new kr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function s8(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof ds&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new b$(i,t)}class b${constructor(e,t){this.heads=e,this.node=t}get next(){return s8(this.heads)}}function w$(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof ds?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=tm.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new ds(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Ld(a,e,t,!1))}}return i?s8(i):r}class sb{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ds)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof ds?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Fr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Fr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Fr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Fr.IncludeAnonymous||a instanceof el||!a.type.isAnonymous||h2(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new za(this.buffer,t,this.stack[i]);return this.bufferNode=new za(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return ib(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return ib(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function h2(n){return n.children.some(e=>e instanceof el||!e.type.isAnonymous||h2(e))}function x$(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=n8,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new d2(t,t.length):t,l=r.types,u=0,f=0;function d(C,T,A,O,R,D){let{id:E,start:I,end:P,size:_}=a,L=f,M=u;for(;_<0;)if(a.next(),_==-1){let ie=s[E];A.push(ie),O.push(I-C);return}else if(_==-3){u=E;return}else if(_==-4){f=E;return}else throw new RangeError(`Unrecognized record size: ${_}`);let N=l[E],F,j,Y=I-C;if(P-I<=i&&(j=b(a.pos-T,R))){let ie=new Uint16Array(j.size-j.skip),Q=a.pos-j.size,te=ie.length;for(;a.pos>Q;)te=v(j.start,ie,te);F=new el(ie,P-j.start,r),Y=j.start-C}else{let ie=a.pos-_;a.next();let Q=[],te=[],U=E>=o?E:-1,se=0,le=P;for(;a.pos>ie;)U>=0&&a.id==U&&a.size>=0?(a.end<=le-i&&(g(Q,te,I,se,a.end,le,U,L,M),se=Q.length,le=a.end),a.next()):D>2500?h(I,ie,Q,te):d(I,ie,Q,te,U,D+1);if(U>=0&&se>0&&se<Q.length&&g(Q,te,I,se,I,le,U,L,M),Q.reverse(),te.reverse(),U>-1&&se>0){let W=p(N,M);F=p2(N,Q,te,0,Q.length,0,P-I,W,W)}else F=m(N,Q,te,P-I,L-P,M)}A.push(F),O.push(Y)}function h(C,T,A,O){let R=[],D=0,E=-1;for(;a.pos>T;){let{id:I,start:P,end:_,size:L}=a;if(L>4)a.next();else{if(E>-1&&P<E)break;E<0&&(E=_-i),R.push(I,P,_),D++,a.next()}}if(D){let I=new Uint16Array(D*4),P=R[R.length-2];for(let _=R.length-3,L=0;_>=0;_-=3)I[L++]=R[_],I[L++]=R[_+1]-P,I[L++]=R[_+2]-P,I[L++]=L;A.push(new el(I,R[2]-P,r)),O.push(P-C)}}function p(C,T){return(A,O,R)=>{let D=0,E=A.length-1,I,P;if(E>=0&&(I=A[E])instanceof kr){if(!E&&I.type==C&&I.length==R)return I;(P=I.prop(an.lookAhead))&&(D=O[E]+I.length+P)}return m(C,A,O,R,D,T)}}function g(C,T,A,O,R,D,E,I,P){let _=[],L=[];for(;C.length>O;)_.push(C.pop()),L.push(T.pop()+A-R);C.push(m(r.types[E],_,L,D-R,I-D,P)),T.push(R-A)}function m(C,T,A,O,R,D,E){if(D){let I=[an.contextHash,D];E=E?[I].concat(E):[I]}if(R>25){let I=[an.lookAhead,R];E=E?[I].concat(E):[I]}return new kr(C,T,A,O,E)}function b(C,T){let A=a.fork(),O=0,R=0,D=0,E=A.end-i,I={size:0,start:0,skip:0};e:for(let P=A.pos-C;A.pos>P;){let _=A.size;if(A.id==T&&_>=0){I.size=O,I.start=R,I.skip=D,D+=4,O+=4,A.next();continue}let L=A.pos-_;if(_<0||L<P||A.start<E)break;let M=A.id>=o?4:0,N=A.start;for(A.next();A.pos>L;){if(A.size<0)if(A.size==-3)M+=4;else break e;else A.id>=o&&(M+=4);A.next()}R=N,O+=_,D+=M}return(T<0||O==C)&&(I.size=O,I.start=R,I.skip=D),I.size>4?I:void 0}function v(C,T,A){let{id:O,start:R,end:D,size:E}=a;if(a.next(),E>=0&&O<o){let I=A;if(E>4){let P=a.pos-(E-4);for(;a.pos>P;)A=v(C,T,A)}T[--A]=I,T[--A]=D-C,T[--A]=R-C,T[--A]=O}else E==-3?u=O:E==-4&&(f=O);return A}let w=[],k=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,w,k,-1,0);let x=(e=n.length)!==null&&e!==void 0?e:w.length?k[0]+w[0].length:0;return new kr(l[n.topID],w.reverse(),k.reverse(),x)}const U3=new WeakMap;function eg(n,e){if(!n.isAnonymous||e instanceof el||e.type!=n)return 1;let t=U3.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof kr)){t=1;break}t+=eg(n,r)}U3.set(e,t)}return t}function p2(n,e,t,r,i,s,o,a,l){let u=0;for(let g=r;g<i;g++)u+=eg(n,e[g]);let f=Math.ceil(u*1.5/8),d=[],h=[];function p(g,m,b,v,w){for(let k=b;k<v;){let x=k,C=m[k],T=eg(n,g[k]);for(k++;k<v;k++){let A=eg(n,g[k]);if(T+A>=f)break;T+=A}if(k==x+1){if(T>f){let A=g[x];p(A.children,A.positions,0,A.children.length,m[x]+w);continue}d.push(g[x])}else{let A=m[k-1]+g[k-1].length-C;d.push(p2(n,g,m,x,k,C,A,null,l))}h.push(C+w-s)}}return p(e,t,r,i,0),(a||l)(d,h,o)}class Fl{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Fl(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let f=a<t.length?t[a]:null,d=f?f.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let h=o;if(l>=h.from||d<=h.to||u){let p=Math.max(h.from,l)-u,g=Math.min(h.to,d)-u;h=p>=g?null:new Fl(p,g,h.tree,h.offset+u,a>0,!!f)}if(h&&i.push(h),o.to>d)break;o=s<e.length?e[s++]:null}if(!f)break;l=f.toA,u=f.toA-f.toB}return i}}class o8{startParse(e,t,r){return typeof e==\"string\"&&(e=new C$(e)),r=r?r.length?r.map(i=>new Ky(i.from,i.to)):[new Ky(0,0)]:[new Ky(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class C${constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new an({perNode:!0});let S$=0;class is{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=S$++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e==\"string\"?e:\"?\";if(e instanceof is&&(t=e),t!=null&&t.base)throw new Error(\"Can not derive from a modified tag\");let i=new is(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new nm(e);return r=>r.modified.indexOf(t)>-1?r:nm.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let _$=0;class nm{constructor(e){this.name=e,this.instances=[],this.id=_$++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&k$(t,a.modified));if(r)return r;let i=[],s=new is(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=A$(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(nm.get(a,l));return s}}function k$(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function A$(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function a8(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(\" \"))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a==\"...\"&&d>0&&d+3==i.length){o=1;break}let h=/^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(a);if(!h)throw new RangeError(\"Invalid path: \"+i);if(s.push(h[0]==\"*\"?\"\":h[0][0]=='\"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==i.length)break;let p=i[d++];if(d==i.length&&p==\"!\"){o=0;break}if(p!=\"/\")throw new RangeError(\"Invalid path: \"+i);a=i.slice(d)}let l=s.length-1,u=s[l];if(!u)throw new RangeError(\"Invalid path: \"+i);let f=new rm(r,o,l>0?s.slice(0,l):null);e[u]=f.sort(e[u])}}return l8.add(e)}const l8=new an;class rm{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}rm.empty=new rm([],2,null);function c8(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=t[l.id];if(u){o=o?o+\" \"+u:u;break}}return o},scope:r}}function O$(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+\" \"+i:i)}return t}function E$(n,e,t,r=0,i=n.length){let s=new T$(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,\"\",s.highlighters),s.flush(i)}class T${constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=\"\"}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let u=i,f=M$(e)||rm.empty,d=O$(s,f.tags);if(d&&(u&&(u+=\" \"),u+=d,f.mode==1&&(i+=(i?\" \":\"\")+d)),this.startSpan(Math.max(t,a),u),f.opaque)return;let h=e.tree&&e.tree.prop(an.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+a,1),g=this.highlighters.filter(b=>!b.scope||b.scope(h.tree.type)),m=e.firstChild();for(let b=0,v=a;;b++){let w=b<h.overlay.length?h.overlay[b]:null,k=w?w.from+a:l,x=Math.max(t,v),C=Math.min(r,k);if(x<C&&m)for(;e.from<C&&(this.highlightRange(e,x,C,i,s),this.startSpan(Math.min(C,e.to),u),!(e.to>=k||!e.nextSibling())););if(!w||k>r)break;v=w.to+a,v>t&&(this.highlightRange(p.cursor(),Math.max(t,w.from+a),Math.min(r,v),\"\",g),this.startSpan(Math.min(r,v),u))}m&&e.parent()}else if(e.firstChild()){h&&(i=\"\");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function M$(n){let e=n.type.prop(l8);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Qe=is.define,up=Qe(),Ma=Qe(),K3=Qe(Ma),J3=Qe(Ma),Pa=Qe(),fp=Qe(Pa),Jy=Qe(Pa),to=Qe(),bl=Qe(to),Zs=Qe(),$s=Qe(),ob=Qe(),wf=Qe(ob),dp=Qe(),qe={comment:up,lineComment:Qe(up),blockComment:Qe(up),docComment:Qe(up),name:Ma,variableName:Qe(Ma),typeName:K3,tagName:Qe(K3),propertyName:J3,attributeName:Qe(J3),className:Qe(Ma),labelName:Qe(Ma),namespace:Qe(Ma),macroName:Qe(Ma),literal:Pa,string:fp,docString:Qe(fp),character:Qe(fp),attributeValue:Qe(fp),number:Jy,integer:Qe(Jy),float:Qe(Jy),bool:Qe(Pa),regexp:Qe(Pa),escape:Qe(Pa),color:Qe(Pa),url:Qe(Pa),keyword:Zs,self:Qe(Zs),null:Qe(Zs),atom:Qe(Zs),unit:Qe(Zs),modifier:Qe(Zs),operatorKeyword:Qe(Zs),controlKeyword:Qe(Zs),definitionKeyword:Qe(Zs),moduleKeyword:Qe(Zs),operator:$s,derefOperator:Qe($s),arithmeticOperator:Qe($s),logicOperator:Qe($s),bitwiseOperator:Qe($s),compareOperator:Qe($s),updateOperator:Qe($s),definitionOperator:Qe($s),typeOperator:Qe($s),controlOperator:Qe($s),punctuation:ob,separator:Qe(ob),bracket:wf,angleBracket:Qe(wf),squareBracket:Qe(wf),paren:Qe(wf),brace:Qe(wf),content:to,heading:bl,heading1:Qe(bl),heading2:Qe(bl),heading3:Qe(bl),heading4:Qe(bl),heading5:Qe(bl),heading6:Qe(bl),contentSeparator:Qe(to),list:Qe(to),quote:Qe(to),emphasis:Qe(to),strong:Qe(to),link:Qe(to),monospace:Qe(to),strikethrough:Qe(to),inserted:Qe(),deleted:Qe(),changed:Qe(),invalid:Qe(),meta:dp,documentMeta:Qe(dp),annotation:Qe(dp),processingInstruction:Qe(dp),definition:is.defineModifier(\"definition\"),constant:is.defineModifier(\"constant\"),function:is.defineModifier(\"function\"),standard:is.defineModifier(\"standard\"),local:is.defineModifier(\"local\"),special:is.defineModifier(\"special\")};for(let n in qe){let e=qe[n];e instanceof is&&(e.name=n)}c8([{tag:qe.link,class:\"tok-link\"},{tag:qe.heading,class:\"tok-heading\"},{tag:qe.emphasis,class:\"tok-emphasis\"},{tag:qe.strong,class:\"tok-strong\"},{tag:qe.keyword,class:\"tok-keyword\"},{tag:qe.atom,class:\"tok-atom\"},{tag:qe.bool,class:\"tok-bool\"},{tag:qe.url,class:\"tok-url\"},{tag:qe.labelName,class:\"tok-labelName\"},{tag:qe.inserted,class:\"tok-inserted\"},{tag:qe.deleted,class:\"tok-deleted\"},{tag:qe.literal,class:\"tok-literal\"},{tag:qe.string,class:\"tok-string\"},{tag:qe.number,class:\"tok-number\"},{tag:[qe.regexp,qe.escape,qe.special(qe.string)],class:\"tok-string2\"},{tag:qe.variableName,class:\"tok-variableName\"},{tag:qe.local(qe.variableName),class:\"tok-variableName tok-local\"},{tag:qe.definition(qe.variableName),class:\"tok-variableName tok-definition\"},{tag:qe.special(qe.variableName),class:\"tok-variableName2\"},{tag:qe.definition(qe.propertyName),class:\"tok-propertyName tok-definition\"},{tag:qe.typeName,class:\"tok-typeName\"},{tag:qe.namespace,class:\"tok-namespace\"},{tag:qe.className,class:\"tok-className\"},{tag:qe.macroName,class:\"tok-macroName\"},{tag:qe.propertyName,class:\"tok-propertyName\"},{tag:qe.operator,class:\"tok-operator\"},{tag:qe.comment,class:\"tok-comment\"},{tag:qe.meta,class:\"tok-meta\"},{tag:qe.invalid,class:\"tok-invalid\"},{tag:qe.punctuation,class:\"tok-punctuation\"}]);var Xy;const Wc=new an;function P$(n){return dt.define({combine:n?e=>e.concat(n):void 0})}const I$=new an;class Ps{constructor(e,t,r=[],i=\"\"){this.data=e,this.name=i,cn.prototype.hasOwnProperty(\"tree\")||Object.defineProperty(cn.prototype,\"tree\",{get(){return ci(this)}}),this.parser=t,this.extension=[tl.of(this),cn.languageData.of((s,o,a)=>{let l=X3(s,o,a),u=l.type.prop(Wc);if(!u)return[];let f=s.facet(u),d=l.type.prop(I$);if(d){let h=l.resolve(o-l.from,a);for(let p of d)if(p.test(h,s)){let g=s.facet(p.facet);return p.type==\"replace\"?g:g.concat(f)}}return f})].concat(r)}isActiveAt(e,t,r=-1){return X3(e,t,r).type.prop(Wc)==this.data}findRegions(e){let t=e.facet(tl);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Wc)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(an.mounted);if(a){if(a.tree.prop(Wc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof kr&&i(u,s.positions[l]+o)}};return i(ci(e),0),r}get allowsNesting(){return!0}}Ps.setState=Yt.define();function X3(n,e,t){let r=n.facet(tl),i=ci(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Fr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class im extends Ps{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=P$(e.languageData);return new im(t,e.parser.configure({props:[Wc.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new im(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ci(n){let e=n.field(Ps.state,!1);return e?e.tree:kr.empty}class R${constructor(e){this.doc=e,this.cursorPos=0,this.string=\"\",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let xf=null;class sm{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new sm(e,t,[],kr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new R$(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=kr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e==\"number\"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Fl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Fl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=xf;xf=this;try{return e()}finally{xf=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Y3(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,f,d,h)=>l.push({fromA:u,toA:f,fromB:d,toB:h})),r=Fl.applyChanges(r,l),i=kr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let f=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);f<d&&a.push({from:f,to:d})}}}return new sm(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Y3(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends o8{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=xf;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new kr(Li.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return xf}}function Y3(n,e,t){return Fl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ru{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Ru(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=sm.create(e.facet(tl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Ru(r)}}Ps.state=Wr.define({create:Ru.init,update(n,e){for(let t of e.effects)if(t.is(Ps.setState))return t.value;return e.startState.facet(tl)!=e.state.facet(tl)?Ru.init(e.state):n.apply(e)}});let u8=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<\"u\"&&(u8=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Yy=typeof navigator<\"u\"&&(!((Xy=navigator.scheduling)===null||Xy===void 0)&&Xy.isInputPending)?()=>navigator.scheduling.isInputPending():null,D$=fr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ps.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ps.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=u8(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ps.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Yy?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Yy&&Yy()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ps.setState.of(new Ru(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>wi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),tl=dt.define({combine(n){return n.length?n[0]:null},enables:n=>[Ps.state,D$,ct.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{\"data-language\":t.name}:{}})]});class N${constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const L$=dt.define(),Cv=dt.define({combine:n=>{if(!n.length)return\"  \";let e=n[0];if(!e||/\\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error(\"Invalid indent unit: \"+JSON.stringify(n[0]));return e}});function nl(n){let e=n.facet(Cv);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Bd(n,e){let t=\"\",r=n.tabSize,i=n.facet(Cv)[0];if(i==\"\t\"){for(;e>=r;)t+=\"\t\",e-=r;i=\" \"}for(let s=0;s<e;s++)t+=i;return t}function g2(n,e){n instanceof cn&&(n=new Sv(n));for(let r of n.state.facet(L$)){let i=r(n,e);if(i!==void 0)return i}let t=ci(n.state);return t.length>=e?B$(n,t,e):null}class Sv{constructor(e,t={}){this.state=e,this.options=t,this.unit=nl(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:\"\",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return\"\";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\\S|$/))),s}countColumn(e,t=e.length){return Qu(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const f8=new an;function B$(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return d8(r,n,t)}function d8(n,e,t){for(let r=n;r;r=r.next){let i=j$(r.node);if(i)return i(m2.create(e,t,r))}return 0}function F$(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function j$(n){let e=n.type.prop(f8);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(an.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>q$(o,!0,1,void 0,s&&!F$(o)?i.from:void 0)}return n.parent==null?z$:null}function z$(){return 0}class m2 extends Sv{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new m2(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(V$(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return d8(this.context.next,this.base,this.pos)}}function V$(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function H$(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}a=l.to}}function q$(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=H$(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}function G3({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const W$=200;function U$(){return cn.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent(\"input.type\")&&!n.isUserEvent(\"input.complete\"))return n;let e=n.startState.languageDataAt(\"indentOnInput\",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+W$)return n;let s=t.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:u}of o.selection.ranges){let f=o.doc.lineAt(u);if(f.from==a)continue;a=f.from;let d=g2(o,f.from);if(d==null)continue;let h=/^\\s*/.exec(f.text)[0],p=Bd(o,d);h!=p&&l.push({from:f.from,to:f.from+h.length,insert:p})}return l.length?[n,{changes:l,sequential:!0}]:n})}const K$=dt.define(),h8=new an;function J$(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function X$(n,e,t){let r=ci(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(h8);if(l&&(a.to<r.length-50||r.length==n.doc.length||!Y$(a))){let u=l(a,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(s=u)}}return s}function Y$(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function om(n,e,t){for(let r of n.facet(K$)){let i=r(n,e,t);if(i)return i}return X$(n,e,t)}function p8(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const _v=Yt.define({map:p8}),ph=Yt.define({map:p8});function g8(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const rc=Wr.define({create(){return At.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(_v)&&!G$(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(y8),i=r?At.replace({widget:new ree(r(e.state,t.value))}):Q3;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ph)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>ct.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError(\"Invalid JSON for fold state\");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!=\"number\"||typeof i!=\"number\")throw new RangeError(\"Invalid JSON for fold state\");e.push(Q3.range(r,i))}return At.set(e,!0)}});function am(n,e,t){var r;let i=null;return(r=n.field(rc,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function G$(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function m8(n,e){return n.field(rc,!1)?e:e.concat(Yt.appendConfig.of(b8()))}const Q$=n=>{for(let e of g8(n)){let t=om(n.state,e.from,e.to);if(t)return n.dispatch({effects:m8(n.state,[_v.of(t),v8(n,t)])}),!0}return!1},Z$=n=>{if(!n.state.field(rc,!1))return!1;let e=[];for(let t of g8(n)){let r=am(n.state,t.from,t.to);r&&e.push(ph.of(r),v8(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function v8(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ct.announce.of(`${n.state.phrase(t?\"Folded lines\":\"Unfolded lines\")} ${r} ${n.state.phrase(\"to\")} ${i}.`)}const $$=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=om(e,i.from,i.to);s&&t.push(_v.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:m8(n.state,t)}),!!t.length},eee=n=>{let e=n.state.field(rc,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ph.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},tee=[{key:\"Ctrl-Shift-[\",mac:\"Cmd-Alt-[\",run:Q$},{key:\"Ctrl-Shift-]\",mac:\"Cmd-Alt-]\",run:Z$},{key:\"Ctrl-Alt-[\",run:$$},{key:\"Ctrl-Alt-]\",run:eee}],nee={placeholderDOM:null,preparePlaceholder:null,placeholderText:\"\"},y8=dt.define({combine(n){return Xs(n,nee)}});function b8(n){return[rc,oee]}function w8(n,e){let{state:t}=n,r=t.facet(y8),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=am(n.state,a.from,a.to);l&&n.dispatch({effects:ph.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement(\"span\");return s.textContent=r.placeholderText,s.setAttribute(\"aria-label\",t.phrase(\"folded code\")),s.title=t.phrase(\"unfold\"),s.className=\"cm-foldPlaceholder\",s.onclick=i,s}const Q3=At.replace({widget:new class extends ll{toDOM(n){return w8(n,null)}}});class ree extends ll{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return w8(e,this.value)}}const iee={openText:\"\",closedText:\"\",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Gy extends xo{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement(\"span\");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?\"Fold line\":\"Unfold line\"),t}}function see(n={}){let e=Object.assign(Object.assign({},iee),n),t=new Gy(e,!0),r=new Gy(e,!1),i=fr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(tl)!=o.state.facet(tl)||o.startState.field(rc,!1)!=o.state.field(rc,!1)||ci(o.startState)!=ci(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new qs;for(let l of o.viewportLineBlocks){let u=am(o.state,l.from,l.to)?r:om(o.state,l.from,l.to)?t:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:s}=e;return[i,$6({class:\"cm-foldGutter\",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||pn.empty},initialSpacer(){return new Gy(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let u=am(o.state,a.from,a.to);if(u)return o.dispatch({effects:ph.of(u)}),!0;let f=om(o.state,a.from,a.to);return f?(o.dispatch({effects:_v.of(f)}),!0):!1}})}),b8()]}const oee=ct.baseTheme({\".cm-foldPlaceholder\":{backgroundColor:\"#eee\",border:\"1px solid #ddd\",color:\"#888\",borderRadius:\".2em\",margin:\"0 1px\",padding:\"0 1px\",cursor:\"pointer\"},\".cm-foldGutter span\":{padding:\"0 1px\",cursor:\"pointer\"}});class gh{constructor(e,t){this.specs=e;let r;function i(a){let l=Qa.newName();return(r||(r=Object.create(null)))[\".\"+l]=a,l}const s=typeof t.all==\"string\"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Ps?a=>a.prop(Wc)==o.data:o?a=>a==o:void 0,this.style=c8(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Qa(r):null,this.themeType=t.themeType}static define(e,t){return new gh(e,t||{})}}const ab=dt.define(),x8=dt.define({combine(n){return n.length?[n[0]]:null}});function Qy(n){let e=n.facet(ab);return e.length?e:n.facet(x8)}function C8(n,e){let t=[lee],r;return n instanceof gh&&(n.module&&t.push(ct.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(x8.of(n)):r?t.push(ab.computeN([ct.darkTheme],i=>i.facet(ct.darkTheme)==(r==\"dark\")?[n]:[])):t.push(ab.of(n)),t}class aee{constructor(e){this.markCache=Object.create(null),this.tree=ci(e.state),this.decorations=this.buildDeco(e,Qy(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=ci(e.state),r=Qy(e.state),i=r!=Qy(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return At.none;let r=new qs;for(let{from:i,to:s}of e.visibleRanges)E$(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=At.mark({class:l})))},i,s);return r.finish()}}const lee=fc.high(fr.fromClass(aee,{decorations:n=>n.decorations})),cee=gh.define([{tag:qe.meta,color:\"#404740\"},{tag:qe.link,textDecoration:\"underline\"},{tag:qe.heading,textDecoration:\"underline\",fontWeight:\"bold\"},{tag:qe.emphasis,fontStyle:\"italic\"},{tag:qe.strong,fontWeight:\"bold\"},{tag:qe.strikethrough,textDecoration:\"line-through\"},{tag:qe.keyword,color:\"#708\"},{tag:[qe.atom,qe.bool,qe.url,qe.contentSeparator,qe.labelName],color:\"#219\"},{tag:[qe.literal,qe.inserted],color:\"#164\"},{tag:[qe.string,qe.deleted],color:\"#a11\"},{tag:[qe.regexp,qe.escape,qe.special(qe.string)],color:\"#e40\"},{tag:qe.definition(qe.variableName),color:\"#00f\"},{tag:qe.local(qe.variableName),color:\"#30a\"},{tag:[qe.typeName,qe.namespace],color:\"#085\"},{tag:qe.className,color:\"#167\"},{tag:[qe.special(qe.variableName),qe.macroName],color:\"#256\"},{tag:qe.definition(qe.propertyName),color:\"#00c\"},{tag:qe.comment,color:\"#940\"},{tag:qe.invalid,color:\"#f00\"}]),uee=ct.baseTheme({\"&.cm-focused .cm-matchingBracket\":{backgroundColor:\"#328c8252\"},\"&.cm-focused .cm-nonmatchingBracket\":{backgroundColor:\"#bb555544\"}}),S8=1e4,_8=\"()[]{}\",k8=dt.define({combine(n){return Xs(n,{afterCursor:!0,brackets:_8,maxScanDistance:S8,renderMatch:hee})}}),fee=At.mark({class:\"cm-matchingBracket\"}),dee=At.mark({class:\"cm-nonmatchingBracket\"});function hee(n){let e=[],t=n.matched?fee:dee;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const pee=Wr.define({create(){return At.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(k8);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=oo(e.state,i.head,-1,r)||i.head>0&&oo(e.state,i.head-1,1,r)||r.afterCursor&&(oo(e.state,i.head,1,r)||i.head<e.state.doc.length&&oo(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return At.set(t,!0)},provide:n=>ct.decorations.from(n)}),gee=[pee,uee];function mee(n={}){return[k8.of(n),gee]}const vee=new an;function lb(n,e,t){let r=n.prop(e<0?an.openedBy:an.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function cb(n){let e=n.type.prop(vee);return e?e(n.node):n}function oo(n,e,t,r={}){let i=r.maxScanDistance||S8,s=r.brackets||_8,o=ci(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let u=lb(l.type,t,s);if(u&&l.from<l.to){let f=cb(l);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return yee(n,e,t,l,f,u,s)}}return bee(n,e,t,o,a.type,i,s)}function yee(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,f=a==null?void 0:a.cursor();if(f&&(t<0?f.childBefore(r.from):f.childAfter(r.to)))do if(t<0?f.to<=r.from:f.from>=r.to){if(u==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let d=cb(f);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(lb(f.type,t,o))u++;else if(lb(f.type,-t,o)){if(u==0){let d=cb(f);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(t<0?f.prevSibling():f.nextSibling());return{start:l,matched:!1}}function bee(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let h=0;!f.next().done&&h<=s;){let p=f.value;t<0&&(h+=p.length);let g=e+h*t;for(let m=t>0?0:p.length-1,b=t>0?p.length:-1;m!=b;m+=t){let v=o.indexOf(p[m]);if(!(v<0||r.resolveInner(g+m,1).type!=i))if(v%2==0==t>0)d++;else{if(d==1)return{start:u,end:{from:g+m,to:g+m+1},matched:v>>1==l>>1};d--}}t>0&&(h+=p.length)}return f.done?{start:u,matched:!1}:null}const wee=Object.create(null),Z3=[Li.none],$3=[],e_=Object.create(null),xee=Object.create(null);for(let[n,e]of[[\"variable\",\"variableName\"],[\"variable-2\",\"variableName.special\"],[\"string-2\",\"string.special\"],[\"def\",\"variableName.definition\"],[\"tag\",\"tagName\"],[\"attribute\",\"attributeName\"],[\"type\",\"typeName\"],[\"builtin\",\"variableName.standard\"],[\"qualifier\",\"modifier\"],[\"error\",\"invalid\"],[\"header\",\"heading\"],[\"property\",\"propertyName\"]])xee[n]=Cee(wee,e);function Zy(n,e){$3.indexOf(n)>-1||($3.push(n),console.warn(e))}function Cee(n,e){let t=[];for(let a of e.split(\" \")){let l=[];for(let u of a.split(\".\")){let f=n[u]||qe[u];f?typeof f==\"function\"?l.length?l=l.map(f):Zy(u,`Modifier ${u} used at start of tag`):l.length?Zy(u,`Tag ${u} used as modifier`):l=Array.isArray(f)?f:[f]:Zy(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,\"_\"),i=r+\" \"+t.map(a=>a.id),s=e_[i];if(s)return s.id;let o=e_[i]=Li.define({id:Z3.length,name:r,props:[a8({[r]:t})]});return Z3.push(o),o.id}$n.RTL,$n.LTR;const See=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=y2(n.state,t.from);return r.line?_ee(n):r.block?Aee(n):!1};function v2(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const _ee=v2(Tee,0),kee=v2(A8,0),Aee=v2((n,e)=>A8(n,e,Eee(e)),0);function y2(n,e){let t=n.languageDataAt(\"commentTokens\",e);return t.length?t[0]:{}}const Cf=50;function Oee(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-Cf,r),o=n.sliceDoc(i,i+Cf),a=/\\s*$/.exec(s)[0].length,l=/^\\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let f,d;i-r<=2*Cf?f=d=n.sliceDoc(r,i):(f=n.sliceDoc(r,r+Cf),d=n.sliceDoc(i-Cf,i));let h=/^\\s*/.exec(f)[0].length,p=/\\s*$/.exec(d)[0].length,g=d.length-p-t.length;return f.slice(h,h+e.length)==e&&d.slice(g,g+t.length)==t?{open:{pos:r+h+e.length,margin:/\\s/.test(f.charAt(h+e.length))?1:0},close:{pos:i-p-t.length,margin:/\\s/.test(d.charAt(g-1))?1:0}}:null}function Eee(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\\s*/.exec(r.text)[0].length,to:i.to})}return e}function A8(n,e,t=e.selection.ranges){let r=t.map(s=>y2(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>Oee(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+\" \"},{from:s.to,insert:\" \"+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:f}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:s}}return null}function Tee(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,u=y2(e,s).line;if(u){for(let f=s;f<=o;){let d=e.doc.lineAt(f);if(d.from>i&&(s==o||o>d.from)){i=d.from;let h=/^\\s*/.exec(d.text)[0].length,p=h==d.length,g=d.text.slice(h,h+u.length)==u?h:-1;h<d.text.length&&h<l&&(l=h),r.push({line:d,comment:g,token:u,indent:h,empty:p,single:!1})}f=d.to+1}if(l<1e9)for(let f=a;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:f,single:d}of r)(d||!f)&&s.push({from:a.from+u,insert:l+\" \"});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,f=u+l.length;o.text[f-o.from]==\" \"&&f++,s.push({from:u,to:f})}return{changes:s}}return null}function Zu(n,e){return Oe.create(n.ranges.map(e),n.mainIndex)}function Ao(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:\"select\"})}function Ys({state:n,dispatch:e},t){let r=Zu(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Ao(n,r)),!0)}function kv(n,e){return Oe.cursor(e?n.to:n.from)}function O8(n,e){return Ys(n,t=>t.empty?n.moveByChar(t,e):kv(t,e))}function ui(n){return n.textDirectionAt(n.state.selection.main.head)==$n.LTR}const E8=n=>O8(n,!ui(n)),T8=n=>O8(n,ui(n));function M8(n,e){return Ys(n,t=>t.empty?n.moveByGroup(t,e):kv(t,e))}const Mee=n=>M8(n,!ui(n)),Pee=n=>M8(n,ui(n));function Iee(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Av(n,e,t){let r=ci(n).resolveInner(e.head),i=t?an.closedBy:an.openedBy;for(let l=e.head;;){let u=t?r.childAfter(l):r.childBefore(l);if(!u)break;Iee(n,u,i)?r=u:l=t?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=t?oo(n,r.from,1):oo(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,Oe.cursor(a,t?-1:1)}const Ree=n=>Ys(n,e=>Av(n.state,e,!ui(n))),Dee=n=>Ys(n,e=>Av(n.state,e,ui(n)));function P8(n,e){return Ys(n,t=>{if(!t.empty)return kv(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const I8=n=>P8(n,!1),R8=n=>P8(n,!0);function D8(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ct.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function N8(n,e){let t=D8(n),{state:r}=n,i=Zu(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):kv(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,u=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<u&&(s=ct.scrollIntoView(i.main.head,{y:\"start\",yMargin:o.top-l}))}return n.dispatch(Ao(r,i),{effects:s}),!0}const t_=n=>N8(n,!1),ub=n=>N8(n,!0);function cl(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Oe.cursor(r.from+s))}return i}const Nee=n=>Ys(n,e=>cl(n,e,!0)),Lee=n=>Ys(n,e=>cl(n,e,!1)),Bee=n=>Ys(n,e=>cl(n,e,!ui(n))),Fee=n=>Ys(n,e=>cl(n,e,ui(n))),jee=n=>Ys(n,e=>Oe.cursor(n.lineBlockAt(e.head).from,1)),zee=n=>Ys(n,e=>Oe.cursor(n.lineBlockAt(e.head).to,-1));function Vee(n,e,t){let r=!1,i=Zu(n.selection,s=>{let o=oo(n,s.head,-1)||oo(n,s.head,1)||s.head>0&&oo(n,s.head-1,1)||s.head<n.doc.length&&oo(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Oe.cursor(a)});return r?(e(Ao(n,i)),!0):!1}const Hee=({state:n,dispatch:e})=>Vee(n,e);function ws(n,e){let t=Zu(n.state.selection,r=>{let i=e(r);return Oe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ao(n.state,t)),!0)}function L8(n,e){return ws(n,t=>n.moveByChar(t,e))}const B8=n=>L8(n,!ui(n)),F8=n=>L8(n,ui(n));function j8(n,e){return ws(n,t=>n.moveByGroup(t,e))}const qee=n=>j8(n,!ui(n)),Wee=n=>j8(n,ui(n)),Uee=n=>ws(n,e=>Av(n.state,e,!ui(n))),Kee=n=>ws(n,e=>Av(n.state,e,ui(n)));function z8(n,e){return ws(n,t=>n.moveVertically(t,e))}const V8=n=>z8(n,!1),H8=n=>z8(n,!0);function q8(n,e){return ws(n,t=>n.moveVertically(t,e,D8(n).height))}const n_=n=>q8(n,!1),r_=n=>q8(n,!0),Jee=n=>ws(n,e=>cl(n,e,!0)),Xee=n=>ws(n,e=>cl(n,e,!1)),Yee=n=>ws(n,e=>cl(n,e,!ui(n))),Gee=n=>ws(n,e=>cl(n,e,ui(n))),Qee=n=>ws(n,e=>Oe.cursor(n.lineBlockAt(e.head).from)),Zee=n=>ws(n,e=>Oe.cursor(n.lineBlockAt(e.head).to)),i_=({state:n,dispatch:e})=>(e(Ao(n,{anchor:0})),!0),s_=({state:n,dispatch:e})=>(e(Ao(n,{anchor:n.doc.length})),!0),o_=({state:n,dispatch:e})=>(e(Ao(n,{anchor:n.selection.main.anchor,head:0})),!0),a_=({state:n,dispatch:e})=>(e(Ao(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),$ee=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:\"select\"})),!0),ete=({state:n,dispatch:e})=>{let t=Ov(n).map(({from:r,to:i})=>Oe.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:Oe.create(t),userEvent:\"select\"})),!0},tte=({state:n,dispatch:e})=>{let t=Zu(n.selection,r=>{let i=ci(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Oe.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(Ao(n,t)),!0)},nte=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=Oe.create([t.main]):t.main.empty||(r=Oe.create([Oe.cursor(t.main.head)])),r?(e(Ao(n,r)),!0):!1};function mh(n,e){if(n.state.readOnly)return!1;let t=\"delete.selection\",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t=\"delete.backward\",l=hp(n,l,!1)):l>o&&(t=\"delete.forward\",l=hp(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=hp(n,o,!1),a=hp(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Oe.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t==\"delete.selection\"?ct.announce.of(r.phrase(\"Selection deleted\")):void 0})),!0)}function hp(n,e,t){if(n instanceof ct)for(let r of n.state.facet(ct.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const W8=(n,e,t)=>mh(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \\t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]==\"\t\")return i-1;let u=Qu(a,s.tabSize),f=u%nl(s)||nl(s);for(let d=0;d<f&&a[a.length-1-d]==\" \";d++)i--;l=i}else l=$r(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\\ufe00-\\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=$r(o.text,l-o.from,!1,!1)+o.from);return l}),fb=n=>W8(n,!1,!0),U8=n=>W8(n,!0,!1),K8=(n,e)=>mh(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=$r(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),f=o(u);if(a!=null&&f!=a)break;(u!=\" \"||r!=t.head)&&(a=f),r=l}return r}),J8=n=>K8(n,!1),rte=n=>K8(n,!0),ite=n=>mh(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ste=n=>mh(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),ote=n=>mh(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ate=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Sn.of([\"\",\"\"])},range:Oe.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:\"input\"})),!0},lte=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:$r(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:$r(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:Oe.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:\"move.character\"})),!0)};function Ov(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function X8(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of Ov(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(Oe.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(Oe.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:Oe.create(i,n.selection.mainIndex),userEvent:\"move.line\"})),!0):!1}const cte=({state:n,dispatch:e})=>X8(n,e,!1),ute=({state:n,dispatch:e})=>X8(n,e,!0);function Y8(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of Ov(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:\"input.copyline\"})),!0}const fte=({state:n,dispatch:e})=>Y8(n,e,!1),dte=({state:n,dispatch:e})=>Y8(n,e,!0),hte=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Ov(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Zu(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:\"delete.line\"}),!0};function pte(n,e){if(/\\(\\)|\\[\\]|\\{\\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ci(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(an.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const l_=G8(!1),gte=G8(!0);function G8(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&pte(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Sv(e,{simulateBreak:s,simulateDoubleBreak:!!l}),f=g2(u,s);for(f==null&&(f=Qu(/^\\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\\S/.test(a.text.slice(0,s))&&(s=a.from);let d=[\"\",Bd(e,f)];return l&&d.push(Bd(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Sn.of(d)},range:Oe.cursor(s+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:\"input\"})),!0}}function b2(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:Oe.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const mte=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Sv(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=b2(n,(s,o,a)=>{let l=g2(r,s.from);if(l==null)return;/\\S/.test(s.text)||(l=0);let u=/^\\s*/.exec(s.text)[0],f=Bd(n,l);(u!=f||a.from<s.from+u.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:f}))});return i.changes.empty||e(n.update(i,{userEvent:\"indent\"})),!0},Q8=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(b2(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Cv)})}),{userEvent:\"input.indent\"})),!0),Z8=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(b2(n,(t,r)=>{let i=/^\\s*/.exec(t.text)[0];if(!i)return;let s=Qu(i,n.tabSize),o=0,a=Bd(n,Math.max(0,s-nl(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:\"delete.dedent\"})),!0),vte=n=>(n.setTabFocusMode(),!0),yte=[{key:\"Ctrl-b\",run:E8,shift:B8,preventDefault:!0},{key:\"Ctrl-f\",run:T8,shift:F8},{key:\"Ctrl-p\",run:I8,shift:V8},{key:\"Ctrl-n\",run:R8,shift:H8},{key:\"Ctrl-a\",run:jee,shift:Qee},{key:\"Ctrl-e\",run:zee,shift:Zee},{key:\"Ctrl-d\",run:U8},{key:\"Ctrl-h\",run:fb},{key:\"Ctrl-k\",run:ite},{key:\"Ctrl-Alt-h\",run:J8},{key:\"Ctrl-o\",run:ate},{key:\"Ctrl-t\",run:lte},{key:\"Ctrl-v\",run:ub}],bte=[{key:\"ArrowLeft\",run:E8,shift:B8,preventDefault:!0},{key:\"Mod-ArrowLeft\",mac:\"Alt-ArrowLeft\",run:Mee,shift:qee,preventDefault:!0},{mac:\"Cmd-ArrowLeft\",run:Bee,shift:Yee,preventDefault:!0},{key:\"ArrowRight\",run:T8,shift:F8,preventDefault:!0},{key:\"Mod-ArrowRight\",mac:\"Alt-ArrowRight\",run:Pee,shift:Wee,preventDefault:!0},{mac:\"Cmd-ArrowRight\",run:Fee,shift:Gee,preventDefault:!0},{key:\"ArrowUp\",run:I8,shift:V8,preventDefault:!0},{mac:\"Cmd-ArrowUp\",run:i_,shift:o_},{mac:\"Ctrl-ArrowUp\",run:t_,shift:n_},{key:\"ArrowDown\",run:R8,shift:H8,preventDefault:!0},{mac:\"Cmd-ArrowDown\",run:s_,shift:a_},{mac:\"Ctrl-ArrowDown\",run:ub,shift:r_},{key:\"PageUp\",run:t_,shift:n_},{key:\"PageDown\",run:ub,shift:r_},{key:\"Home\",run:Lee,shift:Xee,preventDefault:!0},{key:\"Mod-Home\",run:i_,shift:o_},{key:\"End\",run:Nee,shift:Jee,preventDefault:!0},{key:\"Mod-End\",run:s_,shift:a_},{key:\"Enter\",run:l_,shift:l_},{key:\"Mod-a\",run:$ee},{key:\"Backspace\",run:fb,shift:fb},{key:\"Delete\",run:U8},{key:\"Mod-Backspace\",mac:\"Alt-Backspace\",run:J8},{key:\"Mod-Delete\",mac:\"Alt-Delete\",run:rte},{mac:\"Mod-Backspace\",run:ste},{mac:\"Mod-Delete\",run:ote}].concat(yte.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),wte=[{key:\"Alt-ArrowLeft\",mac:\"Ctrl-ArrowLeft\",run:Ree,shift:Uee},{key:\"Alt-ArrowRight\",mac:\"Ctrl-ArrowRight\",run:Dee,shift:Kee},{key:\"Alt-ArrowUp\",run:cte},{key:\"Shift-Alt-ArrowUp\",run:fte},{key:\"Alt-ArrowDown\",run:ute},{key:\"Shift-Alt-ArrowDown\",run:dte},{key:\"Escape\",run:nte},{key:\"Mod-Enter\",run:gte},{key:\"Alt-l\",mac:\"Ctrl-l\",run:ete},{key:\"Mod-i\",run:tte,preventDefault:!0},{key:\"Mod-[\",run:Z8},{key:\"Mod-]\",run:Q8},{key:\"Mod-Alt-\\\\\",run:mte},{key:\"Shift-Mod-k\",run:hte},{key:\"Shift-Mod-\\\\\",run:Hee},{key:\"Mod-/\",run:See},{key:\"Alt-A\",run:kee},{key:\"Ctrl-m\",mac:\"Shift-Alt-m\",run:vte}].concat(bte),xte={key:\"Tab\",run:Q8,shift:Z8};function Un(){var n=arguments[0];typeof n==\"string\"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t==\"object\"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i==\"string\"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)$8(n,arguments[e]);return n}function $8(n,e){if(typeof e==\"string\")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)$8(n,e[t]);else throw new RangeError(\"Unsupported child node: \"+e)}class c_{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class kl{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(ao).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((d,h)=>d.from-h.from||d.to-h.to),a=new qs,l=[],u=0;for(let d=0;;){let h=d==o.length?null:o[d];if(!h&&!l.length)break;let p,g;for(l.length?(p=u,g=l.reduce((b,v)=>Math.min(b,v.to),h&&h.from>p?h.from:1e8)):(p=h.from,g=h.to,l.push(h),d++);d<o.length;){let b=o[d];if(b.from==p&&(b.to>b.from||b.to==p))l.push(b),d++,g=Math.min(b.to,g);else{g=Math.min(b.from,g);break}}let m=oT(l);if(l.some(b=>b.from==b.to||b.from==b.to-1&&r.doc.lineAt(b.from).to==b.from))a.add(p,p,At.widget({widget:new Pte(m),diagnostics:l.slice()}));else{let b=l.reduce((v,w)=>w.markClass?v+\" \"+w.markClass:v,\"\");a.add(p,g,At.mark({class:\"cm-lintRange cm-lintRange-\"+m+b,diagnostics:l.slice(),inclusiveEnd:l.some(v=>v.to>g)}))}u=g;for(let b=0;b<l.length;b++)l[b].to<=u&&l.splice(b--,1)}let f=a.finish();return new kl(f,t,Du(f))}}function Du(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new c_(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new c_(r.from,s,r.diagnostic)}}),r}function eT(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(ao).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(Ev))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function tT(n,e){return n.field(Yi,!1)?e:e.concat(Yt.appendConfig.of(cT))}function Cte(n,e){return{effects:tT(n,[Ev.of(e)])}}const Ev=Yt.define(),w2=Yt.define(),nT=Yt.define(),Yi=Wr.define({create(){return new kl(At.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=Du(t,n.selected.diagnostic,s)||Du(t,null,s)}!t.size&&i&&e.state.facet(ao).autoPanel&&(i=null),n=new kl(t,i,r)}for(let t of e.effects)if(t.is(Ev)){let r=e.state.facet(ao).autoPanel?t.value.length?Fd.open:null:n.panel;n=kl.init(t.value,r,e.state)}else t.is(w2)?n=new kl(n.diagnostics,t.value?Fd.open:null,n.selected):t.is(nT)&&(n=new kl(n.diagnostics,n.panel,t.value));return n},provide:n=>[Nd.from(n,e=>e.panel),ct.decorations.from(n,e=>e.diagnostics)]}),Ste=At.mark({class:\"cm-lintRange cm-lintRange-active\"});function _te(n,e,t){let{diagnostics:r}=n.state.field(Yi),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:f})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return i=f.diagnostics,s=l,o=u,!1});let a=n.state.facet(ao).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:rT(n,i)}}}:null}function rT(n,e){return Un(\"ul\",{class:\"cm-tooltip-lint\"},e.map(t=>sT(n,t,!1)))}const kte=n=>{let e=n.state.field(Yi,!1);(!e||!e.panel)&&n.dispatch({effects:tT(n.state,[w2.of(!0)])});let t=Dd(n,Fd.open);return t&&t.dom.querySelector(\".cm-panel-lint ul\").focus(),!0},u_=n=>{let e=n.state.field(Yi,!1);return!e||!e.panel?!1:(n.dispatch({effects:w2.of(!1)}),!0)},Ate=n=>{let e=n.state.field(Yi,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},Ote=[{key:\"Mod-Shift-m\",run:kte,preventDefault:!0},{key:\"F8\",run:Ate}],Ete=fr.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(ao);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(ao);t.length&&Tte(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(Cte(this.view.state,r.reduce((i,s)=>i.concat(s))))},r=>{wi(this.view.state,r)})}}update(n){let e=n.state.facet(ao);(n.docChanged||e!=n.startState.facet(ao)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function Tte(n,e,t){let r=[],i=-1;for(let s of n)s.then(o=>{r.push(o),clearTimeout(i),r.length==n.length?e(r):i=setTimeout(()=>e(r),200)},t)}const ao=dt.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Xs(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function Mte(n,e={}){return[ao.of({source:n,config:e}),Ete,cT]}function iT(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push(\"\")}return e}function sT(n,e,t){var r;let i=t?iT(e.actions):[];return Un(\"li\",{class:\"cm-diagnostic cm-diagnostic-\"+e.severity},Un(\"span\",{class:\"cm-diagnosticText\"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let p=Du(n.state.field(Yi).diagnostics,e);p&&s.apply(n,p.from,p.to)},{name:u}=s,f=i[o]?u.indexOf(i[o]):-1,d=f<0?u:[u.slice(0,f),Un(\"u\",u.slice(f,f+1)),u.slice(f+1)];return Un(\"button\",{type:\"button\",class:\"cm-diagnosticAction\",onclick:l,onmousedown:l,\"aria-label\":` Action: ${u}${f<0?\"\":` (access key \"${i[o]})\"`}.`},d)}),e.source&&Un(\"div\",{class:\"cm-diagnosticSource\"},e.source))}class Pte extends ll{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Un(\"span\",{class:\"cm-lintPoint cm-lintPoint-\"+this.sev})}}class f_{constructor(e,t){this.diagnostic=t,this.id=\"item_\"+Math.floor(Math.random()*4294967295).toString(16),this.dom=sT(e,t,!0),this.dom.id=this.id,this.dom.setAttribute(\"role\",\"option\")}}class Fd{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)u_(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=iT(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Du(this.view.state.field(Yi).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Un(\"ul\",{tabIndex:0,role:\"listbox\",\"aria-label\":this.view.state.phrase(\"Diagnostics\"),onkeydown:t,onclick:r}),this.dom=Un(\"div\",{class:\"cm-panel-lint\"},this.list,Un(\"button\",{type:\"button\",name:\"close\",\"aria-label\":this.view.state.phrase(\"close\"),onclick:()=>u_(this.view)},\"\")),this.update()}get selectedIndex(){let e=this.view.state.field(Yi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Yi),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let f of u.diagnostics){if(o.has(f))continue;o.add(f);let d=-1,h;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==f){d=p;break}d<0?(h=new f_(this.view,f),this.items.splice(r,0,h),i=!0):(h=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&h.diagnostic==t.diagnostic?h.dom.hasAttribute(\"aria-selected\")||(h.dom.setAttribute(\"aria-selected\",\"true\"),s=h):h.dom.hasAttribute(\"aria-selected\")&&h.dom.removeAttribute(\"aria-selected\"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new f_(this.view,{from:-1,to:-1,severity:\"info\",message:this.view.state.phrase(\"No diagnostics\")})),i=!0),s?(this.list.setAttribute(\"aria-activedescendant\",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute(\"aria-activedescendant\"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Yi),r=Du(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:nT.of(r)})}static open(e){return new Fd(e)}}function tg(n,e='viewBox=\"0 0 40 40\"'){return`url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${e}>${encodeURIComponent(n)}</svg>')`}function pp(n){return tg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${n}\" fill=\"none\" stroke-width=\".7\"/>`,'width=\"6\" height=\"3\"')}const Ite=ct.baseTheme({\".cm-diagnostic\":{padding:\"3px 6px 3px 8px\",marginLeft:\"-1px\",display:\"block\",whiteSpace:\"pre-wrap\"},\".cm-diagnostic-error\":{borderLeft:\"5px solid #d11\"},\".cm-diagnostic-warning\":{borderLeft:\"5px solid orange\"},\".cm-diagnostic-info\":{borderLeft:\"5px solid #999\"},\".cm-diagnostic-hint\":{borderLeft:\"5px solid #66d\"},\".cm-diagnosticAction\":{font:\"inherit\",border:\"none\",padding:\"2px 4px\",backgroundColor:\"#444\",color:\"white\",borderRadius:\"3px\",marginLeft:\"8px\",cursor:\"pointer\"},\".cm-diagnosticSource\":{fontSize:\"70%\",opacity:.7},\".cm-lintRange\":{backgroundPosition:\"left bottom\",backgroundRepeat:\"repeat-x\",paddingBottom:\"0.7px\"},\".cm-lintRange-error\":{backgroundImage:pp(\"#d11\")},\".cm-lintRange-warning\":{backgroundImage:pp(\"orange\")},\".cm-lintRange-info\":{backgroundImage:pp(\"#999\")},\".cm-lintRange-hint\":{backgroundImage:pp(\"#66d\")},\".cm-lintRange-active\":{backgroundColor:\"#ffdd9980\"},\".cm-tooltip-lint\":{padding:0,margin:0},\".cm-lintPoint\":{position:\"relative\",\"&:after\":{content:'\"\"',position:\"absolute\",bottom:0,left:\"-2px\",borderLeft:\"3px solid transparent\",borderRight:\"3px solid transparent\",borderBottom:\"4px solid #d11\"}},\".cm-lintPoint-warning\":{\"&:after\":{borderBottomColor:\"orange\"}},\".cm-lintPoint-info\":{\"&:after\":{borderBottomColor:\"#999\"}},\".cm-lintPoint-hint\":{\"&:after\":{borderBottomColor:\"#66d\"}},\".cm-panel.cm-panel-lint\":{position:\"relative\",\"& ul\":{maxHeight:\"100px\",overflowY:\"auto\",\"& [aria-selected]\":{backgroundColor:\"#ddd\",\"& u\":{textDecoration:\"underline\"}},\"&:focus [aria-selected]\":{background_fallback:\"#bdf\",backgroundColor:\"Highlight\",color_fallback:\"white\",color:\"HighlightText\"},\"& u\":{textDecoration:\"none\"},padding:0,margin:0},\"& [name=close]\":{position:\"absolute\",top:\"0\",right:\"2px\",background:\"inherit\",border:\"none\",font:\"inherit\",padding:0,margin:0}}});function Rte(n){return n==\"error\"?4:n==\"warning\"?3:n==\"info\"?2:1}function oT(n){let e=\"hint\",t=1;for(let r of n){let i=Rte(r.severity);i>t&&(t=i,e=r.severity)}return e}class aT extends xo{constructor(e){super(),this.diagnostics=e,this.severity=oT(e)}toDOM(e){let t=document.createElement(\"div\");t.className=\"cm-lint-marker cm-lint-marker-\"+this.severity;let r=this.diagnostics,i=e.state.facet(Tv).tooltipFilter;return i&&(r=i(r,e.state)),r.length&&(t.onmouseover=()=>Nte(e,t,r)),t}}function Dte(n,e){let t=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let s=r.target;s;s=s.parentNode)if(s.nodeType==1&&s.classList.contains(\"cm-tooltip-lint\"))return;window.removeEventListener(\"mousemove\",t),n.state.field(lT)&&n.dispatch({effects:x2.of(null)})}};window.addEventListener(\"mousemove\",t)}function Nte(n,e,t){function r(){let o=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(o.from)&&n.dispatch({effects:x2.of({pos:o.from,above:!1,clip:!1,create(){return{dom:rT(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,Dte(n,e)}let{hoverTime:i}=n.state.facet(Tv),s=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(s),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(s),s=setTimeout(r,i)}}function Lte(n,e){let t=Object.create(null);for(let i of e){let s=n.lineAt(i.from);(t[s.from]||(t[s.from]=[])).push(i)}let r=[];for(let i in t)r.push(new aT(t[i]).range(+i));return pn.of(r,!0)}const Bte=$6({class:\"cm-gutter-lint\",markers:n=>n.state.field(db),widgetMarker:(n,e,t)=>{let r=[];return n.state.field(db).between(t.from,t.to,(i,s,o)=>{i>t.from&&i<t.to&&r.push(...o.diagnostics)}),r.length?new aT(r):null}}),db=Wr.define({create(){return pn.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(Tv).markerFilter;for(let r of e.effects)if(r.is(Ev)){let i=r.value;t&&(i=t(i||[],e.state)),n=Lte(e.state.doc,i.slice(0))}return n}}),x2=Yt.define(),lT=Wr.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=eT(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,r)=>r.is(x2)?r.value:t,n)},provide:n=>wv.from(n)}),Fte=ct.baseTheme({\".cm-gutter-lint\":{width:\"1.4em\",\"& .cm-gutterElement\":{padding:\".2em\"}},\".cm-lint-marker\":{width:\"1em\",height:\"1em\"},\".cm-lint-marker-info\":{content:tg('<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>')},\".cm-lint-marker-warning\":{content:tg('<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>')},\".cm-lint-marker-error\":{content:tg('<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>')}}),cT=[Yi,ct.decorations.compute([Yi],n=>{let{selected:e,panel:t}=n.field(Yi);return!e||!t||e.from==e.to?At.none:At.set([Ste.range(e.from,e.to)])}),n$(_te,{hideOn:eT}),Ite],Tv=dt.define({combine(n){return Xs(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function jte(n={}){return[Tv.of(n),db,Bte,Fte,lT]}var d_={};class lm{constructor(e,t,r,i,s,o,a,l,u,f=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=f,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?\"!\"+this.score:\"\"}`}static start(e,t,r=0){let i=e.parser.context;return new lm(e,[],t,r,r,0,[],0,i?new h_(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,f=this.reducePos-u;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=f));let d=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,p,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let p=this.stack[l-3];this.state=s.getGoto(p,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new lm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new zte(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new h_(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class h_{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class zte{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class cm{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new cm(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new cm(this.stack,this.pos,this.index)}}function gp(n,e=Uint16Array){if(typeof n!=\"string\")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class ng{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const p_=new ng;class Vte{constructor(e,t){this.input=e,this.ranges=t,this.chunk=\"\",this.chunkOff=0,this.chunk2=\"\",this.chunk2Pos=0,this.next=-1,this.token=p_,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError(\"Token end out of bounds\");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk=\"\",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=p_,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk=\"\",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r=\"\";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class cu{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;Hte(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}cu.prototype.contextual=cu.prototype.fallback=cu.prototype.extend=!1;cu.prototype.fallback=cu.prototype.extend=!1;function Hte(n,e,t,r,i,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[o];){let u=n[o+1];for(let p=o+3;p<u;p+=2)if((n[p+1]&a)>0){let g=n[p];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||qte(g,e.token.value,i,s))){e.acceptToken(g);break}}let f=e.next,d=0,h=n[o+2];if(e.next<0&&h>d&&n[u+h*3-3]==65535){o=n[u+h*3-1];continue e}for(;d<h;){let p=d+h>>1,g=u+p+(p<<1),m=n[g],b=n[g+1]||65536;if(f<m)h=p;else if(f>=b)d=p+1;else{o=n[g+2],e.advance();continue e}}break}}function g_(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function qte(n,e,t,r){let i=g_(t,r,e);return i<0||g_(t,r,n)<i}const Fi=typeof process<\"u\"&&d_&&/\\bparse\\b/.test(d_.LOG);let $y=null;function m_(n,e,t){let r=n.cursor(Fr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class Wte{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?m_(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?m_(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof kr){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(an.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class Ute{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ng)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&o))continue;let f=s[u],d=this.tokens[u];if(!(r&&!f.fallback)&&((f.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,f,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!f.extend&&(r=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ng,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ng,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Bo(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Bo(a,u+2),t,r,i));break}a[u]==t&&(i=this.putAction(Bo(a,u+1),t,r,i))}return i}}class Kte{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Vte(t,i),this.tokens=new Ute(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[lm.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Wte(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&Xte(i);if(o)return Fi&&console.log(\"Finish with \"+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Fi&&i&&console.log(\"Stuck with token \"+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):\"none\")),new SyntaxError(\"No parse at \"+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return Fi&&console.log(\"Force-finish \"+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError(\"Can't move stoppedAt forward\");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=Fi?this.stackID(e)+\" -> \":\"\";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,f=u?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!u||(d.prop(an.contextHash)||0)==f))return e.useNode(d,h),Fi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof kr)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof kr&&d.positions[0]==0)d=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Fi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let f=l[u++],d=l[u++],h=l[u++],p=u==l.length||!r,g=p?e:e.split(),m=this.tokens.mainToken;if(g.apply(f,d,m?m.start:g.pos,h),Fi&&console.log(o+this.stackID(g)+` (via ${f&65536?`reduce of ${s.getName(f&65535)}`:\"shift\"} for ${s.getName(d)} @ ${i}${g==e?\"\":\", split\"})`),p)return!0;g.pos>i?t.push(g):r.push(g)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return v_(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],u=t[(o<<1)+1],f=Fi?this.stackID(a)+\" -> \":\"\";if(a.deadEnd&&(s||(s=!0,a.restart(),Fi&&console.log(f+this.stackID(a)+\" (restarted)\"),this.advanceFully(a,r))))continue;let d=a.split(),h=f;for(let p=0;d.forceReduce()&&p<10&&(Fi&&console.log(h+this.stackID(d)+\" (via force-reduce)\"),!this.advanceFully(d,r));p++)Fi&&(h=this.stackID(d)+\" -> \");for(let p of a.recoverByInsert(l))Fi&&console.log(f+this.stackID(p)+\" (via recover-insert)\"),this.advanceFully(p,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Fi&&console.log(f+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),v_(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),kr.build({buffer:cm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=($y||($y=new WeakMap)).get(e);return t||$y.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function v_(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Jte{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class um extends o8{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(\" \");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push(\"\");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l==\"string\"&&(l=an[l]);for(let u=1;u<a.length;){let f=a[u++];if(f>=0)s(f,l,a[u++]);else{let d=a[u+-f];for(let h=-f;h>0;h--)s(a[u++],l,d);u++}}}this.nodeSet=new f2(t.map((a,l)=>Li.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=n8;let o=gp(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(y_),this.states=gp(e.states,Uint32Array),this.data=gp(e.stateData),this.goto=gp(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a==\"number\"?new cu(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new Kte(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Bo(r,s+2)];else{if(r[s+1]==2)return Bo(r,s+2);break}if(o==t||o==0)return Bo(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Bo(this.data,s+2);else break;i=t(Bo(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Bo(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(um.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=y_(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(\" \")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Jte(e,r,i)}static deserialize(e){return new um(e)}}function Bo(n,e){return n[e]|n[e+1]<<16}function Xte(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function y_(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const Yte=a8({String:qe.string,Number:qe.number,\"True False\":qe.bool,PropertyName:qe.propertyName,Null:qe.null,\", :\":qe.separator,\"[ ]\":qe.squareBracket,\"{ }\":qe.brace}),Gte=um.deserialize({version:14,states:\"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l\",stateData:\"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O\",goto:\"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R\",nodeNames:\" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array\",maxTerm:25,nodeProps:[[\"isolate\",-2,6,11,\"\"],[\"openedBy\",7,\"{\",14,\"[\"],[\"closedBy\",8,\"}\",15,\"]\"]],propSources:[Yte],skippedNodes:[0],repeatNodeCount:2,tokenData:\"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~\",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Qte=im.define({name:\"json\",parser:Gte.configure({props:[f8.add({Object:G3({except:/^\\s*\\}/}),Array:G3({except:/^\\s*\\]/})}),h8.add({\"Object Array\":J$})]}),languageData:{closeBrackets:{brackets:[\"[\",\"{\",'\"']},indentOnInput:/^\\s*[\\}\\]]$/}});function Zte(){return new N$(Qte)}const b_=typeof String.prototype.normalize==\"function\"?n=>n.normalize(\"NFKD\"):n=>n;class Nu{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer=\"\",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(b_(a)):b_,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Pi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Gw(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=io(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<\"u\"&&(Nu.prototype[Symbol.iterator]=function(){return this});const uT={from:-1,to:-1,match:/.*/.exec(\"\")},C2=\"gm\"+(/x/.unicode==null?\"\":\"u\");class fT{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine=\"\",this.done=!1,this.value=uT,/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(t))return new dT(e,t,r,i,s);this.re=new RegExp(t,C2+(r!=null&&r.ignoreCase?\"i\":\"\")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=fm(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine=\"\":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine=\"\":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=fm(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const e0=new WeakMap;class uu{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=e0.get(e);if(!i||i.from>=r||i.to<=t){let a=new uu(t,e.sliceString(t,r));return e0.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),e0.set(e,new uu(o,s)),new uu(t,s.slice(t-o,r-o))}}class dT{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=uT,this.matchPos=fm(e,i),this.re=new RegExp(t,C2+(r!=null&&r.ignoreCase?\"i\":\"\")),this.test=r==null?void 0:r.test,this.flat=uu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=fm(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=uu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<\"u\"&&(fT.prototype[Symbol.iterator]=dT.prototype[Symbol.iterator]=function(){return this});function $te(n){try{return new RegExp(n,C2),!0}catch{return!1}}function fm(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function hb(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Un(\"input\",{class:\"cm-textfield\",name:\"line\",value:e}),r=Un(\"form\",{class:\"cm-gotoLine\",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:dm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Un(\"label\",n.state.phrase(\"Go to line\"),\": \",t),\" \",Un(\"button\",{class:\"cm-button\",type:\"submit\"},n.state.phrase(\"go\")));function i(){let s=/^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,u,f,d]=s,h=f?+f.slice(1):0,p=u?+u:a.number;if(u&&d){let b=p/100;l&&(b=b*(l==\"-\"?-1:1)+a.number/o.doc.lines),p=Math.round(o.doc.lines*b)}else u&&l&&(p=p*(l==\"-\"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,p))),m=Oe.cursor(g.from+Math.max(0,Math.min(h,g.length)));n.dispatch({effects:[dm.of(!1),ct.scrollIntoView(m.from,{y:\"center\"})],selection:m}),n.focus()}return{dom:r}}const dm=Yt.define(),w_=Wr.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(dm)&&(n=t.value);return n},provide:n=>Nd.from(n,e=>e?hb:null)}),ene=n=>{let e=Dd(n,hb);if(!e){let t=[dm.of(!0)];n.state.field(w_,!1)==null&&t.push(Yt.appendConfig.of([w_,tne])),n.dispatch({effects:t}),e=Dd(n,hb)}return e&&e.dom.querySelector(\"input\").select(),!0},tne=ct.baseTheme({\".cm-panel.cm-gotoLine\":{padding:\"2px 6px 4px\",\"& label\":{fontSize:\"80%\"}}}),nne={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},rne=dt.define({combine(n){return Xs(n,nne,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function ine(n){return[cne,lne]}const sne=At.mark({class:\"cm-selectionMatch\"}),one=At.mark({class:\"cm-selectionMatch cm-selectionMatch-main\"});function x_(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=nr.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=nr.Word)}function ane(n,e,t,r){return n(e.sliceDoc(t,t+1))==nr.Word&&n(e.sliceDoc(r-1,r))==nr.Word}const lne=fr.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(rne),{state:t}=n,r=t.selection;if(r.ranges.length>1)return At.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return At.none;let l=t.wordAt(i.head);if(!l)return At.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return At.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(x_(o,t,i.from,i.to)&&ane(o,t,i.from,i.to)))return At.none}else if(s=t.sliceDoc(i.from,i.to),!s)return At.none}let a=[];for(let l of n.visibleRanges){let u=new Nu(t.doc,s,l.from,l.to);for(;!u.next().done;){let{from:f,to:d}=u.value;if((!o||x_(o,t,f,d))&&(i.empty&&f<=i.from&&d>=i.to?a.push(one.range(f,d)):(f>=i.to||d<=i.from)&&a.push(sne.range(f,d)),a.length>e.maxMatches))return At.none}}return At.set(a)}},{decorations:n=>n.decorations}),cne=ct.baseTheme({\".cm-selectionMatch\":{backgroundColor:\"#99ff7780\"},\".cm-searchMatch .cm-selectionMatch\":{backgroundColor:\"transparent\"}}),une=({state:n,dispatch:e})=>{let{selection:t}=n,r=Oe.create(t.ranges.map(i=>n.wordAt(i.head)||Oe.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function fne(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new Nu(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Nu(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const dne=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return une({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=fne(n,r);return i?(e(n.update({selection:n.selection.addRange(Oe.range(i.from,i.to),!1),effects:ct.scrollIntoView(i.to)})),!0):!1},dc=dt.define({combine(n){return Xs(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new kne(e),scrollToMatch:e=>ct.scrollIntoView(e)})}});function hne(n){return n?[dc.of(n),gb]:gb}class hT{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||\"\",this.valid=!!this.search&&(!this.regexp||$te(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\\\([nrt\\\\])/g,(t,r)=>r==\"n\"?`\n`:r==\"r\"?\"\\r\":r==\"t\"?\"\t\":\"\\\\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new vne(this):new gne(this)}getCursor(e,t=0,r){let i=e.doc?e:cn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Nc(this,i,t,r):Dc(this,i,t,r)}}class pT{constructor(e){this.spec=e}}function Dc(n,e,t,r){return new Nu(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?pne(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function pne(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(hm(i,t-s))!=nr.Word||e(pm(i,t-s))!=nr.Word)&&(e(pm(i,r-s))!=nr.Word||e(hm(i,r-s))!=nr.Word))}class gne extends pT{constructor(e){super(e)}nextMatch(e,t,r){let i=Dc(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Dc(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Dc(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Dc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Dc(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Nc(n,e,t,r){return new fT(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?mne(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function hm(n,e){return n.slice($r(n,e,!1),e)}function pm(n,e){return n.slice(e,$r(n,e))}function mne(n){return(e,t,r)=>!r[0].length||(n(hm(r.input,r.index))!=nr.Word||n(pm(r.input,r.index))!=nr.Word)&&(n(pm(r.input,r.index+r[0].length))!=nr.Word||n(hm(r.input,r.index+r[0].length))!=nr.Word)}class vne extends pT{nextMatch(e,t,r){let i=Nc(this.spec,e,r,e.doc.length).next();return i.done&&(i=Nc(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=Nc(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\\$([$&\\d+])/g,(t,r)=>r==\"$\"?\"$\":r==\"&\"?e.match[0]:r!=\"0\"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=Nc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Nc(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const jd=Yt.define(),S2=Yt.define(),Ua=Wr.define({create(n){return new t0(pb(n).create(),null)},update(n,e){for(let t of e.effects)t.is(jd)?n=new t0(t.value.create(),n.panel):t.is(S2)&&(n=new t0(n.query,t.value?_2:null));return n},provide:n=>Nd.from(n,e=>e.panel)});class t0{constructor(e,t){this.query=e,this.panel=t}}const yne=At.mark({class:\"cm-searchMatch\"}),bne=At.mark({class:\"cm-searchMatch cm-searchMatch-selected\"}),wne=fr.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ua))}update(n){let e=n.state.field(Ua);(e!=n.startState.field(Ua)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return At.none;let{view:t}=this,r=new qs;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(u,f)=>{let d=t.state.selection.ranges.some(h=>h.from==u&&h.to==f);r.add(u,f,d?bne:yne)})}return r.finish()}},{decorations:n=>n.decorations});function vh(n){return e=>{let t=e.state.field(Ua,!1);return t&&t.query.spec.valid?n(e,t):k2(e)}}const gm=vh((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=Oe.single(r.from,r.to),s=n.state.facet(dc);return n.dispatch({selection:i,effects:[O2(n,r),s.scrollToMatch(i.main,n)],userEvent:\"select.search\"}),mT(n),!0}),mm=vh((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=Oe.single(i.from,i.to),o=n.state.facet(dc);return n.dispatch({selection:s,effects:[O2(n,i),o.scrollToMatch(s.main,n)],userEvent:\"select.search\"}),mT(n),!0}),xne=vh((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Oe.create(t.map(r=>Oe.range(r.from,r.to))),userEvent:\"select.search.matches\"}),!0)}),Cne=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new Nu(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Oe.range(a.value.from,a.value.to))}return e(n.update({selection:Oe.create(s,o),userEvent:\"select.search.matches\"})),!0},C_=vh((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,u,f=[];if(o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),f.push(ct.announce.of(t.phrase(\"replaced match on line $\",t.doc.lineAt(r).number)+\".\"))),o){let d=a.length==0||a[0].from>=s.to?0:s.to-s.from-u.length;l=Oe.single(o.from-d,o.to-d),f.push(O2(n,o)),f.push(t.facet(dc).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:f,userEvent:\"input.replace\"}),!0}),Sne=vh((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase(\"replaced $ matches\",t.length)+\".\";return n.dispatch({changes:t,effects:ct.announce.of(r),userEvent:\"input.replace.all\"}),!0});function _2(n){return n.state.facet(dc).createPanel(n)}function pb(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?\"\":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=n.facet(dc);return new hT({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\\n/g,\"\\\\n\"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function gT(n){let e=Dd(n,_2);return e&&e.dom.querySelector(\"[main-field]\")}function mT(n){let e=gT(n);e&&e==n.root.activeElement&&e.select()}const k2=n=>{let e=n.state.field(Ua,!1);if(e&&e.panel){let t=gT(n);if(t&&t!=n.root.activeElement){let r=pb(n.state,e.query.spec);r.valid&&n.dispatch({effects:jd.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[S2.of(!0),e?jd.of(pb(n.state,e.query.spec)):Yt.appendConfig.of(gb)]});return!0},A2=n=>{let e=n.state.field(Ua,!1);if(!e||!e.panel)return!1;let t=Dd(n,_2);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:S2.of(!1)}),!0},_ne=[{key:\"Mod-f\",run:k2,scope:\"editor search-panel\"},{key:\"F3\",run:gm,shift:mm,scope:\"editor search-panel\",preventDefault:!0},{key:\"Mod-g\",run:gm,shift:mm,scope:\"editor search-panel\",preventDefault:!0},{key:\"Escape\",run:A2,scope:\"editor search-panel\"},{key:\"Mod-Shift-l\",run:Cne},{key:\"Mod-Alt-g\",run:ene},{key:\"Mod-d\",run:dne,preventDefault:!0}];class kne{constructor(e){this.view=e;let t=this.query=e.state.field(Ua).query.spec;this.commit=this.commit.bind(this),this.searchField=Un(\"input\",{value:t.search,placeholder:ji(e,\"Find\"),\"aria-label\":ji(e,\"Find\"),class:\"cm-textfield\",name:\"search\",form:\"\",\"main-field\":\"true\",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Un(\"input\",{value:t.replace,placeholder:ji(e,\"Replace\"),\"aria-label\":ji(e,\"Replace\"),class:\"cm-textfield\",name:\"replace\",form:\"\",onchange:this.commit,onkeyup:this.commit}),this.caseField=Un(\"input\",{type:\"checkbox\",name:\"case\",form:\"\",checked:t.caseSensitive,onchange:this.commit}),this.reField=Un(\"input\",{type:\"checkbox\",name:\"re\",form:\"\",checked:t.regexp,onchange:this.commit}),this.wordField=Un(\"input\",{type:\"checkbox\",name:\"word\",form:\"\",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return Un(\"button\",{class:\"cm-button\",name:i,onclick:s,type:\"button\"},o)}this.dom=Un(\"div\",{onkeydown:i=>this.keydown(i),class:\"cm-search\"},[this.searchField,r(\"next\",()=>gm(e),[ji(e,\"next\")]),r(\"prev\",()=>mm(e),[ji(e,\"previous\")]),r(\"select\",()=>xne(e),[ji(e,\"all\")]),Un(\"label\",null,[this.caseField,ji(e,\"match case\")]),Un(\"label\",null,[this.reField,ji(e,\"regexp\")]),Un(\"label\",null,[this.wordField,ji(e,\"by word\")]),...e.state.readOnly?[]:[Un(\"br\"),this.replaceField,r(\"replace\",()=>C_(e),[ji(e,\"replace\")]),r(\"replaceAll\",()=>Sne(e),[ji(e,\"replace all\")])],Un(\"button\",{name:\"close\",onclick:()=>A2(e),\"aria-label\":ji(e,\"close\"),type:\"button\"},[\"\"])])}commit(){let e=new hT({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:jd.of(e)}))}keydown(e){mZ(this.view,e,\"search-panel\")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mm:gm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),C_(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(jd)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(dc).top}}function ji(n,e){return n.state.phrase(e)}const mp=30,vp=/[\\s\\.,:;?!]/;function O2(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-mp),o=Math.min(i,t+mp),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<mp;l++)if(!vp.test(a[l+1])&&vp.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-mp;l--)if(!vp.test(a[l-1])&&vp.test(a[l])){a=a.slice(0,l);break}}return ct.announce.of(`${n.state.phrase(\"current match\")}. ${a} ${n.state.phrase(\"on line\")} ${r.number}.`)}const Ane=ct.baseTheme({\".cm-panel.cm-search\":{padding:\"2px 6px 4px\",position:\"relative\",\"& [name=close]\":{position:\"absolute\",top:\"0\",right:\"4px\",backgroundColor:\"inherit\",border:\"none\",font:\"inherit\",padding:0,margin:0},\"& input, & button, & label\":{margin:\".2em .6em .2em 0\"},\"& input[type=checkbox]\":{marginRight:\".2em\"},\"& label\":{fontSize:\"80%\",whiteSpace:\"pre\"}},\"&light .cm-searchMatch\":{backgroundColor:\"#ffff0054\"},\"&dark .cm-searchMatch\":{backgroundColor:\"#00ffff8a\"},\"&light .cm-searchMatch-selected\":{backgroundColor:\"#ff6a0054\"},\"&dark .cm-searchMatch-selected\":{backgroundColor:\"#ff00ff8a\"}}),gb=[Ua,fc.low(wne),Ane];class vT{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=ci(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(yT(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e==\"abort\"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function S_(n){let e=Object.keys(n).join(\"\"),t=/\\w/.test(e);return t&&(e=e.replace(/\\w/g,\"\")),`[${t?\"\\\\w\":\"\"}${e.replace(/[^\\w\\s]/g,\"\\\\$&\")}]`}function One(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=S_(e)+S_(t)+\"*$\";return[new RegExp(\"^\"+r),new RegExp(r)]}function Ene(n){let e=n.map(i=>typeof i==\"string\"?{label:i}:i),[t,r]=e.every(i=>/^\\w+$/.test(i.label))?[/\\w*$/,/\\w+$/]:One(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class __{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function jl(n){return n.selection.main.from}function yT(n,e){var t;let{source:r}=n,i=e&&r[0]!=\"^\",s=r[r.length-1]!=\"$\";return!i&&!s?n:new RegExp(`${i?\"^\":\"\"}(?:${r})${s?\"$\":\"\"}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?\"i\":\"\")}const bT=al.define();function Tne(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Oe.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:\"input.complete\"})}const k_=new WeakMap;function Mne(n){if(!Array.isArray(n))return n;let e=k_.get(n);return e||k_.set(n,e=Ene(n)),e}const vm=Yt.define(),zd=Yt.define();class Pne{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Pi(e,t),i=io(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(Pi(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let w=Pi(e,0),k=io(w),x=k==e.length?0:-100;if(w!=t[0])if(w==r[0])x+=-200;else return null;return this.ret(x,[0,k])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(a<0){for(let w=0,k=Math.min(e.length,200);w<k&&u<l;){let x=Pi(e,w);(x==t[u]||x==r[u])&&(i[u++]=w),w+=io(x)}if(u<l)return null}let f=0,d=0,h=!1,p=0,g=-1,m=-1,b=/[a-z]/.test(e),v=!0;for(let w=0,k=Math.min(e.length,200),x=0;w<k&&d<l;){let C=Pi(e,w);a<0&&(f<l&&C==t[f]&&(s[f++]=w),p<l&&(C==t[p]||C==r[p]?(p==0&&(g=w),m=w+1,p++):p=0));let T,A=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(T=Gw(C))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!w||A==1&&b||x==0&&A!=0)&&(t[d]==C||r[d]==C&&(h=!0)?o[d++]=w:o.length&&(v=!1)),x=A,w+=io(C)}return d==l&&o[0]==0&&v?this.result(-100+(h?-200:0),o,e):p==l&&g==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-900-e.length,[g,m]):d==l?this.result(-100+(h?-200:0)+-700+(v?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?io(Pi(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Ine{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const jr=dt.define({combine(n){return Xs(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>\"\",optionClass:()=>\"\",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Rne,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>A_(e(r),t(r)),optionClass:(e,t)=>r=>A_(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function A_(n,e){return n?e?n+\" \"+e:n:e}function Rne(n,e,t,r,i,s){let o=n.textDirection==$n.RTL,a=o,l=!1,u=\"top\",f,d,h=e.left-i.left,p=i.right-e.right,g=r.right-r.left,m=r.bottom-r.top;if(a&&h<Math.min(g,p)?a=!1:!a&&p<Math.min(g,h)&&(a=!0),g<=(a?h:p))f=Math.max(i.top,Math.min(t.top,i.bottom-m))-e.top,d=Math.min(400,a?h:p);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let w=i.bottom-e.bottom;w>=m||w>e.top?f=t.bottom-e.top:(u=\"bottom\",f=e.bottom-t.top)}let b=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${f/b}px; max-width: ${d/v}px`,class:\"cm-completionInfo-\"+(l?o?\"left-narrow\":\"right-narrow\":a?\"left\":\"right\")}}function Dne(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement(\"div\");return r.classList.add(\"cm-completionIcon\"),t.type&&r.classList.add(...t.type.split(/\\s+/g).map(i=>\"cm-completionIcon-\"+i)),r.setAttribute(\"aria-hidden\",\"true\"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement(\"span\");o.className=\"cm-completionLabel\";let a=t.displayLabel||t.label,l=0;for(let u=0;u<s.length;){let f=s[u++],d=s[u++];f>l&&o.appendChild(document.createTextNode(a.slice(l,f)));let h=o.appendChild(document.createElement(\"span\"));h.appendChild(document.createTextNode(a.slice(f,d))),h.className=\"cm-completionMatchedText\",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement(\"span\");return r.className=\"cm-completionDetail\",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function n0(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Nne{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass=\"\";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(jr);this.optionContent=Dne(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=n0(s.length,o,a.maxRenderedOptions),this.dom=document.createElement(\"div\"),this.dom.className=\"cm-tooltip-autocomplete\",this.updateTooltipClass(e.state),this.dom.addEventListener(\"mousedown\",l=>{let{options:u}=e.state.field(t).open;for(let f=l.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName==\"LI\"&&(d=/-(\\d+)$/.exec(f.id))&&+d[1]<u.length){this.applyCompletion(e,u[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener(\"focusout\",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(jr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:zd.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener(\"scroll\",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=n0(s.length,o,e.state.facet(jr).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(\" \"))r&&this.dom.classList.remove(r);for(let r of t.split(\" \"))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=n0(t.options.length,t.selected,this.view.state.facet(jr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i==\"string\"?document.createTextNode(i):i(r);if(!s)return;\"then\"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>wi(this.view.state,o,\"completion info\")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement(\"div\");if(r.className=\"cm-tooltip cm-completionInfo\",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!=\"LI\"||!r.id?i--:i==e?r.hasAttribute(\"aria-selected\")||(r.setAttribute(\"aria-selected\",\"true\"),t=r):r.hasAttribute(\"aria-selected\")&&r.removeAttribute(\"aria-selected\");return t&&Bne(this.list,t),t}measureInfo(){let e=this.dom.querySelector(\"[aria-selected]\");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(jr).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className=\"cm-tooltip cm-completionInfo \"+(e.class||\"\")):this.info.style.cssText=\"top: -1e6px\")}createListBox(e,t,r){const i=document.createElement(\"ul\");i.id=t,i.setAttribute(\"role\",\"listbox\"),i.setAttribute(\"aria-expanded\",\"true\"),i.setAttribute(\"aria-label\",this.view.state.phrase(\"Completions\"));let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let h=typeof u==\"string\"?u:u.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof u!=\"string\"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement(\"completion-section\"));p.textContent=h}}const f=i.appendChild(document.createElement(\"li\"));f.id=t+\"-\"+o,f.setAttribute(\"role\",\"option\");let d=this.optionClass(a);d&&(f.className=d);for(let h of this.optionContent){let p=h(a,this.view.state,this.view,l);p&&f.appendChild(p)}}return r.from&&i.classList.add(\"cm-completionListIncompleteTop\"),r.to<e.length&&i.classList.add(\"cm-completionListIncompleteBottom\"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Lne(n,e){return t=>new Nne(t,n,e)}function Bne(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function O_(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Fne(n,e){let t=[],r=null,i=u=>{t.push(u);let{section:f}=u.completion;if(f){r||(r=[]);let d=typeof f==\"string\"?f:f.name;r.some(h=>h.name==d)||r.push(typeof f==\"string\"?{name:d}:f)}},s=e.facet(jr);for(let u of n)if(u.hasResult()){let f=u.result.getMatch;if(u.result.filter===!1)for(let d of u.result.options)i(new __(d,u.source,f?f(d):[],1e9-t.length));else{let d=e.sliceDoc(u.from,u.to),h,p=s.filterStrict?new Ine(d):new Pne(d);for(let g of u.result.options)if(h=p.match(g.label)){let m=g.displayLabel?f?f(g,h.matched):[]:h.matched;i(new __(g,u.source,m,h.score+(g.boost||0)))}}}if(r){let u=Object.create(null),f=0,d=(h,p)=>{var g,m;return((g=h.rank)!==null&&g!==void 0?g:1e9)-((m=p.rank)!==null&&m!==void 0?m:1e9)||(h.name<p.name?-1:1)};for(let h of r.sort(d))f-=1e5,u[h.name]=f;for(let h of t){let{section:p}=h.completion;p&&(h.score+=u[typeof p==\"string\"?p:p.name])}}let o=[],a=null,l=s.compareCompletions;for(let u of t.sort((f,d)=>d.score-f.score||l(f.completion,d.completion))){let f=u.completion;!a||a.label!=f.label||a.detail!=f.detail||a.type!=null&&f.type!=null&&a.type!=f.type||a.apply!=f.apply||a.boost!=f.boost?o.push(u):O_(u.completion)>O_(a)&&(o[o.length-1]=u),a=u.completion}return o}class Uc{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Uc(this.options,E_(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=Fne(e,t);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=t.facet(jr).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let f=0;f<a.length;f++)if(a[f].completion==u){l=f;break}}return new Uc(a,E_(r,l),{pos:e.reduce((u,f)=>f.hasResult()?Math.min(u,f.from):u,1e8),create:Wne,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Uc(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Uc(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ym{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new ym(Hne,\"cm-ac-\"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(jr),s=(r.override||t.languageDataAt(\"autocomplete\",jl(t)).map(Mne)).map(l=>(this.active.find(f=>f.source==l)||new as(l,this.active.some(f=>f.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(E2));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!jne(s,this.active)||a?o=Uc.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new as(l.source,0):l));for(let l of e.effects)l.is(xT)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new ym(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?zne:Vne}}function jne(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const zne={\"aria-autocomplete\":\"list\"},Vne={};function E_(n,e){let t={\"aria-autocomplete\":\"list\",\"aria-haspopup\":\"listbox\",\"aria-controls\":n};return e>-1&&(t[\"aria-activedescendant\"]=n+\"-\"+e),t}const Hne=[];function wT(n,e){if(n.isUserEvent(\"input.complete\")){let r=n.annotation(bT);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent(\"input.type\");return t&&e.activateOnTyping?5:t?1:n.isUserEvent(\"delete.backward\")?2:n.selection?8:n.docChanged?16:0}class as{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=wT(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new as(i.source,0)),r&4&&i.state==0&&(i=new as(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(vm))i=new as(i.source,1,s.value);else if(s.is(zd))i=new as(i.source,0);else if(s.is(E2))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(jl(e.state))}}class fu extends as{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=jl(e.state);if(a>o||!i||t&2&&(jl(e.startState)==this.from||a<this.limit))return new as(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return qne(i.validFor,e.state,s,o)?new fu(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new vT(e.state,a,!1)))?new fu(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:jl(e.state)):new as(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new fu(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new as(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function qne(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n==\"function\"?n(i,t,r,e):yT(n,!0).test(i)}const E2=Yt.define({map(n,e){return n.map(t=>t.map(e))}}),xT=Yt.define(),Ri=Wr.define({create(){return ym.start()},update(n,e){return n.update(e)},provide:n=>[wv.from(n,e=>e.tooltip),ct.contentAttributes.from(n,e=>e.attrs)]});function T2(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Ri).active.find(i=>i.source==e.source);return r instanceof fu?(typeof t==\"string\"?n.dispatch(Object.assign(Object.assign({},Tne(n.state,t,r.from,r.to)),{annotations:bT.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Wne=Lne(Ri,T2);function yp(n,e=\"option\"){return t=>{let r=t.state.field(Ri,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(jr).interactionDelay)return!1;let i=1,s;e==\"page\"&&(s=Q6(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector(\"li\").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e==\"page\"?0:o-1:a>=o&&(a=e==\"page\"?o-1:0),t.dispatch({effects:xT.of(a)}),!0}}const Une=n=>{let e=n.state.field(Ri,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(jr).interactionDelay?!1:T2(n,e.open.options[e.open.selected])},T_=n=>n.state.field(Ri,!1)?(n.dispatch({effects:vm.of(!0)}),!0):!1,Kne=n=>{let e=n.state.field(Ri,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:zd.of(null)}),!0)};class Jne{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Xne=50,Yne=1e3,Gne=fr.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ri).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Ri),t=n.state.facet(jr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ri)==e)return;let r=n.transactions.some(s=>{let o=wT(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Xne&&Date.now()-o.time>Yne){for(let a of o.context.abortListeners)try{a()}catch(l){wi(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(vm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent(\"input.type\")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ri);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(jr).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=jl(e),r=new vT(e,t,n.explicit,this.view),i=new Jne(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:zd.of(null)}),wi(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(jr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(jr),r=this.view.state.field(Ri);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=jl(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new fu(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let f of s.updates)u=u.update(f,t);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new as(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:E2.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ri,!1);if(e&&e.tooltip&&this.view.state.facet(jr).closeOnBlur){let t=e.open&&Q6(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:zd.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:vm.of(!1)}),20),this.composing=0}}}),Qne=typeof navigator==\"object\"&&/Win/.test(navigator.platform),Zne=fc.highest(ct.domEventHandlers({keydown(n,e){let t=e.state.field(Ri,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Qne&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&T2(e,r),!1}})),$ne=ct.baseTheme({\".cm-tooltip.cm-tooltip-autocomplete\":{\"& > ul\":{fontFamily:\"monospace\",whiteSpace:\"nowrap\",overflow:\"hidden auto\",maxWidth_fallback:\"700px\",maxWidth:\"min(700px, 95vw)\",minWidth:\"250px\",maxHeight:\"10em\",height:\"100%\",listStyle:\"none\",margin:0,padding:0,\"& > li, & > completion-section\":{padding:\"1px 3px\",lineHeight:1.2},\"& > li\":{overflowX:\"hidden\",textOverflow:\"ellipsis\",cursor:\"pointer\"},\"& > completion-section\":{display:\"list-item\",borderBottom:\"1px solid silver\",paddingLeft:\"0.5em\",opacity:.7}}},\"&light .cm-tooltip-autocomplete ul li[aria-selected]\":{background:\"#17c\",color:\"white\"},\"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\":{background:\"#777\"},\"&dark .cm-tooltip-autocomplete ul li[aria-selected]\":{background:\"#347\",color:\"white\"},\"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\":{background:\"#444\"},\".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\":{content:'\"\"',opacity:.5,display:\"block\",textAlign:\"center\"},\".cm-tooltip.cm-completionInfo\":{position:\"absolute\",padding:\"3px 9px\",width:\"max-content\",maxWidth:\"400px\",boxSizing:\"border-box\",whiteSpace:\"pre-line\"},\".cm-completionInfo.cm-completionInfo-left\":{right:\"100%\"},\".cm-completionInfo.cm-completionInfo-right\":{left:\"100%\"},\".cm-completionInfo.cm-completionInfo-left-narrow\":{right:\"30px\"},\".cm-completionInfo.cm-completionInfo-right-narrow\":{left:\"30px\"},\"&light .cm-snippetField\":{backgroundColor:\"#00000022\"},\"&dark .cm-snippetField\":{backgroundColor:\"#ffffff22\"},\".cm-snippetFieldPosition\":{verticalAlign:\"text-top\",width:0,height:\"1.15em\",display:\"inline-block\",margin:\"0 -0.7px -.7em\",borderLeft:\"1.4px dotted #888\"},\".cm-completionMatchedText\":{textDecoration:\"underline\"},\".cm-completionDetail\":{marginLeft:\"0.5em\",fontStyle:\"italic\"},\".cm-completionIcon\":{fontSize:\"90%\",width:\".8em\",display:\"inline-block\",textAlign:\"center\",paddingRight:\".6em\",opacity:\"0.6\",boxSizing:\"content-box\"},\".cm-completionIcon-function, .cm-completionIcon-method\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-class\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-interface\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-variable\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-constant\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-type\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-enum\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-property\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-keyword\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-namespace\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-text\":{\"&:after\":{content:\"'abc'\",fontSize:\"50%\",verticalAlign:\"middle\"}}}),Vd={brackets:[\"(\",\"[\",\"{\",\"'\",'\"'],before:\")]}:;>\",stringPrefixes:[]},Il=Yt.define({map(n,e){let t=e.mapPos(n,-1,yi.TrackAfter);return t??void 0}}),M2=new class extends $l{};M2.startSide=1;M2.endSide=-1;const CT=Wr.define({create(){return pn.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Il)&&(n=n.update({add:[M2.range(t.value,t.value+1)]}));return n}});function ere(){return[nre,CT]}const r0=\"()[]{}<>\";function ST(n){for(let e=0;e<r0.length;e+=2)if(r0.charCodeAt(e)==n)return r0.charAt(e+1);return Gw(n<128?n:n+1)}function _T(n,e){return n.languageDataAt(\"closeBrackets\",e)[0]||Vd}const tre=typeof navigator==\"object\"&&/Android\\b/.test(navigator.userAgent),nre=ct.inputHandler.of((n,e,t,r)=>{if((tre?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&io(Pi(r,0))==1||e!=i.from||t!=i.to)return!1;let s=sre(n.state,r);return s?(n.dispatch(s),!0):!1}),rre=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=_T(n,n.selection.main.head).brackets||Vd.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=ore(n.doc,o.head);for(let l of r)if(l==a&&Mv(n.doc,o.head)==ST(Pi(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Oe.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:\"delete.backward\"})),!i},ire=[{key:\"Backspace\",run:rre}];function sre(n,e){let t=_T(n,n.selection.main.head),r=t.brackets||Vd.brackets;for(let i of r){let s=ST(Pi(i,0));if(e==i)return s==i?cre(n,i,r.indexOf(i+i+i)>-1,t):are(n,i,s,t.before||Vd.before);if(e==s&&kT(n,n.selection.main.from))return lre(n,i,s)}return null}function kT(n,e){let t=!1;return n.field(CT).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Mv(n,e){let t=n.sliceString(e,e+2);return t.slice(0,io(Pi(t,0)))}function ore(n,e){let t=n.sliceString(e-2,e);return io(Pi(t,0))==t.length?t:t.slice(1)}function are(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Il.of(o.to+e.length),range:Oe.range(o.anchor+e.length,o.head+e.length)};let a=Mv(n.doc,o.head);return!a||/\\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Il.of(o.head+e.length),range:Oe.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:\"input.type\"})}function lre(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Mv(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Oe.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:\"input.type\"})}function cre(n,e,t,r){let i=r.stringPrefixes||Vd.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Il.of(a.to+e.length),range:Oe.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Mv(n.doc,l),f;if(u==e){if(M_(n,l))return{changes:{insert:e+e,from:l},effects:Il.of(l+e.length),range:Oe.cursor(l+e.length)};if(kT(n,l)){let h=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:Oe.cursor(l+h.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(f=P_(n,l-2*e.length,i))>-1&&M_(n,f))return{changes:{insert:e+e+e+e,from:l},effects:Il.of(l+e.length),range:Oe.cursor(l+e.length)};if(n.charCategorizer(l)(u)!=nr.Word&&P_(n,l,i)>-1&&!ure(n,l,e,i))return{changes:{insert:e+e,from:l},effects:Il.of(l+e.length),range:Oe.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:\"input.type\"})}function M_(n,e){let t=ci(n).resolveInner(e+1);return t.parent&&t.from==e}function ure(n,e,t,r){let i=ci(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>t.length+l;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function P_(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=nr.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=nr.Word)return s}return-1}function fre(n={}){return[Zne,Ri,jr.of(n),Gne,dre,$ne]}const AT=[{key:\"Ctrl-Space\",run:T_},{mac:\"Alt-`\",run:T_},{key:\"Escape\",run:Kne},{key:\"ArrowDown\",run:yp(!0)},{key:\"ArrowUp\",run:yp(!1)},{key:\"PageDown\",run:yp(!0,\"page\")},{key:\"PageUp\",run:yp(!1,\"page\")},{key:\"Enter\",run:Une}],dre=fc.highest($g.computeN([jr],n=>n.facet(jr).defaultKeymap?[AT]:[]));var hre=ee('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),pre=ee('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),gre=ee('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),mre=ee('<div class=\"jse-status-bar svelte-1ulj7zd\"><!> <!> <!></div>');function vre(n,e){Pe(e,!1);let t=y(e,\"editorState\",8),r=H(),i=H(),s=H(),o=H(),a=H();Z(()=>z(t()),()=>{var m,b,v;S(r,(v=(b=(m=t())==null?void 0:m.selection)==null?void 0:b.main)==null?void 0:v.head)}),Z(()=>(c(r),z(t())),()=>{var m,b;S(i,c(r)!==void 0?(b=(m=t())==null?void 0:m.doc)==null?void 0:b.lineAt(c(r)):void 0)}),Z(()=>c(i),()=>{S(s,c(i)!==void 0?c(i).number:void 0)}),Z(()=>(c(i),c(r)),()=>{S(o,c(i)!==void 0&&c(r)!==void 0?c(r)-c(i).from+1:void 0)}),Z(()=>z(t()),()=>{var m,b,v;S(a,(v=(b=(m=t())==null?void 0:m.selection)==null?void 0:b.ranges)==null?void 0:v.reduce((w,k)=>w+k.to-k.from,0))}),wt(),Ne();var l=mre(),u=V(l);{var f=m=>{var b=hre(),v=V(b);pe(()=>Ke(v,`Line: ${c(s)??\"\"}`)),B(m,b)};oe(u,m=>{c(s)!==void 0&&m(f)})}var d=K(u,2);{var h=m=>{var b=pre(),v=V(b);pe(()=>Ke(v,`Column: ${c(o)??\"\"}`)),B(m,b)};oe(d,m=>{c(o)!==void 0&&m(h)})}var p=K(d,2);{var g=m=>{var b=gre(),v=V(b);pe(()=>Ke(v,`Selection: ${c(a)??\"\"} characters`)),B(m,b)};oe(p,m=>{c(a)!==void 0&&c(a)>0&&m(g)})}B(n,l),Ie()}const P2=gh.define([{tag:qe.propertyName,color:\"var(--internal-key-color)\"},{tag:qe.number,color:\"var(--internal-value-color-number)\"},{tag:qe.bool,color:\"var(--internal-value-color-boolean)\"},{tag:qe.string,color:\"var(--internal-value-color-string)\"},{tag:qe.keyword,color:\"var(--internal-value-color-null)\"}]),yre=C8(P2),bre=P2.style;P2.style=n=>bre(n||[]);function wre(n,e=n.state){const t=new Set;for(const{from:r,to:i}of n.visibleRanges){let s=r;for(;s<=i;){const o=e.doc.lineAt(s);t.has(o)||t.add(o),s=o.to+1}}return t}function mb(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function I_(n,e){let t=0;e:for(let r=0;r<n.length;r++)switch(n[r]){case\" \":case\"\":{t+=1;continue e}case\"\t\":{t+=e-t%e;continue e}case\"\\r\":continue e;default:break e}return t}const bm=dt.define({combine(n){return Xs(n,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:\"fullScope\",thickness:1})}});class xre{constructor(e,t,r,i){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=r,this.markerType=i;for(const s of this.lines)this.add(s);this.state.facet(bm).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e==\"number\"?e:e.number)}get(e){const t=this.map.get(typeof e==\"number\"?e:e.number);if(!t)throw new Error(\"Line not found in indentation map\");return t}set(e,t,r){const i=!e.text.trim().length,s={line:e,col:t,level:r,empty:i};return this.map.set(s.line.number,s),s}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const o=this.closestNonEmpty(e,-1);return this.set(e,0,o.level)}const i=this.closestNonEmpty(e,-1),s=this.closestNonEmpty(e,1);return i.level>=s.level&&this.markerType!==\"codeOnly\"?this.set(e,0,i.level):i.empty&&i.level===0&&s.level!==0?this.set(e,0,0):s.level>i.level?this.set(e,0,i.level+1):this.set(e,0,s.level)}const t=I_(e.text,this.state.tabSize),r=Math.floor(t/this.unitWidth);return this.set(e,t,r)}closestNonEmpty(e,t){let r=e.number+t;for(;t===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){const o=this.get(r);if(!o.empty)return o}const s=this.state.doc.line(r);if(s.text.trim().length){const o=I_(s.text,this.state.tabSize),a=Math.floor(o/this.unitWidth);return this.set(s,o,a)}r+=t}const i=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const e=mb(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const s=this.get(t.line.number+1);s.level>t.level&&(t=s)}if(this.has(t.line.number-1)){const s=this.get(t.line.number-1);s.level>t.level&&(t=s)}if(t.level===0)return;t.active=t.level;let r,i;for(r=t.line.number;r>1;r--){if(!this.has(r-1))continue;const s=this.get(r-1);if(s.level<t.level)break;s.active=t.level}for(i=t.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const s=this.get(i+1);if(s.level<t.level)break;s.active=t.level}}}function Cre(n){const e={light:\"#F0F1F2\",dark:\"#2B3245\",activeLight:\"#E4E5E6\",activeDark:\"#3C445C\"};let t=e;return n&&(t=Object.assign(Object.assign({},e),n)),ct.baseTheme({\"&light\":{\"--indent-marker-bg-color\":t.light,\"--indent-marker-active-bg-color\":t.activeLight},\"&dark\":{\"--indent-marker-bg-color\":t.dark,\"--indent-marker-active-bg-color\":t.activeDark},\".cm-line\":{position:\"relative\"},\".cm-indent-markers::before\":{content:'\"\"',position:\"absolute\",top:0,left:\"2px\",right:0,bottom:0,background:\"var(--indent-markers)\",pointerEvents:\"none\",zIndex:\"-1\"}})}function bp(n,e,t,r,i){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${e}px, transparent ${e}px ${t}ch)`} ${r*t}.5ch/calc(${t*i}ch - 1px) no-repeat`}function Sre(n,e,t,r,i){const{level:s,active:o}=n;if(i=i??r,t&&s===0)return[];const a=t?1:0,l=[];if(o!==void 0){const u=o-a-1;u>0&&l.push(bp(\"--indent-marker-bg-color\",r,e,a,u)),l.push(bp(\"--indent-marker-active-bg-color\",i,e,o-1,1)),o!==s&&l.push(bp(\"--indent-marker-bg-color\",r,e,o,s-o))}else l.push(bp(\"--indent-marker-bg-color\",r,e,a,s-a));return l.join(\",\")}class _re{constructor(e){this.view=e,this.unitWidth=nl(e.state),this.currentLineNumber=mb(e.state).number,this.generate(e.state)}update(e){const t=nl(e.state),r=t!==this.unitWidth;r&&(this.unitWidth=t);const i=mb(e.state).number,s=i!==this.currentLineNumber;this.currentLineNumber=i;const o=e.state.facet(bm).highlightActiveBlock&&s;(e.docChanged||e.viewportChanged||r||o)&&this.generate(e.state)}generate(e){const t=new qs,r=wre(this.view,e),{hideFirstIndent:i,markerType:s,thickness:o,activeThickness:a}=e.facet(bm),l=new xre(r,e,this.unitWidth,s);for(const u of r){const f=l.get(u.number);if(!(f!=null&&f.level))continue;const d=Sre(f,this.unitWidth,i,o,a);t.add(u.from,u.from,At.line({class:\"cm-indent-markers\",attributes:{style:`--indent-markers: ${d}`}}))}this.decorations=t.finish()}}function kre(n={}){return[bm.of(n),Cre(n.colors),fr.fromClass(_re,{decorations:e=>e.decorations})]}class Are{constructor(e){this.view=e,this.indentUnit=nl(e.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes(\"Chrome\"),this.generate(e.state)}update(e){const t=nl(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){const t=new qs;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:r=>{const i=r.contentDOM.querySelector(\".cm-line\");i&&(this.initialPaddingLeft=window.getComputedStyle(i).getPropertyValue(\"padding-left\"),this.addStyleToBuilder(t,r.state,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,r){const i=this.getVisibleLines(t);for(const s of i){const{numColumns:o,containsTab:a}=this.numColumns(s.text,t.tabSize),l=`calc(${o+this.indentUnit}ch + ${r})`,u=this.isChrome?`calc(-${o+this.indentUnit}ch - ${a?1:0}px)`:`-${o+this.indentUnit}ch`;e.add(s.from,s.from,At.line({attributes:{style:`padding-left: ${l}; text-indent: ${u};`}}))}}getVisibleLines(e){const t=new Set;let r=null;for(const{from:i,to:s}of this.view.visibleRanges){let o=i;for(;o<=s;){const a=e.doc.lineAt(o);r!==a&&(t.add(a),r=a),o=a.to+1}}return t}numColumns(e,t){let r=0,i=!1;e:for(let s=0;s<e.length;s++)switch(e[s]){case\" \":{r+=1;continue e}case\"\t\":{r+=t-r%t,i=!0;continue e}case\"\\r\":continue e;default:break e}return{numColumns:r,containsTab:i}}}const Ore=[fr.fromClass(Are,{decorations:n=>n.decorations})];var Ere=ee('<!> <div class=\"jse-contents jse-preview svelte-xt61xw\"> </div>',1),Tre=ee(\"<!> <!> <!> <!>\",1),Mre=ee('<div class=\"jse-contents svelte-xt61xw\"></div> <!> <!>',1),Pre=ee('<div class=\"jse-contents svelte-xt61xw\"><div class=\"jse-loading-space svelte-xt61xw\"></div> <div class=\"jse-loading svelte-xt61xw\">loading...</div></div>'),Ire=ee('<div class=\"jse-text-mode svelte-xt61xw\"><!> <!></div>');function Rre(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0);let i=y(e,\"readOnly\",9),s=y(e,\"mainMenuBar\",9),o=y(e,\"statusBar\",9),a=y(e,\"askToFormat\",9),l=y(e,\"externalContent\",9),u=y(e,\"externalSelection\",9),f=y(e,\"history\",9),d=y(e,\"indentation\",9),h=y(e,\"tabSize\",9),p=y(e,\"escapeUnicodeCharacters\",9),g=y(e,\"parser\",9),m=y(e,\"validator\",9),b=y(e,\"validationParser\",9),v=y(e,\"onChange\",9),w=y(e,\"onChangeMode\",9),k=y(e,\"onSelect\",9),x=y(e,\"onUndo\",9),C=y(e,\"onRedo\",9),T=y(e,\"onError\",9),A=y(e,\"onFocus\",9),O=y(e,\"onBlur\",9),R=y(e,\"onRenderMenu\",9),D=y(e,\"onSortModal\",9),E=y(e,\"onTransformModal\",9);const I=Tr(\"jsoneditor:TextMode\"),P={key:\"Mod-i\",run:Ce,shift:ye,preventDefault:!0},_=typeof window>\"u\";I(\"isSSR:\",_);let L=H(void 0,!0),M=H(void 0,!0),N,F=H(void 0,!0),j=H(!1,!0),Y=H(a(),!0),ie=H([],!0);const Q=new jo,te=new jo,U=new jo,se=new jo,le=new jo;let W=l(),ce=H(s1(W,d(),g()),!0),fe=al.define(),J=null;function ae(){if(!J||J.length===0)return!1;const ge=J[0].startState,ke=J[J.length-1].state,yt=J.map(dn=>dn.changes).reduce((dn,Ot)=>dn.compose(Ot)),Mt={type:\"text\",undo:{changes:yt.invert(ge.doc).toJSON(),selection:tr(ge.selection)},redo:{changes:yt.toJSON(),selection:tr(ke.selection)}};return I(\"add history item\",Mt),f().add(Mt),J=null,!0}let re=H(p(),!0);cr(async()=>{if(!_)try{N=bt({target:c(L),initialText:xe(c(ce),c(j))?\"\":c(t).escapeValue(c(ce)),readOnly:i(),indentation:d()})}catch(ge){console.error(ge)}}),Hr(()=>{vn(),N&&(I(\"Destroy CodeMirror editor\"),N.destroy())});const $=Cu(),ne=Cu();function G(){N&&(I(\"focus\"),N.focus())}let De=!1;Kw({onMount:cr,onDestroy:Hr,getWindow:()=>rh(c(M)),hasFocus:()=>De&&document.hasFocus()||_w(c(M)),onFocus:A(),onBlur:()=>{vn(),O()()}});function Be(ge){return Le(ge,!1)}function Le(ge,ke){I(\"handlePatch\",ge,ke);const yt=g().parse(c(ce)),Zt=Ds(yt,ge),Mt=vA(yt,ge),dn={text:g().stringify(Zt,null,d())};return rt(dn,ke,!1),{json:Zt,previousJson:yt,undo:Mt,redo:ge}}function Ce(){if(I(\"format\"),i())return!1;try{const ge=g().parse(c(ce)),ke={text:g().stringify(ge,null,d())};return rt(ke,!0,!1),S(Y,a()),!0}catch(ge){T()(ge)}return!1}function ye(){if(I(\"compact\"),i())return!1;try{const ge=g().parse(c(ce)),ke={text:g().stringify(ge)};return rt(ke,!0,!1),S(Y,!1),!0}catch(ge){T()(ge)}return!1}function Re(){if(I(\"repair\"),!i())try{const ge={text:fo(c(ce))};rt(ge,!0,!1),S(Et,by),S(Qt,void 0)}catch(ge){T()(ge)}}function je(){if(!i())try{const ge=g().parse(c(ce));De=!0,D()({id:$,json:ge,rootPath:[],onSort:async({operations:ke})=>{I(\"onSort\",ke),Le(ke,!0)},onClose:()=>{De=!1,G()}})}catch(ge){T()(ge)}}function $e({id:ge,rootPath:ke,onTransform:yt,onClose:Zt}){try{const Mt=g().parse(c(ce));De=!0,E()({id:ge||ne,json:Mt,rootPath:ke||[],onTransform:dn=>{yt?yt({operations:dn,json:Mt,transformedJson:Ds(Mt,dn)}):(I(\"onTransform\",dn),Le(dn,!0))},onClose:()=>{De=!1,G(),Zt&&Zt()}})}catch(Mt){T()(Mt)}}function Ve(){i()||$e({rootPath:[]})}function ot(){N&&(c(L)&&c(L).querySelector(\".cm-search\")?A2(N):k2(N))}function we(){if(i())return!1;vn();const ge=f().undo();return I(\"undo\",ge),hS(ge)?(N.dispatch({annotations:fe.of(\"undo\"),changes:_r.fromJSON(ge.undo.changes),selection:Oe.fromJSON(ge.undo.selection),scrollIntoView:!0}),!0):(x()(ge),!1)}function He(){if(i())return!1;vn();const ge=f().redo();return I(\"redo\",ge),hS(ge)?(N.dispatch({annotations:fe.of(\"redo\"),changes:_r.fromJSON(ge.redo.changes),selection:Oe.fromJSON(ge.redo.selection),scrollIntoView:!0}),!0):(C()(ge),!1)}function nt(){S(j,!0),rt(l(),!0,!0)}function Xe(){w()(Cr.tree)}function Je(){Tt()}function Ye(ge){I(\"select validation error\",ge);const{from:ke,to:yt}=fn(ge);ke===void 0||yt===void 0||(Se(ke,yt),G())}function Me(ge){I(\"select parse error\",ge);const ke=Vt(ge,!1),yt=ke.from!=null?ke.from:0,Zt=ke.to!=null?ke.to:0;Se(yt,Zt),G()}function Se(ge,ke){I(\"setSelection\",{anchor:ge,head:ke}),N&&N.dispatch(N.state.update({selection:{anchor:ge,head:ke},scrollIntoView:!0}))}function ue(ge,ke){if(ke.state.selection.ranges.length===1){const yt=ke.state.selection.ranges[0],Zt=c(ce).slice(yt.from,yt.to);if(Zt===\"{\"||Zt===\"[\"){const Mt=xA.parse(c(ce)),dn=Object.keys(Mt.pointers).find(Ur=>{var Lr;return((Lr=Mt.pointers[Ur].value)==null?void 0:Lr.pos)===yt.from}),Ot=Mt.pointers[dn];if(dn&&Ot&&Ot.value&&Ot.valueEnd){I(\"pointer found, selecting inner contents of path:\",dn,Ot);const Ur=Ot.value.pos+1,br=Ot.valueEnd.pos-1;Se(Ur,br)}}}}function vt(){return Mte(pt,{delay:oS})}function bt({target:ge,initialText:ke,readOnly:yt,indentation:Zt}){I(\"Create CodeMirror editor\",{readOnly:yt,indentation:Zt});const Mt=_t(u(),ke)?Ht(u()):void 0,dn=cn.create({doc:ke,selection:Mt,extensions:[$g.of([xte,P]),Q.of(vt()),jte(),d$(),g$(),RZ(),see(),CZ(),OZ(),cn.allowMultipleSelections.of(!0),U$(),C8(cee,{fallback:!0}),mee(),ere(),fre(),UZ(),XZ(),jZ(),ine(),$g.of([...ire,...wte,..._ne,{key:\"Mod-z\",run:we,preventDefault:!0},{key:\"Mod-y\",mac:\"Mod-Shift-z\",run:He,preventDefault:!0},{key:\"Ctrl-Shift-z\",run:He,preventDefault:!0},...tee,...AT,...Ote]),yre,kre({hideFirstIndent:!0}),ct.domEventHandlers({dblclick:ue}),ct.updateListener.of(Ot=>{S(F,Ot.state),Ot.docChanged&&(Ot.transactions.some(br=>!!br.annotation(fe))||(J=[...J??[],Ot]),mn()),Ot.selectionSet&&sn()}),Zte(),hne({top:!0}),ct.lineWrapping,te.of(cn.readOnly.of(yt)),se.of(cn.tabSize.of(h())),U.of(kn(Zt)),le.of(ct.theme({},{dark:at()}))]});return N=new ct({state:dn,parent:ge}),Mt&&N.dispatch(N.state.update({selection:Mt.main,scrollIntoView:!0})),N}function Xn(){return N?c(t).unescapeValue(N.state.doc.toString()):\"\"}function at(){return c(L)?getComputedStyle(c(L)).getPropertyValue(\"--jse-theme\").includes(\"dark\"):!1}function _t(ge,ke){return Cy(ge)?ge.ranges.every(yt=>yt.anchor<ke.length&&yt.head<ke.length):!1}function fn(ge){const{path:ke,message:yt,severity:Zt}=ge,{line:Mt,column:dn,from:Ot,to:Ur}=Mq(c(t).escapeValue(c(ce)),ke);return{path:ke,line:Mt,column:dn,from:Ot,to:Ur,message:yt,severity:Zt,actions:[]}}function Vt(ge,ke){const{line:yt,column:Zt,position:Mt,message:dn}=ge;return{path:[],line:yt,column:Zt,from:Mt,to:Mt,severity:Ls.error,message:dn,actions:ke&&!i()?[{name:\"Auto repair\",apply:()=>Re()}]:void 0}}function In(ge){return{from:ge.from||0,to:ge.to||0,message:ge.message||\"\",actions:ge.actions,severity:ge.severity}}function rt(ge,ke,yt){const Zt=s1(ge,d(),g()),Mt=!Jt(ge,W),dn=W;I(\"setCodeMirrorContent\",{isChanged:Mt,emitChange:ke,forceUpdate:yt}),!(!N||!Mt&&!yt)&&(W=ge,S(ce,Zt),xe(c(ce),c(j))||N.dispatch({changes:{from:0,to:N.state.doc.length,insert:c(t).escapeValue(c(ce))}}),ae(),Mt&&ke&&dr(W,dn))}function Lt(ge){if(!Cy(ge))return;const ke=Ht(ge);N&&ke&&(!c(F)||!c(F).selection.eq(ke))&&(I(\"applyExternalSelection\",ke),N.dispatch({selection:ke}))}function Ht(ge){return Cy(ge)?Oe.fromJSON(ge):void 0}async function Gt(){I(\"refresh\"),await hn()}function kt(){I(\"forceUpdateText\",{escapeUnicodeCharacters:p()}),N&&N.dispatch({changes:{from:0,to:N.state.doc.length,insert:c(t).escapeValue(c(ce))}})}function Tt(){if(!N)return;const ge=Xn(),ke=ge!==c(ce);if(I(\"onChangeCodeMirrorValue\",{isChanged:ke}),!ke)return;const yt=W;S(ce,ge),W={text:c(ce)},ae(),dr(W,yt),Pn().then(sn)}function rr(ge){I(\"updateLinter\",ge),N&&N.dispatch({effects:Q.reconfigure(vt())})}function It(ge){N&&(I(\"updateIndentation\",ge),N.dispatch({effects:U.reconfigure(kn(ge))}))}function Ut(ge){N&&(I(\"updateTabSize\",ge),N.dispatch({effects:se.reconfigure(cn.tabSize.of(ge))}))}function ln(ge){N&&(I(\"updateReadOnly\",ge),N.dispatch({effects:[te.reconfigure(cn.readOnly.of(ge))]}))}async function hn(){if(await Pn(),N){const ge=at();I(\"updateTheme\",{dark:ge}),N.dispatch({effects:[le.reconfigure(ct.theme({},{dark:ge}))]})}}function kn(ge){const ke=Cv.of(typeof ge==\"number\"?\" \".repeat(ge):ge);return ge===\"\t\"?[ke]:[ke,Ore]}const mn=Dg(Tt,oS);function vn(){mn.flush()}function dr(ge,ke){v()&&v()(ge,ke,{contentErrors:hr(),patchResult:void 0})}function sn(){k()(tr(c(F).selection))}function tr(ge){return{type:xn.text,...ge.toJSON()}}function xe(ge,ke){return(ge?ge.length>lS:!1)&&!ke}let Et=H(by,!0),Qt=H(void 0,!0);function pt(){if(xe(c(ce),c(j)))return[];const ge=hr();if(dS(ge)){const{parseError:ke,isRepairable:yt}=ge;return[In(Vt(ke,yt))]}return tU(ge)?ge.validationErrors.map(fn).map(In):[]}function hr(){I(\"validate:start\"),vn();const ge=pr(c(t).escapeValue(c(ce)),m(),g(),b());return dS(ge)?(S(Et,ge.isRepairable?uS:YW),S(Qt,ge.parseError),S(ie,[])):(S(Et,by),S(Qt,void 0),S(ie,(ge==null?void 0:ge.validationErrors)||[])),I(\"validate:end\"),ge}const pr=uh(HJ);function ir(){c(Qt)&&Me(c(Qt))}const Mr={icon:aK,text:\"Show me\",title:\"Move to the parse error location\",onClick:ir};Z(()=>z(p()),()=>{S(t,Cw({escapeControlCharacters:!1,escapeUnicodeCharacters:p()}))}),Z(()=>z(l()),()=>{rt(l(),!1,!1)}),Z(()=>z(u()),()=>{Lt(u())}),Z(()=>z(m()),()=>{rr(m())}),Z(()=>z(d()),()=>{It(d())}),Z(()=>z(h()),()=>{Ut(h())}),Z(()=>z(i()),()=>{ln(i())}),Z(()=>(c(re),z(p())),()=>{c(re)!==p()&&(S(re,p()),kt())}),Z(()=>(c(Et),z(i()),Au),()=>{S(r,c(Et)===uS&&!i()?[{icon:Au,text:\"Auto repair\",title:\"Automatically repair JSON\",onClick:Re},Mr]:[Mr])}),wt(),Ne(!0);var fi=Ire(),$i=V(fi);{var _i=ge=>{const ke=he(()=>c(ce).length===0),yt=he(()=>!c(ke)),Zt=he(()=>!c(ke)),Mt=he(()=>!c(ke)),dn=he(()=>!c(ke));bG(ge,{get readOnly(){return i()},onFormat:Ce,onCompact:ye,onSort:je,onTransform:Ve,onToggleSearch:ot,onUndo:we,onRedo:He,get canFormat(){return c(yt)},get canCompact(){return c(Zt)},get canSort(){return c(Mt)},get canTransform(){return c(dn)},get canUndo(){return f().canUndo},get canRedo(){return f().canRedo},get onRenderMenu(){return R()}})};oe($i,ge=>{s()&&ge(_i)})}var zn=K($i,2);{var Vn=ge=>{var ke=Mre();const yt=he(()=>xe(c(ce),c(j)));var Zt=be(ke);_n(Zt,br=>S(L,br),()=>c(L));var Mt=K(Zt,2);{var dn=br=>{var Lr=Ere(),xs=be(Lr);const Oo=he(()=>`The JSON document is larger than ${BS(lS,1024)}, and may crash your browser when loading it in text mode. Actual size: ${BS(c(ce).length,1024)}.`);js(xs,{icon:Gl,type:\"error\",get message(){return c(Oo)},actions:[{text:\"Open anyway\",title:\"Open the document in text mode. This may freeze or crash your browser.\",onClick:nt},{text:\"Open in tree mode\",title:\"Open the document in tree mode. Tree mode can handle large documents.\",onClick:Xe},{text:\"Cancel\",title:\"Cancel opening this large document.\",onClick:Je}],onClose:G});var Bi=K(xs,2),Cs=V(Bi);pe(di=>Ke(Cs,di),[()=>sh(c(ce)||\"\",c1)],he),B(br,Lr)};oe(Mt,br=>{c(yt)&&br(dn)})}var Ot=K(Mt,2);{var Ur=br=>{var Lr=Tre(),xs=be(Lr);{var Oo=Hn=>{vre(Hn,{get editorState(){return c(F)}})};oe(xs,Hn=>{o()&&Hn(Oo)})}var Bi=K(xs,2);{var Cs=Hn=>{js(Hn,{type:\"error\",icon:Gl,get message(){return c(Qt).message},get actions(){return c(r)},onClick:ir,onClose:G})};oe(Bi,Hn=>{c(Qt)&&Hn(Cs)})}var di=K(Bi,2);{var ya=Hn=>{js(Hn,{type:\"success\",message:\"Do you want to format the JSON?\",actions:[{icon:pE,text:\"Format\",title:\"Format JSON: add proper indentation and new lines (Ctrl+I)\",onClick:Ce},{icon:cv,text:\"No thanks\",title:\"Close this message\",onClick:()=>S(Y,!1)}],onClose:G})};oe(di,Hn=>{!c(Qt)&&c(Y)&&Fq(c(ce))&&Hn(ya)})}var ul=K(di,2);Jw(ul,{get validationErrors(){return c(ie)},selectError:Ye}),B(br,Lr)};oe(Ot,br=>{c(yt)||br(Ur)})}pe(()=>Fe(Zt,\"jse-hidden\",c(yt))),B(ge,ke)},es=ge=>{var ke=Pre();B(ge,ke)};oe(zn,ge=>{_?ge(es,!1):ge(Vn)})}return _n(fi,ge=>S(M,ge),()=>c(M)),pe(()=>Fe(fi,\"no-main-menu\",!s())),B(n,fi),St(e,\"focus\",G),St(e,\"patch\",Be),St(e,\"handlePatch\",Le),St(e,\"openTransformModal\",$e),St(e,\"refresh\",Gt),St(e,\"flush\",vn),St(e,\"validate\",hr),Ie({focus:G,patch:Be,handlePatch:Le,openTransformModal:$e,refresh:Gt,flush:vn,validate:hr})}function Dre(n,e){Pe(e,!1);let t=y(e,\"containsValidArray\",9),r=y(e,\"readOnly\",9),i=y(e,\"showSearch\",13,!1),s=y(e,\"history\",9),o=y(e,\"onSort\",9),a=y(e,\"onTransform\",9),l=y(e,\"onContextMenu\",9),u=y(e,\"onUndo\",9),f=y(e,\"onRedo\",9),d=y(e,\"onRenderMenu\",9);function h(){i(!i())}let p=H(void 0,!0),g=H(void 0,!0);Z(()=>(z(r()),z(o()),z(t()),z(a()),z(l()),z(u()),z(s()),z(f())),()=>{S(p,r()?[{type:\"space\"}]:[{type:\"button\",icon:av,title:\"Sort\",className:\"jse-sort\",onClick:o(),disabled:r()||!t()},{type:\"button\",icon:ov,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:a(),disabled:r()||!t()},{type:\"button\",icon:lv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:h,disabled:!t()},{type:\"button\",icon:XO,title:Ew,className:\"jse-contextmenu\",onClick:l()},{type:\"separator\"},{type:\"button\",icon:zw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:u(),disabled:!s().canUndo},{type:\"button\",icon:jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:f(),disabled:!s().canRedo},{type:\"space\"}])}),Z(()=>(z(d()),c(p)),()=>{S(g,d()(c(p))||c(p))}),wt(),Ne(!0),mv(n,{get items(){return c(g)}}),Ie()}var Nre=ee('<button type=\"button\" class=\"jse-inline-value svelte-h57m0p\"> </button>');function Lre(n,e){Pe(e,!1);let t=y(e,\"path\",9),r=y(e,\"value\",9),i=y(e,\"parser\",9),s=y(e,\"isSelected\",9),o=y(e,\"containsSearchResult\",9),a=y(e,\"containsActiveSearchResult\",9),l=y(e,\"onEdit\",9);Ne(!0);var u=Nre(),f=V(u);pe(d=>{Fe(u,\"jse-selected\",s()),Fe(u,\"jse-highlight\",o()),Fe(u,\"jse-active\",a()),Ke(f,d)},[()=>sh(i().stringify(r())??\"\",WW)],he),ve(\"dblclick\",u,()=>l()(t())),B(n,u),Ie()}var Bre=ee('<span class=\"jse-column-sort-icon svelte-2i3vdx\"><!></span>'),Fre=ee('<button type=\"button\" class=\"jse-column-header svelte-2i3vdx\"><span class=\"jse-column-name\"> </span> <!></button>');function jre(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0);let s=y(e,\"path\",9),o=y(e,\"sortedColumn\",9),a=y(e,\"readOnly\",9),l=y(e,\"onSort\",9);function u(){a()||l()({path:s(),sortDirection:c(r)===Ms.asc?Ms.desc:Ms.asc})}Z(()=>(z(s()),zs),()=>{S(t,wn(s())?\"values\":zs(s()))}),Z(()=>(z(o()),z(s())),()=>{var m;S(r,o()&&Jt(s(),(m=o())==null?void 0:m.path)?o().sortDirection:void 0)}),Z(()=>(c(r),fS),()=>{S(i,c(r)?fS[c(r)]:void 0)}),wt(),Ne(!0);var f=Fre(),d=V(f),h=V(d),p=K(d,2);{var g=m=>{var b=Bre(),v=V(b);const w=he(()=>c(r)===Ms.asc?Ya:oK);Xt(v,{get data(){return c(w)}}),pe(()=>Ee(b,\"title\",`Currently sorted in ${c(i)} order`)),B(m,b)};oe(p,m=>{c(r)!==void 0&&m(g)})}pe(m=>{Ee(f,\"title\",a()?c(t):c(t)+\" (Click to sort the data by this column)\"),Fe(f,\"jse-readonly\",a()),Ke(h,m)},[()=>sh(c(t),UW)],he),ve(\"click\",f,u),B(n,f),Ie()}let wp,xp;function Oc(n,e){return wp||(xp=new WeakMap,wp=new ResizeObserver(t=>{for(const r of t){const i=xp.get(r.target);i&&i(r.target)}})),xp.set(n,e),wp.observe(n),{destroy:()=>{xp.delete(n),wp.unobserve(n)}}}var zre=ee(\"You can open the document in tree mode instead, or paste a JSON Array using <b>Ctrl+V</b>.\",1),Vre=ee('<button type=\"button\" class=\"jse-nested-array-action svelte-1q0ce0e\"> <span class=\"jse-nested-array-count svelte-1q0ce0e\"> </span></button>'),Hre=ee('<div class=\"jse-table-mode-welcome svelte-1q0ce0e\" role=\"none\"><div class=\"jse-space jse-before svelte-1q0ce0e\"></div> <div class=\"jse-nested-arrays svelte-1q0ce0e\"><div class=\"jse-nested-arrays-title\"> </div> <div class=\"jse-nested-arrays-info svelte-1q0ce0e\"><!> <!></div> <!> <button type=\"button\" class=\"jse-nested-array-action svelte-1q0ce0e\"> </button></div> <div class=\"jse-space jse-after svelte-1q0ce0e\"></div></div>');function qre(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0);let o=y(e,\"text\",9),a=y(e,\"json\",9),l=y(e,\"readOnly\",9),u=y(e,\"parser\",9),f=y(e,\"openJSONEditorModal\",9),d=y(e,\"onChangeMode\",9),h=y(e,\"onClick\",9),p=H(void 0,!0);function g(P){return st(a(),P).length}Z(()=>z(l()),()=>{S(t,l()?\"View\":\"Edit\")}),Z(()=>(z(a()),LS),()=>{S(p,a()?LS(a()).slice(0,99).filter(P=>P.length>0):[])}),Z(()=>c(p),()=>{S(r,!wn(c(p)))}),Z(()=>(z(a()),z(o())),()=>{S(i,a()===void 0&&(o()===\"\"||o()===void 0))}),Z(()=>(c(r),c(i),z(a()),z(u())),()=>{S(s,c(r)?\"Object with nested arrays\":c(i)?\"An empty document\":ur(a())?\"An object\":er(a())?\"An empty array\":`A ${dw(a(),u())}`)}),wt(),Ne(!0);var m=Hre(),b=K(V(m),2),v=V(b),w=V(v),k=K(v,2),x=V(k);{var C=P=>{var _=Ar(`An object cannot be opened in table mode. You can open a nested array instead, or open the\n        document in tree mode.`);B(P,_)},T=P=>{var _=Ar();pe(()=>Ke(_,`${c(s)??\"\"} cannot be opened in table mode.`)),B(P,_)};oe(x,P=>{c(r)?P(C):P(T,!1)})}var A=K(x,2);{var O=P=>{var _=zre();B(P,_)},R=P=>{var _=Ar(\"You can open the document in tree mode instead.\");B(P,_)};oe(A,P=>{c(i)&&!l()?P(O):P(R,!1)})}var D=K(k,2);Dt(D,1,()=>c(p),un,(P,_)=>{var L=Vre();const M=he(()=>g(c(_)));var N=V(L),F=K(N),j=V(F);pe(Y=>{Ke(N,`${c(t)??\"\"} \"${Y??\"\"}\" `),Ke(j,`(${c(M)??\"\"} ${(c(M)!==1?\"items\":\"item\")??\"\"})`)},[()=>zs(c(_))],he),ve(\"click\",L,()=>f()(c(_))),B(P,L)});var E=K(D,2),I=V(E);pe(()=>{Ke(w,c(s)),Ke(I,`${c(t)??\"\"} in tree mode`)}),ve(\"click\",E,()=>d()(Cr.tree)),ve(\"click\",m,()=>h()()),B(n,m),Ie()}var Wre=ee('<button type=\"button\" class=\"jse-column-header svelte-fzj761\"><!></button>');function Ure(n,e){Pe(e,!1);let t=y(e,\"count\",9),r=y(e,\"maxSampleCount\",9),i=y(e,\"readOnly\",9),s=y(e,\"onRefresh\",9);Ne(!0);var o=Wre(),a=V(o);Xt(a,{data:wK}),pe(()=>{Ee(o,\"title\",`The Columns are created by sampling ${r()} items out of ${t()}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`),Fe(o,\"jse-readonly\",i())}),ve(\"click\",o,()=>s()()),B(n,o),Ie()}function Kre({json:n,documentState:e,selection:t,readOnly:r,onEditValue:i,onEditRow:s,onToggleEnforceString:o,onCut:a,onCopy:l,onPaste:u,onRemove:f,onDuplicateRow:d,onInsertBeforeRow:h,onInsertAfterRow:p,onRemoveRow:g}){const m=n!==void 0,b=!!t,v=n!==void 0&&t?st(n,gt(t)):void 0,w=m&&(Nn(t)||Or(t)||yn(t)),k=!r&&m&&t!==void 0&&Bg(t),x=k&&!lr(v),C=!r&&w,T=t!==void 0?oa(n,e,gt(t)):!1;return[{type:\"separator\"},{type:\"row\",items:[{type:\"column\",items:[{type:\"label\",text:\"Table cell:\"},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>i(),icon:nu,text:\"Edit\",title:\"Edit the value (Double-click on the value)\",disabled:!k},width:\"11em\",items:[{type:\"button\",icon:nu,text:\"Edit\",title:\"Edit the value (Double-click on the value)\",onClick:()=>i(),disabled:!k},{type:\"button\",icon:T?UO:JO,text:\"Enforce string\",title:\"Enforce keeping the value as string when it contains a numeric value\",onClick:()=>o(),disabled:!x}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>a(!0),icon:tu,text:\"Cut\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",disabled:!C},width:\"10em\",items:[{type:\"button\",icon:tu,text:\"Cut formatted\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",onClick:()=>a(!0),disabled:r||!w},{type:\"button\",icon:tu,text:\"Cut compacted\",title:\"Cut selected contents, without indentation (Ctrl+Shift+X)\",onClick:()=>a(!1),disabled:r||!w}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>l(!0),icon:Wa,text:\"Copy\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",disabled:!w},width:\"12em\",items:[{type:\"button\",icon:Wa,text:\"Copy formatted\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",onClick:()=>l(!1),disabled:!w},{type:\"button\",icon:Wa,text:\"Copy compacted\",title:\"Copy selected contents, without indentation (Ctrl+Shift+C)\",onClick:()=>l(!1),disabled:!w}]},{type:\"button\",onClick:()=>u(),icon:WO,text:\"Paste\",title:\"Paste clipboard contents (Ctrl+V)\",disabled:r||!b},{type:\"button\",onClick:()=>f(),icon:m1,text:\"Remove\",title:\"Remove selected contents (Delete)\",disabled:r||!w}]},{type:\"column\",items:[{type:\"label\",text:\"Table row:\"},{type:\"button\",onClick:()=>s(),icon:nu,text:\"Edit row\",title:\"Edit the current row\",disabled:r||!b||!m},{type:\"button\",onClick:()=>d(),icon:GO,text:\"Duplicate row\",title:\"Duplicate the current row (Ctrl+D)\",disabled:r||!b||!m},{type:\"button\",onClick:()=>h(),icon:Vc,text:\"Insert before\",title:\"Insert a row before the current row\",disabled:r||!b||!m},{type:\"button\",onClick:()=>p(),icon:Vc,text:\"Insert after\",title:\"Insert a row after the current row\",disabled:r||!b||!m},{type:\"button\",onClick:()=>g(),icon:m1,text:\"Remove row\",title:\"Remove current row\",disabled:r||!b||!m}]}]}]}var Jre=ee('<div class=\"jse-table-root-error svelte-u14cgx\"><!></div>'),Xre=ee('<th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th>'),Yre=ee('<th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th>'),Gre=ee('<th class=\"jse-table-cell jse-table-cell-gutter svelte-u14cgx\"> <!></th>'),Qre=ee('<div class=\"jse-context-menu-anchor svelte-u14cgx\"><!></div>'),Zre=ee('<td class=\"jse-table-cell svelte-u14cgx\"><div class=\"jse-value-outer svelte-u14cgx\"><!><!></div> <!></td>'),$re=ee('<td class=\"jse-table-cell svelte-u14cgx\"></td>'),eie=ee('<tr class=\"jse-table-row svelte-u14cgx\"><!><!><!></tr>'),tie=ee('<div class=\"jse-search-box-container svelte-u14cgx\"><!></div> <div class=\"jse-contents svelte-u14cgx\"><table class=\"jse-table-main svelte-u14cgx\"><tbody><tr class=\"jse-table-row jse-table-row-header svelte-u14cgx\"><th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th><!><!></tr><tr class=\"jse-table-invisible-start-section svelte-u14cgx\"><td class=\"svelte-u14cgx\"></td></tr><!><tr class=\"jse-table-invisible-end-section svelte-u14cgx\"><td class=\"svelte-u14cgx\"></td></tr></tbody></table></div> <!> <!> <!>',1),nie=ee(\"<!> <!>\",1),rie=ee('<label class=\"jse-hidden-input-label svelte-u14cgx\"><input type=\"text\" tabindex=\"-1\" class=\"jse-hidden-input svelte-u14cgx\"></label> <!>',1),iie=ee('<div class=\"jse-contents jse-contents-loading svelte-u14cgx\"><div class=\"jse-loading-space svelte-u14cgx\"></div> <div class=\"jse-loading svelte-u14cgx\">loading...</div></div>'),sie=ee('<div role=\"table\" class=\"jse-table-mode svelte-u14cgx\"><!> <!></div> <!> <!>',1);function oie(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=Tr(\"jsoneditor:TableMode\"),{openAbsolutePopup:o,closeAbsolutePopup:a}=gs(\"absolute-popup\"),l=cE(),u=Cu(),f=Cu(),d=typeof window>\"u\";s(\"isSSR:\",d);let h=y(e,\"readOnly\",9),p=y(e,\"externalContent\",9),g=y(e,\"externalSelection\",9),m=y(e,\"history\",9),b=y(e,\"mainMenuBar\",9),v=y(e,\"escapeControlCharacters\",9),w=y(e,\"escapeUnicodeCharacters\",9),k=y(e,\"flattenColumns\",9),x=y(e,\"parser\",9),C=y(e,\"parseMemoizeOne\",9),T=y(e,\"validator\",9),A=y(e,\"validationParser\",9),O=y(e,\"indentation\",9),R=y(e,\"onChange\",9),D=y(e,\"onChangeMode\",9),E=y(e,\"onSelect\",9),I=y(e,\"onUndo\",9),P=y(e,\"onRedo\",9),_=y(e,\"onRenderValue\",9),L=y(e,\"onRenderMenu\",9),M=y(e,\"onRenderContextMenu\",9),N=y(e,\"onFocus\",9),F=y(e,\"onBlur\",9),j=y(e,\"onSortModal\",9),Y=y(e,\"onTransformModal\",9),ie=y(e,\"onJSONEditorModal\",9),Q=H(void 0,!0),te=H(void 0,!0),U=H(void 0,!0),se=H(void 0,!0),le=H(void 0,!0);Kw({onMount:cr,onDestroy:Hr,getWindow:()=>rh(c(te)),hasFocus:()=>je&&document.hasFocus()||_w(c(te)),onFocus:()=>{$e=!0,N()&&N()()},onBlur:()=>{$e=!1,F()&&F()()}});let W=H(void 0,!0),ce=H(void 0,!0),fe=H(void 0,!0),J=H(void 0,!0),ae,re=H(void 0,!0),$=H(!1,!0),ne=H(!1,!0);function G(X){if(!c(U))return;const _e=X?Mf:-100;c(U).scrollTo({top:Ui(U,c(U).scrollTop+=_e),left:c(U).scrollLeft})}function De(X){ae=X,S(re,ae?HO(c(W),ae.items):void 0)}async function Be(X){S(ue,void 0),await sn(X)}function Le(){S($,!1),S(ne,!1),Ut()}let Ce=H(1e4,!0),ye=H([],!0),Re=H(void 0,!0),je=!1,$e=!1,Ve=H(!1,!0),ot=H({},!0),we=H(600,!0),He=H(0,!0),nt=18;function Xe(X){c(U)&&c(U).scrollTo({top:c(U).scrollTop,left:c(U).scrollLeft})}function Je(X){S(ue,X)}function Ye(X){Jt(X,g())||(s(\"onSelect\",X),E()(X))}function Me(X){!c(ue)||X===void 0||cs(X,Xl(c(ue)))&&cs(X,gt(c(ue)))||(s(\"clearing selection: path does not exist anymore\",c(ue)),S(ue,void 0))}let Se=H(c(W)!==void 0?f1({json:c(W)}):void 0,!0),ue=H(Cd(g())?g():void 0,!0),vt=H(void 0,!0),bt=H(!1,!0);cr(()=>{c(ue)&&Et(gt(c(ue)))});function Xn(X){if(h())return;s(\"onSortByHeader\",X);const _e=[],Ge=X.sortDirection===Ms.desc?-1:1,it=gE(c(W),_e,X.path,Ge);kt(it,(tt,et)=>({state:et,sortedColumn:X}))}let at=H(void 0,!0);function _t(X){const _e={json:c(W)},Ge=vd(X)?X.text!==c(ce):!Jt(_e.json,X.json);if(s(\"update external content\",{isChanged:Ge}),!Ge)return;const it={json:c(W),documentState:c(Se),selection:c(ue),sortedColumn:c(vt),text:c(ce),textIsRepaired:c(bt)};if(vd(X))try{S(W,C()(X.text)),S(Se,Wi(c(W),c(Se))),S(ce,X.text),S(bt,!1),S(fe,void 0)}catch(tt){try{S(W,C()(fo(X.text))),S(Se,Wi(c(W),c(Se))),S(ce,X.text),S(bt,!0),S(fe,void 0)}catch{S(W,void 0),S(Se,void 0),S(ce,X.text),S(bt,!1),S(fe,c(ce)!==\"\"?Su(c(ce),tt.message||String(tt)):void 0)}}else S(W,X.json),S(Se,Wi(c(W),c(Se))),S(ce,void 0),S(bt,!1),S(fe,void 0);Me(c(W)),S(vt,void 0),Vt(it)}function fn(X){Jt(c(ue),X)||(s(\"applyExternalSelection\",{selection:c(ue),externalSelection:X}),Cd(X)&&S(ue,X))}function Vt(X){if(X.json===void 0&&X.text===void 0)return;const _e=c(W)!==void 0&&X.json!==void 0;m().add({type:\"tree\",undo:{patch:_e?[{op:\"replace\",path:\"\",value:X.json}]:void 0,json:X.json,text:X.text,documentState:X.documentState,textIsRepaired:X.textIsRepaired,selection:no(X.selection),sortedColumn:X.sortedColumn},redo:{patch:_e?[{op:\"replace\",path:\"\",value:c(W)}]:void 0,json:c(W),text:c(ce),documentState:c(Se),textIsRepaired:c(bt),selection:no(c(ue)),sortedColumn:c(vt)}})}let In=H([],!0);const rt=uh(uE);function Lt(X,_e,Ge,it){Hc(()=>{let tt;try{tt=rt(X,_e,Ge,it)}catch(et){tt=[{path:[],message:\"Failed to validate: \"+et.message,severity:Ls.warning}]}Jt(tt,c(In))||(s(\"validationErrors changed:\",tt),S(In,tt))},tt=>s(`validationErrors updated in ${tt} ms`))}function Ht(){return s(\"validate\"),c(fe)?{parseError:c(fe),isRepairable:!1}:(Lt(c(W),T(),x(),A()),wn(c(In))?void 0:{validationErrors:c(In)})}function Gt(X,_e){if(s(\"patch\",X,_e),c(W)===void 0)throw new Error(\"Cannot apply patch: no JSON\");const Ge=c(W),it={json:void 0,text:c(ce),documentState:c(Se),selection:no(c(ue)),sortedColumn:c(vt),textIsRepaired:c(bt)},tt=zO(c(W),X),et=AO(c(W),c(Se),X),bn=BY(c(vt),X,c(ye)),Kt=typeof _e==\"function\"?_e(et.json,et.documentState,c(ue)):void 0;return S(W,(Kt==null?void 0:Kt.json)!==void 0?Kt.json:et.json),S(Se,(Kt==null?void 0:Kt.state)!==void 0?Kt.state:et.documentState),S(ue,(Kt==null?void 0:Kt.selection)!==void 0?Kt.selection:c(ue)),S(vt,(Kt==null?void 0:Kt.sortedColumn)!==void 0?Kt.sortedColumn:bn),S(ce,void 0),S(bt,!1),S(J,void 0),S(fe,void 0),m().add({type:\"tree\",undo:{patch:tt,...it},redo:{patch:X,json:void 0,text:void 0,documentState:c(Se),selection:no(c(ue)),sortedColumn:c(vt),textIsRepaired:c(bt)}}),{json:c(W),previousJson:Ge,undo:tt,redo:X}}function kt(X,_e){s(\"handlePatch\",X,_e);const Ge={json:c(W),text:c(ce)},it=Gt(X,_e);return Tt(Ge,it),it}function Tt(X,_e){if(!(X.json===void 0&&(X==null?void 0:X.text)===void 0)&&R()){if(c(ce)!==void 0){const Ge={text:c(ce),json:void 0};R()(Ge,X,{contentErrors:Ht(),patchResult:_e})}else if(c(W)!==void 0){const Ge={text:void 0,json:c(W)};R()(Ge,X,{contentErrors:Ht(),patchResult:_e})}}}function rr(X){s(\"pasted json as text\",X),S(J,X)}function It(X){const _e=parseInt(X[0],10),Ge=[String(_e+1),...X.slice(1)];return cs(c(W),Ge)?jt(Ge):jt(X)}function Ut(){s(\"focus\"),c(se)&&(c(se).focus(),c(se).select())}function ln(X){!Ju(X.target,Ge=>Ge===c(te))&&bi(c(ue))&&(s(\"click outside the editor, exit edit mode\"),S(ue,no(c(ue))),$e&&c(se)&&(c(se).focus(),c(se).blur()),s(\"blur (outside editor)\"),c(se)&&c(se).blur())}function hn(X){S(He,X.target.scrollTop)}function kn(X){if(X.buttons!==1&&X.buttons!==2)return;const _e=X.target;_e.isContentEditable||Ut();const Ge=pO(_e);if(Ge){if(bi(c(ue))&&Sd(c(W),c(ue),Ge))return;S(ue,jt(Ge)),X.preventDefault()}}function mn(){if(er(c(W))&&!wn(c(W))&&!wn(c(ye))){const X=[\"0\",...c(ye)[0]];return jt(X)}else return}function vn(){c(ue)||S(ue,mn())}function dr(){if(c(bt)&&c(W)!==void 0){const X={json:c(W),text:c(ce)},_e={json:c(W),documentState:c(Se),selection:c(ue),sortedColumn:c(vt),text:c(ce),textIsRepaired:c(bt)};S(ce,void 0),S(bt,!1),Me(c(W)),Vt(_e),Tt(X,void 0)}return{json:c(W),text:c(ce)}}function sn(X,_e=!0){const Ge=c($)?Mf:0,it=NS(X,c(ye),ot,nt),tt=it-c(He)+Ge+nt,et=Qt(X);if(s(\"scrollTo\",{path:X,top:it,scrollTop:c(He),elem:et}),!c(U))return Promise.resolve();const bn=c(U).getBoundingClientRect();if(et&&!_e){const Yn=et.getBoundingClientRect();if(Yn.bottom>bn.top&&Yn.top<bn.bottom)return Promise.resolve()}const Kt=-Math.max(Ge+2*nt,bn.height/4);return et?new Promise(Yn=>{l(et,{container:c(U),offset:Kt,duration:a1,callback:()=>{xe(X),Yn()}})}):new Promise(Yn=>{l(tt,{container:c(U),offset:Kt,duration:a1,callback:async()=>{await Pn(),xe(X),Yn()}})})}function tr(X){if(!c(U))return;const{rowIndex:_e}=bs(X,c(ye)),Ge=NS(X,c(ye),ot,nt),it=Ge+(ot[_e]||nt),tt=nt,et=c(U).getBoundingClientRect(),bn=c(He),Kt=c(He)+et.height-tt;if(it>Kt){const Yn=it-Kt;Ui(U,c(U).scrollTop+=Yn)}if(Ge<bn){const Yn=bn-Ge;Ui(U,c(U).scrollTop-=Yn)}}function xe(X){const _e=Qt(X);if(!_e||!c(U))return;const Ge=c(U).getBoundingClientRect(),it=_e.getBoundingClientRect();if(it.right>Ge.right){const tt=it.right-Ge.right;Ui(U,c(U).scrollLeft+=tt)}if(it.left<Ge.left){const tt=Ge.left-it.left;Ui(U,c(U).scrollLeft-=tt)}}function Et(X){tr(X),xe(X)}function Qt(X){var it;const _e=c(ye).find(tt=>la(X.slice(1),tt)),Ge=_e?X.slice(0,1).concat(_e):X;return((it=c(U))==null?void 0:it.querySelector(`td[data-path=\"${o1(Ge)}\"]`))??void 0}function pt({anchor:X,left:_e,top:Ge,width:it,height:tt,offsetTop:et,offsetLeft:bn,showTip:Kt}){const Yn=Kre({json:c(W),documentState:c(Se),selection:c(ue),readOnly:h(),onEditValue:ir,onEditRow:Mr,onToggleEnforceString:fi,onCut:es,onCopy:ge,onPaste:_i,onRemove:ke,onDuplicateRow:yt,onInsertBeforeRow:Zt,onInsertAfterRow:Mt,onRemoveRow:dn}),q=M()(Yn)??Yn;if(q===!1)return;const me={tip:Kt?\"Tip: you can open this context menu via right-click or with Ctrl+Q\":void 0,items:q,onRequestClose(){a(ut),Ut()}},ze={left:_e,top:Ge,offsetTop:et,offsetLeft:bn,width:it,height:tt,anchor:X,closeOnOuterClick:!0,onClose:()=>{je=!1,Ut()}};je=!0;const ut=o(kE,me,ze)}function hr(X){var _e,Ge;if(!bi(c(ue)))if(X&&(X.stopPropagation(),X.preventDefault()),X&&X.type===\"contextmenu\"&&X.target!==c(se))pt({left:X.clientX,top:X.clientY,width:Wo,height:qo,showTip:!1});else{const it=(_e=c(U))==null?void 0:_e.querySelector(\".jse-table-cell.jse-selected-value\");if(it)pt({anchor:it,offsetTop:2,width:Wo,height:qo,showTip:!1});else{const tt=(Ge=c(U))==null?void 0:Ge.getBoundingClientRect();tt&&pt({top:tt.top+2,left:tt.left+2,width:Wo,height:qo,showTip:!1})}}}function pr(X){pt({anchor:hO(X.target,\"BUTTON\"),offsetTop:0,width:Wo,height:qo,showTip:!0})}function ir(){if(h()||!c(ue))return;const X=gt(c(ue)),_e=st(c(W),X);lr(_e)?di(X):S(ue,jt(X))}function Mr(){if(h()||!c(ue))return;const _e=gt(c(ue)).slice(0,1);di(_e)}function fi(){if(h()||!yn(c(ue)))return;const X=c(ue).path,_e=mt(X),Ge=st(c(W),X),it=!oa(c(W),c(Se),X),tt=it?String(Ge):Uu(String(Ge),x());s(\"handleToggleEnforceString\",{enforceString:it,value:Ge,updatedValue:tt}),kt([{op:\"replace\",path:_e,value:tt}],(et,bn)=>({state:iv(c(W),bn,X,{type:\"value\",enforceString:it})}))}async function $i(){if(s(\"apply pasted json\",c(J)),!c(J))return;const{onPasteAsJson:X}=c(J);X(),setTimeout(Ut)}function _i(){S(Ve,!0)}function zn(){s(\"clear pasted json\"),S(J,void 0),Ut()}function Vn(){D()(Cr.text)}async function es(X){await bE({json:c(W),selection:c(ue),indentation:X?O():void 0,readOnly:h(),parser:x(),onPatch:kt})}async function ge(X=!0){c(W)!==void 0&&await wE({json:c(W),selection:c(ue),indentation:X?O():void 0,parser:x()})}function ke(){CE({json:c(W),text:c(ce),selection:c(ue),keepSelection:!0,readOnly:h(),onChange:R(),onPatch:kt})}function yt(){jY({json:c(W),selection:c(ue),columns:c(ye),readOnly:h(),onPatch:kt})}function Zt(){zY({json:c(W),selection:c(ue),columns:c(ye),readOnly:h(),onPatch:kt})}function Mt(){VY({json:c(W),selection:c(ue),columns:c(ye),readOnly:h(),onPatch:kt})}function dn(){HY({json:c(W),selection:c(ue),columns:c(ye),readOnly:h(),onPatch:kt})}async function Ot(X){await SE({char:X,selectInside:!1,json:c(W),selection:c(ue),readOnly:h(),parser:x(),onPatch:kt,onReplaceJson:Lr,onSelect:Je})}function Ur(X){const _e=sa(X);if(s(\"keydown\",{combo:_e,key:X.key}),_e===\"Ctrl+X\"&&(X.preventDefault(),es(!0)),_e===\"Ctrl+Shift+X\"&&(X.preventDefault(),es(!1)),_e===\"Ctrl+C\"&&(X.preventDefault(),ge(!0)),_e===\"Ctrl+Shift+C\"&&(X.preventDefault(),ge(!1)),_e===\"Ctrl+D\"&&(X.preventDefault(),yt()),(_e===\"Delete\"||_e===\"Backspace\")&&(X.preventDefault(),ke()),_e===\"Insert\"&&X.preventDefault(),_e===\"Ctrl+A\"&&X.preventDefault(),_e===\"Ctrl+Q\"&&hr(X),_e===\"ArrowLeft\"&&(X.preventDefault(),vn(),c(ue))){const it=IY(c(ye),c(ue));S(ue,it),Et(gt(it))}if(_e===\"ArrowRight\"&&(X.preventDefault(),vn(),c(ue))){const it=RY(c(ye),c(ue));S(ue,it),Et(gt(it))}if(_e===\"ArrowUp\"&&(X.preventDefault(),vn(),c(ue))){const it=MY(c(ye),c(ue));S(ue,it),Et(gt(it))}if(_e===\"ArrowDown\"&&(X.preventDefault(),vn(),c(ue))){const it=PY(c(W),c(ye),c(ue));S(ue,it),Et(gt(it))}if(_e===\"Enter\"&&c(ue)&&yn(c(ue))){X.preventDefault();const it=c(ue).path,tt=st(c(W),it);lr(tt)?di(it):h()||S(ue,{...c(ue),edit:!0})}if(_e.replace(/^Shift\\+/,\"\").length===1&&c(ue)){X.preventDefault(),Ot(X.key);return}if(_e===\"Ctrl+Enter\"&&yn(c(ue))){X.preventDefault();const it=st(c(W),c(ue).path);Km(it)&&window.open(String(it),\"_blank\")}_e===\"Escape\"&&c(ue)&&(X.preventDefault(),S(ue,void 0)),_e===\"Ctrl+F\"&&(X.preventDefault(),Ss(!1)),_e===\"Ctrl+H\"&&(X.preventDefault(),Ss(!0)),_e===\"Ctrl+Z\"&&(X.preventDefault(),fl()),_e===\"Ctrl+Shift+Z\"&&(X.preventDefault(),dl())}function br(X){var Ge;X.preventDefault();const _e=(Ge=X.clipboardData)==null?void 0:Ge.getData(\"text/plain\");_e!==void 0&&xE({clipboardText:_e,json:c(W),selection:c(ue),readOnly:h(),parser:x(),onPatch:kt,onChangeText:xs,openRepairModal:ya})}function Lr(X,_e){const Ge={json:c(W),text:c(ce)},it={json:c(W),documentState:c(Se),selection:c(ue),sortedColumn:c(vt),text:c(ce),textIsRepaired:c(bt)},tt=Wi(X,c(Se)),et=typeof _e==\"function\"?_e(X,tt,c(ue)):void 0;S(W,(et==null?void 0:et.json)!==void 0?et.json:X),S(Se,(et==null?void 0:et.state)!==void 0?et.state:tt),S(ue,(et==null?void 0:et.selection)!==void 0?et.selection:c(ue)),S(vt,void 0),S(ce,void 0),S(bt,!1),S(fe,void 0),Me(c(W)),Vt(it),Tt(Ge,void 0)}function xs(X,_e){s(\"handleChangeText\");const Ge={json:c(W),text:c(ce)},it={json:c(W),documentState:c(Se),selection:c(ue),sortedColumn:c(vt),text:c(ce),textIsRepaired:c(bt)};try{S(W,C()(X)),S(Se,Wi(c(W),c(Se))),S(ce,void 0),S(bt,!1),S(fe,void 0)}catch(et){try{S(W,C()(fo(X))),S(Se,Wi(c(W),c(Se))),S(ce,X),S(bt,!0),S(fe,void 0)}catch{S(W,void 0),S(Se,void 0),S(ce,X),S(bt,!1),S(fe,c(ce)!==\"\"?Su(c(ce),et.message||String(et)):void 0)}}if(typeof _e==\"function\"){const et=_e(c(W),c(Se),c(ue));S(W,(et==null?void 0:et.json)!==void 0?et.json:c(W)),S(Se,(et==null?void 0:et.state)!==void 0?et.state:c(Se)),S(ue,(et==null?void 0:et.selection)!==void 0?et.selection:c(ue))}Me(c(W)),Vt(it),Tt(Ge,void 0)}function Oo(X){s(\"select validation error\",X),S(ue,jt(X.path)),sn(X.path)}function Bi(X){h()||c(W)===void 0||(je=!0,j()({id:u,json:c(W),rootPath:X,onSort:({operations:_e,itemPath:Ge,direction:it})=>{s(\"onSort\",_e,X,Ge,it),kt(_e,(tt,et)=>({state:et,sortedColumn:{path:Ge,sortDirection:it===-1?Ms.desc:Ms.asc}}))},onClose:()=>{je=!1,setTimeout(Ut)}}))}function Cs(X){if(c(W)===void 0)return;const{id:_e,onTransform:Ge,onClose:it}=X,tt=X.rootPath||[];je=!0,Y()({id:_e||f,json:c(W),rootPath:tt||[],onTransform:et=>{Ge?Ge({operations:et,json:c(W),transformedJson:Ds(c(W),et)}):(s(\"onTransform\",tt,et),kt(et))},onClose:()=>{je=!1,setTimeout(Ut),it&&it()}})}function di(X){s(\"openJSONEditorModal\",{path:X}),je=!0,ie()({content:{json:st(c(W),X)},path:X,onPatch:kt,onClose:()=>{je=!1,setTimeout(Ut)}})}function ya(X,_e){S(le,{text:X,onParse:Ge=>tv(Ge,it=>nh(it,x())),onRepair:sO,onApply:_e,onClose:Ut})}function ul(){Bi([])}function Hn(){Cs({rootPath:[]})}function Ss(X){s(\"openFind\",{findAndReplace:X}),S($,!1),S(ne,!1),Pn().then(()=>{S($,!0),S(ne,X)})}function fl(){if(h()||!m().canUndo)return;const X=m().undo();if(!Lg(X)){I()(X);return}const _e={json:c(W),text:c(ce)};S(W,X.undo.patch?Ds(c(W),X.undo.patch):X.undo.json),S(Se,X.undo.documentState),S(ue,X.undo.selection),S(vt,X.undo.sortedColumn),S(ce,X.undo.text),S(bt,X.undo.textIsRepaired),S(fe,void 0),s(\"undo\",{item:X,json:c(W)});const Ge=X.undo.patch&&X.redo.patch?{json:c(W),previousJson:_e.json,redo:X.undo.patch,undo:X.redo.patch}:void 0;Tt(_e,Ge),Ut(),c(ue)&&sn(gt(c(ue)),!1)}function dl(){if(h()||!m().canRedo)return;const X=m().redo();if(!Lg(X)){P()(X);return}const _e={json:c(W),text:c(ce)};S(W,X.redo.patch?Ds(c(W),X.redo.patch):X.redo.json),S(Se,X.redo.documentState),S(ue,X.redo.selection),S(vt,X.redo.sortedColumn),S(ce,X.redo.text),S(bt,X.redo.textIsRepaired),S(fe,void 0),s(\"redo\",{item:X,json:c(W)});const Ge=X.undo.patch&&X.redo.patch?{json:c(W),previousJson:_e.json,redo:X.redo.patch,undo:X.undo.patch}:void 0;Tt(_e,Ge),Ut(),c(ue)&&sn(gt(c(ue)),!1)}function ef(X){S(we,X.getBoundingClientRect().height)}function hl(X,_e){ot[_e]=X.getBoundingClientRect().height}Z(()=>(z(v()),z(w())),()=>{S(Q,Cw({escapeControlCharacters:v(),escapeUnicodeCharacters:w()}))}),Z(()=>c($),()=>{G(c($))}),Z(()=>z(p()),()=>{_t(p())}),Z(()=>z(g()),()=>{fn(g())}),Z(()=>(c(ye),c(W),z(k()),c(Ce)),()=>{S(ye,er(c(W))?OY(AY(c(W),k(),c(Ce)),c(ye)):[])}),Z(()=>(c(W),c(ye)),()=>{S(Re,!!(c(W)&&!wn(c(ye))))}),Z(()=>(c(W),c(Ce)),()=>{S(t,Array.isArray(c(W))&&c(W).length>c(Ce))}),Z(()=>(c(He),c(we),c(W),c($),Mf),()=>{S(r,EY(c(He),c(we),c(W),ot,nt,c($)?Mf:0))}),Z(()=>c(W),()=>{Xe(c(W))}),Z(()=>c(ue),()=>{Ye(c(ue))}),Z(()=>(z(h()),z(x()),c(Q),c(W),c(Se),z(_())),()=>{S(at,{mode:Cr.table,readOnly:h(),parser:x(),normalization:c(Q),getJson:()=>c(W),getDocumentState:()=>c(Se),findElement:Qt,findNextInside:It,focus:Ut,onPatch:(X,_e)=>kt(MU(X,c(W)),_e),onSelect:Je,onFind:Ss,onPasteJson:rr,onRenderValue:_()})}),Z(()=>(c(W),z(T()),z(x()),z(A())),()=>{Lt(c(W),T(),x(),A())}),Z(()=>(c(In),c(ye)),()=>{S(i,DY(c(In),c(ye)))}),wt(),Ne(!0);var hc=sie();ve(\"mousedown\",mr,ln);var An=be(hc),pc=V(An);{var gc=X=>{Dre(X,{get containsValidArray(){return c(Re)},get readOnly(){return h()},get history(){return m()},onSort:ul,onTransform:Hn,onUndo:fl,onRedo:dl,onContextMenu:pr,get onRenderMenu(){return L()},get showSearch(){return c($)},set showSearch(_e){S($,_e)},$$legacy:!0})};oe(pc,X=>{b()&&X(gc)})}var tf=K(pc,2);{var nf=X=>{var _e=rie(),Ge=be(_e),it=V(Ge);it.readOnly=!0,_n(it,Kt=>S(se,Kt),()=>c(se));var tt=K(Ge,2);{var et=Kt=>{var Yn=tie(),q=be(Yn),me=V(q);mE(me,{get json(){return c(W)},get documentState(){return c(Se)},get parser(){return x()},get showSearch(){return c($)},get showReplace(){return c(ne)},get readOnly(){return h()},get columns(){return c(ye)},onSearch:De,onFocus:Be,onPatch:kt,onClose:Le});var ze=K(q,2),ut=V(ze),We=V(ut),lt=V(We),Mn=V(lt),qt=V(Mn);{var ki=sr=>{var Ir=Ue();const Eo=he(()=>{var Mo;return My([],(Mo=c(i))==null?void 0:Mo.root)});var ba=be(Ir);{var To=Mo=>{var sf=Jre(),Iv=V(sf);su(Iv,{get validationError(){return c(Eo)},onExpand:ns}),B(Mo,sf)};oe(ba,Mo=>{c(Eo)&&Mo(To)})}B(sr,Ir)};oe(qt,sr=>{var Ir;wn((Ir=c(i))==null?void 0:Ir.root)||sr(ki)})}var wr=K(Mn);Dt(wr,1,()=>c(ye),un,(sr,Ir)=>{var Eo=Xre(),ba=V(Eo);jre(ba,{get path(){return c(Ir)},get sortedColumn(){return c(vt)},get readOnly(){return h()},onSort:Xn}),B(sr,Eo)});var Ai=K(wr);{var ei=sr=>{var Ir=Yre(),Eo=V(Ir);const ba=he(()=>Array.isArray(c(W))?c(W).length:0);Ure(Eo,{get count(){return c(ba)},get maxSampleCount(){return c(Ce)},get readOnly(){return h()},onRefresh:()=>S(Ce,1/0)}),B(sr,Ir)};oe(Ai,sr=>{c(t)&&sr(ei)})}var hi=K(lt),pl=V(hi),gl=K(hi);Dt(gl,1,()=>c(r).visibleItems,un,(sr,Ir,Eo)=>{var ba=eie();const To=he(()=>c(r).startIndex+Eo),Mo=he(()=>c(i).rows[c(To)]),sf=he(()=>{var Gs;return My([String(c(To))],(Gs=c(Mo))==null?void 0:Gs.row)}),Iv=he(()=>Ll(c(W),c(re),[String(c(To))]));var L2=V(ba);Dk(L2,()=>c(To),Gs=>{var Po=Gre(),bh=V(Po),F2=K(bh);{var of=gi=>{su(gi,{get validationError(){return c(sf)},onExpand:ns})};oe(F2,gi=>{c(sf)&&gi(of)})}tn(Po,(gi,yc)=>Oc==null?void 0:Oc(gi,yc),()=>gi=>hl(gi,c(To))),pe(()=>Ke(bh,`${c(To)??\"\"} `)),B(Gs,Po)});var B2=K(L2);Dt(B2,1,()=>c(ye),un,(Gs,Po,bh,F2)=>{var of=Zre();const gi=he(()=>[String(c(To))].concat(c(Po))),yc=he(()=>st(c(Ir),c(Po))),wh=he(()=>yn(c(ue))&&la(c(ue).path,c(gi))),JT=he(()=>{var Rr;return(Rr=c(Mo))==null?void 0:Rr.columns[bh]}),j2=he(()=>My(c(gi),c(JT)));var Rv=V(of),z2=V(Rv);{var XT=Rr=>{const wa=he(()=>g1(Ll(c(Ir),c(Iv),c(Po)))),af=he(()=>c(wa)?c(wa).some(Nv=>Nv.active):!1),Dv=he(()=>!wn(c(wa)));Lre(Rr,{get path(){return c(gi)},get value(){return c(yc)},get parser(){return x()},get isSelected(){return c(wh)},get containsSearchResult(){return c(Dv)},get containsActiveSearchResult(){return c(af)},onEdit:di})},YT=Rr=>{const wa=he(()=>{var V2;return(V2=Ll(c(W),c(re),c(gi)))==null?void 0:V2.searchResults}),af=he(()=>c(yc)!==void 0?c(yc):\"\"),Dv=he(()=>oa(c(W),c(Se),c(gi))),Nv=he(()=>c(wh)?c(ue):void 0);hE(Rr,{get path(){return c(gi)},get value(){return c(af)},get enforceString(){return c(Dv)},get selection(){return c(Nv)},get searchResultItems(){return c(wa)},get context(){return c(at)}})};oe(z2,Rr=>{lr(c(yc))?Rr(XT):Rr(YT,!1)})}var GT=K(z2);{var QT=Rr=>{var wa=Qre(),af=V(wa);Ta(af,{selected:!0,onContextMenu:pt}),B(Rr,wa)};oe(GT,Rr=>{!h()&&c(wh)&&!bi(c(ue))&&Rr(QT)})}var ZT=K(Rv,2);{var $T=Rr=>{su(Rr,{get validationError(){return c(j2)},onExpand:ns})};oe(ZT,Rr=>{c(j2)&&Rr($T)})}pe(Rr=>{Ee(of,\"data-path\",Rr),Fe(Rv,\"jse-selected-value\",c(wh))},[()=>o1(c(gi))],he),B(Gs,of)});var UT=K(B2);{var KT=Gs=>{var Po=$re();B(Gs,Po)};oe(UT,Gs=>{c(t)&&Gs(KT)})}B(sr,ba)});var mc=K(gl),vc=V(mc);_n(ze,sr=>S(U,sr),()=>c(U)),tn(ze,(sr,Ir)=>Oc==null?void 0:Oc(sr,Ir),()=>ef),En(()=>ve(\"scroll\",ze,hn));var rf=K(ze,2);{var Pv=sr=>{const Ir=he(()=>`You pasted a JSON ${Array.isArray(c(J).contents)?\"array\":\"object\"} as text`);js(sr,{type:\"info\",get message(){return c(Ir)},actions:[{icon:Au,text:\"Paste as JSON instead\",title:\"Paste the text as JSON instead of a single value\",onMouseDown:$i},{text:\"Leave as is\",title:\"Keep the pasted content as a single value\",onClick:zn}]})};oe(rf,sr=>{c(J)&&sr(Pv)})}var yh=K(rf,2);{var pi=sr=>{const Ir=he(()=>h()?[]:[{icon:Vw,text:\"Ok\",title:\"Accept the repaired document\",onClick:dr},{icon:zg,text:\"Repair manually instead\",title:\"Leave the document unchanged and repair it manually instead\",onClick:Vn}]);js(sr,{type:\"success\",message:\"The loaded JSON document was invalid but is successfully repaired.\",get actions(){return c(Ir)},onClose:Ut})};oe(yh,sr=>{c(bt)&&sr(pi)})}var ml=K(yh,2);Jw(ml,{get validationErrors(){return c(In)},selectError:Oo}),pe(()=>{Fe(hi,\"jse-search-box-background\",c($)),Ee(pl,\"colspan\",c(ye).length),Zn(pl,\"height\",c(r).startHeight+\"px\"),Ee(vc,\"colspan\",c(ye).length),Zn(vc,\"height\",c(r).endHeight+\"px\")}),B(Kt,Yn)},bn=Kt=>{var Yn=Ue(),q=be(Yn);{var me=ut=>{var We=nie(),lt=be(We);const Mn=he(()=>h()?[]:[{icon:zg,text:\"Repair manually\",title:'Open the document in \"code\" mode and repair it manually',onClick:Vn}]);js(lt,{type:\"error\",message:\"The loaded JSON document is invalid and could not be repaired automatically.\",get actions(){return c(Mn)}});var qt=K(lt,2);_E(qt,{get text(){return c(ce)},get json(){return c(W)},get indentation(){return O()},get parser(){return x()}}),B(ut,We)},ze=ut=>{qre(ut,{get text(){return c(ce)},get json(){return c(W)},get readOnly(){return h()},get parser(){return x()},openJSONEditorModal:di,get onChangeMode(){return D()},onClick:()=>{Ut()}})};oe(q,ut=>{c(fe)&&c(ce)!==void 0&&c(ce)!==\"\"?ut(me):ut(ze,!1)},!0)}B(Kt,Yn)};oe(tt,Kt=>{c(Re)?Kt(et):Kt(bn,!1)})}ve(\"paste\",it,br),B(X,_e)},de=X=>{var _e=iie();B(X,_e)};oe(tf,X=>{d?X(de,!1):X(nf)})}_n(An,X=>S(te,X),()=>c(te));var Te=K(An,2);{var xt=X=>{fE(X,{onClose:()=>S(Ve,!1)})};oe(Te,X=>{c(Ve)&&X(xt)})}var Rn=K(Te,2);{var Pr=X=>{dE(X,Qr(()=>c(le),{onClose:()=>{var _e;(_e=c(le))==null||_e.onClose(),S(le,void 0)}}))};oe(Rn,X=>{c(le)&&X(Pr)})}return pe(()=>Fe(An,\"no-main-menu\",!b())),ve(\"mousedown\",An,kn),ve(\"keydown\",An,Ur),ve(\"contextmenu\",An,hr),B(n,hc),St(e,\"validate\",Ht),St(e,\"patch\",Gt),St(e,\"focus\",Ut),St(e,\"acceptAutoRepair\",dr),St(e,\"scrollTo\",sn),St(e,\"findElement\",Qt),St(e,\"openTransformModal\",Cs),Ie({validate:Ht,patch:Gt,focus:Ut,acceptAutoRepair:dr,scrollTo:sn,findElement:Qt,openTransformModal:Cs})}function OT(n,e){Pe(e,!1);let t=y(e,\"content\",8),r=y(e,\"selection\",12),i=y(e,\"readOnly\",8),s=y(e,\"indentation\",8),o=y(e,\"tabSize\",8),a=y(e,\"externalMode\",8),l=y(e,\"mainMenuBar\",8),u=y(e,\"navigationBar\",8),f=y(e,\"statusBar\",8),d=y(e,\"askToFormat\",8),h=y(e,\"escapeControlCharacters\",8),p=y(e,\"escapeUnicodeCharacters\",8),g=y(e,\"flattenColumns\",8),m=y(e,\"parser\",8),b=y(e,\"parseMemoizeOne\",8),v=y(e,\"validator\",8),w=y(e,\"validationParser\",8),k=y(e,\"pathParser\",8),x=y(e,\"insideModal\",8),C=y(e,\"onChange\",8),T=y(e,\"onChangeMode\",8),A=y(e,\"onSelect\",8),O=y(e,\"onRenderValue\",8),R=y(e,\"onClassName\",8),D=y(e,\"onRenderMenu\",8),E=y(e,\"onRenderContextMenu\",8),I=y(e,\"onError\",8),P=y(e,\"onFocus\",8),_=y(e,\"onBlur\",8),L=y(e,\"onSortModal\",8),M=y(e,\"onTransformModal\",8),N=y(e,\"onJSONEditorModal\",8),F=H(),j=H(),Y=H();const ie=Tr(\"jsoneditor:JSONEditorRoot\"),Q=OE({onChange:we=>S(te,we)});let te=H(Q.get()),U=H(a());function se(we){if(we===c(U))return;const He={type:\"mode\",undo:{mode:c(U),selection:void 0},redo:{mode:we,selection:void 0}};c(U)===\"text\"&&c(Y)&&c(Y).flush(),ie(\"add history item\",He),c(te).add(He),S(U,we)}function le(we){if(pS(we)){S(U,we.undo.mode);const He=c(te).items(),nt=He.findIndex(Je=>Je===we),Xe=nt!==-1?He[nt-1]:void 0;ie(\"handleUndo\",{index:nt,item:we,items:He,prevItem:Xe}),Xe&&r(Xe.redo.selection),T()(c(U))}}function W(we){if(pS(we)){S(U,we.redo.mode);const He=c(te).items(),nt=He.findIndex(Je=>Je===we),Xe=nt!==-1?He[nt+1]:void 0;ie(\"handleRedo\",{index:nt,item:we,items:He,nextItem:Xe}),Xe&&r(Xe.undo.selection),T()(c(U))}}let ce=H();const fe={type:\"separator\"};let J=H(),ae=H();function re(we){if(c(F))return c(F).patch(we);if(c(j))return c(j).patch(we);if(c(Y))return c(Y).patch(we);throw new Error(`Method patch is not available in mode \"${c(U)}\"`)}function $(we,He){if(c(F))return c(F).expand(we,He);throw new Error(`Method expand is not available in mode \"${c(U)}\"`)}function ne(we,He){if(c(F))return c(F).collapse(we,He);throw new Error(`Method collapse is not available in mode \"${c(U)}\"`)}function G(we){if(c(Y))c(Y).openTransformModal(we);else if(c(F))c(F).openTransformModal(we);else if(c(j))c(j).openTransformModal(we);else throw new Error(`Method transform is not available in mode \"${c(U)}\"`)}function De(){if(c(Y))return c(Y).validate();if(c(F))return c(F).validate();if(c(j))return c(j).validate();throw new Error(`Method validate is not available in mode \"${c(U)}\"`)}function Be(){return c(F)?c(F).acceptAutoRepair():t()}function Le(we){if(c(F))return c(F).scrollTo(we);if(c(j))return c(j).scrollTo(we);throw new Error(`Method scrollTo is not available in mode \"${c(U)}\"`)}function Ce(we){if(c(F))return c(F).findElement(we);if(c(j))return c(j).findElement(we);throw new Error(`Method findElement is not available in mode \"${c(U)}\"`)}function ye(){c(Y)?c(Y).focus():c(F)?c(F).focus():c(j)&&c(j).focus()}async function Re(){c(Y)&&await c(Y).refresh()}Z(()=>z(a()),()=>{se(a())}),Z(()=>(c(U),z(T())),()=>{S(ce,[{type:\"button\",text:\"text\",title:`Switch to text mode (current mode: ${c(U)})`,className:\"jse-group-button jse-first\"+(c(U)===Cr.text?\" jse-selected\":\"\"),onClick:()=>T()(Cr.text)},{type:\"button\",text:\"tree\",title:`Switch to tree mode (current mode: ${c(U)})`,className:\"jse-group-button \"+(c(U)===Cr.tree?\" jse-selected\":\"\"),onClick:()=>T()(Cr.tree)},{type:\"button\",text:\"table\",title:`Switch to table mode (current mode: ${c(U)})`,className:\"jse-group-button jse-last\"+(c(U)===Cr.table?\" jse-selected\":\"\"),onClick:()=>T()(Cr.table)}])}),Z(()=>(c(ce),z(D()),c(U),z(x()),z(i())),()=>{S(J,we=>{const He=xO(we[0])?c(ce).concat(we):c(ce).concat(fe,we),nt=r1(He);return D()(He,{mode:c(U),modal:x(),readOnly:i()})||nt})}),Z(()=>(z(E()),c(U),z(x()),z(i()),z(r())),()=>{S(ae,we=>{const He=r1(we);return E()(we,{mode:c(U),modal:x(),readOnly:i(),selection:r()})??(i()?!1:He)})}),wt(),Ne();var je=Ue(),$e=be(je);{var Ve=we=>{_n(Rre(we,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(te)},get readOnly(){return i()},get indentation(){return s()},get tabSize(){return o()},get mainMenuBar(){return l()},get statusBar(){return f()},get askToFormat(){return d()},get escapeUnicodeCharacters(){return p()},get parser(){return m()},get validator(){return v()},get validationParser(){return w()},get onChange(){return C()},get onChangeMode(){return T()},get onSelect(){return A()},onUndo:le,onRedo:W,get onError(){return I()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(J)},get onSortModal(){return L()},get onTransformModal(){return M()},$$legacy:!0}),He=>S(Y,He),()=>c(Y))},ot=we=>{var He=Ue(),nt=be(He);{var Xe=Ye=>{_n(oie(Ye,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(te)},get readOnly(){return i()},get mainMenuBar(){return l()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return p()},get flattenColumns(){return g()},get parser(){return m()},get parseMemoizeOne(){return b()},get validator(){return v()},get validationParser(){return w()},get indentation(){return s()},get onChange(){return C()},get onChangeMode(){return T()},get onSelect(){return A()},onUndo:le,onRedo:W,get onRenderValue(){return O()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(J)},get onRenderContextMenu(){return c(ae)},get onSortModal(){return L()},get onTransformModal(){return M()},get onJSONEditorModal(){return N()},$$legacy:!0}),Me=>S(j,Me),()=>c(j))},Je=Ye=>{_n(w1(Ye,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(te)},get readOnly(){return i()},get indentation(){return s()},get mainMenuBar(){return l()},get navigationBar(){return u()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return p()},get parser(){return m()},get parseMemoizeOne(){return b()},get validator(){return v()},get validationParser(){return w()},get pathParser(){return k()},get onError(){return I()},get onChange(){return C()},get onChangeMode(){return T()},get onSelect(){return A()},onUndo:le,onRedo:W,get onRenderValue(){return O()},get onClassName(){return R()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(J)},get onRenderContextMenu(){return c(ae)},get onSortModal(){return L()},get onTransformModal(){return M()},get onJSONEditorModal(){return N()},$$legacy:!0}),Me=>S(F,Me),()=>c(F))};oe(nt,Ye=>{c(U)===Cr.table?Ye(Xe):Ye(Je,!1)},!0)}B(we,He)};oe($e,we=>{c(U)===Cr.text||String(c(U))===\"code\"?we(Ve):we(ot,!1)})}return B(n,je),St(e,\"patch\",re),St(e,\"expand\",$),St(e,\"collapse\",ne),St(e,\"transform\",G),St(e,\"validate\",De),St(e,\"acceptAutoRepair\",Be),St(e,\"scrollTo\",Le),St(e,\"findElement\",Ce),St(e,\"focus\",ye),St(e,\"refresh\",Re),Ie({patch:re,expand:$,collapse:ne,transform:G,validate:De,acceptAutoRepair:Be,scrollTo:Le,findElement:Ce,focus:ye,refresh:Re})}var aie=ee('<div class=\"jse-error svelte-v0el4e\"> </div>'),lie=ee('<button type=\"button\" class=\"jse-secondary svelte-v0el4e\"><!> Back</button>'),cie=ee('<button type=\"button\" class=\"jse-primary svelte-v0el4e\">Apply</button>'),uie=ee('<button type=\"button\" class=\"jse-primary svelte-v0el4e\">Close</button>'),fie=ee('<!> <div class=\"jse-modal-contents svelte-v0el4e\"><div class=\"jse-label svelte-v0el4e\"><div class=\"jse-label-inner svelte-v0el4e\">Path</div></div> <input class=\"jse-path svelte-v0el4e\" type=\"text\" readonly=\"\" title=\"Selected path\"> <div class=\"jse-label svelte-v0el4e\"><div class=\"jse-label-inner svelte-v0el4e\">Contents</div></div> <div class=\"jse-modal-inline-editor svelte-v0el4e\"><!></div> <div class=\"jse-actions svelte-v0el4e\"><!> <!> <!></div></div>',1),die=ee('<div class=\"jse-modal-wrapper svelte-v0el4e\"><!></div>');function hie(n,e){Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0),o=Tr(\"jsoneditor:JSONEditorModal\");let a=y(e,\"content\",9),l=y(e,\"path\",9),u=y(e,\"onPatch\",9),f=y(e,\"readOnly\",9),d=y(e,\"indentation\",9),h=y(e,\"tabSize\",9),p=y(e,\"mainMenuBar\",9),g=y(e,\"navigationBar\",9),m=y(e,\"statusBar\",9),b=y(e,\"askToFormat\",9),v=y(e,\"escapeControlCharacters\",9),w=y(e,\"escapeUnicodeCharacters\",9),k=y(e,\"flattenColumns\",9),x=y(e,\"parser\",9),C=y(e,\"validator\",9),T=y(e,\"validationParser\",9),A=y(e,\"pathParser\",9),O=y(e,\"onRenderValue\",9),R=y(e,\"onClassName\",9),D=y(e,\"onRenderMenu\",9),E=y(e,\"onRenderContextMenu\",9),I=y(e,\"onSortModal\",9),P=y(e,\"onTransformModal\",9),_=y(e,\"onClose\",9),L=H(void 0,!0),M=H(void 0,!0);const N={mode:Y(a()),content:a(),selection:void 0,relativePath:l()};let F=H([N],!0),j=H(void 0,!0);cr(()=>{var ae;(ae=c(L))==null||ae.focus()});function Y(ae){return yd(ae)&&er(ae.json)?Cr.table:Cr.tree}function ie(){var re;const ae=(re=zt(c(F)))==null?void 0:re.selection;Cd(ae)&&c(L).scrollTo(gt(ae))}function Q(){if(o(\"handleApply\"),!f())try{S(j,void 0);const ae=c(t).relativePath,re=c(t).content,$=[{op:\"replace\",path:mt(ae),value:nS(re,x()).json}];if(c(F).length>1){const ne=c(F)[c(F).length-2].content,G=nS(ne,x()).json,De={json:Ds(G,$)},Le={...c(F)[c(F).length-2]||N,content:De};S(F,[...c(F).slice(0,c(F).length-2),Le]),Pn().then(ie)}else u()($),_()()}catch(ae){S(j,String(ae))}}function te(){o(\"handleClose\"),c(M)?S(M,!1):c(F).length>1?(S(F,rn(c(F))),Pn().then(()=>{var ae;(ae=c(L))==null||ae.focus(),ie()}),S(j,void 0)):_()()}function U(ae){o(\"handleChange\",ae),W(re=>({...re,content:ae}))}function se(ae){o(\"handleChangeSelection\",ae),W(re=>({...re,selection:ae}))}function le(ae){o(\"handleChangeMode\",ae),W(re=>({...re,mode:ae}))}function W(ae){const re=zt(c(F)),$=ae(re);S(F,[...rn(c(F)),$])}function ce(ae){S(j,ae.toString()),console.error(ae)}function fe({content:ae,path:re}){o(\"handleJSONEditorModal\",{content:ae,path:re});const $={mode:Y(ae),content:ae,selection:void 0,relativePath:re};S(F,[...c(F),$]),Pn().then(()=>{var ne;return(ne=c(L))==null?void 0:ne.focus()})}function J(ae){ae.focus()}Z(()=>c(F),()=>{S(t,zt(c(F))||N)}),Z(()=>c(F),()=>{S(r,c(F).flatMap(ae=>ae.relativePath))}),Z(()=>(c(r),zs),()=>{S(i,wn(c(r))?\"(document root)\":zs(c(r)))}),Z(()=>z(x()),()=>{S(s,uh(x().parse))}),wt(),Ne(!0),ch(n,{onClose:te,className:\"jse-jsoneditor-modal\",get fullscreen(){return c(M)},children:(ae,re)=>{var $=die(),ne=V($);Ow(ne,{children:(G,De)=>{var Be=fie(),Le=be(Be);const Ce=he(()=>c(F).length>1?` (${c(F).length})`:\"\");gv(Le,{get title(){return`Edit nested content ${c(Ce)??\"\"}`},fullScreenButton:!0,onClose:te,get fullscreen(){return c(M)},set fullscreen(Me){S(M,Me)},$$legacy:!0});var ye=K(Le,2),Re=K(V(ye),2),je=K(Re,4),$e=V(je);_n(OT($e,{get externalMode(){return c(t).mode},get content(){return c(t).content},get selection(){return c(t).selection},get readOnly(){return f()},get indentation(){return d()},get tabSize(){return h()},get statusBar(){return m()},get askToFormat(){return b()},get mainMenuBar(){return p()},get navigationBar(){return g()},get escapeControlCharacters(){return v()},get escapeUnicodeCharacters(){return w()},get flattenColumns(){return k()},get parser(){return x()},get parseMemoizeOne(){return c(s)},get validator(){return C()},get validationParser(){return T()},get pathParser(){return A()},insideModal:!0,onError:ce,onChange:U,onChangeMode:le,onSelect:se,get onRenderValue(){return O()},get onClassName(){return R()},onFocus:ns,onBlur:ns,get onRenderMenu(){return D()},get onRenderContextMenu(){return E()},get onSortModal(){return I()},get onTransformModal(){return P()},onJSONEditorModal:fe,$$legacy:!0}),Me=>S(L,Me),()=>c(L));var Ve=K(je,2),ot=V(Ve);{var we=Me=>{var Se=aie(),ue=V(Se);pe(()=>Ke(ue,c(j))),B(Me,Se)};oe(ot,Me=>{c(j)&&Me(we)})}var He=K(ot,2);{var nt=Me=>{var Se=lie(),ue=V(Se);Xt(ue,{data:$U}),ve(\"click\",Se,te),B(Me,Se)};oe(He,Me=>{c(F).length>1&&Me(nt)})}var Xe=K(He,2);{var Je=Me=>{var Se=cie();En(()=>ve(\"click\",Se,Q)),tn(Se,ue=>J==null?void 0:J(ue)),B(Me,Se)},Ye=Me=>{var Se=uie();ve(\"click\",Se,te),B(Me,Se)};oe(Xe,Me=>{f()?Me(Ye,!1):Me(Je)})}pe(()=>na(Re,c(i))),B(G,Be)},$$slots:{default:!0}}),B(ae,$)},$$slots:{default:!0}}),Ie()}const pie={};var Ec=Ud(()=>pie),gie=ee('<tr><th class=\"svelte-1v9c92j\">Property</th><td class=\"svelte-1v9c92j\"><!></td></tr>'),mie=ee('<div class=\"jse-error svelte-1v9c92j\"> </div>'),vie=ee('<!> <div class=\"jse-modal-contents svelte-1v9c92j\"><table class=\"svelte-1v9c92j\"><colgroup><col width=\"25%\"><col width=\"75%\"></colgroup><tbody><tr><th class=\"svelte-1v9c92j\">Path</th><td class=\"svelte-1v9c92j\"><input class=\"jse-path svelte-1v9c92j\" type=\"text\" readonly=\"\" title=\"Selected path\"></td></tr><!><tr><th class=\"svelte-1v9c92j\">Direction</th><td class=\"svelte-1v9c92j\"><!></td></tr></tbody></table> <div class=\"jse-space svelte-1v9c92j\"><!></div> <div class=\"jse-actions svelte-1v9c92j\"><button type=\"button\" class=\"jse-primary svelte-1v9c92j\">Sort</button></div></div>',1);function yie(n,e){var C,T;Pe(e,!1);const t=H(void 0,!0),r=H(void 0,!0),i=H(void 0,!0),s=H(void 0,!0),o=Tr(\"jsoneditor:SortModal\");let a=y(e,\"id\",9),l=y(e,\"json\",9),u=y(e,\"rootPath\",9),f=y(e,\"onSort\",9),d=y(e,\"onClose\",9);const h={value:1,label:\"ascending\"},g=[h,{value:-1,label:\"descending\"}],m=`${a()}:${mt(u())}`;let b=H((C=Ec()[m])==null?void 0:C.selectedProperty,!0),v=H(((T=Ec()[m])==null?void 0:T.selectedDirection)||h,!0),w=H(void 0,!0);function k(){var A,O,R,D;try{S(w,void 0);const E=((A=c(b))==null?void 0:A.value)||((R=(O=c(s))==null?void 0:O[0])==null?void 0:R.value)||[],I=(D=c(v))==null?void 0:D.value,P=gE(l(),u(),E,I);f()!==void 0&&u()!==void 0&&f()({operations:P,rootPath:u(),itemPath:E,direction:I}),d()()}catch(E){S(w,String(E))}}function x(A){A.focus()}Z(()=>(z(l()),z(u())),()=>{S(t,st(l(),u()))}),Z(()=>c(t),()=>{S(r,Array.isArray(c(t)))}),Z(()=>(c(r),c(t)),()=>{S(i,c(r)?i1(c(t)):void 0)}),Z(()=>(c(i),Ea),()=>{S(s,c(i)?c(i).map(Ea):void 0)}),Z(()=>(Ec(),c(b),c(v)),()=>{Ec(Ec()[m]={selectedProperty:c(b),selectedDirection:c(v)}),o(\"store state in memory\",m,Ec()[m])}),wt(),Ne(!0),ch(n,{get onClose(){return d()},className:\"jse-sort-modal\",children:(A,O)=>{var R=vie(),D=be(R);const E=he(()=>c(r)?\"Sort array items\":\"Sort object keys\");gv(D,{get title(){return c(E)},get onClose(){return d()}});var I=K(D,2),P=V(I),_=K(V(P)),L=V(_),M=K(V(L)),N=V(M),F=K(L);{var j=ce=>{var fe=gie(),J=K(V(fe)),ae=V(J);Sl(ae,{showChevron:!0,get items(){return c(s)},get value(){return c(b)},set value(re){S(b,re)},$$legacy:!0}),B(ce,fe)};oe(F,ce=>{var fe;c(r)&&(c(s)&&((fe=c(s))==null?void 0:fe.length)>1||c(b)===void 0)&&ce(j)})}var Y=K(F),ie=K(V(Y)),Q=V(ie);Sl(Q,{showChevron:!0,clearable:!1,items:g,get value(){return c(v)},set value(ce){S(v,ce)},$$legacy:!0});var te=K(P,2),U=V(te);{var se=ce=>{var fe=mie(),J=V(fe);pe(()=>Ke(J,c(w))),B(ce,fe)};oe(U,ce=>{c(w)&&ce(se)})}var le=K(te,2),W=V(le);En(()=>ve(\"click\",W,k)),tn(W,ce=>x==null?void 0:x(ce)),pe(ce=>{var fe;na(N,ce),W.disabled=c(r)&&c(s)&&((fe=c(s))==null?void 0:fe.length)>1?!c(b):!1},[()=>u()&&!wn(u())?zs(u()):\"(document root)\"],he),B(A,R)},$$slots:{default:!0}}),Ie()}var bie=ee('<div class=\"jse-main svelte-57bmz4\"><!></div> <!> <!> <!>',1);function wie(n,e){Pe(e,!1);const t=H(void 0,!0),r=Tr(\"jsoneditor:JSONEditor\"),i={text:\"\"},s=void 0,o=!1,a=2,l=4,u=Cr.tree,f=!0,d=!0,h=!0,p=!0,g=!1,m=!1,b=!0,v=JSON,w=void 0,k=JSON,x={parse:_K,stringify:zs},C=[yW],T=C[0].id,A=ns,O=void 0,R=void 0,D=JU,E=ns,I=ns,P=ns,_=ns,L=xe=>{console.error(xe),alert(xe.toString())},M=ns,N=ns;let F=y(e,\"content\",13,i),j=y(e,\"selection\",13,s),Y=y(e,\"readOnly\",13,o),ie=y(e,\"indentation\",13,a),Q=y(e,\"tabSize\",13,l),te=y(e,\"mode\",13,u),U=y(e,\"mainMenuBar\",13,f),se=y(e,\"navigationBar\",13,d),le=y(e,\"statusBar\",13,h),W=y(e,\"askToFormat\",13,p),ce=y(e,\"escapeControlCharacters\",13,g),fe=y(e,\"escapeUnicodeCharacters\",13,m),J=y(e,\"flattenColumns\",13,b),ae=y(e,\"parser\",13,v),re=y(e,\"validator\",13,w),$=y(e,\"validationParser\",13,k),ne=y(e,\"pathParser\",13,x),G=y(e,\"queryLanguages\",13,C),De=y(e,\"queryLanguageId\",13,T),Be=y(e,\"onChangeQueryLanguage\",13,A),Le=y(e,\"onChange\",13,O),Ce=y(e,\"onSelect\",13,R),ye=y(e,\"onRenderValue\",13,D),Re=y(e,\"onClassName\",13,E),je=y(e,\"onRenderMenu\",13,I),$e=y(e,\"onRenderContextMenu\",13,P),Ve=y(e,\"onChangeMode\",13,_),ot=y(e,\"onError\",13,L),we=y(e,\"onFocus\",13,M),He=y(e,\"onBlur\",13,N),nt=H(jc(),!0),Xe=H(!1,!0),Je=H(void 0,!0),Ye=H(void 0,!0),Me=H(void 0,!0),Se=H(void 0,!0),ue=H(ae(),!0);function vt(){return F()}async function bt(xe){r(\"set\");const Et=py(xe);if(Et)throw new Error(Et);S(nt,jc()),F(xe)}async function Xn(xe){r(\"update\");const Et=py(xe);if(Et)throw new Error(Et);F(xe),await Pn()}async function at(xe){const Et=c(Je).patch(xe);return await Pn(),Et}async function _t(xe){j(xe),await Pn()}async function fn(xe,Et){c(Je).expand(xe,Et),await Pn()}async function Vt(xe,Et=!1){c(Je).collapse(xe,Et),await Pn()}function In(xe){c(Je).transform(xe)}function rt(){return c(Je).validate()}async function Lt(){const xe=c(Je).acceptAutoRepair();return await Pn(),xe}async function Ht(xe){await c(Je).scrollTo(xe)}function Gt(xe){return c(Je).findElement(xe)}async function kt(){c(Je).focus(),await Pn()}async function Tt(){await c(Je).refresh()}async function rr(xe){const Et=Object.keys(xe);for(const pt of Et)switch(pt){case\"content\":F(xe[pt]??i);break;case\"selection\":j(xe[pt]??s);break;case\"readOnly\":Y(xe[pt]??o);break;case\"indentation\":ie(xe[pt]??a);break;case\"tabSize\":Q(xe[pt]??l);break;case\"mode\":te(xe[pt]??u);break;case\"mainMenuBar\":U(xe[pt]??f);break;case\"navigationBar\":se(xe[pt]??d);break;case\"statusBar\":le(xe[pt]??h);break;case\"askToFormat\":W(xe[pt]??p);break;case\"escapeControlCharacters\":ce(xe[pt]??g);break;case\"escapeUnicodeCharacters\":fe(xe[pt]??m);break;case\"flattenColumns\":J(xe[pt]??b);break;case\"parser\":ae(xe[pt]??v);break;case\"validator\":re(xe[pt]??w);break;case\"validationParser\":$(xe[pt]??k);break;case\"pathParser\":ne(xe[pt]??x);break;case\"queryLanguages\":G(xe[pt]??C);break;case\"queryLanguageId\":De(xe[pt]??T);break;case\"onChangeQueryLanguage\":Be(xe[pt]??A);break;case\"onChange\":Le(xe[pt]??O);break;case\"onRenderValue\":ye(xe[pt]??D);break;case\"onClassName\":Re(xe[pt]??E);break;case\"onRenderMenu\":je(xe[pt]??I);break;case\"onRenderContextMenu\":$e(xe[pt]??P);break;case\"onChangeMode\":Ve(xe[pt]??_);break;case\"onSelect\":Ce(xe[pt]??R);break;case\"onError\":ot(xe[pt]??L);break;case\"onFocus\":we(xe[pt]??M);break;case\"onBlur\":He(xe[pt]??N);break;default:Qt(pt)}G().some(pt=>pt.id===De())||De(G()[0].id);function Qt(pt){r(`Unknown property \"${pt}\"`)}await Pn()}async function It(){throw new Error(\"class method destroy() is deprecated. It is replaced with a method destroy() in the vanilla library.\")}function Ut(xe,Et,Qt){F(xe),Le()&&Le()(xe,Et,Qt)}function ln(xe){j(xe),Ce()&&Ce()(r1(xe))}function hn(){S(Xe,!0),we()&&we()()}function kn(){S(Xe,!1),He()&&He()()}async function mn(xe){te()!==xe&&(te(xe),await Pn(),await kt(),Ve()(xe))}function vn(xe){r(\"handleChangeQueryLanguage\",xe),De(xe),Be()(xe)}function dr({id:xe,json:Et,rootPath:Qt,onTransform:pt,onClose:hr}){Y()||S(Se,{id:xe,json:Et,rootPath:Qt,indentation:ie(),escapeControlCharacters:ce(),escapeUnicodeCharacters:fe(),parser:ae(),parseMemoizeOne:c(t),validationParser:$(),pathParser:ne(),queryLanguages:G(),queryLanguageId:De(),onChangeQueryLanguage:vn,onRenderValue:ye(),onRenderMenu:pr=>je()(pr,{mode:te(),modal:!0,readOnly:Y()}),onRenderContextMenu:pr=>$e()(pr,{mode:te(),modal:!0,readOnly:Y(),selection:j()}),onClassName:Re(),onTransform:pt,onClose:hr})}function sn(xe){Y()||S(Me,xe)}function tr({content:xe,path:Et,onPatch:Qt,onClose:pt}){r(\"onJSONEditorModal\",{content:xe,path:Et}),S(Ye,{content:xe,path:Et,onPatch:Qt,readOnly:Y(),indentation:ie(),tabSize:Q(),mainMenuBar:U(),navigationBar:se(),statusBar:le(),askToFormat:W(),escapeControlCharacters:ce(),escapeUnicodeCharacters:fe(),flattenColumns:J(),parser:ae(),validator:void 0,validationParser:$(),pathParser:ne(),onRenderValue:ye(),onClassName:Re(),onRenderMenu:je(),onRenderContextMenu:$e(),onSortModal:sn,onTransformModal:dr,onClose:pt})}return Z(()=>(z(ae()),c(ue),z(F()),jc),()=>{if(!Bq(ae(),c(ue))){if(r(\"parser changed, recreate editor\"),yd(F())){const xe=c(ue).stringify(F().json);F({json:xe!==void 0?ae().parse(xe):void 0})}S(ue,ae()),S(nt,jc())}}),Z(()=>z(F()),()=>{const xe=py(F());xe&&console.error(\"Error: \"+xe)}),Z(()=>z(j()),()=>{j()===null&&console.warn(\"selection is invalid: it is null but should be undefined\")}),Z(()=>z(ae()),()=>{S(t,uh(ae().parse))}),Z(()=>z(te()),()=>{r(\"mode changed to\",te())}),wt(),Ne(!0),Ow(n,{children:(xe,Et)=>{var Qt=bie(),pt=be(Qt),hr=V(pt);Dk(hr,()=>c(nt),zn=>{_n(OT(zn,{get externalMode(){return te()},get content(){return F()},get selection(){return j()},get readOnly(){return Y()},get indentation(){return ie()},get tabSize(){return Q()},get statusBar(){return le()},get askToFormat(){return W()},get mainMenuBar(){return U()},get navigationBar(){return se()},get escapeControlCharacters(){return ce()},get escapeUnicodeCharacters(){return fe()},get flattenColumns(){return J()},get parser(){return ae()},get parseMemoizeOne(){return c(t)},get validator(){return re()},get validationParser(){return $()},get pathParser(){return ne()},insideModal:!1,get onError(){return ot()},onChange:Ut,onChangeMode:mn,onSelect:ln,get onRenderValue(){return ye()},get onClassName(){return Re()},onFocus:hn,onBlur:kn,get onRenderMenu(){return je()},get onRenderContextMenu(){return $e()},onSortModal:sn,onTransformModal:dr,onJSONEditorModal:tr,$$legacy:!0}),Vn=>S(Je,Vn),()=>c(Je))});var pr=K(pt,2);{var ir=zn=>{yie(zn,Qr(()=>c(Me),{onClose:()=>{var Vn;(Vn=c(Me))==null||Vn.onClose(),S(Me,void 0)}}))};oe(pr,zn=>{c(Me)&&zn(ir)})}var Mr=K(pr,2);{var fi=zn=>{yG(zn,Qr(()=>c(Se),{onClose:()=>{var Vn;(Vn=c(Se))==null||Vn.onClose(),S(Se,void 0)}}))};oe(Mr,zn=>{c(Se)&&zn(fi)})}var $i=K(Mr,2);{var _i=zn=>{hie(zn,Qr(()=>c(Ye),{onClose:()=>{var Vn;(Vn=c(Ye))==null||Vn.onClose(),S(Ye,void 0)}}))};oe($i,zn=>{c(Ye)&&zn(_i)})}pe(()=>Fe(pt,\"jse-focus\",c(Xe))),B(xe,Qt)},$$slots:{default:!0}}),St(e,\"get\",vt),St(e,\"set\",bt),St(e,\"update\",Xn),St(e,\"patch\",at),St(e,\"select\",_t),St(e,\"expand\",fn),St(e,\"collapse\",Vt),St(e,\"transform\",In),St(e,\"validate\",rt),St(e,\"acceptAutoRepair\",Lt),St(e,\"scrollTo\",Ht),St(e,\"findElement\",Gt),St(e,\"focus\",kt),St(e,\"refresh\",Tt),St(e,\"updateProps\",rr),St(e,\"destroy\",It),Ie({get:vt,set:bt,update:Xn,patch:at,select:_t,expand:fn,collapse:Vt,transform:In,validate:rt,acceptAutoRepair:Lt,scrollTo:Ht,findElement:Gt,focus:kt,refresh:Tt,updateProps:rr,destroy:It})}const Sa=n=>{const t=n.target.closest(\"td\");if(!t)return;const r=t.closest(\"tr\");if(!r)return;const i=Array.from(r.cells).indexOf(t);if(n.key===\"ArrowDown\"){const s=r.nextElementSibling;if(s){const o=s.cells[i];if(o){const a=o.querySelector(\"input, select\");a&&(n.preventDefault(),a.focus(),a instanceof HTMLSelectElement&&a.click())}}}else if(n.key===\"ArrowUp\"){const s=r.previousElementSibling;if(s){const o=s.cells[i];if(o){const a=o.querySelector(\"input, select\");a&&(n.preventDefault(),a.focus(),a instanceof HTMLSelectElement&&a.click())}}}};var xie=ee('<input value=\"\" disabled style=\"opacity: 0.5; background-color: Gainsboro; cursor: not-allowed;\">'),Cie=ee('<input disabled style=\"opacity: 0.5; cursor: not-allowed;\">'),Sie=(n,e,t)=>{yo.show({config:{title:\"Edit JSON\",width:\"90vw\"},component:wie,props:{content:{json:e()??{}},onChange:t}})},_ie=ee('<button style=\"margin-left: auto; margin-right: auto; width: 100%\" class=\"icon-button\"><!></button>'),kie=ee(\"<select><option>False</option><option>True</option></select>\"),Aie=ee(\"<option> </option>\"),Oie=ee(\"<option> </option>\"),Eie=ee(\"<select></select>\"),Tie=ee('<input type=\"number\">'),Mie=ee('<input type=\"color\">'),Pie=ee('<input type=\"text\">');function Iie(n,e){Pe(e,!0);const t=TM();let r=y(e,\"value\",15),i=y(e,\"relationsToOneValues\",19,()=>({})),s=y(e,\"isNewRow\",3,!1);const o=il(),a=h=>{JSON.stringify(h.json)!=JSON.stringify(r())&&r(h.json),o(\"change\",{value:r()})};var l=Ue(),u=be(l);{var f=h=>{fA(h,{get info(){return e.info},get relationsToOneValues(){return i()},get value(){return r()},set value(p){r(p)},$$events:{change(p){Bt.call(this,e,p)}}})},d=h=>{var p=Ue(),g=be(p);{var m=v=>{var w=xie();w.__keydown=[Sa],B(v,w)},b=v=>{var w=Ue(),k=be(w);{var x=T=>{var A=Cie();A.__keydown=[Sa],Ji(A,r),B(T,A)},C=T=>{var A=Ue(),O=be(A);{var R=E=>{var I=_ie();I.__click=[Sie,r,a],I.__keydown=[Sa];var P=V(I);sA(P),B(E,I)},D=E=>{var I=Ue(),P=be(I);{var _=M=>{var N=kie();N.__keydown=[Sa];var F=V(N);F.value=(F.__value=!1)==null?\"\":!1;var j=K(F);j.value=(j.__value=!0)==null?\"\":!0,jf(N,r),B(M,N)},L=M=>{var N=Ue(),F=be(N);{var j=ie=>{var Q=Eie();Q.__keydown=[Sa],Dt(Q,21,()=>e.info.values,un,(te,U)=>{var se=Ue(),le=be(se);{var W=fe=>{var J=Aie(),ae={},re=V(J);pe($=>{ae!==(ae=$)&&(J.value=(J.__value=$)==null?\"\":$),Ke(re,c(U).caption)},[()=>String(c(U).id)]),B(fe,J)},ce=fe=>{var J=Oie(),ae={},re=V(J);pe($=>{ae!==(ae=$)&&(J.value=(J.__value=$)==null?\"\":$),Ke(re,c(U))},[()=>String(c(U))]),B(fe,J)};oe(le,fe=>{typeof c(U)==\"object\"?fe(W):fe(ce,!1)})}B(te,se)}),jf(Q,r),B(ie,Q)},Y=ie=>{var Q=Ue(),te=be(Q);{var U=le=>{var W=Tie(),ce=Fn(()=>t(\"change\"));W.__change=function(...fe){var J;(J=c(ce))==null||J.apply(this,fe)},W.__keydown=[Sa],Ji(W,r),B(le,W)},se=le=>{var W=Ue(),ce=be(W);{var fe=ae=>{var re=Mie(),$=Fn(()=>t(\"change\"));re.__change=function(...ne){var G;(G=c($))==null||G.apply(this,ne)},re.__keydown=[Sa],Ji(re,r),B(ae,re)},J=ae=>{var re=Pie(),$=Fn(()=>t(\"change\"));re.__change=function(...ne){var G;(G=c($))==null||G.apply(this,ne)},re.__keydown=[Sa],Ji(re,r),B(ae,re)};oe(ce,ae=>{e.info.inputType==\"color\"?ae(fe):ae(J,!1)},!0)}B(le,W)};oe(te,le=>{e.info.type==\"number\"?le(U):le(se,!1)},!0)}B(ie,Q)};oe(F,ie=>{e.info.values&&e.info.values.length>0?ie(j):ie(Y,!1)},!0)}B(M,N)};oe(P,M=>{e.info.type==\"boolean\"?M(_):M(L,!1)},!0)}B(E,I)};oe(O,E=>{e.info.type==\"json\"?E(R):E(D,!1)},!0)}B(T,A)};oe(k,T=>{e.info.readOnly?T(x):T(C,!1)},!0)}B(v,w)};oe(g,v=>{!s()&&r()===void 0||s()&&e.info.readOnly?v(m):v(b,!1)},!0)}B(h,p)};oe(u,h=>{e.info.relationToOne?h(f):h(d,!1)})}B(n,l),Ie()}pa([\"keydown\",\"click\",\"change\"]);var Rie=(n,e,t)=>S(e,Wt(c(e)?null:t.relations[0])),Die=ee('<button class=\"icon-button relations-button\" title=\"Relations\"><!></button>'),Nie=ee('<span class=\"error-label svelte-17j2tao\"> </span>'),Lie=ee('<td style=\"position: relative\" class=\"svelte-17j2tao\"><!> <!></td>'),Bie=ee('<div class=\"margin-auto svelte-17j2tao\"><button class=\"icon-button save-button\" title=\"Save (/Ctrl+Enter, /Ctrl+Shift+Enter for all)\"><!></button> <button class=\"icon-button cancel-button\" title=\"Cancel (/Ctrl+Esc, /Ctrl+Shift+Esc for all)\"><!></button></div>'),Fie=async(n,e,t)=>{try{e().settings.confirmDelete?(await yo.confirmDelete(\"The full line ?\")).success&&await t()():await t()()}catch(r){alert(r.message)}},jie=ee('<button class=\"icon-button delete-button margin-auto svelte-17j2tao\" title=\"Delete\"><!></button>'),zie=(n,e,t)=>{S(e,Wt(c(t))),n.preventDefault()},Vie=ee(\"<button> </button>\"),Hie=ee('<tr class=\"extended\"><td></td><td><div class=\"extended__holder\"><div class=\"extended__links\"></div> <!></div></td></tr>'),qie=ee('<tr><td><!></td><!><td><div class=\"row-actions\"><!> <!></div></td></tr> <!>',1);function R_(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(ga,\"$godStore\",t),s=()=>Ae(Sr,\"$LSContext\",t);let o=y(e,\"relationsToOneValues\",19,()=>({})),a=y(e,\"deleteAction\",3,()=>Promise.resolve()),l=y(e,\"cancelAction\",3,()=>Promise.resolve()),u=y(e,\"isNewRow\",3,!1),f=ss(void 0),d=ss(null),h=!1,p=ss(Wt({...e.row})),g=ss(void 0);ts(()=>{S(g,Wt(e.row))});let m=Fn(()=>c(d)&&typeof c(d)==\"object\"&&i().tables.find(Q=>Q.key===c(d).entityKey)),b=Fn(()=>!!e.columns.find(Q=>Q.type!==\"json\"&&c(g)[Q.key]!==c(p)[Q.key])||u()),v=Fn(()=>e.row&&c(d)&&typeof c(d)==\"object\"?Object.fromEntries(Object.entries(c(d).fields).map(([Q,te])=>[Q,e.row[te]])):{});async function w(){try{S(f,void 0),await e.saveAction(c(g)),S(p,Wt({...c(g)}))}catch(Q){S(f,Wt(Q))}}async function k(){S(g,Wt(c(p))),S(f,void 0),await l()()}function x(Q,te){return Q||te}function C(Q){const U=navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?Q.metaKey:Q.ctrlKey;x(c(b),u())&&(Q.key===\"Enter\"&&U?(Q.preventDefault(),Q.shiftKey?document.querySelectorAll(\"tr\").forEach(le=>{const W=le.querySelector(\".save-button\");W&&W.click()}):h&&w()):Q.key===\"Escape\"&&U&&(Q.preventDefault(),Q.shiftKey?document.querySelectorAll(\"tr\").forEach(le=>{const W=le.querySelector(\".cancel-button\");W&&W.click()}):h&&k()))}function T(){h=!0}function A(Q){var se;const te=Q.target.closest(\"tr\"),U=(se=Q.relatedTarget)==null?void 0:se.closest(\"tr\");te!==U&&(h=!1)}var O=qie();ve(\"keydown\",mr,C);var R=be(O);R.__focusin=T,R.__focusout=A;var D=V(R),E=V(D);{var I=Q=>{var te=Die();te.__click=[Rie,d,e];var U=V(te);lA(U),pe(()=>Fe(te,\"open\",c(d))),B(Q,te)};oe(E,Q=>{e.relations.length>0&&!u()&&Q(I)})}var P=K(D);Dt(P,17,()=>e.columns,un,(Q,te)=>{var U=Lie(),se=V(U);Iie(se,{get isNewRow(){return u()},get info(){return c(te)},get relationsToOneValues(){return o()},get value(){return c(g)[c(te).valFieldKey]},set value(ce){c(g)[c(te).valFieldKey]=ce},$$events:{change:()=>{var ce,fe;(fe=(ce=c(f))==null?void 0:ce.modelState)!=null&&fe[c(te).valFieldKey]&&S(f,Wt({...c(f),modelState:{...c(f).modelState,[c(te).valFieldKey]:void 0}}))}}});var le=K(se,2);{var W=ce=>{var fe=Nie(),J=V(fe);pe(()=>Ke(J,c(f).modelState[c(te).valFieldKey])),B(ce,fe)};oe(le,ce=>{var fe,J;(J=(fe=c(f))==null?void 0:fe.modelState)!=null&&J[c(te).valFieldKey]&&ce(W)})}pe(()=>Fe(U,\"changeHi\",c(te).type!==\"json\"&&c(g)[c(te).key]!==c(p)[c(te).key])),B(Q,U)});var _=K(P),L=V(_),M=V(L);{var N=Q=>{var te=Bie(),U=V(te);U.__click=w;var se=V(U);IL(se);var le=K(U,2);le.__click=k;var W=V(le);EL(W),B(Q,te)};oe(M,Q=>{x(c(b),u())&&Q(N)})}var F=K(M,2);{var j=Q=>{var te=jie();te.__click=[Fie,s,a];var U=V(te);cA(U,{}),B(Q,te)};oe(F,Q=>{a()&&!x(c(b),u())&&Q(j)})}var Y=K(R,2);{var ie=Q=>{var te=Hie(),U=K(V(te)),se=V(U),le=V(se);Dt(le,21,()=>e.relations,un,(fe,J)=>{var ae=Vie();ae.__click=[zie,d,J];var re=V(ae);pe(($,ne)=>{zr(ae,`${\"tab \"+(c(J)===c(d)?\"active\":\"\")+\" entityColor\"} svelte-17j2tao`),Ee(ae,\"style\",`--color: ${$??\"\"}`),Ke(re,ne)},[()=>{var $;return($=i().tables.find(ne=>ne.key===c(J).entityKey))==null?void 0:$.color},()=>{var $;return($=i().tables.find(ne=>ne.key===c(J).entityKey))==null?void 0:$.caption}]),B(fe,ae)});var W=K(le,2);{var ce=fe=>{TT(fe,{get fields(){return c(m).fields},get relations(){return c(m).relations},get repo(){return c(m).repo},get parentRelation(){return c(v)},get color(){return c(m).color},get defaultOrderBy(){return c(m).defaultOrderBy}})};oe(W,fe=>{c(m)&&typeof c(d)==\"object\"&&fe(ce)})}pe(()=>Ee(U,\"colspan\",e.columns.length+2)),B(Q,te)};oe(Y,Q=>{c(d)&&Q(ie)})}pe(Q=>{zr(R,qr(Q),\"svelte-17j2tao\"),zr(_,`action-tab ${Q??\"\"} svelte-17j2tao`)},[()=>x(c(b),u())?\"change\":\"\"]),B(n,O),Ie(),r()}pa([\"focusin\",\"focusout\",\"click\"]);var Wie=ee('<div class=\"actions svelte-ixlb6t\"><!></div>');function ET(n,e){var t=Wie(),r=V(t);Lk(r,()=>e.children??Gr),B(n,t)}var Uie=(n,e,t)=>e(n,c(t),\"key\"),Kie=ee(\"<option> </option>\"),Jie=(n,e,t)=>e(n,c(t),\"operator\"),Xie=ee(\"<option> </option>\"),Yie=(n,e,t)=>e(n,c(t),\"value\"),Gie=ee('<select class=\"svelte-147r7fx\"><option>False</option><option>True</option></select>'),Qie=(n,e,t)=>e(n,c(t),\"value\"),Zie=ee(\"<option> </option>\"),$ie=ee(\"<option> </option>\"),ese=ee('<select class=\"svelte-147r7fx\"></select>'),tse=(n,e,t)=>e(n,c(t),\"value\"),nse=ee('<input type=\"number\" class=\"svelte-147r7fx\">'),rse=(n,e,t)=>e(n,c(t),\"value\"),ise=ee('<input type=\"text\" class=\"svelte-147r7fx\">'),sse=(n,e,t)=>{S(e,Wt(c(e).filter(r=>r.key!==c(t).key)))},ose=ee('<div class=\"filter__group svelte-147r7fx\"><select class=\"svelte-147r7fx\"></select> <select class=\"svelte-147r7fx\"></select> <!> <button class=\"icon-button svelte-147r7fx\"><!></button></div>'),ase=ee('<button class=\"primary svelte-147r7fx\">Apply</button>'),lse=ee('<div><!> <br> <button class=\"primary svelte-147r7fx\">+</button> <!></div>');function cse(n,e){Pe(e,!0);const t={key:\"\",operator:\"$contains\",value:\"\"},r={string:[[\"$contains\",\"contains\"],[\"\",\"is\"],[\"$ne\",\"is not\"]],number:[[\"\",\"is\"],[\"$ne\",\"is not\"],[\"$lt\",\"<\"],[\"$lte\",\"<=\"],[\"$gte\",\">=\"],[\"$gt\",\">\"]],date:[[\"\",\"is\"],[\"$ne\",\"is not\"],[\"$lt\",\"<\"],[\"$lte\",\"<=\"],[\"$gte\",\">=\"],[\"$gt\",\">\"]],boolean:[[\"\",\"is\"],[\"$ne\",\"is not\"]],json:[[\"$contains\",\"contains\"],[\"\",\"is\"],[\"$ne\",\"is not\"]],list:[[\"\",\"is\"],[\"$ne\",\"is not\"]]};let i=y(e,\"fields\",19,()=>[]),s=y(e,\"filter\",31,()=>Wt({})),o=ss(Wt([]));function a(){var b;S(o,Wt([...c(o),{...t,key:((b=i().find(v=>v.key!=\"id\"&&!c(o).find(w=>w.key==v.key)))==null?void 0:b.key)||\"\"}]))}function l(){let b={};for(const v of c(o))v.operator===\"\"?b[v.key]=v.value:b[v.key]={[v.operator]:v.value};s(b),Pn(),u(),yo.close({success:!0,data:s()})}function u(){let b=[];for(const v in s())if(Object.prototype.hasOwnProperty.call(s(),v)){const w=s()[v];if(typeof w==\"object\"){for(const k in w)if(Object.prototype.hasOwnProperty.call(w,k)){const x=w[k];b.push({key:v,operator:k,value:x})}}else w!=null&&b.push({key:v,operator:\"\",value:w})}S(o,Wt(b)),b.length===0&&a()}const f=(b,v,w)=>{if(v[w]=b.target.value,w===\"key\"){const k=b.target.value,x=c(d)(void 0,k);v.operator=x[0][0];const C=i().find(T=>T.key==k);C.values&&C.values.length>0?v.value=typeof C.values[0]==\"object\"?C.values[0].id:C.values[0]:v.value=\"\"}S(o,Wt(c(o)))};let d=Fn(()=>(b,v)=>{const w=i().find(k=>k.key==v);return w!=null&&w.values&&w.values.length>0||w!=null&&w.relationToOne?r.list:w!=null&&w.type?w.values&&w.values.length>0?r[typeof w.values[0]]:r[w.type]:r.string});cr(()=>{u()});var h=lse(),p=V(h);Dt(p,17,()=>c(o),un,(b,v)=>{var w=ose();const k=Fn(()=>i().find(E=>E.key==c(v).key));var x=V(w);x.__change=[Uie,f,v],Dt(x,21,()=>i().filter(E=>E.key==c(v).key||!c(o).find(I=>I.key==E.key)),un,(E,I)=>{var P=Kie(),_={},L=V(P);pe(()=>{_!==(_=c(I).key)&&(P.value=(P.__value=c(I).key)==null?\"\":c(I).key),y0(P,c(I).key===c(v).key),Ke(L,c(I).caption)}),B(E,P)});var C=K(x,2);C.__change=[Jie,f,v],Dt(C,21,()=>c(d)(c(o),c(v).key)??[],un,(E,I)=>{let P=()=>c(I)[0],_=()=>c(I)[1];var L=Xie(),M={},N=V(L);pe(()=>{M!==(M=P())&&(L.value=(L.__value=P())==null?\"\":P()),y0(L,P()===c(v).operator),Ke(N,_())}),B(E,L)});var T=K(C,2);{var A=E=>{fA(E,{get info(){return c(k)},get value(){return c(v).value},$$events:{change:I=>{f({target:{value:I.detail._data}},c(v),\"value\")}}})},O=E=>{var I=Ue(),P=be(I);{var _=M=>{var N=Gie();w0(N,()=>c(v).value);var F;N.__change=[Yie,f,v];var j=V(N);j.value=(j.__value=!1)==null?\"\":!1;var Y=K(j);Y.value=(Y.__value=!0)==null?\"\":!0,pe(()=>{F!==(F=c(v).value)&&(N.value=(N.__value=c(v).value)==null?\"\":c(v).value,rd(N,c(v).value))}),B(M,N)},L=M=>{var N=Ue(),F=be(N);{var j=ie=>{var Q=ese();w0(Q,()=>c(v).value);var te;Q.__change=[Qie,f,v],Dt(Q,21,()=>c(k).values,un,(U,se)=>{var le=Ue(),W=be(le);{var ce=J=>{var ae=Zie(),re={},$=V(ae);pe(ne=>{re!==(re=ne)&&(ae.value=(ae.__value=ne)==null?\"\":ne),Ke($,c(se).caption)},[()=>String(c(se).id)]),B(J,ae)},fe=J=>{var ae=$ie(),re={},$=V(ae);pe(ne=>{re!==(re=ne)&&(ae.value=(ae.__value=ne)==null?\"\":ne),Ke($,c(se))},[()=>String(c(se))]),B(J,ae)};oe(W,J=>{typeof c(se)==\"object\"?J(ce):J(fe,!1)})}B(U,le)}),pe(()=>{te!==(te=c(v).value)&&(Q.value=(Q.__value=c(v).value)==null?\"\":c(v).value,rd(Q,c(v).value))}),B(ie,Q)},Y=ie=>{var Q=Ue(),te=be(Q);{var U=le=>{var W=nse();W.__change=[tse,f,v],pe(()=>na(W,c(v).value)),B(le,W)},se=le=>{var W=ise();W.__change=[rse,f,v],pe(()=>na(W,c(v).value)),B(le,W)};oe(te,le=>{c(k).type==\"number\"?le(U):le(se,!1)},!0)}B(ie,Q)};oe(F,ie=>{c(k).values&&c(k).values.length>0?ie(j):ie(Y,!1)},!0)}B(M,N)};oe(P,M=>{c(k).type==\"boolean\"?M(_):M(L,!1)},!0)}B(E,I)};oe(T,E=>{c(k).relationToOne?E(A):E(O,!1)})}var R=K(T,2);R.__click=[sse,o,v];var D=V(R);cA(D,{}),B(b,w)});var g=K(p,4);g.__click=a;var m=K(g,2);ET(m,{children:(b,v)=>{var w=ase();w.__click=l,B(b,w)}}),B(n,h),Ie()}pa([\"change\",\"click\"]);var use=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5 8.25 12l7.5-7.5\"></path></svg>');function fse(n){var e=use();Ee(e,\"stroke-width\",1.5),B(n,e)}var dse=Nt('<svg class=\"hamburger-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect y=\"4.68134\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect><rect y=\"10.9847\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect><rect y=\"17.2882\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect></svg>');function hse(n){var e=dse();B(n,e)}var pse=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"gray\" d=\"M18.2 13.3L12 7l-6.2 6.3c-.2.2-.3.5-.3.7s.1.5.3.7s.4.3.7.3h11c.3 0 .5-.1.7-.3s.3-.5.3-.7s-.1-.5-.3-.7\"></path></svg>');function gse(n){var e=pse();B(n,e)}var mse=Nt('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"gray\" d=\"M5.8 9.7L12 16l6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7s-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3s-.3.4-.3.7s.1.5.3.7\"></path></svg>');function vse(n){var e=mse();B(n,e)}var yse=()=>{const n=document.querySelector(\"body\");n==null||n.classList.toggle(\"hide-navigation\")},bse=ee('<span style=\"color: coral; font-size: smaller;\">Forbidden</span>'),wse=(n,e,t,r,i)=>e(t.fields,r()),xse=(n,e)=>{S(e,Wt({...c(e),page:(c(e).page||2)-1}))},Cse=(n,e)=>{S(e,Wt({...c(e),page:(c(e).page||1)+1}))},Sse=(n,e,t,r)=>{S(e,Wt(t.repo.create({...r()})))},_se=ee('<button class=\"icon-button new-entry svelte-1iqvyv3\">+</button>'),kse=(n,e)=>{S(e,void 0)},Ase=ee('<button class=\"icon-button new-entry svelte-1iqvyv3\">-</button>'),Ose=(n,e,t)=>e(c(t).key),Ese=ee(\"<span></span>\"),Tse=ee('<span class=\"w-20 svelte-1iqvyv3\"></span>'),Mse=ee('<th class=\"svelte-1iqvyv3\"><span class=\"th-span svelte-1iqvyv3\"><!> <span class=\"flexItemCenter svelte-1iqvyv3\"> <!></span> <!></span></th>'),Pse=(n,e,t)=>e(c(t).key),Ise=ee('<td class=\"loading-skeleton svelte-1iqvyv3\"><!></td>'),Rse=ee(\"<tr><td></td><!></tr>\"),Dse=ee('<div class=\"page-bar\"><button class=\"icon-button svelte-1iqvyv3\"><!></button> <div class=\"page-bar__title title svelte-1iqvyv3\"> <!></div> <button class=\"svelte-1iqvyv3\">Filter</button> <span class=\"page-bar__results\"> <b style=\"font-weight: 600;\"> </b></span> <button class=\"icon-button svelte-1iqvyv3\"><!></button> <button class=\"icon-button svelte-1iqvyv3\"><!></button></div> <div class=\"table-container\"><table><thead><tr><td><!></td><!><th class=\"action-tab svelte-1iqvyv3\">Actions</th></tr></thead><tbody><!><!></tbody></table></div>',1);function TT(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(Ka,\"$SSContext\",t),s=()=>Ae(d,\"$filter\",t),o=()=>Ae(ga,\"$godStore\",t),a=()=>Ae(Sr,\"$LSContext\",t);let l=y(e,\"parentRelation\",19,()=>({})),u=y(e,\"defaultNumberOfRows\",3,25),f=ss(void 0);ts(()=>{S(f,Wt(e.repo.metadata.key&&{limit:25,page:1,orderBy:e.defaultOrderBy}))});let d=ht({}),h=ss(null),p=ss(Wt({}));ts(()=>{i().forbiddenEntities.includes(e.repo.metadata.key)&&S(h,Wt([]))}),ts(()=>{S(h,Wt(e.fields&&S(h,null)))}),ts(()=>{S(p,Wt(e.fields&&S(p,Wt({}))))}),ts(()=>{Rs(d,Wt(e.fields&&Rs(d,Wt({}))))});let g=ss(-1),m=null;const b=Ce=>{qi(Ka,Ft(i).forbiddenEntities=[],Ft(i)),m&&m();const ye={$and:[Ce,{...l()}]};m=e.repo.liveQuery({...c(f),where:ye}).subscribe(async Re=>{let je=c(h),$e=!1;if(c(h)!==null&&Re.changes.forEach(Ve=>{Ve.type===\"add\"&&($e=!0,je=[Ve.data.item,...c(h)])}),$e||(je=Re.applyChanges(c(h))),je&&je.length>0){const Ve=e.fields.filter(we=>we.relationToOne).map(we=>o().displayValueForEach(we,je));(await Promise.all(Ve)).forEach(we=>{S(p,Wt({...c(p),...we}))})}S(h,Wt(je)),S(g,Wt(await e.repo.count(ye)))})};Hr(()=>{m&&m()}),ts(()=>{e.repo&&c(f)&&b(s())});let v=Fn(()=>((c(f).page||1)-1)*c(f).limit+1),w=Fn(()=>{var Ce;return((c(f).page||1)-1)*c(f).limit+(((Ce=c(h))==null?void 0:Ce.length)||0)}),k=ss(void 0);ts(()=>{S(k,Wt(c(h)&&void 0))});const x=Ce=>{var Re;let ye=(Re=c(f).orderBy)==null?void 0:Re[Ce];ye===void 0?ye=\"asc\":ye===\"asc\"?ye=\"desc\":ye=void 0,S(f,Wt({...c(f),orderBy:{[Ce]:ye}}))},C=()=>{const Ce=Math.random();return Ce>.6?120:Ce>.3?100:70},T=async(Ce,ye)=>{const Re=await yo.show({config:{title:\"Filter\",width:\"600px\"},component:cse,props:{fields:Ce,filter:ye}});Re.success&&Rs(d,Wt(Re.data))};var A=Dse(),O=be(A),R=V(O);R.__click=[yse];var D=V(R);hse(D);var E=K(R,2),I=V(E),P=K(I);{var _=Ce=>{var ye=bse();B(Ce,ye)};oe(P,Ce=>{i().forbiddenEntities.includes(e.repo.metadata.key)&&Ce(_)})}var L=K(E,2);L.__click=[wse,T,e,s,d];var M=K(L,2),N=V(M),F=K(N),j=V(F),Y=K(M,2);Y.__click=[xse,f];var ie=V(Y);fse(ie);var Q=K(Y,2);Q.__click=[Cse,f];var te=V(Q);lA(te);var U=K(O,2),se=V(U),le=V(se),W=V(le),ce=V(W),fe=V(ce);{var J=Ce=>{var ye=_se();ye.__click=[Sse,k,e,l],B(Ce,ye)},ae=Ce=>{var ye=Ase();ye.__click=[kse,k],B(Ce,ye)};oe(fe,Ce=>{c(k)===void 0?Ce(J):Ce(ae,!1)})}var re=K(ce);Dt(re,17,()=>e.fields,un,(Ce,ye)=>{var Re=Mse();Re.__click=[Ose,x,ye];var je=V(Re),$e=V(je);{var Ve=Se=>{aA(Se)},ot=Se=>{var ue=Ese();B(Se,ue)};oe($e,Se=>{Object.keys(e.repo.metadata.options.id).includes(c(ye).key)?Se(Ve):Se(ot,!1)})}var we=K($e,2),He=V(we),nt=K(He);{var Xe=Se=>{gse(Se)},Je=Se=>{var ue=Ue(),vt=be(ue);{var bt=at=>{vse(at)},Xn=at=>{var _t=Tse();B(at,_t)};oe(vt,at=>{var _t;((_t=c(f).orderBy)==null?void 0:_t[c(ye).key])===\"desc\"?at(bt):at(Xn,!1)},!0)}B(Se,ue)};oe(nt,Se=>{var ue;((ue=c(f).orderBy)==null?void 0:ue[c(ye).key])===\"asc\"?Se(Xe):Se(Je,!1)})}var Ye=K(we,2);const Me=Fn(()=>c(ye).values&&c(ye).values.length>0);oA(Ye,{get type(){return c(ye).type},get isSelect(){return c(Me)}}),pe(()=>Ke(He,`${(a().settings.dispayCaption?c(ye).caption:c(ye).key)??\"\"} `)),B(Ce,Re)});var $=K(le),ne=V($);{var G=Ce=>{R_(Ce,{isNewRow:!0,rowId:void 0,get row(){return c(k)},get relationsToOneValues(){return c(p)},get columns(){return e.fields},get relations(){return e.relations},saveAction:async ye=>{await e.repo.insert(ye),S(k,void 0)},deleteAction:async()=>{S(k,void 0)},cancelAction:async()=>{S(k,void 0)}})};oe(ne,Ce=>{c(k)&&Ce(G)})}var De=K(ne);{var Be=Ce=>{var ye=Ue(),Re=be(ye);Dt(Re,19,()=>c(h),je=>e.repo.metadata.idMetadata.getId(je),(je,$e)=>{const Ve=Fn(()=>e.repo.metadata.idMetadata.getId(c($e)));R_(je,{get rowId(){return c(Ve)},get row(){return c($e)},get relationsToOneValues(){return c(p)},saveAction:async ot=>{await e.repo.update(c($e),ot)},deleteAction:()=>e.repo.delete(c($e)),get columns(){return e.fields},get relations(){return e.relations}})}),B(Ce,ye)},Le=Ce=>{var ye=Ue(),Re=be(ye);Dt(Re,17,()=>Array.from({length:u()}).map((je,$e)=>$e),un,(je,$e)=>{var Ve=Rse(),ot=K(V(Ve));Dt(ot,17,()=>e.fields,un,(we,He)=>{var nt=Ise();nt.__click=[Pse,x,He];var Xe=V(nt);const Je=Fn(C);uA(Xe,{get width(){return c(Je)}}),B(we,nt)}),B(je,Ve)}),B(Ce,ye)};oe(De,Ce=>{c(h)?Ce(Be):Ce(Le,!1)})}pe(()=>{Ee(E,\"style\",`--color: ${e.color??\"\"}`),Ke(I,`${(a().settings.dispayCaption?e.repo.metadata.caption:e.repo.metadata.key)??\"\"} `),Ke(N,`${c(v)+\" - \"+c(w)} of `),Ke(j,c(g)),Y.disabled=(c(f).page||1)===1,Q.disabled=c(w)>=c(g)}),B(n,A),Ie(),r()}pa([\"click\"]);function Nse(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(ga,\"$godStore\",t);let s=y(e,\"params\",19,()=>({})),o=Fn(()=>i()&&i().tables.find(f=>f.key===s().wild));var a=Ue(),l=be(a);{var u=f=>{TT(f,{get fields(){return c(o).fields},get repo(){return c(o).repo},get relations(){return c(o).relations},get color(){return c(o).color},get defaultOrderBy(){return c(o).defaultOrderBy}})};oe(l,f=>{c(o)&&f(u)})}B(n,a),Ie(),r()}const rg=[];let MT;function PT(n){const e=n.pattern.test(MT);D_(n,n.className,e),D_(n,n.inactiveClassName,!e)}function D_(n,e,t){(e||\"\").split(\" \").forEach(r=>{r&&(n.node.classList.remove(r),t&&n.node.classList.add(r))})}Kd.subscribe(n=>{MT=n.location+(n.querystring?\"?\"+n.querystring:\"\"),rg.map(PT)});function Tc(n,e){if(e&&(typeof e==\"string\"||typeof e==\"object\"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute(\"href\")&&(e.path=n.getAttribute(\"href\"),e.path&&e.path.length>1&&e.path.charAt(0)==\"#\"&&(e.path=e.path.substring(1))),e.className||(e.className=\"active\"),!e.path||typeof e.path==\"string\"&&(e.path.length<1||e.path.charAt(0)!=\"/\"&&e.path.charAt(0)!=\"*\"))throw Error('Invalid value for \"path\" argument');const{pattern:t}=typeof e.path==\"string\"?Hk(e.path):{pattern:e.path},r={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return rg.push(r),PT(r),{destroy(){rg.splice(rg.indexOf(r),1)}}}function Lse(n,e){var a;Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(Sr,\"$LSContext\",t),s=()=>Ae(ga,\"$godStore\",t);i().currentLocationHash===\"/\"?ox(((a=s())==null?void 0:a.tables.length)>0?`/entity/${s().tables[0].key}`:\"/diagram\"):ox(i().currentLocationHash),Ne();var o=Ar(\"Loading...\");B(n,o),Ie(),r()}function vb(n){return Object.keys(n).reduce((e,t)=>n[t]===void 0?e:e+`${t}:${n[t]};`,\"\")}vb({position:\"absolute\",opacity:0,\"pointer-events\":\"none\",margin:0,transform:\"translateX(-100%)\"});function Bse(n){if(n!==null)return\"\"}function IT(n,...e){const t={};for(const r of Object.keys(n))e.includes(r)||(t[r]=n[r]);return t}function Cp(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=r)}return e}function N_(n){function e(t){return t(n),()=>{}}return{subscribe:e}}const Sp=n=>new Proxy(n,{get(e,t,r){return Reflect.get(e,t,r)},ownKeys(e){return Reflect.ownKeys(e).filter(t=>t!==\"action\")}}),L_=n=>typeof n==\"function\";ka(\"empty\");function ka(n,e){const{stores:t,action:r,returned:i}=e??{},s=(()=>{if(t&&i)return Is(t,a=>{const l=i(a);if(L_(l)){const u=(...f)=>Sp(Cp({...l(...f),[`data-melt-${n}`]:\"\",action:r??ar}));return u.action=r??ar,u}return Sp(Cp({...l,[`data-melt-${n}`]:\"\",action:r??ar}))});{const a=i,l=a==null?void 0:a();if(L_(l)){const u=(...f)=>Sp(Cp({...l(...f),[`data-melt-${n}`]:\"\",action:r??ar}));return u.action=r??ar,N_(u)}return N_(Sp(Cp({...l,[`data-melt-${n}`]:\"\",action:r??ar})))}})(),o=r??(()=>{});return o.subscribe=s.subscribe,o}function Fse(n){const e=s=>s?`${n}-${s}`:n,t=s=>`data-melt-${n}${s?`-${s}`:\"\"}`,r=s=>`[data-melt-${n}${s?`-${s}`:\"\"}]`;return{name:e,attribute:t,selector:r,getEl:s=>document.querySelector(r(s))}}const B_=typeof document<\"u\",RT=n=>typeof n==\"function\";function jse(n){return n instanceof ShadowRoot}function I2(n){return n instanceof Element}function ha(n){return n instanceof HTMLElement}function zse(n){return n!==null&&typeof n==\"object\"}function Vse(n){return zse(n)&&\"subscribe\"in n}function wm(...n){return(...e)=>{for(const t of n)typeof t==\"function\"&&t(...e)}}function ar(){}function yb(n,e,t,r){const i=Array.isArray(e)?e:[e];return i.forEach(s=>n.addEventListener(s,t,r)),()=>{i.forEach(s=>n.removeEventListener(s,t,r))}}function _p(n,e,t,r){const i=Array.isArray(e)?e:[e];if(typeof t==\"function\"){const s=qse(o=>t(o));return i.forEach(o=>n.addEventListener(o,s,r)),()=>{i.forEach(o=>n.removeEventListener(o,s,r))}}return()=>void 0}function Hse(n){const e=n.currentTarget;if(!ha(e))return null;const t=new CustomEvent(`m-${n.type}`,{detail:{originalEvent:n},cancelable:!0});return e.dispatchEvent(t),t}function qse(n){return e=>{const t=Hse(e);if(!(t!=null&&t.defaultPrevented))return n(e)}}const Wse=n=>{try{Hr(n)}catch{return n}};function $u(n){return{...n,get:()=>Ze(n)}}$u.writable=function(n){const e=ht(n);let t=n;return{subscribe:e.subscribe,set(r){e.set(r),t=r},update(r){const i=r(t);e.set(i),t=i},get(){return t}}};$u.derived=function(n,e){const t=new Map,r=()=>{const s=Array.isArray(n)?n.map(o=>o.get()):n.get();return e(s)};return{get:r,subscribe:s=>{const o=[];return(Array.isArray(n)?n:[n]).forEach(l=>{o.push(l.subscribe(()=>{s(r())}))}),s(r()),t.set(s,o),()=>{const l=t.get(s);if(l)for(const u of l)u();t.delete(s)}}}};const Use=(n,e)=>{const t=$u(n),r=(s,o)=>{t.update(a=>{const l=s(a);let u=l;return e&&(u=e({curr:a,next:l})),o==null||o(u),u})};return{...t,update:r,set:s=>{r(()=>s)}}};function Kse(n){return new Promise(e=>setTimeout(e,n))}let Jse=\"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\",Xse=(n=21)=>{let e=\"\",t=n|0;for(;t--;)e+=Jse[Math.random()*64|0];return e};function Yse(){return Xse(10)}function Gse(n){return n.reduce((e,t)=>(e[t]=Yse(),e),{})}const Bf={ENTER:\"Enter\",ESCAPE:\"Escape\",SPACE:\" \"};function i0(n,e=500){let t;const r=(...i)=>{clearTimeout(t),t=setTimeout(()=>n(...i),e)};return r.destroy=()=>clearTimeout(t),r}const DT=()=>typeof window<\"u\";function Qse(){const n=navigator.userAgentData;return(n==null?void 0:n.platform)??navigator.platform}const NT=n=>DT()&&n.test(Qse().toLowerCase()),Zse=()=>DT()&&!!navigator.maxTouchPoints,$se=()=>NT(/^mac/)&&!Zse(),eoe=()=>NT(/mac|iphone|ipad|ipod/i),toe=()=>eoe()&&!$se(),s0=\"data-melt-scroll-lock\";function F_(n,e){if(!n)return;const t=n.style.cssText;return Object.assign(n.style,e),()=>{n.style.cssText=t}}function noe(n,e,t){if(!n)return;const r=n.style.getPropertyValue(e);return n.style.setProperty(e,t),()=>{r?n.style.setProperty(e,r):n.style.removeProperty(e)}}function roe(n){const e=n.getBoundingClientRect().left;return Math.round(e)+n.scrollLeft?\"paddingLeft\":\"paddingRight\"}function ioe(n){const e=document,t=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(s0))return ar;i.setAttribute(s0,\"\");const o=t.innerWidth-r.clientWidth,a=()=>noe(r,\"--scrollbar-width\",`${o}px`),l=roe(r),u=t.getComputedStyle(i)[l],f=()=>F_(i,{overflow:\"hidden\",[l]:`calc(${u} + ${o}px)`}),d=()=>{const{scrollX:p,scrollY:g,visualViewport:m}=t,b=(m==null?void 0:m.offsetLeft)??0,v=(m==null?void 0:m.offsetTop)??0,w=F_(i,{position:\"fixed\",overflow:\"hidden\",top:`${-(g-Math.floor(v))}px`,left:`${-(p-Math.floor(b))}px`,right:\"0\",[l]:`calc(${u} + ${o}px)`});return()=>{w==null||w(),t.scrollTo(p,g)}},h=[a(),toe()?d():f()];return()=>{h.forEach(p=>p==null?void 0:p()),i.removeAttribute(s0)}}function Ff(n,e,t={}){const{skipFirstRun:r}=t;let i=!0,s;const o=Is(n,l=>{s==null||s(),i&&r?i=!1:s=e(l)}).subscribe(ar),a=()=>{o(),s==null||s()};return Wse(a),a}function j_(n){const e={};return Object.keys(n).forEach(t=>{const r=t,i=n[r];e[r]=$u(ht(i))}),e}function soe(n){let e=n.parentElement;for(;ha(e)&&!e.hasAttribute(\"data-portal\");)e=e.parentElement;return e||\"body\"}function ooe(n,e){return e!==void 0?e:soe(n)===\"body\"?document.body:null}function LT(n,e){return n===e||n.contains(e)}function aoe(n){return(n==null?void 0:n.ownerDocument)??document}async function z_(n){const{prop:e,defaultEl:t}=n;if(await Promise.all([Kse(1),Pn]),e===void 0){t==null||t.focus();return}const r=RT(e)?e(t):e;if(typeof r==\"string\"){const i=document.querySelector(r);if(!ha(i))return;i.focus()}else ha(r)&&r.focus()}Br(!1),Br(!1),Br(void 0),Br(void 0);const ig=new Map,loe=(n,e={})=>{let t=ar;function r(i={}){t();const s={behaviorType:\"close\",...i},o=Vse(s.behaviorType)?s.behaviorType:$u(Br(s.behaviorType));ig.set(n,o),t=wm(yb(document,\"keydown\",l=>{var f;if(l.key!==Bf.ESCAPE||!coe(n))return;const u=l.target;ha(u)&&(l.preventDefault(),!uoe(l,s.ignore)&&foe(o.get())&&((f=s.handler)==null||f.call(s,l)))},{passive:!1}),Ff(o,l=>{l===\"close\"||l===\"defer-otherwise-close\"&&[...ig.keys()][0]===n?n.dataset.escapee=\"\":delete n.dataset.escapee}),o.destroy||ar)}return r(e),{update:r,destroy(){ig.delete(n),delete n.dataset.escapee,t()}}},coe=n=>{const e=[...ig],t=e.findLast(([i,s])=>{const o=s.get();return o===\"close\"||o===\"ignore\"});if(t)return t[0]===n;const[r]=e[0];return r===n},uoe=(n,e)=>e?!!(RT(e)&&e(n)||Array.isArray(e)&&e.some(t=>n.target===t)):!1,foe=n=>n===\"close\"||n===\"defer-otherwise-close\";/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/var BT=[\"input:not([inert])\",\"select:not([inert])\",\"textarea:not([inert])\",\"a[href]:not([inert])\",\"button:not([inert])\",\"[tabindex]:not(slot):not([inert])\",\"audio[controls]:not([inert])\",\"video[controls]:not([inert])\",'[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\"details>summary:first-of-type:not([inert])\",\"details:not([inert])\"],xm=BT.join(\",\"),FT=typeof Element>\"u\",ic=FT?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Cm=!FT&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Sm=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,\"inert\"),s=i===\"\"||i===\"true\",o=s||t&&e&&n(e.parentNode);return o},doe=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,\"contenteditable\");return r===\"\"||r===\"true\"},jT=function(e,t,r){if(Sm(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(xm));return t&&ic.call(e,xm)&&i.unshift(e),i=i.filter(r),i},zT=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Sm(o,!1))if(o.tagName===\"SLOT\"){var a=o.assignedElements(),l=a.length?a:o.children,u=n(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var f=ic.call(o,xm);f&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var d=o.shadowRoot||typeof r.getShadowRoot==\"function\"&&r.getShadowRoot(o),h=!Sm(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(d&&h){var p=n(d===!0?o.children:d.children,!0,r);r.flatten?i.push.apply(i,p):i.push({scopeParent:o,candidates:p})}else s.unshift.apply(s,o.children)}}return i},VT=function(e){return!isNaN(parseInt(e.getAttribute(\"tabindex\"),10))},Al=function(e){if(!e)throw new Error(\"No node provided\");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||doe(e))&&!VT(e)?0:e.tabIndex},hoe=function(e,t){var r=Al(e);return r<0&&t&&!VT(e)?0:r},poe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},HT=function(e){return e.tagName===\"INPUT\"},goe=function(e){return HT(e)&&e.type===\"hidden\"},moe=function(e){var t=e.tagName===\"DETAILS\"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName===\"SUMMARY\"});return t},voe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},yoe=function(e){if(!e.name)return!0;var t=e.form||Cm(e),r=function(a){return t.querySelectorAll('input[type=\"radio\"][name=\"'+a+'\"]')},i;if(typeof window<\"u\"&&typeof window.CSS<\"u\"&&typeof window.CSS.escape==\"function\")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\",o.message),!1}var s=voe(i,e.form);return!s||s===e},boe=function(e){return HT(e)&&e.type===\"radio\"},woe=function(e){return boe(e)&&!yoe(e)},xoe=function(e){var t,r=e&&Cm(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var u,f,d;r=Cm(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((f=i)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return s},V_=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Coe=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility===\"hidden\")return!0;var s=ic.call(e,\"details>summary:first-of-type\"),o=s?e.parentElement:e;if(ic.call(o,\"details:not([open]) *\"))return!0;if(!r||r===\"full\"||r===\"legacy-full\"){if(typeof i==\"function\"){for(var a=e;e;){var l=e.parentElement,u=Cm(e);if(l&&!l.shadowRoot&&i(l)===!0)return V_(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(xoe(e))return!e.getClientRects().length;if(r!==\"legacy-full\")return!0}else if(r===\"non-zero-area\")return V_(e);return!1},Soe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName===\"FIELDSET\"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName===\"LEGEND\")return ic.call(t,\"fieldset[disabled] *\")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},_m=function(e,t){return!(t.disabled||Sm(t)||goe(t)||Coe(t,e)||moe(t)||Soe(t))},bb=function(e,t){return!(woe(t)||Al(t)<0||!_m(e,t))},_oe=function(e){var t=parseInt(e.getAttribute(\"tabindex\"),10);return!!(isNaN(t)||t>=0)},koe=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=hoe(a,o),u=o?n(i.candidates):a;l===0?o?t.push.apply(t,u):t.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),r.sort(poe).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},Aoe=function(e,t){t=t||{};var r;return t.getShadowRoot?r=zT([e],t.includeContainer,{filter:bb.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:_oe}):r=jT(e,t.includeContainer,bb.bind(null,t)),koe(r)},Ooe=function(e,t){t=t||{};var r;return t.getShadowRoot?r=zT([e],t.includeContainer,{filter:_m.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=jT(e,t.includeContainer,_m.bind(null,t)),r},Mc=function(e,t){if(t=t||{},!e)throw new Error(\"No node provided\");return ic.call(e,xm)===!1?!1:bb(t,e)},Eoe=BT.concat(\"iframe\").join(\",\"),o0=function(e,t){if(t=t||{},!e)throw new Error(\"No node provided\");return ic.call(e,Eoe)===!1?!1:_m(t,e)};/*!\n* focus-trap 7.6.4\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/function wb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Toe(n){if(Array.isArray(n))return wb(n)}function Moe(n,e,t){return(e=Noe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Poe(n){if(typeof Symbol<\"u\"&&n[Symbol.iterator]!=null||n[\"@@iterator\"]!=null)return Array.from(n)}function Ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function q_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(r){Moe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Roe(n){return Toe(n)||Poe(n)||Loe(n)||Ioe()}function Doe(n,e){if(typeof n!=\"object\"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!=\"object\")return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(e===\"string\"?String:Number)(n)}function Noe(n){var e=Doe(n,\"string\");return typeof e==\"symbol\"?e:e+\"\"}function Loe(n,e){if(n){if(typeof n==\"string\")return wb(n,e);var t={}.toString.call(n).slice(8,-1);return t===\"Object\"&&n.constructor&&(t=n.constructor.name),t===\"Map\"||t===\"Set\"?Array.from(n):t===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wb(n,e):void 0}}var W_={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Boe=function(e){return e.tagName&&e.tagName.toLowerCase()===\"input\"&&typeof e.select==\"function\"},Foe=function(e){return(e==null?void 0:e.key)===\"Escape\"||(e==null?void 0:e.key)===\"Esc\"||(e==null?void 0:e.keyCode)===27},Qf=function(e){return(e==null?void 0:e.key)===\"Tab\"||(e==null?void 0:e.keyCode)===9},joe=function(e){return Qf(e)&&!e.shiftKey},zoe=function(e){return Qf(e)&&e.shiftKey},U_=function(e){return setTimeout(e,0)},Sf=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e==\"function\"?e.apply(void 0,r):e},kp=function(e){return e.target.shadowRoot&&typeof e.composedPath==\"function\"?e.composedPath()[0]:e.target},Voe=[],Hoe=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||Voe,s=q_({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:joe,isKeyBackward:zoe},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(P,_,L){return P&&P[_]!==void 0?P[_]:s[L||_]},u=function(P,_){var L=typeof(_==null?void 0:_.composedPath)==\"function\"?_.composedPath():void 0;return o.containerGroups.findIndex(function(M){var N=M.container,F=M.tabbableNodes;return N.contains(P)||(L==null?void 0:L.includes(N))||F.find(function(j){return j===P})})},f=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=_.hasFallback,M=L===void 0?!1:L,N=_.params,F=N===void 0?[]:N,j=s[P];if(typeof j==\"function\"&&(j=j.apply(void 0,Roe(F))),j===!0&&(j=void 0),!j){if(j===void 0||j===!1)return j;throw new Error(\"`\".concat(P,\"` was specified but was not a node, or did not return a node\"))}var Y=j;if(typeof j==\"string\"){try{Y=r.querySelector(j)}catch(ie){throw new Error(\"`\".concat(P,'` appears to be an invalid selector; error=\"').concat(ie.message,'\"'))}if(!Y&&!M)throw new Error(\"`\".concat(P,\"` as selector refers to no known node\"))}return Y},d=function(){var P=f(\"initialFocus\",{hasFallback:!0});if(P===!1)return!1;if(P===void 0||P&&!o0(P,s.tabbableOptions))if(u(r.activeElement)>=0)P=r.activeElement;else{var _=o.tabbableGroups[0],L=_&&_.firstTabbableNode;P=L||f(\"fallbackFocus\")}else P===null&&(P=f(\"fallbackFocus\"));if(!P)throw new Error(\"Your focus-trap needs to have at least one focusable element\");return P},h=function(){if(o.containerGroups=o.containers.map(function(P){var _=Aoe(P,s.tabbableOptions),L=Ooe(P,s.tabbableOptions),M=_.length>0?_[0]:void 0,N=_.length>0?_[_.length-1]:void 0,F=L.find(function(ie){return Mc(ie)}),j=L.slice().reverse().find(function(ie){return Mc(ie)}),Y=!!_.find(function(ie){return Al(ie)>0});return{container:P,tabbableNodes:_,focusableNodes:L,posTabIndexesFound:Y,firstTabbableNode:M,lastTabbableNode:N,firstDomTabbableNode:F,lastDomTabbableNode:j,nextTabbableNode:function(Q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=_.indexOf(Q);return U<0?te?L.slice(L.indexOf(Q)+1).find(function(se){return Mc(se)}):L.slice(0,L.indexOf(Q)).reverse().find(function(se){return Mc(se)}):_[U+(te?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(P){return P.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f(\"fallbackFocus\"))throw new Error(\"Your focus-trap must have at least one container with at least one tabbable node in it at all times\");if(o.containerGroups.find(function(P){return P.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error(\"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\")},p=function(P){var _=P.activeElement;if(_)return _.shadowRoot&&_.shadowRoot.activeElement!==null?p(_.shadowRoot):_},g=function(P){if(P!==!1&&P!==p(document)){if(!P||!P.focus){g(d());return}P.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=P,Boe(P)&&P.select()}},m=function(P){var _=f(\"setReturnFocus\",{params:[P]});return _||(_===!1?!1:P)},b=function(P){var _=P.target,L=P.event,M=P.isBackward,N=M===void 0?!1:M;_=_||kp(L),h();var F=null;if(o.tabbableGroups.length>0){var j=u(_,L),Y=j>=0?o.containerGroups[j]:void 0;if(j<0)N?F=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:F=o.tabbableGroups[0].firstTabbableNode;else if(N){var ie=o.tabbableGroups.findIndex(function(W){var ce=W.firstTabbableNode;return _===ce});if(ie<0&&(Y.container===_||o0(_,s.tabbableOptions)&&!Mc(_,s.tabbableOptions)&&!Y.nextTabbableNode(_,!1))&&(ie=j),ie>=0){var Q=ie===0?o.tabbableGroups.length-1:ie-1,te=o.tabbableGroups[Q];F=Al(_)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Qf(L)||(F=Y.nextTabbableNode(_,!1))}else{var U=o.tabbableGroups.findIndex(function(W){var ce=W.lastTabbableNode;return _===ce});if(U<0&&(Y.container===_||o0(_,s.tabbableOptions)&&!Mc(_,s.tabbableOptions)&&!Y.nextTabbableNode(_))&&(U=j),U>=0){var se=U===o.tabbableGroups.length-1?0:U+1,le=o.tabbableGroups[se];F=Al(_)>=0?le.firstTabbableNode:le.firstDomTabbableNode}else Qf(L)||(F=Y.nextTabbableNode(_))}}else F=f(\"fallbackFocus\");return F},v=function(P){var _=kp(P);if(!(u(_,P)>=0)){if(Sf(s.clickOutsideDeactivates,P)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Sf(s.allowOutsideClick,P)||P.preventDefault()}},w=function(P){var _=kp(P),L=u(_,P)>=0;if(L||_ instanceof Document)L&&(o.mostRecentlyFocusedNode=_);else{P.stopImmediatePropagation();var M,N=!0;if(o.mostRecentlyFocusedNode)if(Al(o.mostRecentlyFocusedNode)>0){var F=u(o.mostRecentlyFocusedNode),j=o.containerGroups[F].tabbableNodes;if(j.length>0){var Y=j.findIndex(function(ie){return ie===o.mostRecentlyFocusedNode});Y>=0&&(s.isKeyForward(o.recentNavEvent)?Y+1<j.length&&(M=j[Y+1],N=!1):Y-1>=0&&(M=j[Y-1],N=!1))}}else o.containerGroups.some(function(ie){return ie.tabbableNodes.some(function(Q){return Al(Q)>0})})||(N=!1);else N=!1;N&&(M=b({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),g(M||o.mostRecentlyFocusedNode||d())}o.recentNavEvent=void 0},k=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=P;var L=b({event:P,isBackward:_});L&&(Qf(P)&&P.preventDefault(),g(L))},x=function(P){(s.isKeyForward(P)||s.isKeyBackward(P))&&k(P,s.isKeyBackward(P))},C=function(P){Foe(P)&&Sf(s.escapeDeactivates,P)!==!1&&(P.preventDefault(),a.deactivate())},T=function(P){var _=kp(P);u(_,P)>=0||Sf(s.clickOutsideDeactivates,P)||Sf(s.allowOutsideClick,P)||(P.preventDefault(),P.stopImmediatePropagation())},A=function(){if(o.active)return W_.activateTrap(i,a),o.delayInitialFocusTimer=s.delayInitialFocus?U_(function(){g(d())}):g(d()),r.addEventListener(\"focusin\",w,!0),r.addEventListener(\"mousedown\",v,{capture:!0,passive:!1}),r.addEventListener(\"touchstart\",v,{capture:!0,passive:!1}),r.addEventListener(\"click\",T,{capture:!0,passive:!1}),r.addEventListener(\"keydown\",x,{capture:!0,passive:!1}),r.addEventListener(\"keydown\",C),a},O=function(){if(o.active)return r.removeEventListener(\"focusin\",w,!0),r.removeEventListener(\"mousedown\",v,!0),r.removeEventListener(\"touchstart\",v,!0),r.removeEventListener(\"click\",T,!0),r.removeEventListener(\"keydown\",x,!0),r.removeEventListener(\"keydown\",C),a},R=function(P){var _=P.some(function(L){var M=Array.from(L.removedNodes);return M.some(function(N){return N===o.mostRecentlyFocusedNode})});_&&g(d())},D=typeof window<\"u\"&&\"MutationObserver\"in window?new MutationObserver(R):void 0,E=function(){D&&(D.disconnect(),o.active&&!o.paused&&o.containers.map(function(P){D.observe(P,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(P){if(o.active)return this;var _=l(P,\"onActivate\"),L=l(P,\"onPostActivate\"),M=l(P,\"checkCanFocusTrap\");M||h(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,_==null||_();var N=function(){M&&h(),A(),E(),L==null||L()};return M?(M(o.containers.concat()).then(N,N),this):(N(),this)},deactivate:function(P){if(!o.active)return this;var _=q_({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},P);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,O(),o.active=!1,o.paused=!1,E(),W_.deactivateTrap(i,a);var L=l(_,\"onDeactivate\"),M=l(_,\"onPostDeactivate\"),N=l(_,\"checkCanReturnFocus\"),F=l(_,\"returnFocus\",\"returnFocusOnDeactivate\");L==null||L();var j=function(){U_(function(){F&&g(m(o.nodeFocusedBeforeActivation)),M==null||M()})};return F&&N?(N(m(o.nodeFocusedBeforeActivation)).then(j,j),this):(j(),this)},pause:function(P){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,P)):this},unpause:function(P){return o.active?(o.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,P)):this},updateContainerElements:function(P){var _=[].concat(P).filter(Boolean);return o.containers=_.map(function(L){return typeof L==\"string\"?r.querySelector(L):L}),o.active&&h(),E(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(P,_){if(o.paused===P)return this;if(o.paused=P,P){var L=l(_,\"onPause\"),M=l(_,\"onPostPause\");L==null||L(),O(),E(),M==null||M()}else{var N=l(_,\"onUnpause\"),F=l(_,\"onPostUnpause\");N==null||N(),h(),A(),E(),F==null||F()}return this}}}),a.updateContainerElements(e),a};const qoe=(n,e={})=>{let t=ar;const r=i=>{t();const s=Hoe(n,{returnFocusOnDeactivate:!1,allowOutsideClick:!0,escapeDeactivates:!1,clickOutsideDeactivates:!1,...i});t=s.deactivate,s.activate()};return r(e),{destroy:t,update:r}},Woe=(n,e)=>{let t=ar;function r(i){t();const{onClose:s,shouldCloseOnInteractOutside:o,closeOnInteractOutside:a}=i;function l(){s==null||s()}function u(d){const h=d.target;I2(h)&&d.stopImmediatePropagation()}function f(d){o!=null&&o(d)&&(d.stopImmediatePropagation(),l())}t=Koe(n,{onInteractOutsideStart:u,onInteractOutside:a?f:void 0,enabled:a}).destroy}return r(e),{update:r,destroy(){t()}}},Uoe=(n,e=\"body\")=>{let t;if(!ha(e)&&typeof e!=\"string\")return{destroy:ar};async function r(s=\"body\"){if(e=s,typeof e==\"string\"){if(t=document.querySelector(e),t===null&&(await Pn(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: \"${e}\"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?\"null\":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);n.dataset.portal=\"\",t.appendChild(n),n.hidden=!1}function i(){n.remove()}return r(e),{update:r,destroy:i}},xb=new Set,Koe=(n,e={})=>{let t=ar,r=ar,i=ar,s=ar;xb.add(n);const o=aoe(n);let a=!1,l=!1;const u={pointerdown:!1,pointerup:!1,mousedown:!1,mouseup:!1,touchstart:!1,touchend:!1,click:!1},f=()=>{for(const v in u)u[v]=!1},d=()=>{for(const v of Object.values(u))if(v)return!0;return!1},h=(v,w)=>yb(o,v,k=>{u[v]=!0,w==null||w(k)},!0),p=(v,w)=>yb(o,v,k=>{u[v]=!1;const x={};ha(k.target)&&jse(k.target.shadowRoot)&&(x.shadowTarget=k.composedPath()[0]),w==null||w(k,x)});function g(v){t(),r(),i(),s(),f();const{onInteractOutside:w,onInteractOutsideStart:k,enabled:x}={enabled:!0,...v};if(!x)return;let C=!1;const T=i0((D,E)=>{if(!C||d())return;w&&K_(D,n)&&(k==null||k(D));const I=E!=null&&E.shadowTarget?E.shadowTarget:D.target;I2(I)&&LT(n,I)&&(l=!0),a=!0},10);r=T.destroy;const A=i0(D=>{C&&!d()&&m(D)&&(w==null||w(D)),b()},10);i=A.destroy;const O=i0(f,20);s=O.destroy;const R=()=>{C=Joe(n)};t=wm(h(\"pointerdown\",R),h(\"mousedown\",R),h(\"touchstart\",R),h(\"pointerup\",O),h(\"mouseup\",O),h(\"touchend\",O),h(\"click\",O),p(\"pointerdown\",T),p(\"mousedown\",T),p(\"touchstart\",T),p(\"pointerup\",A),p(\"mouseup\",A),p(\"touchend\",A),p(\"click\",A))}function m(v){return!!(a&&!l&&K_(v,n))}function b(){a=!1,l=!1}return g(e),{update:g,destroy(){t(),r(),i(),s(),xb.delete(n)}}};function K_(n,e){if(\"button\"in n&&n.button>0)return!1;const t=n.target;if(!I2(t))return!1;const r=t.ownerDocument;return!r||!r.documentElement.contains(t)?!1:e&&!LT(e,t)}function Joe(n){return Array.from(xb).at(-1)===n}const Xoe={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:\"Event Date\",locale:\"en\",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:\"narrow\"};({...IT(Xoe,\"isDateDisabled\",\"isDateUnavailable\",\"value\",\"locale\",\"disabled\",\"readonly\",\"minValue\",\"maxValue\",\"weekdayFormat\")});const{name:wl}=Fse(\"dialog\"),Yoe={preventScroll:!0,escapeBehavior:\"close\",closeOnOutsideClick:!0,role:\"dialog\",defaultOpen:!1,portal:\"body\",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Goe=[\"content\",\"title\",\"description\"];function Qoe(n){const e={...Yoe,...n},t=j_(IT(e,\"ids\")),{preventScroll:r,escapeBehavior:i,closeOnOutsideClick:s,role:o,portal:a,forceVisible:l,openFocus:u,closeFocus:f,onOutsideClick:d}=t,h=$u.writable(null),p=j_({...Gse(Goe),...e.ids}),g=e.open??ht(e.defaultOpen),m=Use(g,e==null?void 0:e.onOpenChange),b=Is([m,l],([E,I])=>E||I);let v=ar;function w(E){const I=E.currentTarget,P=E.currentTarget;!ha(I)||!ha(P)||(m.set(!0),h.set(P))}function k(){m.set(!1)}const x=ka(wl(\"trigger\"),{stores:[m],returned:([E])=>({\"aria-haspopup\":\"dialog\",\"aria-expanded\":E,type:\"button\"}),action:E=>({destroy:wm(_p(E,\"click\",P=>{w(P)}),_p(E,\"keydown\",P=>{P.key!==Bf.ENTER&&P.key!==Bf.SPACE||(P.preventDefault(),w(P))}))})}),C=ka(wl(\"overlay\"),{stores:[b,m],returned:([E,I])=>({hidden:E?void 0:!0,tabindex:-1,style:E?void 0:vb({display:\"none\"}),\"aria-hidden\":!0,\"data-state\":I?\"open\":\"closed\"})}),T=ka(wl(\"content\"),{stores:[b,p.content,p.description,p.title,m],returned:([E,I,P,_,L])=>({id:I,role:o.get(),\"aria-describedby\":P,\"aria-labelledby\":_,\"aria-modal\":E?\"true\":void 0,\"data-state\":L?\"open\":\"closed\",tabindex:-1,hidden:E?void 0:!0,style:E?void 0:vb({display:\"none\"})}),action:E=>{let I=ar,P=ar,_=ar;const L=Ff([b,s],([M,N])=>{P(),I(),_(),M&&(P=Woe(E,{closeOnInteractOutside:N,onClose:k,shouldCloseOnInteractOutside(F){var j;return(j=d.get())==null||j(F),!F.defaultPrevented}}).destroy,I=loe(E,{handler:k,behaviorType:i}).destroy,_=qoe(E,{fallbackFocus:E}).destroy)});return{destroy:()=>{v(),L(),P(),I(),_()}}}}),A=ka(wl(\"portalled\"),{stores:a,returned:E=>({\"data-portal\":Bse(E)}),action:E=>{const I=Ff([a],([P])=>{if(P===null)return ar;const _=ooe(E,P);return _===null?ar:Uoe(E,_).destroy});return{destroy(){I()}}}}),O=ka(wl(\"title\"),{stores:[p.title],returned:([E])=>({id:E})}),R=ka(wl(\"description\"),{stores:[p.description],returned:([E])=>({id:E})}),D=ka(wl(\"close\"),{returned:()=>({type:\"button\"}),action:E=>({destroy:wm(_p(E,\"click\",()=>{k()}),_p(E,\"keydown\",P=>{P.key!==Bf.SPACE&&P.key!==Bf.ENTER||(P.preventDefault(),k())}))})});return Ff([m,r],([E,I])=>{if(B_){if(I&&E&&(v=ioe()),E){const P=document.getElementById(p.content.get());z_({prop:u.get(),defaultEl:P})}return()=>{l.get()||v()}}}),Ff(m,E=>{!B_||E||z_({prop:f.get(),defaultEl:h.get()})},{skipFirstRun:!0}),{ids:p,elements:{content:T,trigger:x,title:O,description:R,overlay:C,close:D,portalled:A},states:{open:m},options:t}}function Zoe(n){const e=n-1;return e*e*e+1}function $oe(n){return Object.keys(n).reduce((e,t)=>n[t]===void 0?e:e+`${t}:${n[t]};`,\"\")}const J_=(n,e,t)=>{const[r,i]=e,[s,o]=t;return(n-r)/(i-r)*(o-s)+s},eae=(n,e)=>{const t=getComputedStyle(n),r=t.transform===\"none\"?\"\":t.transform;return{duration:e.duration??150,delay:0,css:i=>{const s=J_(i,[0,1],[e.y,0]),o=J_(i,[0,1],[e.start,1]);return $oe({transform:`${r} translate3d(0, ${s}px, 0) scale(${o})`,opacity:i})},easing:Zoe}};var tae=ee(\"<button> </button>\"),nae=ee('<div><div></div> <div><h2> </h2> <p><!></p> <div class=\"slot-content svelte-11r9kjw\"><!></div> <!> <button><svg width=\"117\" height=\"118\" viewBox=\"0 0 117 118\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"svelte-11r9kjw\"><rect x=\"0.163696\" y=\"11.2703\" width=\"15\" height=\"150\" transform=\"rotate(-45 0.163696 11.2703)\" fill=\"#3230A3\"></rect><rect x=\"106.23\" y=\"0.663696\" width=\"15\" height=\"150\" transform=\"rotate(45 106.23 0.663696)\" fill=\"#3230A3\"></rect></svg></button></div></div>');function a0(n,e){Pe(e,!0);const[t,r]=Tn(),i=()=>Ae(b,\"$portalled\",t),s=()=>Ae(d,\"$overlay\",t),o=()=>Ae(h,\"$content\",t),a=()=>Ae(p,\"$title\",t),l=()=>Ae(g,\"$description\",t),u=()=>Ae(m,\"$close\",t);let f=ss(!1);cr(()=>{S(f,!0)}),Hr(()=>{Pn(),S(f,!1)});const{elements:{overlay:d,content:h,title:p,description:g,close:m,portalled:b}}=Qoe({defaultOpen:!0,onOpenChange:x=>(yo.close({success:!1}),x.next)});var v=Ue(),w=be(v);{var k=x=>{var C=nae();let T;var A=V(C);let O;tn(A,U=>d==null?void 0:d(U));var R=K(A,2);let D;var E=V(R);let I;var P=V(E);tn(E,U=>p==null?void 0:p(U));var _=K(E,2);let L;var M=V(_);{var N=U=>{var se=Ar();pe(()=>Ke(se,e.config.description)),B(U,se)};oe(M,U=>{e.config.description&&U(N)})}tn(_,U=>g==null?void 0:g(U));var F=K(_,2),j=V(F);Lk(j,()=>e.children??Gr);var Y=K(F,2);{var ie=U=>{ET(U,{children:(se,le)=>{var W=tae(),ce=()=>{yo.close({success:!0})};let fe;var J=V(W);pe(()=>{fe=Ti(W,fe,{...u(),onclick:ce,class:e.config.isWarning?\"warning\":\"primary\"},\"svelte-11r9kjw\"),Ke(J,e.config.buttonSuccess)}),B(se,W)}})};oe(Y,U=>{e.config.buttonSuccess&&U(ie)})}var Q=K(Y,2);let te;tn(Q,U=>m==null?void 0:m(U)),tn(R,U=>h==null?void 0:h(U)),tn(C,U=>b==null?void 0:b(U)),pe(()=>{T=Ti(C,T,{...i()},\"svelte-11r9kjw\"),O=Ti(A,O,{...s(),class:\"overlay\"},\"svelte-11r9kjw\"),D=Ti(R,D,{style:`--dialog-width: ${e.config.width??\"550px\"}`,class:\"content\",...o()},\"svelte-11r9kjw\"),I=Ti(E,I,{...a(),class:\"title\"},\"svelte-11r9kjw\"),Ke(P,e.config.title),L=Ti(_,L,{...l(),class:\"description\"},\"svelte-11r9kjw\"),te=Ti(Q,te,{...u(),\"aria-label\":\"close\",class:\"close\"},\"svelte-11r9kjw\")}),yM(3,R,()=>eae,()=>({duration:150,y:8,start:.96})),B(x,C)};oe(w,x=>{c(f)&&x(k)})}B(n,v),Ie(),r()}var rae=ee(\"<div><p>Option 1, use built in dialog like this:</p> <pre></pre> <br> <p>Option 2, give your own component</p> <pre></pre> <p>Good luck </p></div>\");function iae(n){const[e,t]=Tn(),r=()=>Ae(yo,\"$dialog\",e);var i=Ue(),s=be(i);Dt(s,1,r,un,(o,a)=>{var l=Ue(),u=be(l);{var f=h=>{a0(h,{get config(){return c(a).config},children:(p,g)=>{var m=Ue(),b=be(m);Db(b,()=>c(a).children,!1,!1),B(p,m)},$$slots:{default:!0}})},d=h=>{var p=Ue(),g=be(p);{var m=v=>{a0(v,{get config(){return c(a).config},children:(w,k)=>{c(a).component(w,Qr(()=>c(a).props))},$$slots:{default:!0}})},b=v=>{const w=he(()=>({title:c(a).config.title??\"FOR DEV\",description:c(a).config.description??\"Hey  developer, you are missing a few things !\",buttonSuccess:c(a).config.buttonSuccess??\"Ok, got it, I'll try!\"}));a0(v,{get config(){return c(w)},children:(k,x)=>{var C=rae(),T=K(V(C),2);T.textContent=\"await dialog.confirmDelete('The Car')\";var A=K(T,6);A.textContent=`await dialog.show({\n  config: { title: 'Interlocuteur' },\n  component: CreateCarForm,\n  props: { isEdit: false },\n})`,B(k,C)},$$slots:{default:!0}})};oe(g,v=>{c(a).component?v(m):v(b,!1)},!0)}B(h,p)};oe(u,h=>{c(a).type===\"confirm\"||c(a).type===\"confirmDelete\"?h(f):h(d,!1)})}B(o,l)}),B(n,i),t()}var sae=Nt('<svg width=\"1491\" height=\"887\" viewBox=\"0 0 1491 887\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M233 1.66666C201.933 4.59999 173.267 15.9333 150.867 33.9333C121.667 57.5333 102.733 94.3333 94.8667 143C93.1333 154.2 92.4667 171.4 91.6667 229.667C90.7333 308.2 90.2 313.267 82.7333 334.067C77.1333 349.933 69.6666 361.267 56.4666 374.333C46.7333 384.067 41.9333 387.667 32.0666 392.733C25.2666 396.2 15.2666 400.2 10.0666 401.533L0.333313 404.067V437.133V470.2L9.66665 472.467C41.8 480.6 70.8667 507.133 82.3333 538.867C90.4667 561.133 90.6 561.8 91.6667 649.667C92.6 731.133 93 738.467 98.3333 762.333C101.4 776.6 106.867 792.2 113.267 805.4C132.867 845.8 165.267 871.533 209.8 882.467C222.333 885.533 227.267 886.067 245.667 886.2L267 886.333V856.333V826.333L251.667 825.533C207.133 823.267 177.533 796.333 165 746.733C159.4 724.6 158.333 704.467 158.333 624.2C158.333 548.6 157.933 542.6 150.2 519.667C138.733 485.533 115.133 458.2 83.2667 442.467C77.5333 439.667 73 437.267 73 437C73 436.733 77.6667 434.067 83.4 431C103.933 420.333 122.333 403.533 135.4 383.667C143.533 371.267 149.4 357.8 154.067 340.467L157.533 327.667L158.467 248.333C159.4 165.133 160.067 155.667 166.067 135C172.867 112.2 181.667 96.8667 195.8 83.8C211.533 69.2667 228.467 62.7333 254.733 60.8667L267.667 59.9333L267.4 30.4667L267 0.999995L255.667 0.866661C249.4 0.733328 239.267 1.13333 233 1.66666Z\" fill=\"#00003B\"></path><path d=\"M1223.67 30.2V59.9333L1236.73 60.8666C1254.47 62.0666 1264.87 64.7333 1277.27 71.1333C1300.2 83.1333 1315.8 103.667 1324.33 133.267C1330.87 155.533 1331.67 166.2 1331.67 238.067C1331.67 308.067 1332.47 321.933 1337.67 342.467C1347.4 380.733 1375 414.867 1410.6 432.6C1414.87 434.733 1418.33 436.867 1418.33 437.133C1418.33 437.4 1415 439.133 1411 440.867C1393.93 448.467 1371.53 466.6 1360.33 481.8C1348.87 497.267 1340.33 516.733 1335.53 538.467C1332.73 551 1332.6 555.933 1331.67 639.667C1330.73 721.8 1330.6 728.467 1327.93 739.667C1317.53 785.4 1297.93 809.8 1261.67 822.333C1257.4 823.8 1249.27 825 1239.4 825.4L1223.67 825.933V856.467V887H1240.07C1284.73 887 1321.67 873 1349.13 845.667C1372.6 822.333 1386.87 793.4 1394.2 754.333C1398.87 729.267 1399.67 714.067 1399.67 647.133C1399.67 610.6 1400.33 577.4 1401 571C1405.13 537.267 1419.8 509.4 1442.6 491.933C1453.8 483.4 1472.33 474.2 1483 471.933L1490.33 470.467L1490.07 437.267L1489.67 404.067L1479.67 401C1467 397.267 1461 394.6 1451.8 388.733C1430.87 375.267 1416.47 357 1408.2 333.533C1400.73 312.467 1400.73 311.533 1399.67 232.333C1398.6 155 1398.2 147.933 1391.8 121.133C1377.4 60.7333 1339.27 20.3333 1283.67 6.33329C1270.47 2.99995 1248.07 0.333287 1232.73 0.333287H1223.67V30.2Z\" fill=\"#00003B\"></path><path d=\"M671 95.5333C627 112.6 539.133 146.733 475.667 171.267C412.2 195.933 338.333 224.6 311.267 235C284.333 245.533 262.467 254.333 262.867 254.6C263.133 254.867 272.867 258.6 284.467 262.867C296.2 267.133 323.133 277.133 344.333 285C402.6 306.6 448.067 323.4 477.667 334.333C492.333 339.8 524.733 351.8 549.667 361C574.6 370.333 607 382.333 621.667 387.667C636.333 393.133 671.133 405.933 699 416.2C726.733 426.6 750.333 435 751.133 435C752.733 435 764.867 430.6 823 409C858.333 395.933 899.4 380.733 956.333 359.667C975.4 352.6 1004.6 341.8 1021.4 335.667C1038.07 329.4 1065.67 319.267 1082.73 312.867C1099.67 306.6 1124.73 297.4 1138.33 292.333C1151.93 287.267 1178.6 277.4 1197.67 270.333C1216.73 263.4 1234.2 256.867 1236.6 255.933C1240.73 254.333 1237.8 253.133 1147.27 218.067C1095.8 198.067 1004.73 162.867 945 139.533C885.267 116.333 831.267 95.4 825 93C818.733 90.7333 800.2 83.5333 783.667 77C767.133 70.6 753.133 65.1333 752.333 64.8666C751.667 64.6 715 78.4666 671 95.5333Z\" fill=\"#0066C8\"></path><path d=\"M324.333 359.133C307.533 365.667 286.6 373.8 277.8 377.267C267.533 381.267 262.6 383.667 263.8 384.333C264.867 385 274.067 388.467 284.333 392.333C294.6 396.067 316.867 404.333 333.667 410.6C350.6 416.733 372.467 424.867 382.333 428.6C392.2 432.2 413.8 440.2 430.333 446.333C459.533 457.133 481.933 465.4 533 484.333C546.6 489.4 573.267 499.267 592.333 506.333C629 519.8 658.467 530.733 714.733 551.667C733.667 558.6 750.067 564.333 751.267 564.333C752.467 564.333 768.2 558.867 786.2 552.2C804.2 545.4 834.067 534.467 852.333 527.667C870.733 520.867 916.867 503.8 955 489.667C993.133 475.533 1031.27 461.4 1039.67 458.333C1053.13 453.4 1138.47 421.8 1215.4 393.267C1233.13 386.733 1240.33 383.533 1238.73 382.867C1228.47 378.867 1161.27 352.733 1154.73 350.2L1146.47 346.867L1128.73 353.533C1100.47 363.933 999.267 401.4 980.333 408.333C970.867 411.8 949.8 419.667 933.667 425.667C898.467 438.733 857.267 453.933 807.667 472.333C787.533 479.667 766.467 487.533 761 489.667L751.133 493.4L744.333 490.733C740.733 489.267 725.667 483.667 711 478.333C687.667 469.8 491.533 397.133 459 385C452.467 382.6 438.6 377.4 428.333 373.667C418.067 369.933 397.667 362.333 383.133 356.867C368.6 351.4 356.2 347 355.8 347.133C355.4 347.133 341.267 352.6 324.333 359.133Z\" fill=\"#004A92\"></path><path d=\"M324.333 488.467C307.533 495 286.6 503.133 277.933 506.6C266.6 511 262.6 513.133 264.067 513.933C265.133 514.467 276.467 518.867 289.267 523.533C301.933 528.2 323.133 536.067 336.333 541C349.533 545.933 368.2 552.867 377.667 556.333C387.267 559.8 426.2 574.2 464.333 588.333C502.467 602.467 548.733 619.533 567 626.333C683.533 669.4 739.267 690.067 744.733 692.2L751 694.6L775.667 685.533C789.267 680.467 813.267 671.533 829 665.8C844.733 659.933 891.933 642.467 933.667 627C975.533 611.4 1013.53 597.4 1018.33 595.667C1023.13 593.933 1036.6 589 1048.33 584.6C1085.13 570.867 1207.67 525.533 1224.2 519.533C1232.87 516.333 1240.33 513.533 1240.47 513.267C1240.73 513 1219.67 504.6 1193.67 494.6L1146.33 476.333L1077.4 501.8C1039.4 515.8 993.4 532.867 975 539.667C934.2 554.733 812.467 599.8 777 613L751 622.6L744.333 620.067C740.733 618.6 706.733 606.067 669 592.067C631.267 578.067 590.733 563.133 579 558.733C567.267 554.333 552.333 548.867 545.667 546.467C539.133 544.067 502.467 530.467 464.333 516.333C362.067 478.467 356.333 476.333 355.667 476.467C355.267 476.467 341.267 481.933 324.333 488.467Z\" fill=\"#002D6D\"></path><path d=\"M309 623.667C283.667 633.533 262.467 641.8 261.8 642.067C261.133 642.2 280.733 649.8 305.133 658.867C329.667 667.933 364.733 680.867 383 687.667C401.4 694.467 491.4 727.8 583 761.667C674.733 795.667 750.6 823.4 751.667 823.267C752.733 823.267 792.733 808.733 840.333 791C888.067 773.267 939 754.467 953.667 749C968.333 743.667 1009.4 728.467 1045 715.267C1080.6 702.067 1118.07 688.2 1128.33 684.333C1157 673.8 1206.47 655.533 1224.73 648.733C1233.67 645.4 1240.87 642.467 1240.73 642.333C1239 640.6 1148.87 606.6 1146.33 606.6C1144.47 606.6 1131.27 611 1117 616.333C1102.73 621.667 1084.07 628.6 1075.67 631.667C1067.27 634.733 1046.6 642.467 1029.67 648.6C1012.87 654.867 967.8 671.533 929.667 685.667C757.667 749.4 753.267 751 751.133 751C749.267 751 735.933 746.2 601.667 696.333C565.8 683 524.333 667.8 509.667 662.333C495 657 454.467 641.933 419.667 629.133C384.867 616.2 356.067 605.667 355.667 605.667C355.267 605.8 334.333 613.8 309 623.667Z\" fill=\"#00003B\"></path></svg>');function oae(n){var e=sae();B(n,e)}var aae=(n,e)=>{qi(Sr,Ft(e).schema={},Ft(e)),window.location.reload()},lae=()=>{ga.reloadEntities()},cae=ee(`<div class=\"dialog\"><header class=\"svelte-1amnogv\">Local Storage</header> <label class=\"svelte-1amnogv\"><span>With confirm delete</span> <select class=\"svelte-1amnogv\"><option>No</option><option>Yes</option></select></label> <label class=\"svelte-1amnogv\"><span>Display fields with</span> <select class=\"svelte-1amnogv\"><option>Caption</option><option>key</option></select></label> <label class=\"svelte-1amnogv\"><span>Diagram layout algorithm</span> <select class=\"svelte-1amnogv\"><option>grid-dfs</option><option>grid-bfs</option><option>line</option></select></label> <label class=\"svelte-1amnogv\"><span>Local Storage Key for Auth</span> <input type=\"text\" placeholder=\"Local Storage Key\" class=\"svelte-1amnogv\"></label> <label class=\"svelte-1amnogv\"><span>api URL</span> <input type=\"text\" placeholder=\"api URL, the default it '/api'\" class=\"svelte-1amnogv\"></label> <br> <label class=\"svelte-1amnogv\"><span></span> <button class=\"svelte-1amnogv\">Reset all settings to default</button></label> <br> <br> <hr style=\"border-top: 1px solid black;\"> <br> <header class=\"svelte-1amnogv\">Session Storage</header> <label class=\"svelte-1amnogv\"><span>Auth</span> <div><input type=\"text\" placeholder=\"bearer\" class=\"svelte-1amnogv\"> <button class=\"svelte-1amnogv\">Reload entities</button></div></label></div>`);function uae(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(Sr,\"$LSContext\",t),s=()=>Ae(Ka,\"$SSContext\",t);Ne();var o=cae(),a=K(V(o),2),l=K(V(a),2);pe(()=>{i(),jv(()=>{})});var u=V(l);u.value=(u.__value=!1)==null?\"\":!1;var f=K(u);f.value=(f.__value=!0)==null?\"\":!0;var d=K(a,2),h=K(V(d),2);pe(()=>{i(),jv(()=>{})});var p=V(h);p.value=(p.__value=!0)==null?\"\":!0;var g=K(p);g.value=(g.__value=!1)==null?\"\":!1;var m=K(d,2),b=K(V(m),2);pe(()=>{i(),jv(()=>{})}),b.__change=[aae,i];var v=V(b);v.value=(v.__value=\"grid-dfs\")==null?\"\":\"grid-dfs\";var w=K(v);w.value=(w.__value=\"grid-bfs\")==null?\"\":\"grid-bfs\";var k=K(w);k.value=(k.__value=\"line\")==null?\"\":\"line\";var x=K(m,2),C=K(V(x),2),T=K(x,2),A=K(V(T),2),O=K(T,4),R=K(V(O),2);R.__click=()=>{Sr.reset()};var D=K(O,12),E=K(V(D),2),I=V(E),P=K(I,2);P.__click=[lae],jf(l,()=>i().settings.confirmDelete,_=>qi(Sr,Ft(i).settings.confirmDelete=_,Ft(i))),jf(h,()=>i().settings.dispayCaption,_=>qi(Sr,Ft(i).settings.dispayCaption=_,Ft(i))),jf(b,()=>i().settings.diagramLayoutAlgorithm,_=>qi(Sr,Ft(i).settings.diagramLayoutAlgorithm=_,Ft(i))),Ji(C,()=>i().settings.keyForBearerAuth,_=>qi(Sr,Ft(i).settings.keyForBearerAuth=_,Ft(i))),Ji(A,()=>i().settings.apiUrl,_=>qi(Sr,Ft(i).settings.apiUrl=_,Ft(i))),Ji(I,()=>s().settings.bearerAuth,_=>qi(Ka,Ft(s).settings.bearerAuth=_,Ft(s))),B(n,o),Ie(),r()}pa([\"change\",\"click\"]);var Ap=Ud(()=>Xi),fae=()=>yo.show({config:{title:\"Remult Settings\"},component:uae}),dae=ee('<a class=\"tab svelte-12rv1n9\"> </a>'),hae=ee(`<div class=\"app-holder\"><div class=\"main-navigation\"><div class=\"main-navigation__title\">Remult Admin <button class=\"icon-button\"><!></button></div> <input class=\"tab\" style=\"content: 'inner'; margin-left: 4px;\" type=\"text\" placeholder=\"Search\"> <!>  <a href=\"#/diagram\" class=\"tab main-navigation__diagram svelte-12rv1n9\">Diagram</a></div> <div class=\"main-content\"><!></div></div> <!>`,1);function pae(n,e){Pe(e,!1);const[t,r]=Tn(),i=()=>Ae(Kd,\"$loc\",t),s=()=>Ae(Sr,\"$LSContext\",t),o=()=>Ae(Ka,\"$SSContext\",t),a=()=>Ae(ga,\"$godStore\",t);ts(()=>{i().location!==\"/\"&&qi(Sr,Ft(s).currentLocationHash=i().location,Ft(s))});const l={\"/\":Lse,\"/diagram\":_L,\"/entity/*\":Nse,\"*\":AL};function u(A,O){const R=(O==null?void 0:O.len)||30;if(A.length>R){const D=(O==null?void 0:O.midStr)||\"...\",E=R-D.length,I=Math.floor(E/2);return`${A.slice(0,I).trim()}${D}${A.slice(-I).trim()}`}return A}Ap(Ap().apiClient.url=s().settings.apiUrl),Ap(Ap().apiClient.httpClient=async(A,O)=>{const R=await fetch(A,{...O,headers:rA(o(),s(),O)});if(R.status===403){const I=new URL(R.url).pathname.split(\"/\").pop()||\"\";qi(Ka,Ft(o).forbiddenEntities=[...new Set([...o().forbiddenEntities,I])],Ft(o))}return R}),Ne();var f=hae(),d=be(f),h=V(d),p=V(h),g=K(V(p));g.__click=[fae];var m=V(g);oae(m);var b=K(p,2),v=K(b,2);Dt(v,1,()=>{var A;return((A=a())==null?void 0:A.getTables(s()))??[]},un,(A,O)=>{var R=dae(),D=V(R);tn(R,(E,I)=>Tc==null?void 0:Tc(E,I),()=>({path:`/entity/${c(O).key}`,className:\"active\"})),pe(E=>{Ee(R,\"style\",`--color: ${c(O).color??\"\"}`),Ee(R,\"href\",`#/entity/${c(O).key??\"\"}`),Ke(D,E)},[()=>u(s().settings.dispayCaption?c(O).caption:c(O).key)],he),B(A,R)});var w=K(v,2);tn(w,(A,O)=>Tc==null?void 0:Tc(A,O),()=>({path:\"/diagram\",className:\"active\"}));var k=K(h,2),x=V(k);PM(x,{routes:l});var C=K(d,2);iae(C),Ji(b,()=>s().settings.search,A=>qi(Sr,Ft(s).settings.search=A,Ft(s))),B(n,f),St(e,\"midTrim\",u);var T=Ie({midTrim:u});return r(),T}pa([\"click\"]);oM(pae,{target:document.getElementById(\"app\")});/*!\n * vanilla-picker v2.12.3\n * https://vanilla-picker.js.org\n *\n * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)\n * Released under the ISC license.\n */var R2=function(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")},D2=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Op=function(){function n(e,t){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,e){for(var t=this;t.length<n;)t=e+t;return t};var gae={cb:\"0f8ff\",tqw:\"aebd7\",q:\"-ffff\",qmrn:\"7fffd4\",zr:\"0ffff\",bg:\"5f5dc\",bsq:\"e4c4\",bck:\"---\",nch:\"ebcd\",b:\"--ff\",bvt:\"8a2be2\",brwn:\"a52a2a\",brw:\"deb887\",ctb:\"5f9ea0\",hrt:\"7fff-\",chcT:\"d2691e\",cr:\"7f50\",rnw:\"6495ed\",crns:\"8dc\",crms:\"dc143c\",cn:\"-ffff\",Db:\"--8b\",Dcn:\"-8b8b\",Dgnr:\"b8860b\",Dgr:\"a9a9a9\",Dgrn:\"-64-\",Dkhk:\"bdb76b\",Dmgn:\"8b-8b\",Dvgr:\"556b2f\",Drng:\"8c-\",Drch:\"9932cc\",Dr:\"8b--\",Dsmn:\"e9967a\",Dsgr:\"8fbc8f\",DsTb:\"483d8b\",DsTg:\"2f4f4f\",Dtrq:\"-ced1\",Dvt:\"94-d3\",ppnk:\"1493\",pskb:\"-bfff\",mgr:\"696969\",grb:\"1e90ff\",rbrc:\"b22222\",rwht:\"af0\",stg:\"228b22\",chs:\"-ff\",gnsb:\"dcdcdc\",st:\"8f8ff\",g:\"d7-\",gnr:\"daa520\",gr:\"808080\",grn:\"-8-0\",grnw:\"adff2f\",hnw:\"0fff0\",htpn:\"69b4\",nnr:\"cd5c5c\",ng:\"4b-82\",vr:\"0\",khk:\"0e68c\",vnr:\"e6e6fa\",nrb:\"0f5\",wngr:\"7cfc-\",mnch:\"acd\",Lb:\"add8e6\",Lcr:\"08080\",Lcn:\"e0ffff\",Lgnr:\"afad2\",Lgr:\"d3d3d3\",Lgrn:\"90ee90\",Lpnk:\"b6c1\",Lsmn:\"a07a\",Lsgr:\"20b2aa\",Lskb:\"87cefa\",LsTg:\"778899\",Lstb:\"b0c4de\",Lw:\"e0\",m:\"-ff-\",mgrn:\"32cd32\",nn:\"af0e6\",mgnt:\"-ff\",mrn:\"8--0\",mqm:\"66cdaa\",mmb:\"--cd\",mmrc:\"ba55d3\",mmpr:\"9370db\",msg:\"3cb371\",mmsT:\"7b68ee\",\"\":\"-fa9a\",mtr:\"48d1cc\",mmvt:\"c71585\",mnLb:\"191970\",ntc:\"5fffa\",mstr:\"e4e1\",mccs:\"e4b5\",vjw:\"dead\",nv:\"--80\",c:\"df5e6\",v:\"808-0\",vrb:\"6b8e23\",rng:\"a5-\",rngr:\"45-\",rch:\"da70d6\",pgnr:\"eee8aa\",pgrn:\"98fb98\",ptrq:\"afeeee\",pvtr:\"db7093\",ppwh:\"efd5\",pchp:\"dab9\",pr:\"cd853f\",pnk:\"c0cb\",pm:\"dda0dd\",pwrb:\"b0e0e6\",prp:\"8-080\",cc:\"663399\",r:\"--\",sbr:\"bc8f8f\",rb:\"4169e1\",sbrw:\"8b4513\",smn:\"a8072\",nbr:\"4a460\",sgrn:\"2e8b57\",ssh:\"5ee\",snn:\"a0522d\",svr:\"c0c0c0\",skb:\"87ceeb\",sTb:\"6a5acd\",sTgr:\"708090\",snw:\"afa\",n:\"-ff7f\",stb:\"4682b4\",tn:\"d2b48c\",t:\"-8080\",thst:\"d8bfd8\",tmT:\"6347\",trqs:\"40e0d0\",vt:\"ee82ee\",whT:\"5deb3\",wht:\"\",hts:\"5f5f5\",w:\"-\",wgrn:\"9acd32\"};function X_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?n.toFixed(e).replace(/0+$/,\"\").replace(/\\.$/,\"\"):n.toString();return t||\"0\"}var mae=function(){function n(e,t,r,i){R2(this,n);var s=this;function o(l){if(l.startsWith(\"hsl\")){var u=l.match(/([\\-\\d\\.e]+)/g).map(Number),f=Op(u,4),d=f[0],h=f[1],p=f[2],g=f[3];g===void 0&&(g=1),d/=360,h/=100,p/=100,s.hsla=[d,h,p,g]}else if(l.startsWith(\"rgb\")){var m=l.match(/([\\-\\d\\.e]+)/g).map(Number),b=Op(m,4),v=b[0],w=b[1],k=b[2],x=b[3];x===void 0&&(x=1),s.rgba=[v,w,k,x]}else l.startsWith(\"#\")?s.rgba=n.hexToRgb(l):s.rgba=n.nameToRgb(l)||n.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var a=e&&\"\"+e;a&&o(a.toLowerCase())}else this.rgba=[e,t,r,i===void 0?1:i]}return D2(n,[{key:\"printRGB\",value:function(t){var r=t?this.rgba:this.rgba.slice(0,3),i=r.map(function(s,o){return X_(s,o===3?3:0)});return t?\"rgba(\"+i+\")\":\"rgb(\"+i+\")\"}},{key:\"printHSL\",value:function(t){var r=[360,100,100,1],i=[\"\",\"%\",\"%\",\"\"],s=t?this.hsla:this.hsla.slice(0,3),o=s.map(function(a,l){return X_(a*r[l],l===3?3:1)+i[l]});return t?\"hsla(\"+o+\")\":\"hsl(\"+o+\")\"}},{key:\"printHex\",value:function(t){var r=this.hex;return t?r:r.substring(0,7)}},{key:\"rgba\",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error(\"No color is set\");return this._rgba=n.hslToRgb(this._hsla)},set:function(t){t.length===3&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:\"rgbString\",get:function(){return this.printRGB()}},{key:\"rgbaString\",get:function(){return this.printRGB(!0)}},{key:\"hsla\",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error(\"No color is set\");return this._hsla=n.rgbToHsl(this._rgba)},set:function(t){t.length===3&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:\"hslString\",get:function(){return this.printHSL()}},{key:\"hslaString\",get:function(){return this.printHSL(!0)}},{key:\"hex\",get:function(){var t=this.rgba,r=t.map(function(i,s){return s<3?i.toString(16):Math.round(i*255).toString(16)});return\"#\"+r.map(function(i){return i.padStart(2,\"0\")}).join(\"\")},set:function(t){this.rgba=n.hexToRgb(t)}}],[{key:\"hexToRgb\",value:function(t){var r=(t.startsWith(\"#\")?t.slice(1):t).replace(/^(\\w{3})$/,\"$1F\").replace(/^(\\w)(\\w)(\\w)(\\w)$/,\"$1$1$2$2$3$3$4$4\").replace(/^(\\w{6})$/,\"$1FF\");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error(\"Unknown hex color; \"+t);var i=r.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1).map(function(s){return parseInt(s,16)});return i[3]=i[3]/255,i}},{key:\"nameToRgb\",value:function(t){var r=t.toLowerCase().replace(\"at\",\"T\").replace(/[aeiouyldf]/g,\"\").replace(\"ght\",\"L\").replace(\"rk\",\"D\").slice(-5,4),i=gae[r];return i===void 0?i:n.hexToRgb(i.replace(/\\-/g,\"00\").padStart(6,\"f\"))}},{key:\"rgbToHsl\",value:function(t){var r=Op(t,4),i=r[0],s=r[1],o=r[2],a=r[3];i/=255,s/=255,o/=255;var l=Math.max(i,s,o),u=Math.min(i,s,o),f=void 0,d=void 0,h=(l+u)/2;if(l===u)f=d=0;else{var p=l-u;switch(d=h>.5?p/(2-l-u):p/(l+u),l){case i:f=(s-o)/p+(s<o?6:0);break;case s:f=(o-i)/p+2;break;case o:f=(i-s)/p+4;break}f/=6}return[f,d,h,a]}},{key:\"hslToRgb\",value:function(t){var r=Op(t,4),i=r[0],s=r[1],o=r[2],a=r[3],l=void 0,u=void 0,f=void 0;if(s===0)l=u=f=o;else{var d=function(b,v,w){return w<0&&(w+=1),w>1&&(w-=1),w<.16666666666666666?b+(v-b)*6*w:w<.5?v:w<.6666666666666666?b+(v-b)*(.6666666666666666-w)*6:b},h=o<.5?o*(1+s):o+s-o*s,p=2*o-h;l=d(p,h,i+1/3),u=d(p,h,i),f=d(p,h,i-1/3)}var g=[l*255,u*255,f*255].map(Math.round);return g[3]=a,g}}]),n}(),vae=function(){function n(){R2(this,n),this._events=[]}return D2(n,[{key:\"add\",value:function(t,r,i){t.addEventListener(r,i,!1),this._events.push({target:t,type:r,handler:i})}},{key:\"remove\",value:function(t,r,i){this._events=this._events.filter(function(s){var o=!0;return t&&t!==s.target&&(o=!1),r&&r!==s.type&&(o=!1),i&&i!==s.handler&&(o=!1),o&&n._doRemove(s.target,s.type,s.handler),!o})}},{key:\"destroy\",value:function(){this._events.forEach(function(t){return n._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:\"_doRemove\",value:function(t,r,i){t.removeEventListener(r,i,!1)}}]),n}();function yae(n){var e=document.createElement(\"div\");return e.innerHTML=n,e.firstElementChild}function l0(n,e,t){var r=!1;function i(l,u,f){return Math.max(u,Math.min(l,f))}function s(l,u,f){if(f&&(r=!0),!!r){l.preventDefault();var d=e.getBoundingClientRect(),h=d.width,p=d.height,g=u.clientX,m=u.clientY,b=i(g-d.left,0,h),v=i(m-d.top,0,p);t(b/h,v/p)}}function o(l,u){var f=l.buttons===void 0?l.which:l.buttons;f===1?s(l,l,u):r=!1}function a(l,u){l.touches.length===1?s(l,l.touches[0],u):r=!1}n.add(e,\"mousedown\",function(l){o(l,!0)}),n.add(e,\"touchstart\",function(l){a(l,!0)}),n.add(window,\"mousemove\",o),n.add(e,\"touchmove\",a),n.add(window,\"mouseup\",function(l){r=!1}),n.add(e,\"touchend\",function(l){r=!1}),n.add(e,\"touchcancel\",function(l){r=!1})}var bae=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,wae=360,qT=\"keydown\",Ep=\"mousedown\",c0=\"focusin\";function eo(n,e){return(e||document).querySelector(n)}function xae(n){n.preventDefault(),n.stopPropagation()}function u0(n,e,t,r,i){n.add(e,qT,function(s){t.indexOf(s.key)>=0&&r(s)})}var WT=function(){function n(e){R2(this,n),this.settings={popup:\"right\",layout:\"default\",alpha:!0,editor:!0,editorFormat:\"hex\",cancelButton:!1,defaultColor:\"#0cf\"},this._events=new vae,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return D2(n,[{key:\"setOptions\",value:function(t){var r=this;if(!t)return;var i=this.settings;function s(u,f,d){for(var h in u)f[h]=u[h]}if(t instanceof HTMLElement)i.parent=t;else{i.parent&&t.parent&&i.parent!==t.parent&&(this._events.remove(i.parent),this._popupInited=!1),s(t,i),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var o=t.color||t.colour;o&&this._setColor(o)}var a=i.parent;if(a&&i.popup&&!this._popupInited){var l=function(f){return r.openHandler(f)};this._events.add(a,\"click\",l),u0(this._events,a,[\" \",\"Spacebar\",\"Enter\"],l),this._popupInited=!0}else t.parent&&!i.popup&&this.show()}},{key:\"openHandler\",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents=\"none\";var r=t&&t.type===qT?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:\"closeHandler\",value:function(t){var r=t&&t.type,i=!1;if(!t)i=!0;else if(r===Ep||r===c0){var s=(this.__containedEvent||0)+100;t.timeStamp>s&&(i=!0)}else xae(t),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents=\"\",r!==Ep&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:\"movePopup\",value:function(t,r){this.closeHandler(),this.setOptions(t),r&&this.openHandler()}},{key:\"setColor\",value:function(t,r){this._setColor(t,{silent:r})}},{key:\"_setColor\",value:function(t,r){if(typeof t==\"string\"&&(t=t.trim()),!!t){r=r||{};var i=void 0;try{i=new mae(t)}catch(o){if(r.failSilently)return;throw o}if(!this.settings.alpha){var s=i.hsla;s[3]=1,i.hsla=s}this.colour=this.color=i,this._setHSLA(null,null,null,null,r)}}},{key:\"setColour\",value:function(t,r){this.setColor(t,r)}},{key:\"show\",value:function(){var t=this.settings.parent;if(!t)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var i=this.settings.template||'<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div><div class=\"picker_cancel\"><button>Cancel</button></div></div>',s=yae(i);return this.domElement=s,this._domH=eo(\".picker_hue\",s),this._domSL=eo(\".picker_sl\",s),this._domA=eo(\".picker_alpha\",s),this._domEdit=eo(\".picker_editor input\",s),this._domSample=eo(\".picker_sample\",s),this._domOkay=eo(\".picker_done button\",s),this._domCancel=eo(\".picker_cancel button\",s),s.classList.add(\"layout_\"+this.settings.layout),this.settings.alpha||s.classList.add(\"no_alpha\"),this.settings.editor||s.classList.add(\"no_editor\"),this.settings.cancelButton||s.classList.add(\"no_cancel\"),this._ifPopup(function(){return s.classList.add(\"popup\")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:\"hide\",value:function(){return this._toggleDOM(!1)}},{key:\"destroy\",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:\"_bindEvents\",value:function(){var t=this,r=this,i=this.domElement,s=this._events;function o(u,f,d){s.add(u,f,d)}o(i,\"click\",function(u){return u.preventDefault()}),l0(s,this._domH,function(u,f){return r._setHSLA(u)}),l0(s,this._domSL,function(u,f){return r._setHSLA(null,u,1-f)}),this.settings.alpha&&l0(s,this._domA,function(u,f){return r._setHSLA(null,null,null,1-f)});var a=this._domEdit;o(a,\"input\",function(u){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(a,\"focus\",function(u){var f=this;f.selectionStart===f.selectionEnd&&f.select()}),this._ifPopup(function(){var u=function(h){return t.closeHandler(h)};o(window,Ep,u),o(window,c0,u),u0(s,i,[\"Esc\",\"Escape\"],u);var f=function(h){t.__containedEvent=h.timeStamp};o(i,Ep,f),o(i,c0,f),o(t._domCancel,\"click\",u)});var l=function(f){t._ifPopup(function(){return t.closeHandler(f)}),t.onDone&&t.onDone(t.colour)};o(this._domOkay,\"click\",l),u0(s,i,[\"Enter\"],l)}},{key:\"_setPosition\",value:function(){var t=this.settings.parent,r=this.domElement;t!==r.parentNode&&t.appendChild(r),this._ifPopup(function(i){getComputedStyle(t).position===\"static\"&&(t.style.position=\"relative\");var s=i===!0?\"popup_right\":\"popup_\"+i;[\"popup_top\",\"popup_bottom\",\"popup_left\",\"popup_right\"].forEach(function(o){o===s?r.classList.add(o):r.classList.remove(o)}),r.classList.add(s)})}},{key:\"_setHSLA\",value:function(t,r,i,s,o){o=o||{};var a=this.colour,l=a.hsla;[t,r,i,s].forEach(function(u,f){(u||u===0)&&(l[f]=u)}),a.hsla=l,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(a)}},{key:\"_updateUI\",value:function(t){if(!this.domElement)return;t=t||{};var r=this.colour,i=r.hsla,s=\"hsl(\"+i[0]*wae+\", 100%, 50%)\",o=r.hslString,a=r.hslaString,l=this._domH,u=this._domSL,f=this._domA,d=eo(\".picker_selector\",l),h=eo(\".picker_selector\",u),p=eo(\".picker_selector\",f);function g(T,A,O){A.style.left=O*100+\"%\"}function m(T,A,O){A.style.top=O*100+\"%\"}g(l,d,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=s,g(u,h,i[1]),m(u,h,1-i[2]),u.style.color=o,m(f,p,1-i[3]);var b=o,v=b.replace(\"hsl\",\"hsla\").replace(\")\",\", 0)\"),w=\"linear-gradient(\"+[b,v]+\")\";if(this._domA.style.background=w+\", \"+bae,!t.fromEditor){var k=this.settings.editorFormat,x=this.settings.alpha,C=void 0;switch(k){case\"rgb\":C=r.printRGB(x);break;case\"hsl\":C=r.printHSL(x);break;default:C=r.printHex(x)}this._domEdit.value=C}this._domSample.style.color=a}},{key:\"_ifPopup\",value:function(t,r){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):r&&r()}},{key:\"_toggleDOM\",value:function(t){var r=this.domElement;if(!r)return!1;var i=t?\"\":\"none\",s=r.style.display!==i;return s&&(r.style.display=i),s}}]),n}();{var f0=document.createElement(\"style\");f0.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:\"\";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:\"\";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:\"\";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(f0),WT.StyleElement=f0}const Cae=Object.freeze(Object.defineProperty({__proto__:null,default:WT},Symbol.toStringTag,{value:\"Module\"}));</script>\n    <style rel=\"stylesheet\" crossorigin>*:where(:not(html,iframe,canvas,img,svg,video,audio):not(svg *,symbol *)){all:unset;display:revert}*,*:before,*:after{box-sizing:border-box}html{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none}a,button{cursor:revert}ol,ul,menu,summary{list-style:none}img{max-inline-size:100%;max-block-size:100%}table{border-collapse:collapse}input,textarea{-webkit-user-select:auto}textarea{white-space:revert}meter{-webkit-appearance:revert;-moz-appearance:revert;appearance:revert}:where(pre){all:revert;box-sizing:border-box}::placeholder{color:unset}:where([hidden]){display:none}:where([contenteditable]:not([contenteditable=false])){-moz-user-modify:read-write;-webkit-user-modify:read-write;overflow-wrap:break-word;-webkit-line-break:after-white-space;-webkit-user-select:auto}:where([draggable=true]){-webkit-user-drag:element}:where(dialog:modal){all:revert;box-sizing:border-box}::-webkit-details-marker{display:none}*{box-sizing:border-box}body,html{margin:0;padding:0}body{--border-color: #0000001a;--background-color: white;--background-color-gray: #f5f5f7;--cell-height: 28px;--navigation-width: 200px;background:var(--background-color-gray);color:#323338;height:100vh;font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol}.root{display:flex;flex-direction:column;height:100%}table{min-width:100%}thead{height:var(--cell-height);position:sticky;top:0;background-color:var(--background-color);z-index:2;font-weight:600}thead:before{content:\"\";position:absolute;top:0;left:0;width:100%;height:1px;background:var(--background-color);z-index:1;border-bottom:1px solid var(--border-color)}th{text-align:center;white-space:nowrap;padding:0 .5rem}tr{height:var(--cell-height);position:relative}td>div:not(.extended__holder){padding:0 .5rem}tbody tr:nth-child(odd):not(.extended),tbody tr:nth-child(odd):not(.extended) td:first-child,tbody tr:nth-child(odd):not(.extended) .action-tab{background:var(--background-color-gray)}tr.extended{background:var(--background-color-gray)}tr.extended>td:first-child{display:none}tr.extended td{border-left:0;max-width:calc(100vw - var(--navigation-width))}.hide-navigation tr.extended td{max-width:100vw}tr.extended th{background:#fff!important;padding:0 .5rem;white-space:nowrap}.extended__holder{background:var(--background-color);border:1px solid var(--border-color);margin:0 0 0 var(--cell-height);display:flex;width:calc(100vw - var(--navigation-width) - var(--cell-height));flex-wrap:wrap}.extended__holder .extended__holder{width:calc(100vw - var(--navigation-width) - var(--cell-height) - var(--cell-height))}.extended__holder .extended__holder .extended__holder{width:calc(100vw - var(--navigation-width) - var(--cell-height) - var(--cell-height) - var(--cell-height))}.hide-navigation .extended__holder{width:calc(100vw - 1rem)}.extended__holder .icon-button:has(.hamburger-icon){display:none}.extended__links{display:flex;justify-content:flex-start;align-items:center;background:var(--background-color-gray);flex:0 0 calc(100% - 250px);width:100%}.extended__holder .page-bar{height:var(--cell-height);flex:0 0 250px;width:250px}.extended__holder .page-bar__title{display:none}.extended__links .tab{border-radius:0;border:none;width:auto}.extended__holder .table-container{flex:0 0 100%}th,td{height:calc(var(--cell-height) - 1px);border:1px solid var(--border-color);vertical-align:middle}td:first-child:has(button){min-width:calc(var(--cell-height) - 1px);border-left:0;position:sticky;background-color:var(--background-color);z-index:1}td:first-child:has(button):after{content:\"\";position:absolute;top:0;right:-1px;width:1px;height:100%;background:var(--background-color);z-index:1;border-right:1px solid var(--border-color)}td:has(.icon-button),td:has(.icon-button) button:has(svg){width:calc(var(--cell-height) - 1px)}td input{height:calc(var(--cell-height) - 1px);padding:0 .5rem;display:flex;height:100%;min-width:100%}td select{height:calc(var(--cell-height) - 1px);padding-left:.5rem;padding-right:1.5rem;display:flex;height:100%;min-width:100%}select{display:flex;align-items:center;position:relative;background-image:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%20viewBox%3D%220%200%2012%2012%22%3E%3Ctitle%3Edown-arrow%3C%2Ftitle%3E%3Cg%20fill%3D%22%23000000%22%3E%3Cpath%20d%3D%22M10.293%2C3.293%2C6%2C7.586%2C1.707%2C3.293A1%2C1%2C0%2C0%2C0%2C.293%2C4.707l5%2C5a1%2C1%2C0%2C0%2C0%2C1.414%2C0l5-5a1%2C1%2C0%2C1%2C0-1.414-1.414Z%22%20fill%3D%22%23000000%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E);background-size:.6em;background-position:calc(100% - .5rem) center;background-repeat:no-repeat;padding-right:1.5rem}select:focus{box-shadow:0 0 0 2px #007bff inset}td .field-spacer{height:0;padding:0 .5rem;display:block;overflow:hidden;pointer-events:none;min-width:100px;max-width:400px}td input:focus{box-shadow:0 0 0 2px #007bff inset}.table-container{overflow-x:auto}.action-tab{padding:0 .5rem;position:sticky;right:0;background-color:var(--background-color);white-space:nowrap}.action-tab:before{content:\"\";position:absolute;top:0;left:-1px;width:1px;height:100%;background:var(--background-color);z-index:1;border-right:1px solid var(--border-color)}td.action-tab{padding:0rem}button{cursor:pointer;padding:.5rem;border:1px solid var(--border-color);border-radius:.5rem;white-space:nowrap;height:2.5rem}button:focus{box-shadow:0 0 0 2px #007bff inset}.icon-button{width:var(--cell-height);height:var(--cell-height);padding:.3rem;border:0;border-radius:0}.icon-button:focus,.naked-button:focus{box-shadow:0 0 0 2px #007bff inset}.icon-button svg{transition:transform .2s;transform-origin:center}.icon-button.open svg{transform:rotate(90deg)}button:hover,button:active,.tab:hover,.tab:active,.tab.active{background:#e4e4e6}.tab{height:var(--cell-height);display:inline-flex;justify-content:flex-start;align-items:center;padding:.5rem;display:flex;width:100%}.page-bar{background:var(--background-color-gray);height:calc(var(--cell-height) - 1px);display:flex;align-items:center;justify-content:flex-end}.page-bar__title{height:100%;display:flex;align-items:center;font-weight:600;padding:0 .5rem;margin-right:auto}button.new-entry{height:calc(var(--cell-height) - 1px);width:100%;text-align:center;font-weight:400;line-height:calc(var(--cell-height) - 1px);display:flex;justify-content:center;align-items:center}.page-bar__results{white-space:nowrap}.page-bar span{display:block;padding:0 .5rem}.page-bar button{height:100%;display:flex;justify-content:center;align-items:center;border-radius:0;border-top:none;border-bottom:0}.page-bar .icon-button{width:var(--cell-height);height:calc(var(--cell-height) - 1px);border-right:1px solid var(--border-color);border-left:1px solid var(--border-color)}.page-bar button+button,.page-bar .icon-button+button,.page-bar button:first-child{border-left:none}.page-bar button:last-child{border-right:none}#root{justify-content:flex-start;align-items:center}.app-holder{display:flex;flex:1;border-radius:10px;overflow:hidden;background:#fff;margin:0 auto;width:100%}.main-navigation{height:100vh;min-height:100%;position:fixed;left:0;display:flex;flex-direction:column;flex:0 0 var(--navigation-width);width:var(--navigation-width);align-items:flex-start;background:#f5f5f7;border-right:1px solid #e5e7eb;transition:.2s ease-in-out all;overflow-y:auto;padding-top:var(--cell-height);overflow-x:hidden}.main-navigation__title{top:0;position:fixed;background:var(--background-color-gray);height:var(--cell-height);border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;padding:.5rem;padding-left:calc(.5rem + 3px);padding-right:0;align-items:center;font-size:.8rem;font-weight:600;width:calc(var(--navigation-width) - 1px);text-align:center}.main-navigation__title .icon-button{display:flex;justify-content:center;align-items:center}.main-navigation__diagram{border-top:1px solid #e5e7eb;margin-top:auto;font-size:.8rem;font-weight:600;padding-left:.7rem}.main-content{max-height:100vh;transition:.2s ease-in-out all;transform:translate(var(--navigation-width));display:flex;flex-direction:column;flex:1;max-width:calc(100% - var(--navigation-width))}body.hide-navigation .main-navigation{transform:translate(calc(-1 * var(--navigation-width)))}body.hide-navigation .main-content{max-width:100%;transform:translate(0)}.hamburger-icon rect{transition:.2s ease-in-out all}body:not(.hide-navigation) .hamburger-icon rect:first-child{transform:rotate(35deg) translate(-3px,4px)}body:not(.hide-navigation) .hamburger-icon rect:nth-child(2){transform:translate(1px)}body:not(.hide-navigation) .hamburger-icon rect:last-child{transform:rotate(-35deg) translate(-17px,-8px)}.row-actions{display:flex;padding:0!important}.naked-button{height:calc(var(--cell-height) - 1px);padding:0;border:0;border-radius:0}.naked-button:hover{background-color:transparent}.filter strong{display:block;margin-top:.5rem;margin-bottom:1rem;font-weight:600;text-align:center}.filter__group{display:flex;flex-direction:row;width:100%}.filter__group .icon-button{margin-left:auto;border:none}.filter__actions{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;padding:.5rem;width:100%}.filter__actions button{border:none;padding:.5rem;margin:0}.filter__actions button:last-of-type{background:#e4e4e6}.filter__add{margin-left:auto;border:none}.svelte-flow__zoom.svelte-4xkw84{width:100%;height:100%;position:absolute;top:0;left:0;z-index:4}.svelte-flow__pane.svelte-1esy7hx{position:absolute;top:0;left:0;width:100%;height:100%}.svelte-flow__viewport.svelte-1floaup{width:100%;height:100%;position:absolute;top:0;left:0}.svelte-flow__nodes.svelte-tf4uy4{width:100%;height:100%;position:absolute;left:0;top:0}.svelte-flow__selection.svelte-1iugwpu{position:absolute;top:0;left:0}.selection-wrapper.svelte-5pxri{position:absolute;top:0;left:0;z-index:7;pointer-events:all}.svelte-flow.svelte-12wlba6{width:100%;height:100%;overflow:hidden;position:relative;z-index:0;background-color:var(--background-color, var(--background-color-default))}:root{--background-color-default: #fff;--background-pattern-color-default: #ddd;--minimap-mask-color-default: rgb(240, 240, 240, .6);--minimap-mask-stroke-color-default: none;--minimap-mask-stroke-width-default: 1;--controls-button-background-color-default: #fefefe;--controls-button-background-color-hover-default: #f4f4f4;--controls-button-color-default: inherit;--controls-button-color-hover-default: inherit;--controls-button-border-color-default: #eee}.svelte-flow__background.svelte-1r7pe8d{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow{direction:ltr;--xy-edge-stroke-default: #b1b1b7;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #555;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(255, 255, 255, .5);--xy-minimap-background-color-default: #fff;--xy-minimap-mask-background-color-default: rgb(240, 240, 240, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #e2e2e2;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: transparent;--xy-background-pattern-dots-color-default: #91919a;--xy-background-pattern-lines-color-default: #eee;--xy-background-pattern-cross-color-default: #e2e2e2;background-color:var(--xy-background-color, var(--xy-background-color-default));--xy-node-color-default: inherit;--xy-node-border-default: 1px solid #1a192b;--xy-node-background-color-default: #fff;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(0, 0, 0, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #1a192b;--xy-node-border-radius-default: 3px;--xy-handle-background-color-default: #1a192b;--xy-handle-border-color-default: #fff;--xy-selection-background-color-default: rgba(0, 89, 220, .08);--xy-selection-border-default: 1px dotted rgba(0, 89, 220, .8);--xy-controls-button-background-color-default: #fefefe;--xy-controls-button-background-color-hover-default: #f4f4f4;--xy-controls-button-color-default: inherit;--xy-controls-button-color-hover-default: inherit;--xy-controls-button-border-color-default: #eee;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #ffffff;--xy-edge-label-color-default: inherit;--xy-resize-background-color-default: #3367d9}.svelte-flow.dark{--xy-edge-stroke-default: #3e3e3e;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #727272;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(150, 150, 150, .25);--xy-minimap-background-color-default: #141414;--xy-minimap-mask-background-color-default: rgb(60, 60, 60, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #2b2b2b;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: #141414;--xy-background-pattern-dots-color-default: #777;--xy-background-pattern-lines-color-default: #777;--xy-background-pattern-cross-color-default: #777;--xy-node-color-default: #f8f8f8;--xy-node-border-default: 1px solid #3c3c3c;--xy-node-background-color-default: #1e1e1e;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(255, 255, 255, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #999;--xy-handle-background-color-default: #bebebe;--xy-handle-border-color-default: #1e1e1e;--xy-selection-background-color-default: rgba(200, 200, 220, .08);--xy-selection-border-default: 1px dotted rgba(200, 200, 220, .8);--xy-controls-button-background-color-default: #2b2b2b;--xy-controls-button-background-color-hover-default: #3e3e3e;--xy-controls-button-color-default: #f8f8f8;--xy-controls-button-color-hover-default: #fff;--xy-controls-button-border-color-default: #5b5b5b;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #141414;--xy-edge-label-color-default: #f8f8f8}.svelte-flow__background{background-color:var(--xy-background-color, var(--xy-background-color-props, var(--xy-background-color-default)));pointer-events:none;z-index:-1}.svelte-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow__pane{z-index:1}.svelte-flow__pane.draggable{cursor:grab}.svelte-flow__pane.dragging{cursor:grabbing}.svelte-flow__pane.selection{cursor:pointer}.svelte-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.svelte-flow__renderer{z-index:4}.svelte-flow__selection{z-index:6}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible{outline:none}.svelte-flow__edge-path{stroke:var(--xy-edge-stroke, var(--xy-edge-stroke-default));stroke-width:var(--xy-edge-stroke-width, var(--xy-edge-stroke-width-default));fill:none}.svelte-flow__connection-path{stroke:var(--xy-connectionline-stroke, var(--xy-connectionline-stroke-default));stroke-width:var(--xy-connectionline-stroke-width, var(--xy-connectionline-stroke-width-default));fill:none}.svelte-flow .svelte-flow__edges{position:absolute}.svelte-flow .svelte-flow__edges svg{overflow:visible;position:absolute;pointer-events:none}.svelte-flow__edge{pointer-events:visibleStroke}.svelte-flow__edge.selectable{cursor:pointer}.svelte-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.svelte-flow__edge.animated path.svelte-flow__edge-interaction{stroke-dasharray:none;animation:none}.svelte-flow__edge.inactive{pointer-events:none}.svelte-flow__edge.selected,.svelte-flow__edge:focus,.svelte-flow__edge:focus-visible{outline:none}.svelte-flow__edge.selected .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus-visible .svelte-flow__edge-path{stroke:var(--xy-edge-stroke-selected, var(--xy-edge-stroke-selected-default))}.svelte-flow__edge-textwrapper{pointer-events:all}.svelte-flow__edge .svelte-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__connection{pointer-events:none}.svelte-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}svg.svelte-flow__connectionline{z-index:1001;overflow:visible;position:absolute}.svelte-flow__nodes{pointer-events:none;transform-origin:0 0}.svelte-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:default}.svelte-flow__node.selectable{cursor:pointer}.svelte-flow__node.draggable{cursor:grab;pointer-events:all}.svelte-flow__node.draggable.dragging{cursor:grabbing}.svelte-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.svelte-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.svelte-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background-color:var(--xy-handle-background-color, var(--xy-handle-background-color-default));border:1px solid var(--xy-handle-border-color, var(--xy-handle-border-color-default));border-radius:100%}.svelte-flow__handle.connectingfrom{pointer-events:all}.svelte-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.svelte-flow__handle-bottom{top:auto;left:50%;bottom:0;transform:translate(-50%,50%)}.svelte-flow__handle-top{top:0;left:50%;transform:translate(-50%,-50%)}.svelte-flow__handle-left{top:50%;left:0;transform:translate(-50%,-50%)}.svelte-flow__handle-right{top:50%;right:0;transform:translate(50%,-50%)}.svelte-flow__edgeupdater{cursor:move;pointer-events:all}.svelte-flow__panel{position:absolute;z-index:5;margin:15px}.svelte-flow__panel.top{top:0}.svelte-flow__panel.bottom{bottom:0}.svelte-flow__panel.left{left:0}.svelte-flow__panel.right{right:0}.svelte-flow__panel.center{left:50%;transform:translate(-50%)}.svelte-flow__attribution{font-size:10px;background:var(--xy-attribution-background-color, var(--xy-attribution-background-color-default));padding:2px 3px;margin:0}.svelte-flow__attribution a{text-decoration:none;color:#999}@keyframes dashdraw{0%{stroke-dashoffset:10}}.svelte-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:0;top:0}.svelte-flow__viewport-portal{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__minimap{background:var( --xy-minimap-background-color-props, var(--xy-minimap-background-color, var(--xy-minimap-background-color-default)) )}.svelte-flow__minimap-svg{display:block}.svelte-flow__minimap-mask{fill:var( --xy-minimap-mask-background-color-props, var(--xy-minimap-mask-background-color, var(--xy-minimap-mask-background-color-default)) );stroke:var( --xy-minimap-mask-stroke-color-props, var(--xy-minimap-mask-stroke-color, var(--xy-minimap-mask-stroke-color-default)) );stroke-width:var( --xy-minimap-mask-stroke-width-props, var(--xy-minimap-mask-stroke-width, var(--xy-minimap-mask-stroke-width-default)) )}.svelte-flow__minimap-node{fill:var( --xy-minimap-node-background-color-props, var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default)) );stroke:var( --xy-minimap-node-stroke-color-props, var(--xy-minimap-node-stroke-color, var(--xy-minimap-node-stroke-color-default)) );stroke-width:var( --xy-minimap-node-stroke-width-props, var(--xy-minimap-node-stroke-width, var(--xy-minimap-node-stroke-width-default)) )}.svelte-flow__background-pattern.dots{fill:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-dots-color-default)) )}.svelte-flow__background-pattern.lines{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-lines-color-default)) )}.svelte-flow__background-pattern.cross{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-cross-color-default)) )}.svelte-flow__controls{display:flex;flex-direction:column;box-shadow:var(--xy-controls-box-shadow, var(--xy-controls-box-shadow-default))}.svelte-flow__controls.horizontal{flex-direction:row}.svelte-flow__controls-button{display:flex;justify-content:center;align-items:center;height:26px;width:26px;padding:4px;border:none;background:var(--xy-controls-button-background-color, var(--xy-controls-button-background-color-default));border-bottom:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) );color:var( --xy-controls-button-color-props, var(--xy-controls-button-color, var(--xy-controls-button-color-default)) );cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__controls-button svg{width:100%;max-width:12px;max-height:12px;fill:currentColor}.svelte-flow__edge.updating .svelte-flow__edge-path{stroke:#777}.svelte-flow__edge-text{font-size:10px}.svelte-flow__node.selectable:focus,.svelte-flow__node.selectable:focus-visible{outline:none}.svelte-flow__node-input,.svelte-flow__node-default,.svelte-flow__node-output,.svelte-flow__node-group{padding:10px;border-radius:var(--xy-node-border-radius, var(--xy-node-border-radius-default));width:150px;font-size:12px;color:var(--xy-node-color, var(--xy-node-color-default));text-align:center;border:var(--xy-node-border, var(--xy-node-border-default));background-color:var(--xy-node-background-color, var(--xy-node-background-color-default))}.svelte-flow__node-input.selectable:hover,.svelte-flow__node-default.selectable:hover,.svelte-flow__node-output.selectable:hover,.svelte-flow__node-group.selectable:hover{box-shadow:var(--xy-node-boxshadow-hover, var(--xy-node-boxshadow-hover-default))}.svelte-flow__node-input.selectable.selected,.svelte-flow__node-input.selectable:focus,.svelte-flow__node-input.selectable:focus-visible,.svelte-flow__node-default.selectable.selected,.svelte-flow__node-default.selectable:focus,.svelte-flow__node-default.selectable:focus-visible,.svelte-flow__node-output.selectable.selected,.svelte-flow__node-output.selectable:focus,.svelte-flow__node-output.selectable:focus-visible,.svelte-flow__node-group.selectable.selected,.svelte-flow__node-group.selectable:focus,.svelte-flow__node-group.selectable:focus-visible{box-shadow:var(--xy-node-boxshadow-selected, var(--xy-node-boxshadow-selected-default))}.svelte-flow__node-group{background-color:var(--xy-node-group-background-color, var(--xy-node-group-background-color-default))}.svelte-flow__nodesselection-rect,.svelte-flow__selection{background:var(--xy-selection-background-color, var(--xy-selection-background-color-default));border:var(--xy-selection-border, var(--xy-selection-border-default))}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible,.svelte-flow__selection:focus,.svelte-flow__selection:focus-visible{outline:none}.svelte-flow__controls-button:hover{background:var( --xy-controls-button-background-color-hover-props, var(--xy-controls-button-background-color-hover, var(--xy-controls-button-background-color-hover-default)) );color:var( --xy-controls-button-color-hover-props, var(--xy-controls-button-color-hover, var(--xy-controls-button-color-hover-default)) )}.svelte-flow__controls-button:disabled{pointer-events:none}.svelte-flow__controls-button:disabled svg{fill-opacity:.4}.svelte-flow__controls-button:last-child{border-bottom:none}.svelte-flow__resize-control{position:absolute}.svelte-flow__resize-control.left,.svelte-flow__resize-control.right{cursor:ew-resize}.svelte-flow__resize-control.top,.svelte-flow__resize-control.bottom{cursor:ns-resize}.svelte-flow__resize-control.top.left,.svelte-flow__resize-control.bottom.right{cursor:nwse-resize}.svelte-flow__resize-control.bottom.left,.svelte-flow__resize-control.top.right{cursor:nesw-resize}.svelte-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));transform:translate(-50%,-50%)}.svelte-flow__resize-control.handle.left{left:0;top:50%}.svelte-flow__resize-control.handle.right{left:100%;top:50%}.svelte-flow__resize-control.handle.top{left:50%;top:0}.svelte-flow__resize-control.handle.bottom{left:50%;top:100%}.svelte-flow__resize-control.handle.top.left,.svelte-flow__resize-control.handle.bottom.left{left:0}.svelte-flow__resize-control.handle.top.right,.svelte-flow__resize-control.handle.bottom.right{left:100%}.svelte-flow__resize-control.line{border-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));border-width:0;border-style:solid}.svelte-flow__resize-control.line.left,.svelte-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.svelte-flow__resize-control.line.left{left:0;border-left-width:1px}.svelte-flow__resize-control.line.right{left:100%;border-right-width:1px}.svelte-flow__resize-control.line.top,.svelte-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.svelte-flow__resize-control.line.top{top:0;border-top-width:1px}.svelte-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.svelte-flow__edge-label{text-align:center;position:absolute;padding:2px;font-size:10px;cursor:pointer;color:var(--xy-edge-label-color, var(--xy-edge-label-color-default));background:var(--xy-edge-label-background-color, var(--xy-edge-label-background-color-default))}.svelte-flow__nodes,.svelte-flow__edgelabel-renderer{z-index:0}.entity-fields.svelte-6slv8o{border:1px solid #cbd2d9;border-top:0;border-radius:0 0 4px 4px}.entity-node.svelte-6slv8o{--entity-color: rgb(145, 196, 242);border-radius:4px;background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;border-top:8px solid hsla(var(--color),70%,50%,1);min-width:200px}.entity-node.svelte-6slv8o:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.entity-name.svelte-6slv8o{position:relative;padding:8px;background-color:#f8fafc;border:1px solid rgb(203 213 225);font-size:1.25rem;line-height:1.75rem;font-weight:400;text-align:center}.entity-field.svelte-6slv8o{position:relative;padding:8px;font-size:.9rem;color:#606f7b;padding-inline-start:16px}.entity-field.svelte-6slv8o:hover{background:#f5f7fa}.svelte-flow__handle.connectionindicator{visibility:hidden}.msg.svelte-yni9t8{width:100%;font:4em sans-serif;margin-top:5rem;margin-left:auto;margin-right:auto;text-align:center}body{--primary-color: #007bff;--hover-color: #0056b3}.result-count.svelte-177wg27{text-align:right;margin-top:-.5rem;margin-bottom:.5rem;margin-right:.5rem;font-size:.7rem;color:rgb(var(--color-black) / .8)}input.svelte-177wg27{width:100%;padding:.5rem;margin-bottom:.5rem;border:.1rem solid rgb(var(--color-black) / .5)}input.svelte-177wg27:focus{border-color:var(--primary-color);outline:0;box-shadow:.2rem #007bff40}.dialog-list.svelte-177wg27{display:flex;flex-direction:column;justify-content:stretch;gap:.2rem}button.svelte-177wg27:focus{box-shadow:0 0 0 2px #007bff inset}.skeleton.svelte-1syc90w{background-color:#eee;background-image:linear-gradient(90deg,#eee,#f5f5f5,#eee);background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:var(--width);height:12px;animation:svelte-1syc90w-skeleton-animation 1.5s ease-in-out infinite}@keyframes svelte-1syc90w-skeleton-animation{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}button.svelte-1ualm2c{padding:.3rem;width:100%}.btn-txt.svelte-1ualm2c{width:100%;text-align:left}.jse-absolute-popup.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input:where(.svelte-1r8q3m8){position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content:where(.svelte-1r8q3m8){position:absolute}.fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scaleX(-1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scaleY(-1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.jse-boolean-toggle.svelte-1ryp01u{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean, #ff8c00)}.jse-boolean-toggle.svelte-1ryp01u:not(.jse-readonly){cursor:pointer}.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow:before,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow:after{background:var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));line-height:normal}.jse-color-picker-popup.svelte-s1wu8v .picker_slider,.jse-color-picker-popup.svelte-s1wu8v .picker_sl,.jse-color-picker-popup.svelte-s1wu8v .picker_editor input,.jse-color-picker-popup.svelte-s1wu8v .picker_sample,.jse-color-picker-popup.svelte-s1wu8v .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-s1wu8v .picker_editor input{background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-color-picker-popup.svelte-s1wu8v .picker_done button{background:var(--jse-button-background, #e0e0e0);color:var(--jse-button-color, var(--jse-text-color, #4d4d4d))}.jse-color-picker-popup.svelte-s1wu8v .picker_done button:hover{background:var(--jse-button-background-highlight, #e7e7e7)}.jse-color-picker-button.svelte-xeg9n6{font-size:var(--jse-font-size-mono, 14px);width:var(--jse-color-picker-button-size, 1em);height:var(--jse-color-picker-button-size, 1em);box-sizing:border-box;padding:0;margin:2px 0 0 calc(.5 * var(--jse-padding, 10px));display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color, #4d4d4d);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-xeg9n6:not(.jse-readonly){cursor:pointer}.jse-value.jse-string.svelte-f9kmxj{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-f9kmxj,.jse-value.jse-array.svelte-f9kmxj{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-value.jse-number.svelte-f9kmxj{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-f9kmxj{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-f9kmxj{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-f9kmxj{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-f9kmxj{color:var(--jse-value-color-url, #008000);text-decoration:underline}div.jse-editable-div.svelte-f9kmxj{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text!important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-f9kmxj{overflow-wrap:normal}div.jse-editable-div.jse-table-cell.svelte-f9kmxj{overflow-wrap:normal;white-space:nowrap}div.jse-editable-div[contenteditable=true].svelte-f9kmxj{outline:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff);position:relative;display:inline-block;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-f9kmxj:not(:focus){outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-f9kmxj:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2))}.jse-highlight.svelte-5fb7bl{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-highlight.jse-active.svelte-5fb7bl{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-value.jse-string.svelte-c0g9qz{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-c0g9qz,.jse-value.jse-array.svelte-c0g9qz{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-value.jse-number.svelte-c0g9qz{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-c0g9qz{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-c0g9qz{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-c0g9qz{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-c0g9qz{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-value.svelte-c0g9qz{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.jse-table-cell.svelte-c0g9qz{overflow-wrap:normal;white-space:nowrap}.jse-value.jse-empty.svelte-c0g9qz{min-width:4em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}.jse-value.jse-empty.svelte-c0g9qz:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2));content:\"value\"}.jse-tooltip.svelte-14y3y8t{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);border-radius:3px;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-timestamp.svelte-1jla5ec{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number, #ee422e)}svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}.loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate .75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{to{transform:rotate(360deg)}}.svelte-select.svelte-82qwg8{--borderRadius: var(--border-radius);--clearSelectColor: var(--clear-select-color);--clearSelectWidth: var(--clear-select-width);--disabledBackground: var(--disabled-background);--disabledBorderColor: var(--disabled-border-color);--disabledColor: var(--disabled-color);--disabledPlaceholderColor: var(--disabled-placeholder-color);--disabledPlaceholderOpacity: var(--disabled-placeholder-opacity);--errorBackground: var(--error-background);--errorBorder: var(--error-border);--groupItemPaddingLeft: var(--group-item-padding-left);--groupTitleColor: var(--group-title-color);--groupTitleFontSize: var(--group-title-font-size);--groupTitleFontWeight: var(--group-title-font-weight);--groupTitlePadding: var(--group-title-padding);--groupTitleTextTransform: var(--group-title-text-transform);--groupTitleBorderColor: var(--group-title-border-color);--groupTitleBorderWidth: var(--group-title-border-width);--groupTitleBorderStyle: var(--group-title-border-style);--indicatorColor: var(--chevron-color);--indicatorHeight: var(--chevron-height);--indicatorWidth: var(--chevron-width);--inputColor: var(--input-color);--inputLeft: var(--input-left);--inputLetterSpacing: var(--input-letter-spacing);--inputMargin: var(--input-margin);--inputPadding: var(--input-padding);--itemActiveBackground: var(--item-active-background);--itemColor: var(--item-color);--itemFirstBorderRadius: var(--item-first-border-radius);--itemHoverBG: var(--item-hover-bg);--itemHoverColor: var(--item-hover-color);--itemIsActiveBG: var(--item-is-active-bg);--itemIsActiveColor: var(--item-is-active-color);--itemIsNotSelectableColor: var(--item-is-not-selectable-color);--itemPadding: var(--item-padding);--listBackground: var(--list-background);--listBorder: var(--list-border);--listBorderRadius: var(--list-border-radius);--listEmptyColor: var(--list-empty-color);--listEmptyPadding: var(--list-empty-padding);--listEmptyTextAlign: var(--list-empty-text-align);--listMaxHeight: var(--list-max-height);--listPosition: var(--list-position);--listShadow: var(--list-shadow);--listZIndex: var(--list-z-index);--multiItemBG: var(--multi-item-bg);--multiItemBorderRadius: var(--multi-item-border-radius);--multiItemDisabledHoverBg: var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor: var(--multi-item-disabled-hover-color);--multiItemHeight: var(--multi-item-height);--multiItemMargin: var(--multi-item-margin);--multiItemPadding: var(--multi-item-padding);--multiSelectInputMargin: var(--multi-select-input-margin);--multiSelectInputPadding: var(--multi-select-input-padding);--multiSelectPadding: var(--multi-select-padding);--placeholderColor: var(--placeholder-color);--placeholderOpacity: var(--placeholder-opacity);--selectedItemPadding: var(--selected-item-padding);--spinnerColor: var(--spinner-color);--spinnerHeight: var(--spinner-height);--spinnerWidth: var(--spinner-width);--internal-padding: 0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8,.indicators.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container:where(.svelte-82qwg8)>input:where(.svelte-82qwg8){width:100%;height:100%}input.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input:where(.svelte-82qwg8)::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item:where(.svelte-82qwg8){position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input:where(.svelte-82qwg8){padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px,1px,1px,1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap}.multi-item.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color: var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, .24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all .2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8,.item.not-selectable.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}table.jse-transform-wizard.svelte-qbze6z{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-qbze6z input:where(.svelte-qbze6z){font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) th:where(.svelte-qbze6z){font-weight:400;text-align:left;width:60px}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z){width:100%;display:flex;flex-direction:row;margin-bottom:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .value-container{gap:0!important}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-path{flex:4;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-path{flex:3;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z){flex:4;padding:4px 8px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);outline:none;background:var(--jse-input-background, var(--jse-background-color, #fff));color:inherit}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-select-query-language.svelte-atm4um{position:relative;width:32px}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um){position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;text-align:left;padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));white-space:nowrap;color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));background:var(--jse-context-menu-background, #656565)}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-header.svelte-1y24war{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1y24war .jse-title:where(.svelte-1y24war){flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1y24war button:where(.svelte-1y24war){border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1y24war button:where(.svelte-1y24war):hover{background:#ffffff1a}.jse-config.svelte-1kpylsp{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-config.svelte-1kpylsp:hover{background:#ffffff1a}.jse-config.hide.svelte-1kpylsp{display:none}.jse-message.svelte-czprfx{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);padding:var(--jse-padding, 10px);display:flex;gap:var(--jse-padding, 10px);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-czprfx{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff)}.jse-message.svelte-czprfx .jse-text:where(.svelte-czprfx){display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx){cursor:pointer}.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx):hover{background-color:#ffffff1a}.jse-message.jse-error.svelte-czprfx{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-message.jse-warning.svelte-czprfx{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-message.jse-info.svelte-czprfx{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx){display:flex;gap:var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx){border:none;background:transparent;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-message-action-background, rgba(255, 255, 255, .2));color:inherit;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx):hover{background:var(--jse-message-action-background-highlight, rgba(255, 255, 255, .3))}.jse-validation-errors-overview.svelte-1uindol{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol){border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol){cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-error:where(.svelte-1uindol){background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol){background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol):hover{filter:brightness(105%)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-info:where(.svelte-1uindol){background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol):hover{filter:brightness(110%)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol){padding:4px var(--jse-padding, 10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-icon:where(.svelte-1uindol){width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol){width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol){border:none;background:transparent;color:inherit;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol):hover{background-color:#fff3}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol) div.jse-validation-errors-expand:where(.svelte-1uindol){display:inline-block;position:relative;top:3px}dialog.jse-modal.svelte-1s9c2ql{border-radius:3px;font-size:var(--jse-padding, 10px);border:none;padding:0;display:flex;min-width:0;margin:auto;overflow:visible;transition:width .1s ease-in-out,height .1s ease-in-out}dialog.jse-modal.jse-sort-modal.svelte-1s9c2ql{width:400px}dialog.jse-modal.jse-repair-modal.svelte-1s9c2ql{width:600px;height:500px}dialog.jse-modal.jse-jsoneditor-modal.svelte-1s9c2ql{width:800px;height:600px}dialog.jse-modal.jse-transform-modal.svelte-1s9c2ql{width:1200px;height:800px}dialog.jse-modal.jse-fullscreen.svelte-1s9c2ql{width:100%;height:100%}dialog.jse-modal.svelte-1s9c2ql::backdrop{background:var(--jse-overlay-background, rgba(0, 0, 0, .3))}dialog.jse-modal[open].svelte-1s9c2ql{animation:svelte-1s9c2ql-zoom .3s cubic-bezier(.34,1.56,.64,1)}dialog.jse-modal[open].svelte-1s9c2ql::backdrop{animation:svelte-1s9c2ql-fade .2s ease-out}dialog.jse-modal.svelte-1s9c2ql .jse-modal-inner:where(.svelte-1s9c2ql){flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;padding:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}@keyframes svelte-1s9c2ql-zoom{0%{transform:scale(.95)}to{transform:scale(1)}}@keyframes svelte-1s9c2ql-fade{0%{opacity:0}to{opacity:1}}dialog.jse-modal.svelte-1s9c2ql .svelte-select{--border: var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg: var(--jse-item-is-active-bg, #3883fa);--border-radius: var(--jse-svelte-select-border-radius, 3px);--background: var(--jse-svelte-select-background, #fff);--padding: var(--jse-svelte-select-padding, 0 10px);--multi-select-padding: var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size: var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height: 36px;--multi-item-height: 28px;--multi-item-margin: 2px;--multi-item-padding: 2px 8px;--multi-item-border-radius: 6px;--indicator-top: 8px}.jse-modal-contents.svelte-189qksl{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-shortcuts.svelte-189qksl{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding, 10px)) 0}.jse-shortcuts.svelte-189qksl .jse-shortcut:where(.svelte-189qksl) .jse-key:where(.svelte-189qksl){font-size:200%;color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-pf7s2l{background:var(--jse-theme-color, #3883fa);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-main-menu, 14px);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l){font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size, 32px);height:var(--jse-menu-button-size, 32px);padding:calc(.5 * var(--jse-padding, 10px));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):hover,.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):disabled{color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:.5;background:transparent}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l){width:auto;height:calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));margin:calc(.5 * var(--jse-padding, 10px)) 0;padding:0 calc(.5 * var(--jse-padding, 10px)) 1px;border:1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):not(.jse-last){border-right:none}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-first:where(.svelte-pf7s2l){margin-left:calc(.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-last:where(.svelte-pf7s2l){margin-right:calc(.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):hover,.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-selected:where(.svelte-pf7s2l){background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-pf7s2l .jse-space:where(.svelte-pf7s2l){flex:1}.jse-menu.svelte-pf7s2l .jse-separator:where(.svelte-pf7s2l){background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:.3;width:1px;margin:3px}.jse-json-repair-component.svelte-3golau{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-json-repair-component.svelte-3golau .jse-info:where(.svelte-3golau){padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);vertical-align:center}.jse-json-repair-component.svelte-3golau .jse-json-text:where(.svelte-3golau){flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-input-background, var(--jse-background-color, #fff));color:var(--jse-text-color, #4d4d4d);resize:none;outline:none}div.jse-collapsed-items.svelte-1h6hzoq{margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, .38));padding:calc(.5 * var(--jse-padding, 10px));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color, transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5),var(--jse-collapsed-items-background-color, #f5f5f5)),linear-gradient(to bottom right,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to bottom left,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to top right,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to top left,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);background-repeat:repeat,repeat-x,repeat-x,repeat-x,repeat-x;background-position:0 0,8px 0,8px 0,8px 100%,8px 100%;background-size:auto auto,16px 16px,16px 16px,16px 16px,16px 16px;background-clip:padding-box,border-box,border-box,border-box,border-box;background-origin:padding-box,border-box,border-box,border-box,border-box;display:flex}div.jse-collapsed-items.jse-selected.svelte-1h6hzoq{background-color:var(--jse-selection-background-color, #d3d3d3);--jse-collapsed-items-background-color: var(--jse-collapsed-items-selected-background-color, #c2c2c2)}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq),div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq){margin:0 calc(.5 * var(--jse-padding, 10px))}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq){display:inline}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq){font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, .38));background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):hover,div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):focus{color:var(--jse-collapsed-items-link-color-highlight, #ee5341)}.jse-context-menu-pointer.svelte-137iwnw{position:absolute;top:calc(-.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px) ));right:calc(-.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px) ));width:var(--jse-context-menu-pointer-size, calc(1em + 4px) );height:var(--jse-context-menu-pointer-size, calc(1em + 4px) );padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-hover-background, #b2b2b2);color:var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));border:none;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-context-menu-pointer.jse-root.svelte-137iwnw{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px) ))}.jse-context-menu-pointer.jse-insert.svelte-137iwnw{right:-1px}.jse-context-menu-pointer.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw{background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-key.svelte-2iqnqn{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color, #1a1a1a);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.jse-empty.svelte-2iqnqn{min-width:3em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}.jse-key.jse-empty.svelte-2iqnqn:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2));content:\"key\"}button.jse-validation-error.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-error-color, #ee5341)}button.jse-validation-info.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-info-color, #4f91ff)}button.jse-validation-warning.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color, #fdc539)}.jse-expand.svelte-wovgt4{width:var(--jse-indent-size, calc(1em + 4px) );padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38));font-size:var(--jse-font-size-mono, 14px);height:var(--jse-line-height, calc(1em + 4px) )}.jse-expand.svelte-wovgt4:hover{opacity:.8}.jse-meta.svelte-wovgt4,.jse-separator.svelte-wovgt4,.jse-index.svelte-wovgt4,.jse-bracket.svelte-wovgt4{vertical-align:top;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-index.svelte-wovgt4{padding:0 calc(.5 * var(--jse-padding, 10px))}.jse-bracket.svelte-wovgt4{padding:0 2px}.jse-bracket.jse-expanded.svelte-wovgt4{padding-right:var(--jse-padding, 10px)}.jse-tag.svelte-wovgt4{border:none;font-size:80%;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tag-background, rgba(0, 0, 0, .2));border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-wovgt4:hover{opacity:.8}.jse-tag.jse-expanded.svelte-wovgt4{opacity:.7;cursor:inherit}.jse-identifier.svelte-wovgt4{vertical-align:top;position:relative}.jse-json-node.svelte-wovgt4{position:relative;color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-root.svelte-wovgt4{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-wovgt4>.jse-contents-outer:where(.svelte-wovgt4)>.jse-contents:where(.svelte-wovgt4){padding-left:0}.jse-json-node.svelte-wovgt4 .jse-props:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-items:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-header-outer:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-footer-outer:where(.svelte-wovgt4){display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ))}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4) .jse-meta:where(.svelte-wovgt4)>.jse-meta-inner:where(.svelte-wovgt4){display:flex;justify-content:center}.jse-json-node.svelte-wovgt4 .jse-contents-outer:where(.svelte-wovgt4){display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ))}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4){display:flex;flex-direction:row;align-items:flex-start}.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4){padding-left:var(--jse-indent-size, calc(1em + 4px) );cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4) .jse-value-outer:where(.svelte-wovgt4){display:inline-flex}.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){display:inline-flex;padding-left:calc(var(--jse-indent-size, calc(1em + 4px) ) + 5px)}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){background:var(--jse-contents-background-color, transparent)}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area:where(.svelte-wovgt4){padding:0 calc(.5 * var(--jse-padding, 10px));flex:1}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-inside:where(.svelte-wovgt4){display:inline-flex;align-items:center}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-after:where(.svelte-wovgt4){display:flex;align-items:flex-end}.jse-json-node.svelte-wovgt4 .jse-context-menu-pointer-anchor:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-insert-area:where(.svelte-wovgt4){display:flex;position:relative;z-index:1;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ));max-width:250px;min-width:100px;height:0;margin-right:calc(.5 * var(--jse-padding, 10px));outline:1px solid}.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-hovered:where(.svelte-wovgt4){outline-color:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta{background:none}.jse-json-node.jse-selected.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.jse-selected.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover{background:inherit;cursor:inherit}.jse-json-node.svelte-wovgt4 .jse-key-outer.jse-selected-key:where(.svelte-wovgt4){background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer .jse-key-outer:hover{background:inherit;cursor:inherit}.jse-json-node.jse-readonly.svelte-wovgt4{--jse-contents-selected-cursor: pointer}.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-selected:where(.svelte-wovgt4){outline-color:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-welcome.svelte-1eamlhk{flex:1;overflow:auto;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk .jse-space.jse-before:where(.svelte-1eamlhk){flex:1}.jse-welcome.svelte-1eamlhk .jse-space.jse-after:where(.svelte-1eamlhk){flex:2}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk){display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding, 10px);gap:var(--jse-padding, 10px)}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) .jse-welcome-info:where(.svelte-1eamlhk){color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-navigation-bar-dropdown.svelte-2nnd2m{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m){font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px)) 36px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):focus,.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):hover{background:var(--jse-navigation-bar-background-highlight, #e5e5e5)}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.jse-selected:where(.svelte-2nnd2m){background:var(--jse-navigation-bar-dropdown-color, #656565);color:var(--jse-navigation-bar-background, var(--jse-background-color, #fff))}.jse-navigation-bar-item.svelte-752ro1{position:relative;display:flex}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1){font-family:inherit;font-size:inherit;padding:calc(.5 * var(--jse-padding, 10px)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):focus,.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):hover{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d))}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow:where(.svelte-752ro1){padding:2px var(--jse-padding, 10px) 0}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open:where(.svelte-752ro1){background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565)}.jse-navigation-bar-item.svelte-752ro1:last-child{padding-right:var(--jse-padding, 10px)}.jse-navigation-bar-path-editor.svelte-zc2wx7{flex:1;display:flex;border:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff)}.jse-navigation-bar-path-editor.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7){flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-zc2wx7 button:where(.svelte-zc2wx7){border:none;background:var(--jse-background-color, #fff);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-copy.copied:where(.svelte-zc2wx7){color:var(--message-success-background, #9ac45d)}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-validation-error:where(.svelte-zc2wx7){color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7{border-color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7){color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.svelte-zc2wx7 .jse-copied-text:where(.svelte-zc2wx7){background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff);position:relative;margin:2px;padding:0 5px;border-radius:3px}.jse-navigation-bar.svelte-xs03gj{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-button-color, inherit);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj){font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);color:var(--jse-panel-color-readonly, #b2b2b2);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.flex:where(.svelte-xs03gj){flex:1}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):focus,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):hover,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.editing:where(.svelte-xs03gj){background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));transition:color .2s ease-in,background .2s ease-in}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj) .jse-navigation-bar-space:where(.svelte-xs03gj){flex:1;text-align:left}.jse-search-box.svelte-1mxl2uo{border:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-radius:3px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo){display:flex;align-items:stretch}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo),.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo){font-family:inherit;font-size:inherit}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo){display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo):hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo){color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:3px;background:var(--jse-input-background, var(--jse-background-color, #fff));height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-replace-toggle:where(.svelte-1mxl2uo){padding:var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px));min-width:20px;background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo){flex:1;display:flex;flex-direction:column;padding:calc(.5 * var(--jse-padding, 10px));gap:calc(.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo){flex:1;display:flex;align-items:center;position:relative}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-icon:where(.svelte-1mxl2uo){color:inherit;cursor:inherit;background:inherit;width:32px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) label.jse-search-input-label:where(.svelte-1mxl2uo){flex:1;display:flex}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count:where(.svelte-1mxl2uo){color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count.jse-visible:where(.svelte-1mxl2uo){visibility:visible}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo){flex:1;display:flex;padding-left:32px}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo){width:auto}.jse-json-preview.svelte-1vjn89h{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-dropdown-button.svelte-11rxb2m{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m){margin:0;padding:0}.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m) li:where(.svelte-11rxb2m){margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));border-radius:0}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.jse-visible:where(.svelte-11rxb2m){background:var(--jse-context-menu-background, #656565)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):focus{z-index:1}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m){display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items.jse-visible:where(.svelte-11rxb2m){display:block}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;width:100%;text-align:left;padding:var(--jse-padding, 10px);margin:0}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.svelte-1idfykj{border:none;background:transparent;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-1idfykj:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-1idfykj:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-1idfykj:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-1idfykj{text-align:left}button.jse-context-menu-button.svelte-1idfykj svg{width:16px}.jse-contextmenu.svelte-12z7bz1{box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff))}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1){display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-label:where(.svelte-12z7bz1){flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:var(--jse-context-menu-color-disabled, #9d9d9d);line-height:normal}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1){flex:1;background:var(--jse-context-menu-tip-background, rgba(255, 255, 255, .2));color:var(--context-menu-tip-color, inherit);margin:calc(.5 * var(--jse-padding, 10px));padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:flex-start;gap:var(--jse-padding, 10px);border-radius:3px}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1) div.jse-tip-icon:where(.svelte-12z7bz1){padding-top:calc(.5 * var(--jse-padding, 10px))}.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1){flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1):not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color, #7a7a7a)}.jse-contextmenu.svelte-12z7bz1 .jse-separator:where(.svelte-12z7bz1){width:100%;height:1px;background:var(--jse-context-menu-separator-color, #7a7a7a)}.jse-tree-mode.svelte-vrx1dr{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px) )}.jse-tree-mode.svelte-vrx1dr .jse-hidden-input-label:where(.svelte-vrx1dr) .jse-hidden-input:where(.svelte-vrx1dr){position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.no-main-menu.svelte-vrx1dr{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-search-box-container:where(.svelte-vrx1dr){position:relative;height:0;top:var(--jse-padding, 10px);margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr){flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading-space:where(.svelte-vrx1dr){flex:1}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading:where(.svelte-vrx1dr){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-search-box-background:where(.svelte-vrx1dr){border:50px solid var(--jse-modal-background, #f5f5f5);margin:-2px -2px 2px;display:inline-block}.jse-transform-modal-inner.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb){color:inherit;flex:1;display:flex;flex-direction:column;padding:0;overflow:auto;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb){flex:1;display:flex;gap:calc(2 * var(--jse-padding, 10px));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p{margin:var(--jse-padding, 10px) 0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:first-child{margin-top:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:last-child{margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) code{background:var(--jse-modal-code-background, rgba(0, 0, 0, .05));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .query-error:where(.svelte-rrrjnb){color:var(--jse-error-color, #ee5341)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb){flex:1;outline:none;resize:vertical}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data.jse-hide:where(.svelte-rrrjnb){flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-preview-data:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents.jse-hide-original-data:where(.svelte-rrrjnb){flex-direction:column;gap:0;margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb){padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px))}@media screen and (max-width: 1200px){.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb){flex-direction:column;overflow:auto}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb){min-height:150px;flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-tree-mode{height:300px;flex:none}}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb){font-weight:700;display:block;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb){margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb) button:where(.svelte-rrrjnb){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);margin:0;font-weight:700;padding:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly, transparent);box-shadow:none;box-sizing:border-box;--jse-main-border: var(--jse-input-border, 1px solid #d8dbdf)}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb),.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb){border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):focus,.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):read-only,.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):read-only{background:var(--jse-input-background-readonly, transparent)}.jse-transform-modal-inner.svelte-rrrjnb .jse-preview.jse-error:where(.svelte-rrrjnb){flex:1;background:var(--jse-input-background-readonly, transparent);border:var(--jse-input-border, 1px solid #d8dbdf);color:var(--jse-error-color, #ee5341);padding:calc(.5 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb a{color:var(--jse-a-color, #156fc5)}.jse-transform-modal-inner.svelte-rrrjnb a:hover{color:var(--jse-a-color-highlight, #0f508d)}.jse-status-bar.svelte-1ulj7zd{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);margin:0;border-top:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);display:flex;gap:var(--jse-padding, 10px)}.jse-status-bar.svelte-1ulj7zd:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-status-bar.svelte-1ulj7zd .jse-status-bar-info:where(.svelte-1ulj7zd){padding:2px}.jse-text-mode.svelte-xt61xw{--internal-key-color: var(--jse-key-color, #1a1a1a);--internal-value-color-number: var(--jse-value-color-number, #ee422e);--internal-value-color-boolean: var(--jse-value-color-boolean, #ff8c00);--internal-value-color-string: var(--jse-value-color-string, #008000);--internal-value-color-null: var(--jse-value-color-null, #004ed0);flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color, #fff)}.jse-text-mode.no-main-menu.svelte-xt61xw{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw){flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-hidden:where(.svelte-xt61xw){visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px) );color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-gutters{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);border-right:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLine,.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color, rgba(0, 0, 0, .06))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color, #d3d3d3)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color, rgba(153, 255, 119, .5019607843))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background, rgba(0, 0, 0, .2));color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));border:none;padding:0 var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-tooltip{font-size:var(--jse-font-size, 16px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);color:var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));background:var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));border:var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tooltip-action-button-background, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-panels{border-bottom:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search input{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-input-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);background:var(--jse-input-background, var(--jse-background-color, #fff));margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent);border:none;cursor:pointer;text-transform:capitalize;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);margin:0}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);padding-left:var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button[name=close]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading-space:where(.svelte-xt61xw){flex:1}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading:where(.svelte-xt61xw){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-preview:where(.svelte-xt61xw){flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}.jse-inline-value.svelte-h57m0p{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px) );border:none;padding:0 calc(.5 * var(--jse-padding, 10px));background:transparent;color:inherit;cursor:inherit}.jse-inline-value.jse-highlight.svelte-h57m0p{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-inline-value.jse-highlight.jse-active.svelte-h57m0p{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-column-header.svelte-2i3vdx{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-2i3vdx:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-2i3vdx:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-2i3vdx span.jse-column-sort-icon:where(.svelte-2i3vdx){height:1em}.jse-table-mode-welcome.svelte-1q0ce0e{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-before:where(.svelte-1q0ce0e){flex:1}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e){display:flex;flex-direction:column;gap:var(--jse-padding, 10px);max-width:300px;margin:2em var(--jse-padding, 10px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) .jse-nested-arrays-info:where(.svelte-1q0ce0e){color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e){text-align:left;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e) .jse-nested-array-count:where(.svelte-1q0ce0e){opacity:.5;white-space:nowrap}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-after:where(.svelte-1q0ce0e){flex:2}.jse-column-header.svelte-fzj761{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-fzj761:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-fzj761:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-table-mode.svelte-u14cgx{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px) )}.jse-table-mode.no-main-menu.svelte-u14cgx{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-search-box-container:where(.svelte-u14cgx){position:relative;height:0;top:calc(var(--jse-line-height, calc(1em + 4px) ) + 2 * var(--jse-padding, 10px));margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx){position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx) .jse-hidden-input:where(.svelte-u14cgx){width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx){flex:1;align-items:flex-start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;scrollbar-gutter:stable;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx){border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-start-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx),.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx){margin:0;padding:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-search-box-background:where(.svelte-u14cgx){background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx){padding-bottom:var(--jse-padding, 10px)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx):hover{background-color:var(--jse-table-row-odd-background, rgba(0, 0, 0, .05))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx){padding:0 var(--jse-padding, 10px) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height, calc(1em + 4px) )}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx),.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx){font-weight:400;text-align:left;color:var(--jse-text-readonly, #8d8d8d);background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx){padding:0;position:sticky;top:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx) .jse-table-root-error:where(.svelte-u14cgx){padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx){padding:0 var(--jse-padding, 10px) 0 calc(.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx){display:inline-block;cursor:var(--jse-contents-cursor, pointer)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx):hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer.jse-selected-value:where(.svelte-u14cgx){background:var(--jse-selection-background-color, #d3d3d3)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-context-menu-anchor:where(.svelte-u14cgx){display:inline-flex;position:relative;vertical-align:top}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx){align-items:unset}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading-space:where(.svelte-u14cgx){flex:1}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading:where(.svelte-u14cgx){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-modal-wrapper.svelte-v0el4e{flex:1;display:flex;min-width:0;min-height:0;flex-direction:column}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e){flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e){font-weight:700;display:block;box-sizing:border-box}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e) .jse-label-inner:where(.svelte-v0el4e){margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-modal-inline-editor:where(.svelte-v0el4e){flex:1;min-height:150px;min-width:0;max-width:100%;display:flex;--jse-theme-color: var(--jse-modal-editor-theme-color, #707070);--jse-theme-color-highlight: var(--jse-modal-editor-theme-color-highlight, #646464)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e){gap:var(--jse-padding, 10px);align-items:center}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) .jse-error:where(.svelte-v0el4e){flex:1;color:var(--jse-error-color, #ee5341)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-secondary-background, #d3d3d3);color:var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):hover{background:var(--jse-button-secondary-background-highlight, #e1e1e1)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):disabled{background:var(--jse-button-secondary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e){border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal-contents.svelte-1v9c92j{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j){width:100%;border-collapse:collapse;border-spacing:0}.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) th:where(.svelte-1v9c92j),.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) td:where(.svelte-1v9c92j){text-align:left;vertical-align:middle;font-weight:400;padding-bottom:var(--jse-padding, 10px)}.jse-modal-contents.svelte-1v9c92j input.jse-path:where(.svelte-1v9c92j){width:100%;box-sizing:border-box;padding:5px 10px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);font-family:inherit;font-size:inherit;background:inherit;background:var(--jse-input-background-readonly, transparent);color:inherit;outline:none}.jse-modal-contents.svelte-1v9c92j .svelte-select input{box-sizing:border-box}.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j){height:200px}.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j) .jse-error:where(.svelte-1v9c92j){color:var(--jse-error-color, #ee5341)}.jse-main.svelte-57bmz4{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;position:relative;display:flex;flex-direction:row}.jse-main.svelte-57bmz4:not(.jse-focus){--jse-selection-background-color: var(--jse-selection-background-inactive-color, #e8e8e8);--jse-context-menu-pointer-background: var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.entityColor.svelte-17j2tao{border-bottom:2px solid hsla(var(--color),70%,50%,1)}.margin-auto.svelte-17j2tao{margin-left:auto;margin-right:auto}.change.svelte-17j2tao{background-color:#ddfde6!important}.changeHi.svelte-17j2tao{background-color:#bbfbcd!important}.error-label.svelte-17j2tao{position:absolute;bottom:-8px;width:100%;font-size:.8em;color:#d32f2f;margin-top:-2px;text-align:center;background-color:#ffebee;border-radius:2px;transition:opacity .3s ease-in-out}.actions.svelte-ixlb6t{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}.filter__group.svelte-147r7fx{display:grid;grid-template-columns:1fr 1fr 1fr auto;align-items:center;gap:.2rem}input.svelte-147r7fx,select.svelte-147r7fx,button.svelte-147r7fx{border:1px solid var(--border-color);border-radius:0;padding:.2rem .5rem;margin-bottom:.5rem;min-width:0!important;height:var(--cell-height)}.icon-button.svelte-147r7fx{background:none;border:none;cursor:pointer}.w-20.svelte-1iqvyv3{width:20px}.flexItemCenter.svelte-1iqvyv3{display:flex;align-items:center}th.svelte-1iqvyv3{cursor:pointer}.th-span.svelte-1iqvyv3{display:flex;gap:.3rem;align-items:center;justify-content:space-between}.title.svelte-1iqvyv3{border-left:2px solid hsla(var(--color),70%,50%,1)}.loading-skeleton.svelte-1iqvyv3{padding:0 .5rem}button.svelte-1iqvyv3:disabled{opacity:.2;cursor:not-allowed}:root{--dialog-width: 550px;--color-black: 0 0 0;--color-white: 255 255 255;--color-indigo-100: 224 231 255;--color-indigo-400: 129 140 248;--color-indigo-700: 67 56 202;--color-indigo-800: 55 48 163;--color-indigo-900: 49 46 129;--color-magnum-100: 254 242 214;--color-magnum-400: 247 177 85;--color-magnum-700: 189 87 17;--color-magnum-800: 150 69 22;--color-magnum-900: 121 58 21;--color-zinc-100: 244 244 245;--color-zinc-600: 82 82 91;--font-family-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";--font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace}.trigger.svelte-11r9kjw{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1rem;border-radius:.375rem;background-color:rgb(var(--color-white) / 1);font-weight:500;line-height:1;color:rgb(var(--color-indigo-700) / 1);box-shadow:0 10px 15px -3px rgb(var(--color-black) / .1),0 4px 6px -4px rgb(var(--color-black) / .1)}.trigger.svelte-11r9kjw:hover{opacity:.75}.overlay.svelte-11r9kjw{position:fixed;top:0;right:0;bottom:0;left:0;z-index:40;background-color:rgb(var(--color-black) / .5)}.content.svelte-11r9kjw{position:fixed;left:50%;top:50%;z-index:50;max-height:85vh;width:90vw;max-width:var(--dialog-width);transform:translate(-50%,-50%);border-radius:.375rem;background-color:rgb(var(--color-white) / 1);padding:1.5rem;box-shadow:0 10px 15px -3px rgb(var(--color-black) / .1),0 4px 6px -4px rgb(var(--color-black) / .1)}.content.svelte-11r9kjw:focus{outline:2px solid transparent;outline-offset:2px}.close.svelte-11r9kjw{display:inline-flex;align-items:center;justify-content:center;position:absolute;right:10px;top:10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:1.5rem;width:1.5rem;padding:0;border-radius:9999px;color:rgb(var(--color-indigo-800) / 1)}.close.svelte-11r9kjw svg:where(.svelte-11r9kjw){width:.7rem;height:.7rem}.close.svelte-11r9kjw:hover{background-color:rgb(var(--color-indigo-100) / 1)}.close.svelte-11r9kjw:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 3px rgb(var(--color-indigo-400) / 1)}.title.svelte-11r9kjw{margin:0;font-size:1.125rem;line-height:1.75rem;font-weight:500;color:rgb(var(--color-black) / 1)}.description.svelte-11r9kjw{margin-bottom:1.25rem;margin-top:.5rem;line-height:1.5;color:rgb(var(--color-zinc-600) / 1)}button{display:inline-flex;align-items:center;justify-content:center;height:2rem;border-radius:.25rem;padding:0 1rem;font-weight:500;line-height:1}button.warning{background-color:rgb(var(--color-magnum-100) / 1);color:rgb(var(--color-magnum-900) / 1)}button.primary{background-color:rgb(var(--color-indigo-100) / 1);color:rgb(var(--color-indigo-900) / 1)}.slot-content.svelte-11r9kjw{flex:1;overflow-y:auto;max-height:calc(85vh - 12rem);margin-bottom:1rem;padding-right:16px}.slot-content.svelte-11r9kjw::-webkit-scrollbar{width:8px}.slot-content.svelte-11r9kjw::-webkit-scrollbar-track{background:transparent}.slot-content.svelte-11r9kjw::-webkit-scrollbar-thumb{background-color:rgb(var(--color-zinc-300) / .5);border-radius:4px;border:2px solid transparent;background-clip:content-box}.slot-content.svelte-11r9kjw::-webkit-scrollbar-thumb:hover{background-color:rgb(var(--color-zinc-400) / .7)}.slot-content.svelte-11r9kjw{scrollbar-width:thin;scrollbar-color:rgb(var(--color-zinc-300) / .5) transparent}header.svelte-1amnogv{font-size:1rem;font-weight:700;margin-bottom:1rem}input.svelte-1amnogv,select.svelte-1amnogv,button.svelte-1amnogv{border:1px solid var(--border-color);border-radius:0;padding:.2rem .5rem;margin-bottom:.5rem;min-width:auto!important;height:var(--cell-height)}input.svelte-1amnogv::placeholder{color:gray;font-style:italic}label.svelte-1amnogv{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-top:10px}select.svelte-1amnogv{width:180px}a.svelte-12rv1n9{border-left:3px solid hsla(var(--color),70%,50%,1);white-space:nowrap}</style>\n  </head>\n  <body>\n    <!--PLACE_HERE-->\n    <div id=\"app\"></div>\n  </body>\n</html>\n"
}