export function getHtml(){
  return "<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <!--PLACE_HERE_HEAD-->\n    <script type=\"module\" crossorigin>\nvar IM=Object.defineProperty;var Y2=n=>{throw TypeError(n)};var RM=(n,e,t)=>e in n?IM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var DM=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Eo=(n,e,t)=>RM(n,typeof e!=\"symbol\"?e+\"\":e,t),Yv=(n,e,t)=>e.has(n)||Y2(\"Cannot \"+t);var ze=(n,e,t)=>(Yv(n,e,\"read from private field\"),t?t.call(n):e.get(n)),st=(n,e,t)=>e.has(n)?Y2(\"Cannot add the same private member more than once\"):e instanceof WeakSet?e.add(n):e.set(n,t),ff=(n,e,t,r)=>(Yv(n,e,\"write to private field\"),r?r.call(n,t):e.set(n,t),t),Q2=(n,e,t)=>(Yv(n,e,\"access private method\"),t);var Cle=DM((Ji,Xi)=>{(function(){const e=document.createElement(\"link\").relList;if(e&&e.supports&&e.supports(\"modulepreload\"))return;for(const i of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type===\"childList\")for(const s of o.addedNodes)s.tagName===\"LINK\"&&s.rel===\"modulepreload\"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin===\"use-credentials\"?o.credentials=\"include\":i.crossOrigin===\"anonymous\"?o.credentials=\"omit\":o.credentials=\"same-origin\",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const NM=\"5\";typeof window<\"u\"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(NM);const Ib=1,Rb=2,$S=4,LM=8,BM=16,FM=1,jM=2,ek=4,zM=8,VM=16,HM=4,tk=1,qM=2,hi=Symbol(),xy=!1,go=2,nk=4,Nm=8,Lm=16,va=32,Xd=64,up=128,so=256,fp=512,oi=1024,As=2048,sl=4096,Ys=8192,Bm=16384,rk=32768,Wu=65536,ik=1<<17,WM=1<<19,ok=1<<20,gs=Symbol(\"$state\"),sk=Symbol(\"legacy props\"),UM=Symbol(\"\");var cc=Array.isArray,KM=Array.prototype.indexOf,Db=Array.from,ak=Object.defineProperty,Qs=Object.getOwnPropertyDescriptor,lk=Object.getOwnPropertyDescriptors,ck=Object.prototype,JM=Array.prototype,Fm=Object.getPrototypeOf;function Fc(n){return typeof n==\"function\"}const tr=()=>{};function XM(n){return n()}function dp(n){for(var e=0;e<n.length;e++)n[e]()}function Si(n,e,t=!1){return n===void 0?t?e():e:n}let hp=!1,Cy=[];function uk(){hp=!1;const n=Cy.slice();Cy=[],dp(n)}function Gd(n){hp||(hp=!0,queueMicrotask(uk)),Cy.push(n)}function GM(){hp&&uk()}function fk(n){return n===this.v}function jm(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n==\"object\"||typeof n==\"function\"}function YM(n,e){return n!==e}function Nb(n){return!jm(n,this.v)}function QM(n){throw new Error(\"https://svelte.dev/e/effect_in_teardown\")}function ZM(){throw new Error(\"https://svelte.dev/e/effect_in_unowned_derived\")}function $M(n){throw new Error(\"https://svelte.dev/e/effect_orphan\")}function e8(){throw new Error(\"https://svelte.dev/e/effect_update_depth_exceeded\")}function dk(n){throw new Error(\"https://svelte.dev/e/lifecycle_legacy_only\")}function t8(n){throw new Error(\"https://svelte.dev/e/props_invalid_value\")}function n8(){throw new Error(\"https://svelte.dev/e/state_descriptors_fixed\")}function r8(){throw new Error(\"https://svelte.dev/e/state_prototype_fixed\")}function i8(){throw new Error(\"https://svelte.dev/e/state_unsafe_local_read\")}function o8(){throw new Error(\"https://svelte.dev/e/state_unsafe_mutation\")}let Uu=!1,s8=!1;function a8(){Uu=!0}const l8=[];function c8(n,e=!1){return Rg(n,new Map,\"\",l8)}function Rg(n,e,t,r,i=null){if(typeof n==\"object\"&&n!==null){var o=e.get(n);if(o!==void 0)return o;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(cc(n)){var s=Array(n.length);e.set(n,s),i!==null&&e.set(i,s);for(var a=0;a<n.length;a+=1){var l=n[a];a in n&&(s[a]=Rg(l,e,t,r))}return s}if(Fm(n)===ck){s={},e.set(n,s),i!==null&&e.set(i,s);for(var u in n)s[u]=Rg(n[u],e,t,r);return s}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON==\"function\")return Rg(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}function Zr(n,e){var t={f:0,v:n,reactions:null,equals:fk,rv:0,wv:0};return t}function Wt(n){return hk(Zr(n))}function zm(n,e=!1){var r;const t=Zr(n);return e||(t.equals=Nb),Uu&&Kt!==null&&Kt.l!==null&&((r=Kt.l).s??(r.s=[])).push(t),t}function Q(n,e=!1){return hk(zm(n,e))}function hk(n){return En!==null&&!No&&En.f&go&&(ps===null?v8([n]):ps.push(n)),n}function Wi(n,e){return S(n,Ot(()=>c(n))),e}function S(n,e){return En!==null&&!No&&Xu()&&En.f&(go|Lm)&&(ps===null||!ps.includes(n))&&o8(),td(n,e)}function td(n,e){return n.equals(e)||(n.v,n.v=e,n.wv=Ck(),gk(n,As),Xu()&&kn!==null&&kn.f&oi&&!(kn.f&(va|Xd))&&(zs===null?y8([n]):zs.push(n))),e}function Z2(n,e=1){var t=c(n),r=e===1?t++:t--;return S(n,t),r}function gk(n,e){var t=n.reactions;if(t!==null)for(var r=Xu(),i=t.length,o=0;o<i;o++){var s=t[o],a=s.f;a&As||!r&&s===kn||(po(s,e),a&(oi|so)&&(a&go?gk(s,sl):Um(s)))}}function re(n){var e=go|As,t=En!==null&&En.f&go?En:null;return kn===null||t!==null&&t.f&so?e|=so:kn.f|=ok,{ctx:Kt,deps:null,effects:null,equals:fk,f:e,fn:n,reactions:null,rv:0,v:null,wv:0,parent:t??kn}}function Me(n){const e=re(n);return e.equals=Nb,e}function pk(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Cs(e[t])}}function u8(n){for(var e=n.parent;e!==null;){if(!(e.f&go))return e;e=e.parent}return null}function f8(n){var e,t=kn;xs(u8(n));try{pk(n),e=Sk(n)}finally{xs(t)}return e}function mk(n){var e=f8(n),t=(La||n.f&so)&&n.deps!==null?sl:oi;po(n,t),n.equals(e)||(n.v=e,n.wv=Ck())}function d8(n){console.warn(\"https://svelte.dev/e/legacy_recursive_reactive_block\")}let Lb=!1;function at(n,e=null,t){if(typeof n!=\"object\"||n===null||gs in n)return n;const r=Fm(n);if(r!==ck&&r!==JM)return n;var i=new Map,o=cc(n),s=Zr(0);o&&i.set(\"length\",Zr(n.length));var a;return new Proxy(n,{defineProperty(l,u,f){(!(\"value\"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&n8();var d=i.get(u);return d===void 0?(d=Zr(f.value),i.set(u,d)):S(d,at(f.value,a)),!0},deleteProperty(l,u){var f=i.get(u);if(f===void 0)u in l&&i.set(u,Zr(hi));else{if(o&&typeof u==\"string\"){var d=i.get(\"length\"),h=Number(u);Number.isInteger(h)&&h<d.v&&S(d,h)}S(f,hi),$2(s)}return!0},get(l,u,f){var p;if(u===gs)return n;var d=i.get(u),h=u in l;if(d===void 0&&(!h||(p=Qs(l,u))!=null&&p.writable)&&(d=Zr(at(h?l[u]:hi,a)),i.set(u,d)),d!==void 0){var g=c(d);return g===hi?void 0:g}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&\"value\"in f){var d=i.get(u);d&&(f.value=c(d))}else if(f===void 0){var h=i.get(u),g=h==null?void 0:h.v;if(h!==void 0&&g!==hi)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return f},has(l,u){var g;if(u===gs)return!0;var f=i.get(u),d=f!==void 0&&f.v!==hi||Reflect.has(l,u);if(f!==void 0||kn!==null&&(!d||(g=Qs(l,u))!=null&&g.writable)){f===void 0&&(f=Zr(d?at(l[u],a):hi),i.set(u,f));var h=c(f);if(h===hi)return!1}return d},set(l,u,f,d){var k;var h=i.get(u),g=u in l;if(o&&u===\"length\")for(var p=f;p<h.v;p+=1){var m=i.get(p+\"\");m!==void 0?S(m,hi):p in l&&(m=Zr(hi),i.set(p+\"\",m))}h===void 0?(!g||(k=Qs(l,u))!=null&&k.writable)&&(h=Zr(void 0),S(h,at(f,a)),i.set(u,h)):(g=h.v!==hi,S(h,at(f,a)));var y=Reflect.getOwnPropertyDescriptor(l,u);if(y!=null&&y.set&&y.set.call(d,f),!g){if(o&&typeof u==\"string\"){var v=i.get(\"length\"),C=Number(u);Number.isInteger(C)&&C>=v.v&&S(v,C+1)}$2(s)}return!0},ownKeys(l){c(s);var u=Reflect.ownKeys(l).filter(h=>{var g=i.get(h);return g===void 0||g.v!==hi});for(var[f,d]of i)d.v!==hi&&!(f in l)&&u.push(f);return u},setPrototypeOf(){r8()}})}function $2(n,e=1){S(n,n.v+e)}function ex(n){return n!==null&&typeof n==\"object\"&&gs in n?n[gs]:n}function h8(n,e){return Object.is(ex(n),ex(e))}var ur,vk,yk,bk;function g8(){if(ur===void 0){ur=window,vk=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype;yk=Qs(e,\"firstChild\").get,bk=Qs(e,\"nextSibling\").get,n.__click=void 0,n.__className=\"\",n.__attributes=null,n.__styles=null,n.__e=void 0,Text.prototype.__t=void 0}}function Vm(n=\"\"){return document.createTextNode(n)}function Ui(n){return yk.call(n)}function Hm(n){return bk.call(n)}function j(n,e){return Ui(n)}function ye(n,e){{var t=Ui(n);return t instanceof Comment&&t.data===\"\"?Hm(t):t}}function H(n,e=1,t=!1){let r=n;for(;e--;)r=Hm(r);return r}function p8(n){n.textContent=\"\"}const wk=0,m8=1;let Dg=!1,Ng=wk,nd=!1,rd=null,tu=!1,Bb=!1;function tx(n){tu=n}function nx(n){Bb=n}let Ml=[],nu=0,En=null,No=!1;function ws(n){En=n}let kn=null;function xs(n){kn=n}let ps=null;function v8(n){ps=n}let gi=null,zi=0,zs=null;function y8(n){zs=n}let xk=1,gp=0,La=!1,Ia=null;function Ck(){return++xk}function Ku(n){var d;var e=n.f;if(e&As)return!0;if(e&sl){var t=n.deps,r=(e&so)!==0;if(t!==null){var i,o,s=(e&fp)!==0,a=r&&kn!==null&&!La,l=t.length;if(s||a){var u=n,f=u.parent;for(i=0;i<l;i++)o=t[i],(s||!((d=o==null?void 0:o.reactions)!=null&&d.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);s&&(u.f^=fp),a&&f!==null&&!(f.f&so)&&(u.f^=so)}for(i=0;i<l;i++)if(o=t[i],Ku(o)&&mk(o),o.wv>n.wv)return!0}(!r||kn!==null&&!La)&&po(n,oi)}return!1}function b8(n,e){for(var t=e;t!==null;){if(t.f&up)try{t.fn(n);return}catch{t.f^=up}t=t.parent}throw Dg=!1,n}function w8(n){return(n.f&Bm)===0&&(n.parent===null||(n.parent.f&up)===0)}function qm(n,e,t,r){if(Dg){if(t===null&&(Dg=!1),w8(e))throw n;return}t!==null&&(Dg=!0);{b8(n,e);return}}function _k(n,e,t=!0){var r=n.reactions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];o.f&go?_k(o,e,!1):e===o&&(t?po(o,As):o.f&oi&&po(o,sl),Um(o))}}function Sk(n){var g;var e=gi,t=zi,r=zs,i=En,o=La,s=ps,a=Kt,l=No,u=n.f;gi=null,zi=0,zs=null,En=u&(va|Xd)?null:n,La=(u&so)!==0&&(!tu||i===null||l),ps=null,rx(n.ctx),No=!1,gp++;try{var f=(0,n.fn)(),d=n.deps;if(gi!==null){var h;if(pp(n,zi),d!==null&&zi>0)for(d.length=zi+gi.length,h=0;h<gi.length;h++)d[zi+h]=gi[h];else n.deps=d=gi;if(!La)for(h=zi;h<d.length;h++)((g=d[h]).reactions??(g.reactions=[])).push(n)}else d!==null&&zi<d.length&&(pp(n,zi),d.length=zi);if(Xu()&&zs!==null&&!No&&d!==null&&!(n.f&(go|sl|As)))for(h=0;h<zs.length;h++)_k(zs[h],n);return i!==null&&gp++,f}finally{gi=e,zi=t,zs=r,En=i,La=o,ps=s,rx(a),No=l}}function x8(n,e){let t=e.reactions;if(t!==null){var r=KM.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&e.f&go&&(gi===null||!gi.includes(e))&&(po(e,sl),e.f&(so|fp)||(e.f^=fp),pk(e),pp(e,0))}function pp(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)x8(n,t[r])}function Wm(n){var e=n.f;if(!(e&Bm)){po(n,oi);var t=kn,r=Kt;kn=n;try{e&Lm?P8(n):Mk(n),Tk(n);var i=Sk(n);n.teardown=typeof i==\"function\"?i:null,n.wv=xk;var o=n.deps,s;xy&&s8&&n.f&As}catch(a){qm(a,n,t,r||n.ctx)}finally{kn=t}}}function kk(){if(nu>1e3){nu=0;try{e8()}catch(n){if(rd!==null)qm(n,rd,null);else throw n}}nu++}function Ok(n){var e=n.length;if(e!==0){kk();var t=tu;tu=!0;try{for(var r=0;r<e;r++){var i=n[r];i.f&oi||(i.f^=oi);var o=S8(i);C8(o)}}finally{tu=t}}}function C8(n){var e=n.length;if(e!==0)for(var t=0;t<e;t++){var r=n[t];if(!(r.f&(Bm|Ys)))try{Ku(r)&&(Wm(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Pk(r):r.fn=null))}catch(i){qm(i,r,null,r.ctx)}}}function _8(){if(nd=!1,nu>1001)return;const n=Ml;Ml=[],Ok(n),nd||(nu=0,rd=null)}function Um(n){Ng===wk&&(nd||(nd=!0,queueMicrotask(_8))),rd=n;for(var e=n;e.parent!==null;){e=e.parent;var t=e.f;if(t&(Xd|va)){if(!(t&oi))return;e.f^=oi}}Ml.push(e)}function S8(n){var e=[],t=n.first;e:for(;t!==null;){var r=t.f,i=(r&va)!==0,o=i&&(r&oi)!==0,s=t.next;if(!o&&!(r&Ys)){if(r&nk)e.push(t);else if(i)t.f^=oi;else{var a=En;try{En=t,Ku(t)&&Wm(t)}catch(f){qm(f,t,null,t.ctx)}finally{En=a}}var l=t.first;if(l!==null){t=l;continue}}if(s===null){let f=t.parent;for(;f!==null;){if(n===f)break e;var u=f.next;if(u!==null){t=u;continue e}f=f.parent}}t=s}return e}function Ak(n){var e=Ng,t=Ml;try{kk();const i=[];Ng=m8,Ml=i,nd=!1,Ok(t);var r=n==null?void 0:n();return GM(),(Ml.length>0||i.length>0)&&Ak(),nu=0,rd=null,r}finally{Ng=e,Ml=t}}async function Sn(){await Promise.resolve(),Ak()}function c(n){var e=n.f,t=(e&go)!==0;if(Ia!==null&&Ia.add(n),En!==null&&!No){ps!==null&&ps.includes(n)&&i8();var r=En.deps;n.rv<gp&&(n.rv=gp,gi===null&&r!==null&&r[zi]===n?zi++:gi===null?gi=[n]:(!La||!gi.includes(n))&&gi.push(n))}else if(t&&n.deps===null&&n.effects===null){var i=n,o=i.parent;o!==null&&!(o.f&so)&&(i.f^=so)}return t&&(i=n,Ku(i)&&mk(i)),n.v}function k8(n){var e=Ia;Ia=new Set;var t=Ia,r;try{if(Ot(n),e!==null)for(r of Ia)e.add(r)}finally{Ia=e}return t}function Ah(n){var e=k8(()=>Ot(n));for(var t of e)if(t.f&ik)for(const r of t.deps||[])r.f&go||td(r,r.v);else td(t,t.v)}function Ot(n){var e=No;try{return No=!0,n()}finally{No=e}}const O8=-7169;function po(n,e){n.f=n.f&O8|e}function A8(n,e){var t={};for(var r in n)e.includes(r)||(t[r]=n[r]);return t}function J(n){if(!(typeof n!=\"object\"||!n||n instanceof EventTarget)){if(gs in n)_y(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t==\"object\"&&t&&gs in t&&_y(t)}}}function _y(n,e=new Set){if(typeof n==\"object\"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{_y(n[r],e)}catch{}const t=Fm(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=lk(t);for(let i in r){const o=r[i].get;if(o)try{o.call(n)}catch{}}}}}function Ek(n){kn===null&&En===null&&$M(),En!==null&&En.f&so&&kn===null&&ZM(),Bb&&QM()}function E8(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Ju(n,e,t,r=!0){var i=(n&Xd)!==0,o=kn,s={ctx:Kt,deps:null,nodes_start:null,nodes_end:null,f:n|As,first:null,fn:e,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,wv:0};if(t){var a=tu;try{tx(!0),Wm(s),s.f|=rk}catch(f){throw Cs(s),f}finally{tx(a)}}else e!==null&&Um(s);var l=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(ok|up))===0;if(!l&&!i&&r&&(o!==null&&E8(s,o),En!==null&&En.f&go)){var u=En;(u.effects??(u.effects=[])).push(s)}return s}function T8(){return En!==null&&!No}function Fb(n){const e=Ju(Nm,null,!1);return po(e,oi),e.teardown=n,e}function mo(n){Ek();var e=kn!==null&&(kn.f&va)!==0&&Kt!==null&&!Kt.m;if(e){var t=Kt;(t.e??(t.e=[])).push({fn:n,effect:kn,reaction:En})}else{var r=fr(n);return r}}function jb(n){return Ek(),uc(n)}function M8(n){const e=Ju(Xd,n,!0);return(t={})=>new Promise(r=>{t.outro?xu(e,()=>{Cs(e),r(void 0)}):(Cs(e),r(void 0))})}function fr(n){return Ju(nk,n,!1)}function le(n,e){var t=Kt,r={effect:null,ran:!1};t.l.r1.push(r),r.effect=uc(()=>{n(),!r.ran&&(r.ran=!0,S(t.l.r2,!0),Ot(e))})}function Xt(){var n=Kt;uc(()=>{if(c(n.l.r2)){for(var e of n.l.r1){var t=e.effect;t.f&oi&&po(t,sl),Ku(t)&&Wm(t),e.ran=!1}n.l.r2.v=!1}})}function uc(n){return Ju(Nm,n,!0)}function he(n,e=[],t=re){const r=e.map(t);return fc(()=>n(...r.map(c)))}function fc(n,e=0){return Ju(Nm|Lm|e,n,!0)}function oa(n,e=!0){return Ju(Nm|va,n,!0,e)}function Tk(n){var e=n.teardown;if(e!==null){const t=Bb,r=En;nx(!0),ws(null);try{e.call(null)}finally{nx(t),ws(r)}}}function Mk(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){var r=t.next;Cs(t,e),t=r}}function P8(n){for(var e=n.first;e!==null;){var t=e.next;e.f&va||Cs(e),e=t}}function Cs(n,e=!0){var t=!1;if((e||n.f&WM)&&n.nodes_start!==null){for(var r=n.nodes_start,i=n.nodes_end;r!==null;){var o=r===i?null:Hm(r);r.remove(),r=o}t=!0}Mk(n,e&&!t),pp(n,0),po(n,Bm);var s=n.transitions;if(s!==null)for(const l of s)l.stop();Tk(n);var a=n.parent;a!==null&&a.first!==null&&Pk(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=null}function Pk(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function xu(n,e){var t=[];zb(n,t,!0),Ik(t,()=>{Cs(n),e&&e()})}function Ik(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function zb(n,e,t){if(!(n.f&Ys)){if(n.f^=Ys,n.transitions!==null)for(const s of n.transitions)(s.is_global||t)&&e.push(s);for(var r=n.first;r!==null;){var i=r.next,o=(r.f&Wu)!==0||(r.f&va)!==0;zb(r,e,o?t:!1),r=i}}}function mp(n){Rk(n,!0)}function Rk(n,e){if(n.f&Ys){n.f^=Ys,n.f&oi||(n.f^=oi),Ku(n)&&(po(n,As),Um(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&Wu)!==0||(t.f&va)!==0;Rk(t,i?e:!1),t=r}if(n.transitions!==null)for(const o of n.transitions)(o.is_global||e)&&o.in()}}function dc(n){throw new Error(\"https://svelte.dev/e/lifecycle_outside_component\")}let Kt=null;function rx(n){Kt=n}function Yi(n){return Dk().get(n)}function id(n,e){return Dk().set(n,e),e}function Ee(n,e=!1,t){Kt={p:Kt,c:null,e:null,m:!1,s:n,x:null,l:null},Uu&&!e&&(Kt.l={s:null,u:null,r1:[],r2:Zr(!1)})}function Te(n){const e=Kt;if(e!==null){n!==void 0&&(e.x=n);const s=e.e;if(s!==null){var t=kn,r=En;e.e=null;try{for(var i=0;i<s.length;i++){var o=s[i];xs(o.effect),ws(o.reaction),fr(o.fn)}}finally{xs(t),ws(r)}}Kt=e.p,e.m=!0}return n||{}}function Xu(){return!Uu||Kt!==null&&Kt.l===null}function Dk(n){return Kt===null&&dc(),Kt.c??(Kt.c=new Map(I8(Kt)||void 0))}function I8(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}function R8(n){return n.endsWith(\"capture\")&&n!==\"gotpointercapture\"&&n!==\"lostpointercapture\"}const D8=[\"beforeinput\",\"click\",\"change\",\"dblclick\",\"contextmenu\",\"focusin\",\"focusout\",\"input\",\"keydown\",\"keyup\",\"mousedown\",\"mousemove\",\"mouseout\",\"mouseover\",\"mouseup\",\"pointerdown\",\"pointermove\",\"pointerout\",\"pointerover\",\"pointerup\",\"touchend\",\"touchmove\",\"touchstart\"];function N8(n){return D8.includes(n)}const L8={formnovalidate:\"formNoValidate\",ismap:\"isMap\",nomodule:\"noModule\",playsinline:\"playsInline\",readonly:\"readOnly\",defaultvalue:\"defaultValue\",defaultchecked:\"defaultChecked\",srcobject:\"srcObject\",novalidate:\"noValidate\",allowfullscreen:\"allowFullscreen\",disablepictureinpicture:\"disablePictureInPicture\",disableremoteplayback:\"disableRemotePlayback\"};function B8(n){return n=n.toLowerCase(),L8[n]??n}const F8=[\"touchstart\",\"touchmove\"];function j8(n){return F8.includes(n)}function z8(n,e){if(e){const t=document.body;n.autofocus=!0,Gd(()=>{document.activeElement===t&&n.focus()})}}let ix=!1;function V8(){ix||(ix=!0,document.addEventListener(\"reset\",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Vb(n){var e=En,t=kn;ws(null),xs(null);try{return n()}finally{ws(e),xs(t)}}function Nk(n,e,t,r=t){n.addEventListener(e,()=>Vb(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),V8()}const Lk=new Set,Sy=new Set;function Hb(n,e,t,r={}){function i(o){if(r.capture||Af.call(e,o),!o.cancelBubble)return Vb(()=>t==null?void 0:t.call(this,o))}return n.startsWith(\"pointer\")||n.startsWith(\"touch\")||n===\"wheel\"?Gd(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function ky(n,e,t,r={}){var i=Hb(e,n,t,r);return()=>{n.removeEventListener(e,i,r)}}function we(n,e,t,r,i){var o={capture:r,passive:i},s=Hb(n,e,t,o);(e===document.body||e===window||e===document)&&Fb(()=>{e.removeEventListener(n,s,o)})}function li(n){for(var e=0;e<n.length;e++)Lk.add(n[e]);for(var t of Sy)t(n)}function Af(n){var C;var e=this,t=e.ownerDocument,r=n.type,i=((C=n.composedPath)==null?void 0:C.call(n))||[],o=i[0]||n.target,s=0,a=n.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(s=l)}if(o=i[s]||n.target,o!==e){ak(n,\"currentTarget\",{configurable:!0,get(){return o||t}});var f=En,d=kn;ws(null),xs(null);try{for(var h,g=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var m=o[\"__\"+r];if(m!==void 0&&!o.disabled)if(cc(m)){var[y,...v]=m;y.apply(o,[n,...v])}else m.call(o,n)}catch(k){h?g.push(k):h=k}if(n.cancelBubble||p===e||p===null)break;o=p}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{n.__root=e,delete n.currentTarget,ws(f),xs(d)}}}function qb(n){var e=document.createElement(\"template\");return e.innerHTML=n,e.content}function ql(n,e){var t=kn;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function X(n,e){var t=(e&tk)!==0,r=(e&qM)!==0,i,o=!n.startsWith(\"<!>\");return()=>{i===void 0&&(i=qb(o?n:\"<!>\"+n),t||(i=Ui(i)));var s=r||vk?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=Ui(s),l=s.lastChild;ql(a,l)}else ql(s,s);return s}}function It(n,e,t=\"svg\"){var r=!n.startsWith(\"<!>\"),i=(e&tk)!==0,o=`<${t}>${r?n:\"<!>\"+n}</${t}>`,s;return()=>{if(!s){var a=qb(o),l=Ui(a);if(i)for(s=document.createDocumentFragment();Ui(l);)s.appendChild(Ui(l));else s=Ui(l)}var u=s.cloneNode(!0);if(i){var f=Ui(u),d=u.lastChild;ql(f,d)}else ql(u,u);return u}}function Or(n=\"\"){{var e=Vm(n+\"\");return ql(e,e),e}}function De(){var n=document.createDocumentFragment(),e=document.createComment(\"\"),t=Vm();return n.append(e,t),ql(e,t),n}function R(n,e){n!==null&&n.before(e)}let Oy=!0;function He(n,e){var t=e==null?\"\":typeof e==\"object\"?e+\"\":e;t!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=t,n.nodeValue=t+\"\")}function H8(n,e){return q8(n,e)}const Oc=new Map;function q8(n,{target:e,anchor:t,props:r={},events:i,context:o,intro:s=!0}){g8();var a=new Set,l=d=>{for(var h=0;h<d.length;h++){var g=d[h];if(!a.has(g)){a.add(g);var p=j8(g);e.addEventListener(g,Af,{passive:p});var m=Oc.get(g);m===void 0?(document.addEventListener(g,Af,{passive:p}),Oc.set(g,1)):Oc.set(g,m+1)}}};l(Db(Lk)),Sy.add(l);var u=void 0,f=M8(()=>{var d=t??e.appendChild(Vm());return oa(()=>{if(o){Ee({});var h=Kt;h.c=o}i&&(r.$$events=i),Oy=s,u=n(d,r)||{},Oy=!0,o&&Te()}),()=>{var p;for(var h of a){e.removeEventListener(h,Af);var g=Oc.get(h);--g===0?(document.removeEventListener(h,Af),Oc.delete(h)):Oc.set(h,g)}Sy.delete(l),d!==t&&((p=d.parentNode)==null||p.removeChild(d))}});return W8.set(u,f),u}let W8=new WeakMap;function te(n,e,t=!1){var r=n,i=null,o=null,s=hi,a=t?Wu:0,l=!1;const u=(d,h=!0)=>{l=!0,f(h,d)},f=(d,h)=>{s!==(s=d)&&(s?(i?mp(i):h&&(i=oa(()=>h(r))),o&&xu(o,()=>{o=null})):(o?mp(o):h&&(o=oa(()=>h(r))),i&&xu(i,()=>{i=null})))};fc(()=>{l=!1,e(u),l||f(null,null)},a)}function Bk(n,e,t){var r=n,i=hi,o,s=Xu()?YM:jm;fc(()=>{s(i,i=e())&&(o&&xu(o),o=oa(()=>t(r)))})}function tn(n,e){return e}function U8(n,e,t,r){for(var i=[],o=e.length,s=0;s<o;s++)zb(e[s].e,i,!0);var a=o>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;p8(l),l.append(t),r.clear(),Oa(n,e[0].prev,e[o-1].next)}Ik(i,()=>{for(var u=0;u<o;u++){var f=e[u];a||(r.delete(f.k),Oa(n,f.prev,f.next)),Cs(f.e,!a)}})}function Pt(n,e,t,r,i,o=null){var s=n,a={flags:e,items:new Map,first:null},l=(e&$S)!==0;if(l){var u=n;s=u.appendChild(Vm())}var f=null,d=!1,h=Me(()=>{var g=t();return cc(g)?g:g==null?[]:Db(g)});fc(()=>{var g=c(h),p=g.length;d&&p===0||(d=p===0,K8(g,a,s,i,e,r,t),o!==null&&(p===0?f?mp(f):f=oa(()=>o(s)):f!==null&&xu(f,()=>{f=null})),c(h))})}function K8(n,e,t,r,i,o,s){var _,N,F,B;var a=(i&LM)!==0,l=(i&(Ib|Rb))!==0,u=n.length,f=e.items,d=e.first,h=d,g,p=null,m,y=[],v=[],C,k,b,w;if(a)for(w=0;w<u;w+=1)C=n[w],k=o(C,w),b=f.get(k),b!==void 0&&((_=b.a)==null||_.measure(),(m??(m=new Set)).add(b));for(w=0;w<u;w+=1){if(C=n[w],k=o(C,w),b=f.get(k),b===void 0){var E=h?h.e.nodes_start:t;p=X8(E,e,p,p===null?e.first:p.next,C,k,w,r,i,s),f.set(k,p),y=[],v=[],h=p.next;continue}if(l&&J8(b,C,w,i),b.e.f&Ys&&(mp(b.e),a&&((N=b.a)==null||N.unfix(),(m??(m=new Set)).delete(b))),b!==h){if(g!==void 0&&g.has(b)){if(y.length<v.length){var O=v[0],T;p=O.prev;var I=y[0],D=y[y.length-1];for(T=0;T<y.length;T+=1)ox(y[T],O,t);for(T=0;T<v.length;T+=1)g.delete(v[T]);Oa(e,I.prev,D.next),Oa(e,p,I),Oa(e,D,O),h=O,p=D,w-=1,y=[],v=[]}else g.delete(b),ox(b,h,t),Oa(e,b.prev,b.next),Oa(e,b,p===null?e.first:p.next),Oa(e,p,b),p=b;continue}for(y=[],v=[];h!==null&&h.k!==k;)h.e.f&Ys||(g??(g=new Set)).add(h),v.push(h),h=h.next;if(h===null)continue;b=h}y.push(b),p=b,h=b.next}if(h!==null||g!==void 0){for(var A=g===void 0?[]:Db(g);h!==null;)h.e.f&Ys||A.push(h),h=h.next;var M=A.length;if(M>0){var P=i&$S&&u===0?t:null;if(a){for(w=0;w<M;w+=1)(F=A[w].a)==null||F.measure();for(w=0;w<M;w+=1)(B=A[w].a)==null||B.fix()}U8(e,A,P,f)}}a&&Gd(()=>{var L;if(m!==void 0)for(b of m)(L=b.a)==null||L.apply()}),kn.first=e.first&&e.first.e,kn.last=p&&p.e}function J8(n,e,t,r){r&Ib&&td(n.v,e),r&Rb?td(n.i,t):n.i=t}function X8(n,e,t,r,i,o,s,a,l,u){var f=(l&Ib)!==0,d=(l&BM)===0,h=f?d?zm(i):Zr(i):i,g=l&Rb?Zr(s):s,p={i:g,v:h,k:o,a:null,e:null,prev:t,next:r};try{return p.e=oa(()=>a(n,h,g,u),Lb),p.e.prev=t&&t.e,p.e.next=r&&r.e,t===null?e.first=p:(t.next=p,t.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function ox(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,o=n.e.nodes_start;o!==r;){var s=Hm(o);i.before(o),o=s}}function Oa(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Wb(n,e,t,r,i){var o=n,s=\"\",a;fc(()=>{s!==(s=e()??\"\")&&(a!==void 0&&(Cs(a),a=void 0),s!==\"\"&&(a=oa(()=>{var l=s+\"\";t&&(l=`<svg>${l}</svg>`);var u=qb(l);if((t||r)&&(u=Ui(u)),ql(Ui(u),u.lastChild),t||r)for(;Ui(u);)o.before(Ui(u));else o.before(u)})))})}function qn(n,e,t,r,i){var a;var o=(a=e.$$slots)==null?void 0:a[t],s=!1;o===!0&&(o=e[t===\"default\"?\"children\":t],s=!0),o===void 0?i!==null&&i(n):o(n,s?()=>r:r)}function G8(n){const e={};n.children&&(e.default=!0);for(const t in n.$$slots)e[t]=!0;return e}function bi(n,e,...t){var r=n,i=tr,o;fc(()=>{i!==(i=e())&&(o&&(Cs(o),o=null),o=oa(()=>i(r,...t)))},Wu)}function Wl(n,e,t){var r=n,i,o;fc(()=>{i!==(i=e())&&(o&&(xu(o),o=null),i&&(o=oa(()=>t(r,i))))},Wu)}function Ut(n,e,t){fr(()=>{var r=Ot(()=>e(n,t==null?void 0:t())||{});if(t&&(r!=null&&r.update)){var i=!1,o={};uc(()=>{var s=t();J(s),i&&jm(o,s)&&(o=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function Fk(n){var e,t,r=\"\";if(typeof n==\"string\"||typeof n==\"number\")r+=n;else if(typeof n==\"object\")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Fk(n[e]))&&(r&&(r+=\" \"),r+=t)}else for(t in n)n[t]&&(r&&(r+=\" \"),r+=t);return r}function Y8(){for(var n,e,t=0,r=\"\",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Fk(n))&&(r&&(r+=\" \"),r+=e);return r}function Lr(n){return typeof n==\"object\"?Y8(n):n??\"\"}function sa(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!==\"PROGRESS\")||(n.value=e??\"\")}function Ay(n,e){e?n.hasAttribute(\"selected\")||n.setAttribute(\"selected\",\"\"):n.removeAttribute(\"selected\")}function ke(n,e,t,r){var i=n.__attributes??(n.__attributes={});i[e]!==(i[e]=t)&&(e===\"style\"&&\"__styles\"in n&&(n.__styles={}),e===\"loading\"&&(n[UM]=t),t==null?n.removeAttribute(e):typeof t!=\"string\"&&jk(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function ki(n,e,t,r,i=!1,o=!1,s=!1){var a=e||{},l=n.tagName===\"OPTION\";for(var u in e)u in t||(t[u]=null);t.class&&(t.class=Lr(t.class)),r!==void 0&&(t.class=t.class?t.class+\" \"+r:r);var f=jk(n),d=n.__attributes??(n.__attributes={});for(const C in t){let k=t[C];if(l&&C===\"value\"&&k==null){n.value=n.__value=\"\",a[C]=k;continue}var h=a[C];if(k!==h){a[C]=k;var g=C[0]+C[1];if(g!==\"$$\"){if(g===\"on\"){const b={},w=\"$$\"+C;let E=C.slice(2);var p=N8(E);if(R8(E)&&(E=E.slice(0,-7),b.capture=!0),!p&&h){if(k!=null)continue;n.removeEventListener(E,a[w],b),a[w]=null}if(k!=null)if(p)n[`__${E}`]=k,li([E]);else{let O=function(T){a[C].call(this,T)};var v=O;a[w]=Hb(E,n,O,b)}else p&&(n[`__${E}`]=void 0)}else if(C===\"style\"&&k!=null)n.style.cssText=k+\"\";else if(C===\"autofocus\")z8(n,!!k);else if(!o&&(C===\"__value\"||C===\"value\"&&k!=null))n.value=n.__value=k;else if(C===\"selected\"&&l)Ay(n,k);else{var m=C;i||(m=B8(m));var y=m===\"defaultValue\"||m===\"defaultChecked\";if(k==null&&!o&&!y)if(d[C]=null,m===\"value\"||m===\"checked\"){let b=n;const w=e===void 0;if(m===\"value\"){let E=b.defaultValue;b.removeAttribute(m),b.defaultValue=E,b.value=b.__value=w?E:null}else{let E=b.defaultChecked;b.removeAttribute(m),b.defaultChecked=E,b.checked=w?E:!1}}else n.removeAttribute(C);else y||f.includes(m)&&(o||typeof k!=\"string\")?n[m]=k:typeof k!=\"function\"&&ke(n,m,k)}C===\"style\"&&\"__styles\"in n&&(n.__styles={})}}}return a}var sx=new Map;function jk(n){var e=sx.get(n.nodeName);if(e)return e;sx.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=lk(r);for(var o in t)t[o].set&&e.push(o);r=Fm(r)}return e}function hc(n,e,t){var r=n.__className,i=zk(e,t);(r!==i||Lb)&&(i===\"\"?n.removeAttribute(\"class\"):n.setAttribute(\"class\",i),n.__className=i)}function Nr(n,e,t){var r=n.__className,i=zk(e,t);(r!==i||Lb)&&(e==null&&!t?n.removeAttribute(\"class\"):n.className=i,n.__className=i)}function zk(n,e){return(n??\"\")+(e?\" \"+e:\"\")}function Re(n,e,t){if(t){if(n.classList.contains(e))return;n.classList.add(e)}else{if(!n.classList.contains(e))return;n.classList.remove(e)}}function Nn(n,e,t,r){var i=n.__styles??(n.__styles={});i[e]!==t&&(i[e]=t,t==null?n.style.removeProperty(e):n.style.setProperty(e,t,\"\"))}const Q8=()=>performance.now(),Hs={tick:n=>requestAnimationFrame(n),now:()=>Q8(),tasks:new Set};function Vk(){const n=Hs.now();Hs.tasks.forEach(e=>{e.c(n)||(Hs.tasks.delete(e),e.f())}),Hs.tasks.size!==0&&Hs.tick(Vk)}function Z8(n){let e;return Hs.tasks.size===0&&Hs.tick(Vk),{promise:new Promise(t=>{Hs.tasks.add(e={c:n,f:t})}),abort(){Hs.tasks.delete(e)}}}function Eh(n,e){Vb(()=>{n.dispatchEvent(new CustomEvent(e))})}function $8(n){if(n===\"float\")return\"cssFloat\";if(n===\"offset\")return\"cssOffset\";if(n.startsWith(\"--\"))return n;const e=n.split(\"-\");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join(\"\")}function ax(n){const e={},t=n.split(\";\");for(const r of t){const[i,o]=r.split(\":\");if(!i||o===void 0)break;const s=$8(i.trim());e[s]=o.trim()}return e}const eP=n=>n;function tP(n,e,t,r){var i=(n&HM)!==0,o=\"both\",s,a=e.inert,l=e.style.overflow,u,f;function d(){var y=En,v=kn;ws(null),xs(null);try{return s??(s=t()(e,(r==null?void 0:r())??{},{direction:o}))}finally{ws(y),xs(v)}}var h={is_global:i,in(){e.inert=a,Eh(e,\"introstart\"),u=Ey(e,d(),f,1,()=>{Eh(e,\"introend\"),u==null||u.abort(),u=s=void 0,e.style.overflow=l})},out(y){e.inert=!0,Eh(e,\"outrostart\"),f=Ey(e,d(),u,0,()=>{Eh(e,\"outroend\"),y==null||y()})},stop:()=>{u==null||u.abort(),f==null||f.abort()}},g=kn;if((g.transitions??(g.transitions=[])).push(h),Oy){var p=i;if(!p){for(var m=g.parent;m&&m.f&Wu;)for(;(m=m.parent)&&!(m.f&Lm););p=!m||(m.f&rk)!==0}p&&fr(()=>{Ot(()=>h.in())})}}function Ey(n,e,t,r,i){var o=r===1;if(Fc(e)){var s,a=!1;return Gd(()=>{if(!a){var y=e({direction:o?\"in\":\"out\"});s=Ey(n,y,t,r,i)}}),{abort:()=>{a=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return i(),{abort:tr,deactivate:tr,reset:tr,t:()=>r};const{delay:l=0,css:u,tick:f,easing:d=eP}=e;var h=[];if(o&&t===void 0&&(f&&f(0,1),u)){var g=ax(u(0,1));h.push(g,g)}var p=()=>1-r,m=n.animate(h,{duration:l});return m.onfinish=()=>{var y=(t==null?void 0:t.t())??1-r;t==null||t.abort();var v=r-y,C=e.duration*Math.abs(v),k=[];if(C>0){var b=!1;if(u)for(var w=Math.ceil(C/16.666666666666668),E=0;E<=w;E+=1){var O=y+v*d(E/w),T=ax(u(O,1-O));k.push(T),b||(b=T.overflow===\"hidden\")}b&&(n.style.overflow=\"hidden\"),p=()=>{var I=m.currentTime;return y+v*d(I/C)},f&&Z8(()=>{if(m.playState!==\"running\")return!1;var I=p();return f(I,1-I),!0})}m=n.animate(k,{duration:C,fill:\"forwards\"}),m.onfinish=()=>{p=()=>r,f==null||f(r,1-r),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=tr)},deactivate:()=>{i=tr},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>p()}}function pi(n,e,t=e){var r=Xu();Nk(n,\"input\",i=>{var o=i?n.defaultValue:n.value;if(o=Qv(n)?Zv(o):o,t(o),r&&o!==(o=e())){var s=n.selectionStart,a=n.selectionEnd;n.value=o??\"\",a!==null&&(n.selectionStart=s,n.selectionEnd=Math.min(a,n.value.length))}}),Ot(e)==null&&n.value&&t(Qv(n)?Zv(n.value):n.value),uc(()=>{var i=e();Qv(n)&&i===Zv(n.value)||n.type===\"date\"&&!i&&!n.value||i!==n.value&&(n.value=i??\"\")})}function Qv(n){var e=n.type;return e===\"number\"||e===\"range\"}function Zv(n){return n===\"\"?null:+n}function bt(n,e,t){var r=Qs(n,e);r&&r.set&&(n[e]=t,Fb(()=>{n[e]=null}))}function od(n,e,t){if(n.multiple)return nP(n,e);for(var r of n.options){var i=Hf(r);if(h8(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ty(n,e){let t=!0;fr(()=>{e&&od(n,Ot(e),t),t=!1;var r=new MutationObserver(()=>{var i=n.__value;od(n,i)});return r.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"value\"]}),()=>{r.disconnect()}})}function qc(n,e,t=e){var r=!0;Nk(n,\"change\",i=>{var o=i?\"[selected]\":\":checked\",s;if(n.multiple)s=[].map.call(n.querySelectorAll(o),Hf);else{var a=n.querySelector(o)??n.querySelector(\"option:not([disabled])\");s=a&&Hf(a)}t(s)}),fr(()=>{var i=e();if(od(n,i,r),r&&i===void 0){var o=n.querySelector(\":checked\");o!==null&&(i=Hf(o),t(i))}n.__value=i,r=!1}),Ty(n)}function nP(n,e){for(var t of n.options)t.selected=~e.indexOf(Hf(t))}function Hf(n){return\"__value\"in n?n.__value:n.value}var Na,bu,Ud,Im,Hk;const Rm=class Rm{constructor(e){st(this,Im);st(this,Na,new WeakMap);st(this,bu);st(this,Ud);ff(this,Ud,e)}observe(e,t){var r=ze(this,Na).get(e)||new Set;return r.add(t),ze(this,Na).set(e,r),Q2(this,Im,Hk).call(this).observe(e,ze(this,Ud)),()=>{var i=ze(this,Na).get(e);i.delete(t),i.size===0&&(ze(this,Na).delete(e),ze(this,bu).unobserve(e))}}};Na=new WeakMap,bu=new WeakMap,Ud=new WeakMap,Im=new WeakSet,Hk=function(){return ze(this,bu)??ff(this,bu,new ResizeObserver(e=>{for(var t of e){Rm.entries.set(t.target,t);for(var r of ze(this,Na).get(t.target)||[])r(t)}}))},Eo(Rm,\"entries\",new WeakMap);let My=Rm;var rP=new My({box:\"border-box\"});function lx(n,e,t){var r=rP.observe(n,()=>t(n[e]));fr(()=>(Ot(()=>t(n[e])),r))}function cx(n,e){return n===e||(n==null?void 0:n[gs])===e}function yn(n={},e,t,r){return fr(()=>{var i,o;return uc(()=>{i=o,o=[],Ot(()=>{n!==t(...o)&&(e(n,...o),i&&cx(t(...i),n)&&e(null,...i))})}),()=>{Gd(()=>{o&&cx(t(...o),n)&&e(null,...o)})}}),n}function iP(n){return function(...e){var t=e[0];t.target===this&&(n==null||n.apply(this,e))}}function Io(n){return function(...e){var t=e[0];return t.stopPropagation(),n==null?void 0:n.apply(this,e)}}function Sa(n){return function(...e){var t=e[0];return t.preventDefault(),n==null?void 0:n.apply(this,e)}}function ft(n=!1){const e=Kt,t=e.l.u;if(!t)return;let r=()=>J(e.s);if(n){let i=0,o={};const s=re(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==o[u]&&(o[u]=l[u],a=!0);return a&&i++,i});r=()=>c(s)}t.b.length&&jb(()=>{ux(e,r),dp(t.b)}),mo(()=>{const i=Ot(()=>t.m.map(XM));return()=>{for(const o of i)typeof o==\"function\"&&o()}}),t.a.length&&mo(()=>{ux(e,r),dp(t.a)})}function ux(n,e){if(n.l.s)for(const t of n.l.s)c(t);e()}function Km(n){var e=Zr(0);return function(){return arguments.length===1?(S(e,c(e)+1),arguments[0]):(c(e),n())}}function Ba(n,e){var o;var t=(o=n.$$events)==null?void 0:o[e.type],r=cc(t)?t.slice():t==null?[]:[t];for(var i of r)i.call(this,e)}function dr(n){Kt===null&&dc(),Uu&&Kt.l!==null?Ub(Kt).m.push(n):mo(()=>{const e=Ot(n);if(typeof e==\"function\")return e})}function zr(n){Kt===null&&dc(),dr(()=>()=>Ot(n))}function oP(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function Jm(){const n=Kt;return n===null&&dc(),(e,t,r)=>{var o;const i=(o=n.s.$$events)==null?void 0:o[e];if(i){const s=cc(i)?i.slice():[i],a=oP(e,t,r);for(const l of s)l.call(n.x,a);return!a.defaultPrevented}return!0}}function sP(n){Kt===null&&dc(),Kt.l===null&&dk(),Ub(Kt).b.push(n)}function aP(n){Kt===null&&dc(),Kt.l===null&&dk(),Ub(Kt).a.push(n)}function Ub(n){var e=n.l;return e.u??(e.u={a:[],b:[],m:[]})}function Kb(n,e,t){if(n==null)return e(void 0),t&&t(void 0),tr;const r=Ot(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const Ac=[];function Pl(n,e){return{subscribe:ao(n,e).subscribe}}function ao(n,e=tr){let t=null;const r=new Set;function i(a){if(jm(n,a)&&(n=a,t)){const l=!Ac.length;for(const u of r)u[1](),Ac.push(u,n);if(l){for(let u=0;u<Ac.length;u+=2)Ac[u][0](Ac[u+1]);Ac.length=0}}}function o(a){i(a(n))}function s(a,l=tr){const u=[a,l];return r.add(u),r.size===1&&(t=e(i,o)||tr),a(n),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:s}}function Yd(n,e,t){const r=!Array.isArray(n),i=r?[n]:n;if(!i.every(Boolean))throw new Error(\"derived() expects stores as input, got a falsy value\");const o=e.length<2;return Pl(t,(s,a)=>{let l=!1;const u=[];let f=0,d=tr;const h=()=>{if(f)return;d();const p=e(r?u[0]:u,s,a);o?s(p):d=typeof p==\"function\"?p:tr},g=i.map((p,m)=>Kb(p,y=>{u[m]=y,f&=~(1<<m),l&&h()},()=>{f|=1<<m}));return l=!0,h(),function(){dp(g),d(),l=!1}})}function vp(n){let e;return Kb(n,t=>e=t)(),e}let Th=!1,Py=Symbol();function An(n,e,t){const r=t[e]??(t[e]={store:null,source:zm(void 0),unsubscribe:tr});if(r.store!==n&&!(Py in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=tr;else{var i=!0;r.unsubscribe=Kb(n,o=>{i?r.source.v=o:S(r.source,o)}),i=!1}return n&&Py in t?vp(n):c(r.source)}function $v(n,e){return n.set(e),e}function xo(){const n={};function e(){Fb(()=>{for(var t in n)n[t].unsubscribe();ak(n,Py,{enumerable:!1,value:!0})})}return[n,e]}function Hi(n,e,t){return n.set(t),e}function lP(n){var e=Th;try{return Th=!1,[n(),Th]}finally{Th=e}}const cP={get(n,e){if(!n.exclude.includes(e))return n.props[e]},set(n,e){return!1},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function Jb(n,e,t){return new Proxy({props:n,exclude:e},cP)}const uP={get(n,e){if(!n.exclude.includes(e))return c(n.version),e in n.special?n.special[e]():n.props[e]},set(n,e,t){return e in n.special||(n.special[e]=x({get[e](){return n.props[e]}},e,ek)),n.special[e](t),Z2(n.version),!0},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},deleteProperty(n,e){return n.exclude.includes(e)||(n.exclude.push(e),Z2(n.version)),!0},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function yp(n,e){return new Proxy({props:n,exclude:e,special:{},version:Zr(0)},uP)}const fP={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Fc(r)&&(r=r()),typeof r==\"object\"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];Fc(i)&&(i=i());const o=Qs(i,e);if(o&&o.set)return o.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(Fc(r)&&(r=r()),typeof r==\"object\"&&r!==null&&e in r){const i=Qs(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){if(e===gs||e===sk)return!1;for(let t of n.props)if(Fc(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props){Fc(t)&&(t=t());for(const r in t)e.includes(r)||e.push(r)}return e}};function Xr(...n){return new Proxy({props:n},fP)}function x(n,e,t,r){var O;var i=(t&FM)!==0,o=!Uu||(t&jM)!==0,s=(t&zM)!==0,a=(t&VM)!==0,l=!1,u;s?[u,l]=lP(()=>n[e]):u=n[e];var f=gs in n||sk in n,d=s&&(((O=Qs(n,e))==null?void 0:O.set)??(f&&e in n&&(T=>n[e]=T)))||void 0,h=r,g=!0,p=!1,m=()=>(p=!0,g&&(g=!1,a?h=Ot(r):h=r),h);u===void 0&&r!==void 0&&(d&&o&&t8(),u=m(),d&&d(u));var y;if(o)y=()=>{var T=n[e];return T===void 0?m():(g=!0,p=!1,T)};else{var v=(i?re:Me)(()=>n[e]);v.f|=ik,y=()=>{var T=c(v);return T!==void 0&&(h=void 0),T===void 0?h:T}}if(!(t&ek))return y;if(d){var C=n.$$legacy;return function(T,I){return arguments.length>0?((!o||!I||C||l)&&d(I?y():T),T):y()}}var k=!1,b=!1,w=zm(u),E=re(()=>{var T=y(),I=c(w);return k?(k=!1,b=!0,I):(b=!1,w.v=T)});return i||(E.equals=Nb),function(T,I){if(Ia!==null&&(k=b,y(),c(w)),arguments.length>0){const D=I?c(E):o&&s?at(T):T;return E.equals(D)||(k=!0,S(w,D),p&&h!==void 0&&(h=D),Ot(()=>c(E))),T}return c(E)}}function dP(n){jb(()=>{n();var e=kn;e.f&As&&(d8(),po(e,sl))})}function hP(){const n=Kt;return n===null&&dc(),e=>t=>{var i;const r=(i=n.s.$$events)==null?void 0:i[e];if(r){const o=cc(r)?r.slice():[r];for(const s of o)s.call(n.x,t);return!t.defaultPrevented}return!0}}a8();function gP(n){S(n,n.v+1)}function pP(n){let e=0,t=Zr(0),r;return()=>{T8()&&(c(t),uc(()=>(e===0&&(r=Ot(()=>n(()=>gP(t)))),e+=1,()=>{Sn().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}function qk(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,o,s=[],a=\"\",l=n.split(\"/\");for(l[0]||l.shift();i=l.shift();)t=i[0],t===\"*\"?(s.push(\"wild\"),a+=\"/(.*)\"):t===\":\"?(r=i.indexOf(\"?\",1),o=i.indexOf(\".\",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?\"(?:/([^/]+?))?\":\"/([^/]+?)\",~o&&(a+=(~r?\"?\":\"\")+\"\\\\\"+i.substring(o))):a+=\"/\"+i;return{keys:s,pattern:new RegExp(\"^\"+a+\"/?$\",\"i\")}}function fx(){const n=window.location.href.indexOf(\"#/\");let e=n>-1?window.location.href.substr(n+1):\"/\";const t=e.indexOf(\"?\");let r=\"\";return t>-1&&(r=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:r}}const Qd=Pl(null,function(e){e(fx());const t=()=>{e(fx())};return window.addEventListener(\"hashchange\",t,!1),function(){window.removeEventListener(\"hashchange\",t,!1)}});Yd(Qd,n=>n.location);Yd(Qd,n=>n.querystring);const dx=ao(void 0);async function hx(n){if(!n||n.length<1||n.charAt(0)!=\"/\"&&n.indexOf(\"#/\")!==0)throw Error(\"Invalid parameter location\");await Sn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(n.charAt(0)==\"#\"?\"\":\"#\")+n}function mP(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function vP(n,e){Ee(e,!1);let t=x(e,\"routes\",24,()=>({})),r=x(e,\"prefix\",8,\"\"),i=x(e,\"restoreScrollState\",8,!1);class o{constructor(E,O){if(!O||typeof O!=\"function\"&&(typeof O!=\"object\"||O._sveltesparouter!==!0))throw Error(\"Invalid component object\");if(!E||typeof E==\"string\"&&(E.length<1||E.charAt(0)!=\"/\"&&E.charAt(0)!=\"*\")||typeof E==\"object\"&&!(E instanceof RegExp))throw Error('Invalid value for \"path\" argument - strings must start with / or *');const{pattern:T,keys:I}=qk(E);this.path=E,typeof O==\"object\"&&O._sveltesparouter===!0?(this.component=O.component,this.conditions=O.conditions||[],this.userData=O.userData,this.props=O.props||{}):(this.component=()=>Promise.resolve(O),this.conditions=[],this.props={}),this._pattern=T,this._keys=I}match(E){if(r()){if(typeof r()==\"string\")if(E.startsWith(r()))E=E.substr(r().length)||\"/\";else return null;else if(r()instanceof RegExp){const D=E.match(r());if(D&&D[0])E=E.substr(D[0].length)||\"/\";else return null}}const O=this._pattern.exec(E);if(O===null)return null;if(this._keys===!1)return O;const T={};let I=0;for(;I<this._keys.length;){try{T[this._keys[I]]=decodeURIComponent(O[I+1]||\"\")||null}catch{T[this._keys[I]]=null}I++}return T}async checkConditions(E){for(let O=0;O<this.conditions.length;O++)if(!await this.conditions[O](E))return!1;return!0}}const s=[];t()instanceof Map?t().forEach((w,E)=>{s.push(new o(E,w))}):Object.keys(t()).forEach(w=>{s.push(new o(w,t()[w]))});let a=Q(null),l=Q(null),u=Q({});const f=Jm();async function d(w,E){await Sn(),f(w,E)}let h=null,g=null;i()&&(g=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?h=w.state:h=null},window.addEventListener(\"popstate\",g),aP(()=>{mP(h)}));let p=null,m=null;const y=Qd.subscribe(async w=>{p=w;let E=0;for(;E<s.length;){const O=s[E].match(w.location);if(!O){E++;continue}const T={route:s[E].path,location:w.location,querystring:w.querystring,userData:s[E].userData,params:O&&typeof O==\"object\"&&Object.keys(O).length?O:null};if(!await s[E].checkConditions(T)){S(a,null),m=null,d(\"conditionsFailed\",T);return}d(\"routeLoading\",Object.assign({},T));const I=s[E].component;if(m!=I){I.loading?(S(a,I.loading),m=I,S(l,I.loadingParams),S(u,{}),d(\"routeLoaded\",Object.assign({},T,{component:c(a),name:c(a).name,params:c(l)}))):(S(a,null),m=null);const D=await I();if(w!=p)return;S(a,D&&D.default||D),m=I}O&&typeof O==\"object\"&&Object.keys(O).length?S(l,O):S(l,null),S(u,s[E].props),d(\"routeLoaded\",Object.assign({},T,{component:c(a),name:c(a).name,params:c(l)})).then(()=>{dx.set(c(l))});return}S(a,null),m=null,dx.set(void 0)});zr(()=>{y(),g&&window.removeEventListener(\"popstate\",g)}),le(()=>J(i()),()=>{history.scrollRestoration=i()?\"manual\":\"auto\"}),Xt(),ft();var v=De(),C=ye(v);{var k=w=>{var E=De(),O=ye(E);Wl(O,()=>c(a),(T,I)=>{I(T,Xr({get params(){return c(l)}},()=>c(u),{$$events:{routeEvent(D){Ba.call(this,e,D)}}}))}),R(w,E)},b=w=>{var E=De(),O=ye(E);Wl(O,()=>c(a),(T,I)=>{I(T,Xr(()=>c(u),{$$events:{routeEvent(D){Ba.call(this,e,D)}}}))}),R(w,E)};te(C,w=>{c(l)?w(k):w(b,!1)})}R(n,v),Te()}var yP={value:()=>{}};function Xm(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+\"\")||r in t||/[\\s.]/.test(r))throw new Error(\"illegal type: \"+r);t[r]=[]}return new Lg(t)}function Lg(n){this._=n}function bP(n,e){return n.trim().split(/^|\\s+/).map(function(t){var r=\"\",i=t.indexOf(\".\");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);return{type:t,name:r}})}Lg.prototype=Xm.prototype={constructor:Lg,on:function(n,e){var t=this._,r=bP(n+\"\",t),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(n=r[o]).type)&&(i=wP(t[i],n.name)))return i;return}if(e!=null&&typeof e!=\"function\")throw new Error(\"invalid callback: \"+e);for(;++o<s;)if(i=(n=r[o]).type)t[i]=gx(t[i],n.name,e);else if(e==null)for(i in t)t[i]=gx(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Lg(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,o;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(o=this._[n],r=0,i=o.length;r<i;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(e,t)}};function wP(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function gx(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=yP,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var Iy=\"http://www.w3.org/1999/xhtml\";const px={svg:\"http://www.w3.org/2000/svg\",xhtml:Iy,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Gm(n){var e=n+=\"\",t=e.indexOf(\":\");return t>=0&&(e=n.slice(0,t))!==\"xmlns\"&&(n=n.slice(t+1)),px.hasOwnProperty(e)?{space:px[e],local:n}:n}function xP(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Iy&&e.documentElement.namespaceURI===Iy?e.createElement(n):e.createElementNS(t,n)}}function CP(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Wk(n){var e=Gm(n);return(e.local?CP:xP)(e)}function _P(){}function Xb(n){return n==null?_P:function(){return this.querySelector(n)}}function SP(n){typeof n!=\"function\"&&(n=Xb(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,f=0;f<s;++f)(l=o[f])&&(u=n.call(l,l.__data__,f,o))&&(\"__data__\"in l&&(u.__data__=l.__data__),a[f]=u);return new Qi(r,this._parents)}function kP(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function OP(){return[]}function Uk(n){return n==null?OP:function(){return this.querySelectorAll(n)}}function AP(n){return function(){return kP(n.apply(this,arguments))}}function EP(n){typeof n==\"function\"?n=AP(n):n=Uk(n);for(var e=this._groups,t=e.length,r=[],i=[],o=0;o<t;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(n.call(l,l.__data__,u,s)),i.push(l));return new Qi(r,i)}function Kk(n){return function(){return this.matches(n)}}function Jk(n){return function(e){return e.matches(n)}}var TP=Array.prototype.find;function MP(n){return function(){return TP.call(this.children,n)}}function PP(){return this.firstElementChild}function IP(n){return this.select(n==null?PP:MP(typeof n==\"function\"?n:Jk(n)))}var RP=Array.prototype.filter;function DP(){return Array.from(this.children)}function NP(n){return function(){return RP.call(this.children,n)}}function LP(n){return this.selectAll(n==null?DP:NP(typeof n==\"function\"?n:Jk(n)))}function BP(n){typeof n!=\"function\"&&(n=Kk(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&n.call(l,l.__data__,u,o)&&a.push(l);return new Qi(r,this._parents)}function Xk(n){return new Array(n.length)}function FP(){return new Qi(this._enter||this._groups.map(Xk),this._parents)}function bp(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}bp.prototype={constructor:bp,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function jP(n){return function(){return n}}function zP(n,e,t,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):t[s]=new bp(n,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function VP(n,e,t,r,i,o,s){var a,l,u=new Map,f=e.length,d=o.length,h=new Array(f),g;for(a=0;a<f;++a)(l=e[a])&&(h[a]=g=s.call(l,l.__data__,a,e)+\"\",u.has(g)?i[a]=l:u.set(g,l));for(a=0;a<d;++a)g=s.call(n,o[a],a,o)+\"\",(l=u.get(g))?(r[a]=l,l.__data__=o[a],u.delete(g)):t[a]=new bp(n,o[a]);for(a=0;a<f;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function HP(n){return n.__data__}function qP(n,e){if(!arguments.length)return Array.from(this,HP);var t=e?VP:zP,r=this._parents,i=this._groups;typeof n!=\"function\"&&(n=jP(n));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var f=r[u],d=i[u],h=d.length,g=WP(n.call(f,f&&f.__data__,u,r)),p=g.length,m=a[u]=new Array(p),y=s[u]=new Array(p),v=l[u]=new Array(h);t(f,d,m,y,v,g,e);for(var C=0,k=0,b,w;C<p;++C)if(b=m[C]){for(C>=k&&(k=C+1);!(w=y[k])&&++k<p;);b._next=w||null}}return s=new Qi(s,r),s._enter=a,s._exit=l,s}function WP(n){return typeof n==\"object\"&&\"length\"in n?n:Array.from(n)}function UP(){return new Qi(this._exit||this._groups.map(Xk),this._parents)}function KP(n,e,t){var r=this.enter(),i=this,o=this.exit();return typeof n==\"function\"?(r=n(r),r&&(r=r.selection())):r=r.append(n+\"\"),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?o.remove():t(o),r&&i?r.merge(i).order():i}function JP(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=t[l],f=r[l],d=u.length,h=a[l]=new Array(d),g,p=0;p<d;++p)(g=u[p]||f[p])&&(h[p]=g);for(;l<i;++l)a[l]=t[l];return new Qi(a,this._parents)}function XP(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function GP(n){n||(n=YP);function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o){for(var s=t[o],a=s.length,l=i[o]=new Array(a),u,f=0;f<a;++f)(u=s[f])&&(l[f]=u);l.sort(e)}return new Qi(i,this._parents).order()}function YP(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function QP(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ZP(){return Array.from(this)}function $P(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function eI(){let n=0;for(const e of this)++n;return n}function tI(){return!this.node()}function nI(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],o=0,s=i.length,a;o<s;++o)(a=i[o])&&n.call(a,a.__data__,o,i);return this}function rI(n){return function(){this.removeAttribute(n)}}function iI(n){return function(){this.removeAttributeNS(n.space,n.local)}}function oI(n,e){return function(){this.setAttribute(n,e)}}function sI(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function aI(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function lI(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function cI(n,e){var t=Gm(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?iI:rI:typeof e==\"function\"?t.local?lI:aI:t.local?sI:oI)(t,e))}function Gk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function uI(n){return function(){this.style.removeProperty(n)}}function fI(n,e,t){return function(){this.style.setProperty(n,e,t)}}function dI(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function hI(n,e,t){return arguments.length>1?this.each((e==null?uI:typeof e==\"function\"?dI:fI)(n,e,t??\"\")):Cu(this.node(),n)}function Cu(n,e){return n.style.getPropertyValue(e)||Gk(n).getComputedStyle(n,null).getPropertyValue(e)}function gI(n){return function(){delete this[n]}}function pI(n,e){return function(){this[n]=e}}function mI(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function vI(n,e){return arguments.length>1?this.each((e==null?gI:typeof e==\"function\"?mI:pI)(n,e)):this.node()[n]}function Yk(n){return n.trim().split(/^|\\s+/)}function Gb(n){return n.classList||new Qk(n)}function Qk(n){this._node=n,this._names=Yk(n.getAttribute(\"class\")||\"\")}Qk.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(n){return this._names.indexOf(n)>=0}};function Zk(n,e){for(var t=Gb(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function $k(n,e){for(var t=Gb(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function yI(n){return function(){Zk(this,n)}}function bI(n){return function(){$k(this,n)}}function wI(n,e){return function(){(e.apply(this,arguments)?Zk:$k)(this,n)}}function xI(n,e){var t=Yk(n+\"\");if(arguments.length<2){for(var r=Gb(this.node()),i=-1,o=t.length;++i<o;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e==\"function\"?wI:e?yI:bI)(t,e))}function CI(){this.textContent=\"\"}function _I(n){return function(){this.textContent=n}}function SI(n){return function(){var e=n.apply(this,arguments);this.textContent=e??\"\"}}function kI(n){return arguments.length?this.each(n==null?CI:(typeof n==\"function\"?SI:_I)(n)):this.node().textContent}function OI(){this.innerHTML=\"\"}function AI(n){return function(){this.innerHTML=n}}function EI(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??\"\"}}function TI(n){return arguments.length?this.each(n==null?OI:(typeof n==\"function\"?EI:AI)(n)):this.node().innerHTML}function MI(){this.nextSibling&&this.parentNode.appendChild(this)}function PI(){return this.each(MI)}function II(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RI(){return this.each(II)}function DI(n){var e=typeof n==\"function\"?n:Wk(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function NI(){return null}function LI(n,e){var t=typeof n==\"function\"?n:Wk(n),r=e==null?NI:typeof e==\"function\"?e:Xb(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function BI(){var n=this.parentNode;n&&n.removeChild(this)}function FI(){return this.each(BI)}function jI(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function zI(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function VI(n){return this.select(n?zI:jI)}function HI(n){return arguments.length?this.property(\"__data__\",n):this.node().__data__}function qI(n){return function(e){n.call(this,e,this.__data__)}}function WI(n){return n.trim().split(/^|\\s+/).map(function(e){var t=\"\",r=e.indexOf(\".\");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function UI(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,i=e.length,o;t<i;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function KI(n,e,t){return function(){var r=this.__on,i,o=qI(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=t),i.value=e;return}}this.addEventListener(n.type,o,t),i={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(i):this.__on=[i]}}function JI(n,e,t){var r=WI(n+\"\"),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,f;l<u;++l)for(i=0,f=a[l];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=e?KI:UI,i=0;i<o;++i)this.each(a(r[i],e,t));return this}function e4(n,e,t){var r=Gk(n),i=r.CustomEvent;typeof i==\"function\"?i=new i(e,t):(i=r.document.createEvent(\"Event\"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function XI(n,e){return function(){return e4(this,n,e)}}function GI(n,e){return function(){return e4(this,n,e.apply(this,arguments))}}function YI(n,e){return this.each((typeof e==\"function\"?GI:XI)(n,e))}function*QI(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var t4=[null];function Qi(n,e){this._groups=n,this._parents=e}function Zd(){return new Qi([[document.documentElement]],t4)}function ZI(){return this}Qi.prototype=Zd.prototype={constructor:Qi,select:SP,selectAll:EP,selectChild:IP,selectChildren:LP,filter:BP,data:qP,enter:FP,exit:UP,join:KP,merge:JP,selection:ZI,order:XP,sort:GP,call:QP,nodes:ZP,node:$P,size:eI,empty:tI,each:nI,attr:cI,style:hI,property:vI,classed:xI,text:kI,html:TI,raise:PI,lower:RI,append:DI,insert:LI,remove:FI,clone:VI,datum:HI,on:JI,dispatch:YI,[Symbol.iterator]:QI};function io(n){return typeof n==\"string\"?new Qi([[document.querySelector(n)]],[document.documentElement]):new Qi([[n]],t4)}function $I(n){let e;for(;e=n.sourceEvent;)n=e;return n}function Mo(n,e){if(n=$I(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const e7={passive:!1},sd={capture:!0,passive:!1};function e0(n){n.stopImmediatePropagation()}function ru(n){n.preventDefault(),n.stopImmediatePropagation()}function n4(n){var e=n.document.documentElement,t=io(n).on(\"dragstart.drag\",ru,sd);\"onselectstart\"in e?t.on(\"selectstart.drag\",ru,sd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect=\"none\")}function r4(n,e){var t=n.document.documentElement,r=io(n).on(\"dragstart.drag\",null);e&&(r.on(\"click.drag\",ru,sd),setTimeout(function(){r.on(\"click.drag\",null)},0)),\"onselectstart\"in t?r.on(\"selectstart.drag\",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Mh=n=>()=>n;function Ry(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Ry.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function t7(n){return!n.ctrlKey&&!n.button}function n7(){return this.parentNode}function r7(n,e){return e??{x:n.x,y:n.y}}function i7(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function o7(){var n=t7,e=n7,t=r7,r=i7,i={},o=Xm(\"start\",\"drag\",\"end\"),s=0,a,l,u,f,d=0;function h(b){b.on(\"mousedown.drag\",g).filter(r).on(\"touchstart.drag\",y).on(\"touchmove.drag\",v,e7).on(\"touchend.drag touchcancel.drag\",C).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function g(b,w){if(!(f||!n.call(this,b,w))){var E=k(this,e.call(this,b,w),b,w,\"mouse\");E&&(io(b.view).on(\"mousemove.drag\",p,sd).on(\"mouseup.drag\",m,sd),n4(b.view),e0(b),u=!1,a=b.clientX,l=b.clientY,E(\"start\",b))}}function p(b){if(ru(b),!u){var w=b.clientX-a,E=b.clientY-l;u=w*w+E*E>d}i.mouse(\"drag\",b)}function m(b){io(b.view).on(\"mousemove.drag mouseup.drag\",null),r4(b.view,u),ru(b),i.mouse(\"end\",b)}function y(b,w){if(n.call(this,b,w)){var E=b.changedTouches,O=e.call(this,b,w),T=E.length,I,D;for(I=0;I<T;++I)(D=k(this,O,b,w,E[I].identifier,E[I]))&&(e0(b),D(\"start\",b,E[I]))}}function v(b){var w=b.changedTouches,E=w.length,O,T;for(O=0;O<E;++O)(T=i[w[O].identifier])&&(ru(b),T(\"drag\",b,w[O]))}function C(b){var w=b.changedTouches,E=w.length,O,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),O=0;O<E;++O)(T=i[w[O].identifier])&&(e0(b),T(\"end\",b,w[O]))}function k(b,w,E,O,T,I){var D=o.copy(),A=Mo(I||E,w),M,P,_;if((_=t.call(b,new Ry(\"beforestart\",{sourceEvent:E,target:h,identifier:T,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:D}),O))!=null)return M=_.x-A[0]||0,P=_.y-A[1]||0,function N(F,B,L){var z=A,Z;switch(F){case\"start\":i[T]=N,Z=s++;break;case\"end\":delete i[T],--s;case\"drag\":A=Mo(L||B,w),Z=s;break}D.call(F,b,new Ry(F,{sourceEvent:B,subject:_,target:h,identifier:T,active:Z,x:A[0]+M,y:A[1]+P,dx:A[0]-z[0],dy:A[1]-z[1],dispatch:D}),O)}}return h.filter=function(b){return arguments.length?(n=typeof b==\"function\"?b:Mh(!!b),h):n},h.container=function(b){return arguments.length?(e=typeof b==\"function\"?b:Mh(b),h):e},h.subject=function(b){return arguments.length?(t=typeof b==\"function\"?b:Mh(b),h):t},h.touchable=function(b){return arguments.length?(r=typeof b==\"function\"?b:Mh(!!b),h):r},h.on=function(){var b=o.on.apply(o,arguments);return b===o?h:b},h.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,h):Math.sqrt(d)},h}function Yb(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function i4(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function $d(){}var ad=.7,wp=1/ad,iu=\"\\\\s*([+-]?\\\\d+)\\\\s*\",ld=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ms=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",s7=/^#([0-9a-f]{3,8})$/,a7=new RegExp(`^rgb\\\\(${iu},${iu},${iu}\\\\)$`),l7=new RegExp(`^rgb\\\\(${ms},${ms},${ms}\\\\)$`),c7=new RegExp(`^rgba\\\\(${iu},${iu},${iu},${ld}\\\\)$`),u7=new RegExp(`^rgba\\\\(${ms},${ms},${ms},${ld}\\\\)$`),f7=new RegExp(`^hsl\\\\(${ld},${ms},${ms}\\\\)$`),d7=new RegExp(`^hsla\\\\(${ld},${ms},${ms},${ld}\\\\)$`),mx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yb($d,cd,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:vx,formatHex:vx,formatHex8:h7,formatHsl:g7,formatRgb:yx,toString:yx});function vx(){return this.rgb().formatHex()}function h7(){return this.rgb().formatHex8()}function g7(){return o4(this).formatHsl()}function yx(){return this.rgb().formatRgb()}function cd(n){var e,t;return n=(n+\"\").trim().toLowerCase(),(e=s7.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?bx(e):t===3?new Mi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ph(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ph(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=a7.exec(n))?new Mi(e[1],e[2],e[3],1):(e=l7.exec(n))?new Mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=c7.exec(n))?Ph(e[1],e[2],e[3],e[4]):(e=u7.exec(n))?Ph(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=f7.exec(n))?Cx(e[1],e[2]/100,e[3]/100,1):(e=d7.exec(n))?Cx(e[1],e[2]/100,e[3]/100,e[4]):mx.hasOwnProperty(n)?bx(mx[n]):n===\"transparent\"?new Mi(NaN,NaN,NaN,0):null}function bx(n){return new Mi(n>>16&255,n>>8&255,n&255,1)}function Ph(n,e,t,r){return r<=0&&(n=e=t=NaN),new Mi(n,e,t,r)}function p7(n){return n instanceof $d||(n=cd(n)),n?(n=n.rgb(),new Mi(n.r,n.g,n.b,n.opacity)):new Mi}function Dy(n,e,t,r){return arguments.length===1?p7(n):new Mi(n,e,t,r??1)}function Mi(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Yb(Mi,Dy,i4($d,{brighter(n){return n=n==null?wp:Math.pow(wp,n),new Mi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?ad:Math.pow(ad,n),new Mi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Mi(Ll(this.r),Ll(this.g),Ll(this.b),xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wx,formatHex:wx,formatHex8:m7,formatRgb:xx,toString:xx}));function wx(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}`}function m7(){return`#${Il(this.r)}${Il(this.g)}${Il(this.b)}${Il((isNaN(this.opacity)?1:this.opacity)*255)}`}function xx(){const n=xp(this.opacity);return`${n===1?\"rgb(\":\"rgba(\"}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${n===1?\")\":`, ${n})`}`}function xp(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ll(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Il(n){return n=Ll(n),(n<16?\"0\":\"\")+n.toString(16)}function Cx(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ro(n,e,t,r)}function o4(n){if(n instanceof Ro)return new Ro(n.h,n.s,n.l,n.opacity);if(n instanceof $d||(n=cd(n)),!n)return new Ro;if(n instanceof Ro)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),o=Math.max(e,t,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(t-r)/a+(t<r)*6:t===o?s=(r-e)/a+2:s=(e-t)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ro(s,a,l,n.opacity)}function v7(n,e,t,r){return arguments.length===1?o4(n):new Ro(n,e,t,r??1)}function Ro(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Yb(Ro,v7,i4($d,{brighter(n){return n=n==null?wp:Math.pow(wp,n),new Ro(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?ad:Math.pow(ad,n),new Ro(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Mi(t0(n>=240?n-240:n+120,i,r),t0(n,i,r),t0(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Ro(_x(this.h),Ih(this.s),Ih(this.l),xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=xp(this.opacity);return`${n===1?\"hsl(\":\"hsla(\"}${_x(this.h)}, ${Ih(this.s)*100}%, ${Ih(this.l)*100}%${n===1?\")\":`, ${n})`}`}}));function _x(n){return n=(n||0)%360,n<0?n+360:n}function Ih(n){return Math.max(0,Math.min(1,n||0))}function t0(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const s4=n=>()=>n;function y7(n,e){return function(t){return n+t*e}}function b7(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function w7(n){return(n=+n)==1?a4:function(e,t){return t-e?b7(e,t,n):s4(isNaN(e)?t:e)}}function a4(n,e){var t=e-n;return t?y7(n,t):s4(isNaN(n)?e:n)}const Sx=function n(e){var t=w7(e);function r(i,o){var s=t((i=Dy(i)).r,(o=Dy(o)).r),a=t(i.g,o.g),l=t(i.b,o.b),u=a4(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=u(f),i+\"\"}}return r.gamma=n,r}(1);function Aa(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Ny=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,n0=new RegExp(Ny.source,\"g\");function x7(n){return function(){return n}}function C7(n){return function(e){return n(e)+\"\"}}function _7(n,e){var t=Ny.lastIndex=n0.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(n=n+\"\",e=e+\"\";(r=Ny.exec(n))&&(i=n0.exec(e));)(o=i.index)>t&&(o=e.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Aa(r,i)})),t=n0.lastIndex;return t<e.length&&(o=e.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?C7(l[0].x):x7(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(u);return a.join(\"\")})}var kx=180/Math.PI,Ly={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function l4(n,e,t,r,i,o){var s,a,l;return(s=Math.sqrt(n*n+e*e))&&(n/=s,e/=s),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,n)*kx,skewX:Math.atan(l)*kx,scaleX:s,scaleY:a}}var Rh;function S7(n){const e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(n+\"\");return e.isIdentity?Ly:l4(e.a,e.b,e.c,e.d,e.e,e.f)}function k7(n){return n==null||(Rh||(Rh=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Rh.setAttribute(\"transform\",n),!(n=Rh.transform.baseVal.consolidate()))?Ly:(n=n.matrix,l4(n.a,n.b,n.c,n.d,n.e,n.f))}function c4(n,e,t,r){function i(u){return u.length?u.pop()+\" \":\"\"}function o(u,f,d,h,g,p){if(u!==d||f!==h){var m=g.push(\"translate(\",null,e,null,t);p.push({i:m-4,x:Aa(u,d)},{i:m-2,x:Aa(f,h)})}else(d||h)&&g.push(\"translate(\"+d+e+h+t)}function s(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(i(d)+\"rotate(\",null,r)-2,x:Aa(u,f)})):f&&d.push(i(d)+\"rotate(\"+f+r)}function a(u,f,d,h){u!==f?h.push({i:d.push(i(d)+\"skewX(\",null,r)-2,x:Aa(u,f)}):f&&d.push(i(d)+\"skewX(\"+f+r)}function l(u,f,d,h,g,p){if(u!==d||f!==h){var m=g.push(i(g)+\"scale(\",null,\",\",null,\")\");p.push({i:m-4,x:Aa(u,d)},{i:m-2,x:Aa(f,h)})}else(d!==1||h!==1)&&g.push(i(g)+\"scale(\"+d+\",\"+h+\")\")}return function(u,f){var d=[],h=[];return u=n(u),f=n(f),o(u.translateX,u.translateY,f.translateX,f.translateY,d,h),s(u.rotate,f.rotate,d,h),a(u.skewX,f.skewX,d,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(g){for(var p=-1,m=h.length,y;++p<m;)d[(y=h[p]).i]=y.x(g);return d.join(\"\")}}}var O7=c4(S7,\"px, \",\"px)\",\"deg)\"),A7=c4(k7,\", \",\")\",\")\"),E7=1e-12;function Ox(n){return((n=Math.exp(n))+1/n)/2}function T7(n){return((n=Math.exp(n))-1/n)/2}function M7(n){return((n=Math.exp(2*n))-1)/(n+1)}const P7=function n(e,t,r){function i(o,s){var a=o[0],l=o[1],u=o[2],f=s[0],d=s[1],h=s[2],g=f-a,p=d-l,m=g*g+p*p,y,v;if(m<E7)v=Math.log(h/u)/e,y=function(O){return[a+O*g,l+O*p,u*Math.exp(e*O*v)]};else{var C=Math.sqrt(m),k=(h*h-u*u+r*m)/(2*u*t*C),b=(h*h-u*u-r*m)/(2*h*t*C),w=Math.log(Math.sqrt(k*k+1)-k),E=Math.log(Math.sqrt(b*b+1)-b);v=(E-w)/e,y=function(O){var T=O*v,I=Ox(w),D=u/(t*C)*(I*M7(e*T+w)-T7(w));return[a+D*g,l+D*p,u*I/Ox(e*T+w)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return n(s,a,l)},i}(Math.SQRT2,2,4);var _u=0,Ef=0,df=0,u4=1e3,Cp,Tf,_p=0,Ul=0,Ym=0,ud=typeof performance==\"object\"&&performance.now?performance:Date,f4=typeof window==\"object\"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Qb(){return Ul||(f4(I7),Ul=ud.now()+Ym)}function I7(){Ul=0}function Sp(){this._call=this._time=this._next=null}Sp.prototype=d4.prototype={constructor:Sp,restart:function(n,e,t){if(typeof n!=\"function\")throw new TypeError(\"callback is not a function\");t=(t==null?Qb():+t)+(e==null?0:+e),!this._next&&Tf!==this&&(Tf?Tf._next=this:Cp=this,Tf=this),this._call=n,this._time=t,By()},stop:function(){this._call&&(this._call=null,this._time=1/0,By())}};function d4(n,e,t){var r=new Sp;return r.restart(n,e,t),r}function R7(){Qb(),++_u;for(var n=Cp,e;n;)(e=Ul-n._time)>=0&&n._call.call(void 0,e),n=n._next;--_u}function Ax(){Ul=(_p=ud.now())+Ym,_u=Ef=0;try{R7()}finally{_u=0,N7(),Ul=0}}function D7(){var n=ud.now(),e=n-_p;e>u4&&(Ym-=e,_p=n)}function N7(){for(var n,e=Cp,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Cp=t);Tf=n,By(r)}function By(n){if(!_u){Ef&&(Ef=clearTimeout(Ef));var e=n-Ul;e>24?(n<1/0&&(Ef=setTimeout(Ax,n-ud.now()-Ym)),df&&(df=clearInterval(df))):(df||(_p=ud.now(),df=setInterval(D7,u4)),_u=1,f4(Ax))}}function Ex(n,e,t){var r=new Sp;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var L7=Xm(\"start\",\"end\",\"cancel\",\"interrupt\"),B7=[],h4=0,Tx=1,Fy=2,Bg=3,Mx=4,jy=5,Fg=6;function Qm(n,e,t,r,i,o){var s=n.__transition;if(!s)n.__transition={};else if(t in s)return;F7(n,t,{name:e,index:r,group:i,on:L7,tween:B7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:h4})}function Zb(n,e){var t=Yo(n,e);if(t.state>h4)throw new Error(\"too late; already scheduled\");return t}function Es(n,e){var t=Yo(n,e);if(t.state>Bg)throw new Error(\"too late; already running\");return t}function Yo(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error(\"transition not found\");return t}function F7(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=d4(o,0,t.time);function o(u){t.state=Tx,t.timer.restart(s,t.delay,t.time),t.delay<=u&&s(u-t.delay)}function s(u){var f,d,h,g;if(t.state!==Tx)return l();for(f in r)if(g=r[f],g.name===t.name){if(g.state===Bg)return Ex(s);g.state===Mx?(g.state=Fg,g.timer.stop(),g.on.call(\"interrupt\",n,n.__data__,g.index,g.group),delete r[f]):+f<e&&(g.state=Fg,g.timer.stop(),g.on.call(\"cancel\",n,n.__data__,g.index,g.group),delete r[f])}if(Ex(function(){t.state===Bg&&(t.state=Mx,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=Fy,t.on.call(\"start\",n,n.__data__,t.index,t.group),t.state===Fy){for(t.state=Bg,i=new Array(h=t.tween.length),f=0,d=-1;f<h;++f)(g=t.tween[f].value.call(n,n.__data__,t.index,t.group))&&(i[++d]=g);i.length=d+1}}function a(u){for(var f=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=jy,1),d=-1,h=i.length;++d<h;)i[d].call(n,f);t.state===jy&&(t.on.call(\"end\",n,n.__data__,t.index,t.group),l())}function l(){t.state=Fg,t.timer.stop(),delete r[e];for(var u in r)return;delete n.__transition}}function jg(n,e){var t=n.__transition,r,i,o=!0,s;if(t){e=e==null?null:e+\"\";for(s in t){if((r=t[s]).name!==e){o=!1;continue}i=r.state>Fy&&r.state<jy,r.state=Fg,r.timer.stop(),r.on.call(i?\"interrupt\":\"cancel\",n,n.__data__,r.index,r.group),delete t[s]}o&&delete n.__transition}}function j7(n){return this.each(function(){jg(this,n)})}function z7(n,e){var t,r;return function(){var i=Es(this,n),o=i.tween;if(o!==t){r=t=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function V7(n,e,t){var r,i;if(typeof t!=\"function\")throw new Error;return function(){var o=Es(this,n),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function H7(n,e){var t=this._id;if(n+=\"\",arguments.length<2){for(var r=Yo(this.node(),t).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===n)return s.value;return null}return this.each((e==null?z7:V7)(t,n,e))}function $b(n,e,t){var r=n._id;return n.each(function(){var i=Es(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Yo(i,r).value[e]}}function g4(n,e){var t;return(typeof e==\"number\"?Aa:e instanceof cd?Sx:(t=cd(e))?(e=t,Sx):_7)(n,e)}function q7(n){return function(){this.removeAttribute(n)}}function W7(n){return function(){this.removeAttributeNS(n.space,n.local)}}function U7(n,e,t){var r,i=t+\"\",o;return function(){var s=this.getAttribute(n);return s===i?null:s===r?o:o=e(r=s,t)}}function K7(n,e,t){var r,i=t+\"\",o;return function(){var s=this.getAttributeNS(n.space,n.local);return s===i?null:s===r?o:o=e(r=s,t)}}function J7(n,e,t){var r,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=a+\"\",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function X7(n,e,t){var r,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=a+\"\",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function G7(n,e){var t=Gm(n),r=t===\"transform\"?A7:g4;return this.attrTween(n,typeof e==\"function\"?(t.local?X7:J7)(t,r,$b(this,\"attr.\"+n,e)):e==null?(t.local?W7:q7)(t):(t.local?K7:U7)(t,r,e))}function Y7(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Q7(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Z7(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Q7(n,o)),t}return i._value=e,i}function $7(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Y7(n,o)),t}return i._value=e,i}function eR(n,e){var t=\"attr.\"+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=\"function\")throw new Error;var r=Gm(n);return this.tween(t,(r.local?Z7:$7)(r,e))}function tR(n,e){return function(){Zb(this,n).delay=+e.apply(this,arguments)}}function nR(n,e){return e=+e,function(){Zb(this,n).delay=e}}function rR(n){var e=this._id;return arguments.length?this.each((typeof n==\"function\"?tR:nR)(e,n)):Yo(this.node(),e).delay}function iR(n,e){return function(){Es(this,n).duration=+e.apply(this,arguments)}}function oR(n,e){return e=+e,function(){Es(this,n).duration=e}}function sR(n){var e=this._id;return arguments.length?this.each((typeof n==\"function\"?iR:oR)(e,n)):Yo(this.node(),e).duration}function aR(n,e){if(typeof e!=\"function\")throw new Error;return function(){Es(this,n).ease=e}}function lR(n){var e=this._id;return arguments.length?this.each(aR(e,n)):Yo(this.node(),e).ease}function cR(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!=\"function\")throw new Error;Es(this,n).ease=t}}function uR(n){if(typeof n!=\"function\")throw new Error;return this.each(cR(this._id,n))}function fR(n){typeof n!=\"function\"&&(n=Kk(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&n.call(l,l.__data__,u,o)&&a.push(l);return new aa(r,this._parents,this._name,this._id)}function dR(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=t[a],f=l.length,d=s[a]=new Array(f),h,g=0;g<f;++g)(h=l[g]||u[g])&&(d[g]=h);for(;a<r;++a)s[a]=e[a];return new aa(s,this._parents,this._name,this._id)}function hR(n){return(n+\"\").trim().split(/^|\\s+/).every(function(e){var t=e.indexOf(\".\");return t>=0&&(e=e.slice(0,t)),!e||e===\"start\"})}function gR(n,e,t){var r,i,o=hR(e)?Zb:Es;return function(){var s=o(this,n),a=s.on;a!==r&&(i=(r=a).copy()).on(e,t),s.on=i}}function pR(n,e){var t=this._id;return arguments.length<2?Yo(this.node(),t).on.on(n):this.each(gR(t,n,e))}function mR(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function vR(){return this.on(\"end.remove\",mR(this._id))}function yR(n){var e=this._name,t=this._id;typeof n!=\"function\"&&(n=Xb(n));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),f,d,h=0;h<l;++h)(f=a[h])&&(d=n.call(f,f.__data__,h,a))&&(\"__data__\"in f&&(d.__data__=f.__data__),u[h]=d,Qm(u[h],e,t,h,u,Yo(f,t)));return new aa(o,this._parents,e,t)}function bR(n){var e=this._name,t=this._id;typeof n!=\"function\"&&(n=Uk(n));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var h=n.call(f,f.__data__,d,l),g,p=Yo(f,t),m=0,y=h.length;m<y;++m)(g=h[m])&&Qm(g,e,t,m,h,p);o.push(h),s.push(f)}return new aa(o,s,e,t)}var wR=Zd.prototype.constructor;function xR(){return new wR(this._groups,this._parents)}function CR(n,e){var t,r,i;return function(){var o=Cu(this,n),s=(this.style.removeProperty(n),Cu(this,n));return o===s?null:o===t&&s===r?i:i=e(t=o,r=s)}}function p4(n){return function(){this.style.removeProperty(n)}}function _R(n,e,t){var r,i=t+\"\",o;return function(){var s=Cu(this,n);return s===i?null:s===r?o:o=e(r=s,t)}}function SR(n,e,t){var r,i,o;return function(){var s=Cu(this,n),a=t(this),l=a+\"\";return a==null&&(l=a=(this.style.removeProperty(n),Cu(this,n))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function kR(n,e){var t,r,i,o=\"style.\"+e,s=\"end.\"+o,a;return function(){var l=Es(this,n),u=l.on,f=l.value[o]==null?a||(a=p4(e)):void 0;(u!==t||i!==f)&&(r=(t=u).copy()).on(s,i=f),l.on=r}}function OR(n,e,t){var r=(n+=\"\")==\"transform\"?O7:g4;return e==null?this.styleTween(n,CR(n,r)).on(\"end.style.\"+n,p4(n)):typeof e==\"function\"?this.styleTween(n,SR(n,r,$b(this,\"style.\"+n,e))).each(kR(this._id,n)):this.styleTween(n,_R(n,r,e),t).on(\"end.style.\"+n,null)}function AR(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function ER(n,e,t){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&AR(n,s,t)),r}return o._value=e,o}function TR(n,e,t){var r=\"style.\"+(n+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!=\"function\")throw new Error;return this.tween(r,ER(n,e,t??\"\"))}function MR(n){return function(){this.textContent=n}}function PR(n){return function(){var e=n(this);this.textContent=e??\"\"}}function IR(n){return this.tween(\"text\",typeof n==\"function\"?PR($b(this,\"text\",n)):MR(n==null?\"\":n+\"\"))}function RR(n){return function(e){this.textContent=n.call(this,e)}}function DR(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&RR(i)),e}return r._value=n,r}function NR(n){var e=\"text\";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!=\"function\")throw new Error;return this.tween(e,DR(n))}function LR(){for(var n=this._name,e=this._id,t=m4(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var f=Yo(l,e);Qm(l,n,t,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new aa(r,this._parents,n,t)}function BR(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};t.each(function(){var u=Es(this,r),f=u.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var FR=0;function aa(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function m4(){return++FR}var Ls=Zd.prototype;aa.prototype={constructor:aa,select:yR,selectAll:bR,selectChild:Ls.selectChild,selectChildren:Ls.selectChildren,filter:fR,merge:dR,selection:xR,transition:LR,call:Ls.call,nodes:Ls.nodes,node:Ls.node,size:Ls.size,empty:Ls.empty,each:Ls.each,on:pR,attr:G7,attrTween:eR,style:OR,styleTween:TR,text:IR,textTween:NR,remove:vR,tween:H7,delay:rR,duration:sR,ease:lR,easeVarying:uR,end:BR,[Symbol.iterator]:Ls[Symbol.iterator]};function jR(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var zR={time:null,delay:0,duration:250,ease:jR};function VR(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function HR(n){var e,t;n instanceof aa?(e=n._id,n=n._name):(e=m4(),(t=zR).time=Qb(),n=n==null?null:n+\"\");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Qm(l,n,e,u,s,t||VR(l,e));return new aa(r,this._parents,n,e)}Zd.prototype.interrupt=j7;Zd.prototype.transition=HR;const Dh=n=>()=>n;function qR(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Us(n,e,t){this.k=n,this.x=e,this.y=t}Us.prototype={constructor:Us,scale:function(n){return n===1?this:new Us(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Us(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};var Zm=new Us(1,0,0);v4.prototype=Us.prototype;function v4(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Zm;return n.__zoom}function r0(n){n.stopImmediatePropagation()}function hf(n){n.preventDefault(),n.stopImmediatePropagation()}function WR(n){return(!n.ctrlKey||n.type===\"wheel\")&&!n.button}function UR(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute(\"viewBox\")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Px(){return this.__zoom||Zm}function KR(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function JR(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function XR(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],s=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function y4(){var n=WR,e=UR,t=XR,r=KR,i=JR,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=P7,u=Xm(\"start\",\"zoom\",\"end\"),f,d,h,g=500,p=150,m=0,y=10;function v(_){_.property(\"__zoom\",Px).on(\"wheel.zoom\",T,{passive:!1}).on(\"mousedown.zoom\",I).on(\"dblclick.zoom\",D).filter(i).on(\"touchstart.zoom\",A).on(\"touchmove.zoom\",M).on(\"touchend.zoom touchcancel.zoom\",P).style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}v.transform=function(_,N,F,B){var L=_.selection?_.selection():_;L.property(\"__zoom\",Px),_!==L?w(_,N,F,B):L.interrupt().each(function(){E(this,arguments).event(B).start().zoom(null,typeof N==\"function\"?N.apply(this,arguments):N).end()})},v.scaleBy=function(_,N,F,B){v.scaleTo(_,function(){var L=this.__zoom.k,z=typeof N==\"function\"?N.apply(this,arguments):N;return L*z},F,B)},v.scaleTo=function(_,N,F,B){v.transform(_,function(){var L=e.apply(this,arguments),z=this.__zoom,Z=F==null?b(L):typeof F==\"function\"?F.apply(this,arguments):F,ae=z.invert(Z),ne=typeof N==\"function\"?N.apply(this,arguments):N;return t(k(C(z,ne),Z,ae),L,s)},F,B)},v.translateBy=function(_,N,F,B){v.transform(_,function(){return t(this.__zoom.translate(typeof N==\"function\"?N.apply(this,arguments):N,typeof F==\"function\"?F.apply(this,arguments):F),e.apply(this,arguments),s)},null,B)},v.translateTo=function(_,N,F,B,L){v.transform(_,function(){var z=e.apply(this,arguments),Z=this.__zoom,ae=B==null?b(z):typeof B==\"function\"?B.apply(this,arguments):B;return t(Zm.translate(ae[0],ae[1]).scale(Z.k).translate(typeof N==\"function\"?-N.apply(this,arguments):-N,typeof F==\"function\"?-F.apply(this,arguments):-F),z,s)},B,L)};function C(_,N){return N=Math.max(o[0],Math.min(o[1],N)),N===_.k?_:new Us(N,_.x,_.y)}function k(_,N,F){var B=N[0]-F[0]*_.k,L=N[1]-F[1]*_.k;return B===_.x&&L===_.y?_:new Us(_.k,B,L)}function b(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function w(_,N,F,B){_.on(\"start.zoom\",function(){E(this,arguments).event(B).start()}).on(\"interrupt.zoom end.zoom\",function(){E(this,arguments).event(B).end()}).tween(\"zoom\",function(){var L=this,z=arguments,Z=E(L,z).event(B),ae=e.apply(L,z),ne=F==null?b(ae):typeof F==\"function\"?F.apply(L,z):F,ie=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),U=L.__zoom,ue=typeof N==\"function\"?N.apply(L,z):N,ce=l(U.invert(ne).concat(ie/U.k),ue.invert(ne).concat(ie/ue.k));return function(q){if(q===1)q=ue;else{var se=ce(q),fe=ie/se[2];q=new Us(fe,ne[0]-se[0]*fe,ne[1]-se[1]*fe)}Z.zoom(null,q)}})}function E(_,N,F){return!F&&_.__zooming||new O(_,N)}function O(_,N){this.that=_,this.args=N,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,N),this.taps=0}O.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit(\"start\")),this},zoom:function(_,N){return this.mouse&&_!==\"mouse\"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&_!==\"touch\"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&_!==\"touch\"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit(\"zoom\"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit(\"end\")),this},emit:function(_){var N=io(this.that).datum();u.call(_,this.that,new qR(_,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),N)}};function T(_,...N){if(!n.apply(this,arguments))return;var F=E(this,N).event(_),B=this.__zoom,L=Math.max(o[0],Math.min(o[1],B.k*Math.pow(2,r.apply(this,arguments)))),z=Mo(_);if(F.wheel)(F.mouse[0][0]!==z[0]||F.mouse[0][1]!==z[1])&&(F.mouse[1]=B.invert(F.mouse[0]=z)),clearTimeout(F.wheel);else{if(B.k===L)return;F.mouse=[z,B.invert(z)],jg(this),F.start()}hf(_),F.wheel=setTimeout(Z,p),F.zoom(\"mouse\",t(k(C(B,L),F.mouse[0],F.mouse[1]),F.extent,s));function Z(){F.wheel=null,F.end()}}function I(_,...N){if(h||!n.apply(this,arguments))return;var F=_.currentTarget,B=E(this,N,!0).event(_),L=io(_.view).on(\"mousemove.zoom\",ne,!0).on(\"mouseup.zoom\",ie,!0),z=Mo(_,F),Z=_.clientX,ae=_.clientY;n4(_.view),r0(_),B.mouse=[z,this.__zoom.invert(z)],jg(this),B.start();function ne(U){if(hf(U),!B.moved){var ue=U.clientX-Z,ce=U.clientY-ae;B.moved=ue*ue+ce*ce>m}B.event(U).zoom(\"mouse\",t(k(B.that.__zoom,B.mouse[0]=Mo(U,F),B.mouse[1]),B.extent,s))}function ie(U){L.on(\"mousemove.zoom mouseup.zoom\",null),r4(U.view,B.moved),hf(U),B.event(U).end()}}function D(_,...N){if(n.apply(this,arguments)){var F=this.__zoom,B=Mo(_.changedTouches?_.changedTouches[0]:_,this),L=F.invert(B),z=F.k*(_.shiftKey?.5:2),Z=t(k(C(F,z),B,L),e.apply(this,N),s);hf(_),a>0?io(this).transition().duration(a).call(w,Z,B,_):io(this).call(v.transform,Z,B,_)}}function A(_,...N){if(n.apply(this,arguments)){var F=_.touches,B=F.length,L=E(this,N,_.changedTouches.length===B).event(_),z,Z,ae,ne;for(r0(_),Z=0;Z<B;++Z)ae=F[Z],ne=Mo(ae,this),ne=[ne,this.__zoom.invert(ne),ae.identifier],L.touch0?!L.touch1&&L.touch0[2]!==ne[2]&&(L.touch1=ne,L.taps=0):(L.touch0=ne,z=!0,L.taps=1+!!f);f&&(f=clearTimeout(f)),z&&(L.taps<2&&(d=ne[0],f=setTimeout(function(){f=null},g)),jg(this),L.start())}}function M(_,...N){if(this.__zooming){var F=E(this,N).event(_),B=_.changedTouches,L=B.length,z,Z,ae,ne;for(hf(_),z=0;z<L;++z)Z=B[z],ae=Mo(Z,this),F.touch0&&F.touch0[2]===Z.identifier?F.touch0[0]=ae:F.touch1&&F.touch1[2]===Z.identifier&&(F.touch1[0]=ae);if(Z=F.that.__zoom,F.touch1){var ie=F.touch0[0],U=F.touch0[1],ue=F.touch1[0],ce=F.touch1[1],q=(q=ue[0]-ie[0])*q+(q=ue[1]-ie[1])*q,se=(se=ce[0]-U[0])*se+(se=ce[1]-U[1])*se;Z=C(Z,Math.sqrt(q/se)),ae=[(ie[0]+ue[0])/2,(ie[1]+ue[1])/2],ne=[(U[0]+ce[0])/2,(U[1]+ce[1])/2]}else if(F.touch0)ae=F.touch0[0],ne=F.touch0[1];else return;F.zoom(\"touch\",t(k(Z,ae,ne),F.extent,s))}}function P(_,...N){if(this.__zooming){var F=E(this,N).event(_),B=_.changedTouches,L=B.length,z,Z;for(r0(_),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),z=0;z<L;++z)Z=B[z],F.touch0&&F.touch0[2]===Z.identifier?delete F.touch0:F.touch1&&F.touch1[2]===Z.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(Z=Mo(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<y)){var ae=io(this).on(\"dblclick.zoom\");ae&&ae.apply(this,arguments)}}}return v.wheelDelta=function(_){return arguments.length?(r=typeof _==\"function\"?_:Dh(+_),v):r},v.filter=function(_){return arguments.length?(n=typeof _==\"function\"?_:Dh(!!_),v):n},v.touchable=function(_){return arguments.length?(i=typeof _==\"function\"?_:Dh(!!_),v):i},v.extent=function(_){return arguments.length?(e=typeof _==\"function\"?_:Dh([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),v):e},v.scaleExtent=function(_){return arguments.length?(o[0]=+_[0],o[1]=+_[1],v):[o[0],o[1]]},v.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(_){return arguments.length?(t=_,v):t},v.duration=function(_){return arguments.length?(a=+_,v):a},v.interpolate=function(_){return arguments.length?(l=_,v):l},v.on=function(){var _=u.on.apply(u,arguments);return _===u?v:_},v.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,v):Math.sqrt(m)},v.tapDistance=function(_){return arguments.length?(y=+_,v):y},v}const kp={error001:()=>\"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001\",error002:()=>\"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",error003:n=>`Node type \"${n}\" not found. Using fallback type \"default\".`,error004:()=>\"The React Flow parent container needs a width and a height to render the graph.\",error005:()=>\"Only child nodes can use a parent extent.\",error006:()=>\"Can't create edge. An edge needs a source and a target.\",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type \"${n}\" doesn't exist.`,error008:(n,{id:e,sourceHandle:t,targetHandle:r})=>`Couldn't create edge for ${n} handle id: \"${n===\"source\"?t:r}\", edge id: ${e}.`,error010:()=>\"Handle: No node id found. Make sure to only use a Handle inside a custom Node.\",error011:n=>`Edge type \"${n}\" not found. Using fallback type \"default\".`,error012:n=>`Node with id \"${n}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,error013:(n=\"react\")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>\"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.\"},zy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Su;(function(n){n.Strict=\"strict\",n.Loose=\"loose\"})(Su||(Su={}));var Wa;(function(n){n.Free=\"free\",n.Vertical=\"vertical\",n.Horizontal=\"horizontal\"})(Wa||(Wa={}));var Op;(function(n){n.Partial=\"partial\",n.Full=\"full\"})(Op||(Op={}));const b4={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ra;(function(n){n.Bezier=\"default\",n.Straight=\"straight\",n.Step=\"step\",n.SmoothStep=\"smoothstep\",n.SimpleBezier=\"simplebezier\"})(Ra||(Ra={}));var fd;(function(n){n.Arrow=\"arrow\",n.ArrowClosed=\"arrowclosed\"})(fd||(fd={}));var Mt;(function(n){n.Left=\"left\",n.Top=\"top\",n.Right=\"right\",n.Bottom=\"bottom\"})(Mt||(Mt={}));const Ix={[Mt.Left]:Mt.Right,[Mt.Right]:Mt.Left,[Mt.Top]:Mt.Bottom,[Mt.Bottom]:Mt.Top};function GR(n,e){if(!n&&!e)return!0;if(!n||!e||n.size!==e.size)return!1;if(!n.size&&!e.size)return!0;for(const t of n.keys())if(!e.has(t))return!1;return!0}function Rx(n,e,t){if(!t)return;const r=[];n.forEach((i,o)=>{e!=null&&e.has(o)||r.push(i)}),r.length&&t(r)}function YR(n){return n===null?null:n?\"valid\":\"invalid\"}const w4=n=>\"id\"in n&&\"source\"in n&&\"target\"in n,QR=n=>\"id\"in n&&\"position\"in n&&!(\"source\"in n)&&!(\"target\"in n),ew=n=>\"id\"in n&&\"internals\"in n&&!(\"source\"in n)&&!(\"target\"in n),eh=(n,e=[0,0])=>{const{width:t,height:r}=al(n),i=n.origin??e,o=t*i[0],s=r*i[1];return{x:n.position.x-o,y:n.position.y-s}},ZR=(n,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const t=n.reduce((r,i)=>{const o=typeof i==\"string\";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):ew(i)?i:e.nodeLookup.get(i.id));const a=s?Ap(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return $m(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ev(t)},th=(n,e={})=>{if(n.size===0)return{x:0,y:0,width:0,height:0};let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return n.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Ap(r);t=$m(t,i)}}),ev(t)},x4=(n,e,[t,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...nh(e,[t,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of n.values()){const{measured:f,selectable:d=!0,hidden:h=!1}=u;if(s&&!d||h)continue;const g=f.width??u.width??u.initialWidth??null,p=f.height??u.height??u.initialHeight??null,m=dd(a,Ou(u)),y=(g??0)*(p??0),v=o&&m>0;(!u.internals.handleBounds||v||m>=y||u.dragging)&&l.push(u)}return l},$R=(n,e)=>{const t=new Set;return n.forEach(r=>{t.add(r.id)}),e.filter(r=>t.has(r.source)||t.has(r.target))};function Dx(n,e){const t=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return n.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&t.set(i.id,i)}),t}async function Nx({nodes:n,width:e,height:t,panZoom:r,minZoom:i,maxZoom:o},s){if(n.size===0)return Promise.resolve(!1);const a=th(n),l=nw(a,e,t,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function e9({nodeId:n,nextPosition:e,nodeLookup:t,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=t.get(n),a=s.parentId?t.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let d=i;if(s.extent===\"parent\"&&!s.expandParent)if(!a)o==null||o(\"005\",kp.error005());else{const g=a.measured.width,p=a.measured.height;g&&p&&(d=[[l,u],[l+g,u+p]])}else a&&Au(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const h=Au(d)?Kl(e,d,s.measured):e;return{position:{x:h.x-l+s.measured.width*f[0],y:h.y-u+s.measured.height*f[1]},positionAbsolute:h}}async function t9({nodesToRemove:n=[],edgesToRemove:e=[],nodes:t,edges:r,onBeforeDelete:i}){const o=new Set(n.map(h=>h.id)),s=[];for(const h of t){if(h.deletable===!1)continue;const g=o.has(h.id),p=!g&&h.parentId&&s.find(m=>m.id===h.parentId);(g||p)&&s.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),f=$R(s,l);for(const h of l)a.has(h.id)&&!f.find(p=>p.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:s};const d=await i({nodes:s,edges:f});return typeof d==\"boolean\"?d?{edges:f,nodes:s}:{edges:[],nodes:[]}:d}const ku=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),Kl=(n={x:0,y:0},e,t)=>({x:ku(n.x,e[0][0],e[1][0]-((t==null?void 0:t.width)??0)),y:ku(n.y,e[0][1],e[1][1]-((t==null?void 0:t.height)??0))});function C4(n,e,t){const{width:r,height:i}=al(t),{x:o,y:s}=t.internals.positionAbsolute;return Kl(n,[[o,s],[o+r,s+i]],e)}const Lx=(n,e,t)=>n<e?ku(Math.abs(n-e),1,e)/e:n>t?-ku(Math.abs(n-t),1,e)/e:0,_4=(n,e,t=15,r=40)=>{const i=Lx(n.x,r,e.width-r)*t,o=Lx(n.y,r,e.height-r)*t;return[i,o]},$m=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),Vy=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),ev=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),Ou=(n,e=[0,0])=>{var i,o;const{x:t,y:r}=ew(n)?n.internals.positionAbsolute:eh(n,e);return{x:t,y:r,width:((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0,height:((o=n.measured)==null?void 0:o.height)??n.height??n.initialHeight??0}},Ap=(n,e=[0,0])=>{var i,o;const{x:t,y:r}=ew(n)?n.internals.positionAbsolute:eh(n,e);return{x:t,y:r,x2:t+(((i=n.measured)==null?void 0:i.width)??n.width??n.initialWidth??0),y2:r+(((o=n.measured)==null?void 0:o.height)??n.height??n.initialHeight??0)}},S4=(n,e)=>ev($m(Vy(n),Vy(e))),dd=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},Bx=n=>Ks(n.width)&&Ks(n.height)&&Ks(n.x)&&Ks(n.y),Ks=n=>!isNaN(n)&&isFinite(n),n9=(n,e)=>{},tw=(n,e=[1,1])=>({x:e[0]*Math.round(n.x/e[0]),y:e[1]*Math.round(n.y/e[1])}),nh=({x:n,y:e},[t,r,i],o=!1,s=[1,1])=>{const a={x:(n-t)/i,y:(e-r)/i};return o?tw(a,s):a},k4=({x:n,y:e},[t,r,i])=>({x:n*i+t,y:e*i+r}),nw=(n,e,t,r,i,o)=>{const s=e/(n.width*(1+o)),a=t/(n.height*(1+o)),l=Math.min(s,a),u=ku(l,r,i),f=n.x+n.width/2,d=n.y+n.height/2,h=e/2-f*u,g=t/2-d*u;return{x:h,y:g,zoom:u}},Ep=()=>{var n;return typeof navigator<\"u\"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf(\"Mac\"))>=0};function Au(n){return n!==void 0&&n!==\"parent\"}function al(n){var e,t;return{width:((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth??0,height:((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight??0}}function O4(n){var e,t;return(((e=n.measured)==null?void 0:e.width)??n.width??n.initialWidth)!==void 0&&(((t=n.measured)==null?void 0:t.height)??n.height??n.initialHeight)!==void 0}function r9(n,e={width:0,height:0},t,r,i){const o={...n},s=r.get(t);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function i0(n,{snapGrid:e=[0,0],snapToGrid:t=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Zs(n),a=nh({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=t?tw(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const rw=n=>({width:n.offsetWidth,height:n.offsetHeight}),i9=n=>{var e;return((e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n))||(window==null?void 0:window.document)},o9=[\"INPUT\",\"SELECT\",\"TEXTAREA\"];function s9(n){var r,i;const e=((i=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:i[0])||n.target;return(e==null?void 0:e.nodeType)!==1?!1:o9.includes(e.nodeName)||e.hasAttribute(\"contenteditable\")||!!e.closest(\".nokey\")}const A4=n=>\"clientX\"in n,Zs=(n,e)=>{var o,s;const t=A4(n),r=t?n.clientX:(o=n.touches)==null?void 0:o[0].clientX,i=t?n.clientY:(s=n.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Fx=(n,e,t,r,i)=>{const o=e.querySelectorAll(`.${n}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute(\"data-handleid\"),type:n,nodeId:i,position:s.getAttribute(\"data-handlepos\"),x:(a.left-t.left)/r,y:(a.top-t.top)/r,...rw(s)}})};function a9({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=n*.125+i*.375+s*.375+t*.125,u=e*.125+o*.375+a*.375+r*.125,f=Math.abs(l-n),d=Math.abs(u-e);return[l,u,f,d]}function Nh(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function jx({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}){switch(n){case Mt.Left:return[e-Nh(e-r,o),t];case Mt.Right:return[e+Nh(r-e,o),t];case Mt.Top:return[e,t-Nh(t-i,o)];case Mt.Bottom:return[e,t+Nh(i-t,o)]}}function E4({sourceX:n,sourceY:e,sourcePosition:t=Mt.Bottom,targetX:r,targetY:i,targetPosition:o=Mt.Top,curvature:s=.25}){const[a,l]=jx({pos:t,x1:n,y1:e,x2:r,y2:i,c:s}),[u,f]=jx({pos:o,x1:r,y1:i,x2:n,y2:e,c:s}),[d,h,g,p]=a9({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${n},${e} C${a},${l} ${u},${f} ${r},${i}`,d,h,g,p]}function T4({sourceX:n,sourceY:e,targetX:t,targetY:r}){const i=Math.abs(t-n)/2,o=t<n?t+i:t-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function l9({sourceNode:n,targetNode:e,selected:t=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=t||e.selected||n.selected,s=Math.max(n.internals.z||0,e.internals.z||0,1e3);return r+(o?s:0)}function c9({sourceNode:n,targetNode:e,width:t,height:r,transform:i}){const o=$m(Ap(n),Ap(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:t/i[2],height:r/i[2]};return dd(s,ev(o))>0}const u9=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`xy-edge__${n}${e||\"\"}-${t}${r||\"\"}`,f9=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),d9=(n,e)=>{if(!n.source||!n.target)return e;let t;return w4(n)?t={...n}:t={...n,id:u9(n)},f9(t,e)?e:(t.sourceHandle===null&&delete t.sourceHandle,t.targetHandle===null&&delete t.targetHandle,e.concat(t))};function M4({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[i,o,s,a]=T4({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,i,o,s,a]}const zx={[Mt.Left]:{x:-1,y:0},[Mt.Right]:{x:1,y:0},[Mt.Top]:{x:0,y:-1},[Mt.Bottom]:{x:0,y:1}},h9=({source:n,sourcePosition:e=Mt.Bottom,target:t})=>e===Mt.Left||e===Mt.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},Vx=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function g9({source:n,sourcePosition:e=Mt.Bottom,target:t,targetPosition:r=Mt.Top,center:i,offset:o}){const s=zx[e],a=zx[r],l={x:n.x+s.x*o,y:n.y+s.y*o},u={x:t.x+a.x*o,y:t.y+a.y*o},f=h9({source:l,sourcePosition:e,target:u}),d=f.x!==0?\"x\":\"y\",h=f[d];let g=[],p,m;const y={x:0,y:0},v={x:0,y:0},[C,k,b,w]=T4({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(s[d]*a[d]===-1){p=i.x??C,m=i.y??k;const O=[{x:p,y:l.y},{x:p,y:u.y}],T=[{x:l.x,y:m},{x:u.x,y:m}];s[d]===h?g=d===\"x\"?O:T:g=d===\"x\"?T:O}else{const O=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(d===\"x\"?g=s.x===h?T:O:g=s.y===h?O:T,e===r){const P=Math.abs(n[d]-t[d]);if(P<=o){const _=Math.min(o-1,o-P);s[d]===h?y[d]=(l[d]>n[d]?-1:1)*_:v[d]=(u[d]>t[d]?-1:1)*_}}if(e!==r){const P=d===\"x\"?\"y\":\"x\",_=s[d]===a[P],N=l[P]>u[P],F=l[P]<u[P];(s[d]===1&&(!_&&N||_&&F)||s[d]!==1&&(!_&&F||_&&N))&&(g=d===\"x\"?O:T)}const I={x:l.x+y.x,y:l.y+y.y},D={x:u.x+v.x,y:u.y+v.y},A=Math.max(Math.abs(I.x-g[0].x),Math.abs(D.x-g[0].x)),M=Math.max(Math.abs(I.y-g[0].y),Math.abs(D.y-g[0].y));A>=M?(p=(I.x+D.x)/2,m=g[0].y):(p=g[0].x,m=(I.y+D.y)/2)}return[[n,{x:l.x+y.x,y:l.y+y.y},...g,{x:u.x+v.x,y:u.y+v.y},t],p,m,b,w]}function p9(n,e,t,r){const i=Math.min(Vx(n,e)/2,Vx(e,t)/2,r),{x:o,y:s}=e;if(n.x===o&&o===t.x||n.y===s&&s===t.y)return`L${o} ${s}`;if(n.y===s){const u=n.x<t.x?-1:1,f=n.y<t.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*f}`}const a=n.x<t.x?1:-1,l=n.y<t.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function iw({sourceX:n,sourceY:e,sourcePosition:t=Mt.Bottom,targetX:r,targetY:i,targetPosition:o=Mt.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[f,d,h,g,p]=g9({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[f.reduce((y,v,C)=>{let k=\"\";return C>0&&C<f.length-1?k=p9(f[C-1],v,f[C+1],s):k=`${C===0?\"M\":\"L\"}${v.x} ${v.y}`,y+=k,y},\"\"),d,h,g,p]}function Hx(n){var e;return n&&!!(n.internals.handleBounds||(e=n.handles)!=null&&e.length)&&!!(n.measured.width||n.width||n.initialWidth)}function m9(n){var d;const{sourceNode:e,targetNode:t}=n;if(!Hx(e)||!Hx(t))return null;const r=e.internals.handleBounds||qx(e.handles),i=t.internals.handleBounds||qx(t.handles),o=Wx((r==null?void 0:r.source)??[],n.sourceHandle),s=Wx(n.connectionMode===Su.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),n.targetHandle);if(!o||!s)return(d=n.onError)==null||d.call(n,\"008\",kp.error008(o?\"target\":\"source\",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const a=(o==null?void 0:o.position)||Mt.Bottom,l=(s==null?void 0:s.position)||Mt.Top,u=hd(e,o,a),f=hd(t,s,l);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function qx(n){if(!n)return null;const e=[],t=[];for(const r of n)r.width=r.width??1,r.height=r.height??1,r.type===\"source\"?e.push(r):r.type===\"target\"&&t.push(r);return{source:e,target:t}}function hd(n,e,t=Mt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+n.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+n.internals.positionAbsolute.y,{width:s,height:a}=e??al(n);if(r)return{x:i+s/2,y:o+a/2};switch((e==null?void 0:e.position)??t){case Mt.Top:return{x:i+s/2,y:o};case Mt.Right:return{x:i+s,y:o+a/2};case Mt.Bottom:return{x:i+s/2,y:o+a};case Mt.Left:return{x:i,y:o+a/2}}}function Wx(n,e){return n&&(e?n.find(t=>t.id===e):n[0])||null}function Hy(n,e){return n?typeof n==\"string\"?n:`${e?`${e}__`:\"\"}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join(\"&\")}`:\"\"}function v9(n,{id:e,defaultColor:t,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return n.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l==\"object\"){const u=Hy(l,e);o.has(u)||(s.push({id:u,color:l.color||t,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const ow={nodeOrigin:[0,0],nodeExtent:zy,elevateNodesOnSelect:!0,defaults:{}},y9={...ow,checkEquality:!0};function sw(n,e){const t={...n};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function b9(n,e,t){const r=sw(ow,t);for(const i of n.values())if(i.parentId)aw(i,n,e,r);else{const o=eh(i,r.nodeOrigin),s=Au(i.extent)?i.extent:r.nodeExtent,a=Kl(o,s,al(i));i.internals.positionAbsolute=a}}function w9(n,e,t,r){var a,l;const i=sw(y9,r),o=new Map(e),s=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),t.clear();for(const u of n){let f=o.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const d=eh(u,i.nodeOrigin),h=Au(u.extent)?u.extent:i.nodeExtent,g=Kl(d,h,al(u));f={...i.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(l=u.measured)==null?void 0:l.height},internals:{positionAbsolute:g,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:P4(u,s),userNode:u}},e.set(u.id,f)}u.parentId&&aw(f,e,t,r)}}function x9(n,e){if(!n.parentId)return;const t=e.get(n.parentId);t?t.set(n.id,n):e.set(n.parentId,new Map([[n.id,n]]))}function aw(n,e,t,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=sw(ow,r),a=n.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}x9(n,t);const u=i?1e3:0,{x:f,y:d,z:h}=C9(n,l,o,s,u),{positionAbsolute:g}=n.internals,p=f!==g.x||d!==g.y;(p||h!==n.internals.z)&&e.set(n.id,{...n,internals:{...n.internals,positionAbsolute:p?{x:f,y:d}:g,z:h}})}function P4(n,e){return(Ks(n.zIndex)?n.zIndex:0)+(n.selected?e:0)}function C9(n,e,t,r,i){const{x:o,y:s}=e.internals.positionAbsolute,a=al(n),l=eh(n,t),u=Au(n.extent)?Kl(l,n.extent,a):l;let f=Kl({x:o+u.x,y:s+u.y},r,a);n.extent===\"parent\"&&(f=C4(f,a,e));const d=P4(n,i),h=e.internals.z??0;return{x:f.x,y:f.y,z:h>d?h:d}}function _9(n,e,t,r=[0,0]){var s;const i=[],o=new Map;for(const a of n){const l=e.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Ou(l),f=S4(u,a.rect);o.set(a.parentId,{expandedRect:f,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var k;const f=l.internals.positionAbsolute,d=al(l),h=l.origin??r,g=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,p=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,m=Math.max(d.width,Math.round(a.width)),y=Math.max(d.height,Math.round(a.height)),v=(m-d.width)*h[0],C=(y-d.height)*h[1];(g>0||p>0||v||C)&&(i.push({id:u,type:\"position\",position:{x:l.position.x-g+v,y:l.position.y-p+C}}),(k=t.get(u))==null||k.forEach(b=>{n.some(w=>w.id===b.id)||i.push({id:b.id,type:\"position\",position:{x:b.position.x+g,y:b.position.y+p}})})),(d.width<a.width||d.height<a.height||g||p)&&i.push({id:u,type:\"dimensions\",setAttributes:!0,dimensions:{width:m+(g?h[0]*g-v:0),height:y+(p?h[1]*p-C:0)}})}),i}function S9(n,e,t,r,i,o){const s=r==null?void 0:r.querySelector(\".xyflow__viewport\");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const h of n.values()){const g=e.get(h.id);if(!g)continue;if(g.hidden){e.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const p=rw(h.nodeElement),m=g.measured.width!==p.width||g.measured.height!==p.height;if(!!(p.width&&p.height&&(m||!g.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),C=Au(g.extent)?g.extent:o;let{positionAbsolute:k}=g.internals;g.parentId&&g.extent===\"parent\"?k=C4(k,p,e.get(g.parentId)):C&&(k=Kl(k,C,p));const b={...g,measured:p,internals:{...g.internals,positionAbsolute:k,handleBounds:{source:Fx(\"source\",h.nodeElement,v,f,g.id),target:Fx(\"target\",h.nodeElement,v,f,g.id)}}};e.set(g.id,b),g.parentId&&aw(b,e,t,{nodeOrigin:i}),a=!0,m&&(l.push({id:g.id,type:\"dimensions\",dimensions:p}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:Ou(b,i)}))}}if(d.length>0){const h=_9(d,e,t,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function k9({delta:n,panZoom:e,transform:t,translateExtent:r,width:i,height:o}){if(!e||!n.x&&!n.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:t[0]+n.x,y:t[1]+n.y,zoom:t[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==t[0]||s.y!==t[1]||s.k!==t[2]);return Promise.resolve(a)}function Ux(n,e,t,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(t,e)),s=`${i}-${n}`;const l=r.get(s)||new Map;if(r.set(s,l.set(t,e)),o){s=`${i}-${n}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(t,e))}}function O9(n,e,t){n.clear(),e.clear();for(const r of t){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,f=`${o}-${a}--${i}-${s}`;Ux(\"source\",l,f,n,i,s),Ux(\"target\",l,u,n,o,a),e.set(r.id,r)}}function I4(n,e){if(!n.parentId)return!1;const t=e.get(n.parentId);return t?t.selected?!0:I4(t,e):!1}function Kx(n,e,t){var i;let r=n;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===t)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function A9(n,e,t,r){const i=new Map;for(const[o,s]of n)if((s.selected||s.id===r)&&(!s.parentId||!I4(s,n))&&(s.draggable||e&&typeof s.draggable>\"u\")){const a=n.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:t.x-a.internals.positionAbsolute.x,y:t.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function o0({nodeId:n,dragItems:e,nodeLookup:t,dragging:r=!0}){var s,a,l;const i=[];for(const[u,f]of e){const d=(s=t.get(u))==null?void 0:s.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!n)return[i[0],i];const o=(a=t.get(n))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=e.get(n))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function E9({onNodeMouseDown:n,getStoreItems:e,onDragStart:t,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},f=null,d=!1,h=null,g=!1;function p({noDragClassName:y,handleSelector:v,domNode:C,isSelectable:k,nodeId:b,nodeClickDistance:w=0}){h=io(C);function E({x:D,y:A},M){const{nodeLookup:P,nodeExtent:_,snapGrid:N,snapToGrid:F,nodeOrigin:B,onNodeDrag:L,onSelectionDrag:z,onError:Z,updateNodePositions:ae}=e();o={x:D,y:A};let ne=!1,ie={x:0,y:0,x2:0,y2:0};if(a.size>1&&_){const U=th(a);ie=Vy(U)}for(const[U,ue]of a){if(!P.has(U))continue;let ce={x:D-ue.distance.x,y:A-ue.distance.y};F&&(ce=tw(ce,N));let q=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];if(a.size>1&&_&&!ue.extent){const{positionAbsolute:G}=ue.internals,oe=G.x-ie.x+_[0][0],$=G.x+ue.measured.width-ie.x2+_[1][0],Y=G.y-ie.y+_[0][1],ee=G.y+ue.measured.height-ie.y2+_[1][1];q=[[oe,Y],[$,ee]]}const{position:se,positionAbsolute:fe}=e9({nodeId:U,nextPosition:ce,nodeLookup:P,nodeExtent:q,nodeOrigin:B,onError:Z});ne=ne||ue.position.x!==se.x||ue.position.y!==se.y,ue.position=se,ue.internals.positionAbsolute=fe}if(ne&&(ae(a,!0),M&&(r||L||!b&&z))){const[U,ue]=o0({nodeId:b,dragItems:a,nodeLookup:P});r==null||r(M,a,U,ue),L==null||L(M,U,ue),b||z==null||z(M,ue)}}async function O(){if(!f)return;const{transform:D,panBy:A,autoPanSpeed:M}=e(),[P,_]=_4(u,f,M);(P!==0||_!==0)&&(o.x=(o.x??0)-P/D[2],o.y=(o.y??0)-_/D[2],await A({x:P,y:_})&&E(o,null)),s=requestAnimationFrame(O)}function T(D){var ne;const{nodeLookup:A,multiSelectionActive:M,nodesDraggable:P,transform:_,snapGrid:N,snapToGrid:F,selectNodesOnDrag:B,onNodeDragStart:L,onSelectionDragStart:z,unselectNodesAndEdges:Z}=e();d=!0,(!B||!k)&&!M&&b&&((ne=A.get(b))!=null&&ne.selected||Z()),k&&B&&b&&(n==null||n(b));const ae=i0(D.sourceEvent,{transform:_,snapGrid:N,snapToGrid:F,containerBounds:f});if(o=ae,a=A9(A,P,ae,b),a.size>0&&(t||L||!b&&z)){const[ie,U]=o0({nodeId:b,dragItems:a,nodeLookup:A});t==null||t(D.sourceEvent,a,ie,U),L==null||L(D.sourceEvent,ie,U),b||z==null||z(D.sourceEvent,U)}}const I=o7().clickDistance(w).on(\"start\",D=>{const{domNode:A,nodeDragThreshold:M,transform:P,snapGrid:_,snapToGrid:N}=e();f=(A==null?void 0:A.getBoundingClientRect())||null,g=!1,M===0&&T(D),o=i0(D.sourceEvent,{transform:P,snapGrid:_,snapToGrid:N,containerBounds:f}),u=Zs(D.sourceEvent,f)}).on(\"drag\",D=>{const{autoPanOnNodeDrag:A,transform:M,snapGrid:P,snapToGrid:_,nodeDragThreshold:N,nodeLookup:F}=e(),B=i0(D.sourceEvent,{transform:M,snapGrid:P,snapToGrid:_,containerBounds:f});if((D.sourceEvent.type===\"touchmove\"&&D.sourceEvent.touches.length>1||b&&!F.has(b))&&(g=!0),!g){if(!l&&A&&d&&(l=!0,O()),!d){const L=B.xSnapped-(o.x??0),z=B.ySnapped-(o.y??0);Math.sqrt(L*L+z*z)>N&&T(D)}(o.x!==B.xSnapped||o.y!==B.ySnapped)&&a&&d&&(u=Zs(D.sourceEvent,f),E(B,D.sourceEvent))}}).on(\"end\",D=>{if(!(!d||g)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:A,updateNodePositions:M,onNodeDragStop:P,onSelectionDragStop:_}=e();if(M(a,!1),i||P||!b&&_){const[N,F]=o0({nodeId:b,dragItems:a,nodeLookup:A,dragging:!1});i==null||i(D.sourceEvent,a,N,F),P==null||P(D.sourceEvent,N,F),b||_==null||_(D.sourceEvent,F)}}}).filter(D=>{const A=D.target;return!D.button&&(!y||!Kx(A,`.${y}`,C))&&(!v||Kx(A,v,C))});h.call(I)}function m(){h==null||h.on(\".drag\",null)}return{update:p,destroy:m}}function T9(n,e,t){const r=[],i={x:n.x-t,y:n.y-t,width:t*2,height:t*2};for(const o of e.values())dd(i,Ou(o))>0&&r.push(o);return r}const M9=250;function P9(n,e,t,r){var a,l;let i=[],o=1/0;const s=T9(n,t,e+M9);for(const u of s){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:g}=hd(u,d,d.position,!0),p=Math.sqrt(Math.pow(h-n.x,2)+Math.pow(g-n.y,2));p>e||(p<o?(i=[{...d,x:h,y:g}],o=p):p===o&&i.push({...d,x:h,y:g}))}}if(!i.length)return null;if(i.length>1){const u=r.type===\"source\"?\"target\":\"source\";return i.find(f=>f.type===u)??i[0]}return i[0]}function R4(n,e,t,r,i,o=!1){var u,f,d;const s=r.get(n);if(!s)return null;const a=i===\"strict\"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(t?a==null?void 0:a.find(h=>h.id===t):a==null?void 0:a[0])??null;return l&&o?{...l,...hd(s,l,l.position,!0)}:l}function D4(n,e){return n||(e!=null&&e.classList.contains(\"target\")?\"target\":e!=null&&e.classList.contains(\"source\")?\"source\":null)}function I9(n,e){let t=null;return e?t=!0:n&&!e&&(t=!1),t}const N4=()=>!0;function R9(n,{connectionMode:e,connectionRadius:t,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:f,flowId:d,panBy:h,cancelConnection:g,onConnectStart:p,onConnect:m,onConnectEnd:y,isValidConnection:v=N4,onReconnectEnd:C,updateConnection:k,getTransform:b,getFromHandle:w,autoPanSpeed:E}){const O=i9(n.target);let T=0,I;const{x:D,y:A}=Zs(n),M=O==null?void 0:O.elementFromPoint(D,A),P=D4(o,M),_=a==null?void 0:a.getBoundingClientRect();if(!_||!P)return;const N=R4(i,P,r,l,e);if(!N)return;let F=Zs(n,_),B=!1,L=null,z=!1,Z=null;function ae(){if(!f||!_)return;const[fe,G]=_4(F,_,E);h({x:fe,y:G}),T=requestAnimationFrame(ae)}const ne={...N,nodeId:i,type:P,position:N.position},ie=l.get(i),ue={inProgress:!0,isValid:null,from:hd(ie,ne,Mt.Left,!0),fromHandle:ne,fromPosition:ne.position,fromNode:ie,to:F,toHandle:null,toPosition:Ix[ne.position],toNode:null};k(ue);let ce=ue;p==null||p(n,{nodeId:i,handleId:r,handleType:P});function q(fe){if(!w()||!ne){se(fe);return}const G=b();F=Zs(fe,_),I=P9(nh(F,G,!1,[1,1]),t,l,ne),B||(ae(),B=!0);const oe=L4(fe,{handle:I,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?\"target\":\"source\",isValidConnection:v,doc:O,lib:u,flowId:d,nodeLookup:l});Z=oe.handleDomNode,L=oe.connection,z=I9(!!I,oe.isValid);const $={...ce,isValid:z,to:I&&z?k4({x:I.x,y:I.y},G):F,toHandle:oe.toHandle,toPosition:z&&oe.toHandle?oe.toHandle.position:Ix[ne.position],toNode:oe.toHandle?l.get(oe.toHandle.nodeId):null};z&&I&&ce.toHandle&&$.toHandle&&ce.toHandle.type===$.toHandle.type&&ce.toHandle.nodeId===$.toHandle.nodeId&&ce.toHandle.id===$.toHandle.id&&ce.to.x===$.to.x&&ce.to.y===$.to.y||(k($),ce=$)}function se(fe){(I||Z)&&L&&z&&(m==null||m(L));const{inProgress:G,...oe}=ce,$={...oe,toPosition:ce.toHandle?ce.toPosition:null};y==null||y(fe,$),o&&(C==null||C(fe,$)),g(),cancelAnimationFrame(T),B=!1,z=!1,L=null,Z=null,O.removeEventListener(\"mousemove\",q),O.removeEventListener(\"mouseup\",se),O.removeEventListener(\"touchmove\",q),O.removeEventListener(\"touchend\",se)}O.addEventListener(\"mousemove\",q),O.addEventListener(\"mouseup\",se),O.addEventListener(\"touchmove\",q),O.addEventListener(\"touchend\",se)}function L4(n,{handle:e,connectionMode:t,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=N4,nodeLookup:f}){const d=o===\"target\",h=e?s.querySelector(`.${a}-flow__handle[data-id=\"${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}\"]`):null,{x:g,y:p}=Zs(n),m=s.elementFromPoint(g,p),y=m!=null&&m.classList.contains(`${a}-flow__handle`)?m:h,v={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const C=D4(void 0,y),k=y.getAttribute(\"data-nodeid\"),b=y.getAttribute(\"data-handleid\"),w=y.classList.contains(\"connectable\"),E=y.classList.contains(\"connectableend\");if(!k||!C)return v;const O={source:d?k:r,sourceHandle:d?b:i,target:d?r:k,targetHandle:d?i:b};v.connection=O;const I=w&&E&&(t===Su.Strict?d&&C===\"source\"||!d&&C===\"target\":k!==r||b!==i);v.isValid=I&&u(O),v.toHandle=R4(k,C,b,f,t,!1)}return v}const D9={onPointerDown:R9,isValid:L4};function N9({domNode:n,panZoom:e,getTransform:t,getViewScale:r}){const i=io(n);function o({translateExtent:a,width:l,height:u,zoomStep:f=10,pannable:d=!0,zoomable:h=!0,inversePan:g=!1}){const p=k=>{const b=t();if(k.sourceEvent.type!==\"wheel\"||!e)return;const w=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,E=b[2]*Math.pow(2,w);e.scaleTo(E)};let m=[0,0];const y=k=>{(k.sourceEvent.type===\"mousedown\"||k.sourceEvent.type===\"touchstart\")&&(m=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},v=k=>{const b=t();if(k.sourceEvent.type!==\"mousemove\"&&k.sourceEvent.type!==\"touchmove\"||!e)return;const w=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],E=[w[0]-m[0],w[1]-m[1]];m=w;const O=r()*Math.max(b[2],Math.log(b[2]))*(g?-1:1),T={x:b[0]-E[0]*O,y:b[1]-E[1]*O},I=[[0,0],[l,u]];e.setViewportConstrained({x:T.x,y:T.y,zoom:b[2]},I,a)},C=y4().on(\"start\",y).on(\"zoom\",d?v:null).on(\"zoom.wheel\",h?p:null);i.call(C,{})}function s(){i.on(\"zoom\",null)}return{update:o,destroy:s,pointer:Mo}}const L9=(n,e)=>n.x!==e.x||n.y!==e.y||n.zoom!==e.k,tv=n=>({x:n.x,y:n.y,zoom:n.k}),s0=({x:n,y:e,zoom:t})=>Zm.translate(n,e).scale(t),Wc=(n,e)=>n.target.closest(`.${e}`),B4=(n,e)=>e===2&&Array.isArray(n)&&n.includes(2),a0=(n,e=0,t=()=>{})=>{const r=typeof e==\"number\"&&e>0;return r||t(),r?n.transition().duration(e).on(\"end\",t):n},F4=n=>{const e=n.ctrlKey&&Ep()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*e};function B9({zoomPanValues:n,noWheelClassName:e,d3Selection:t,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return f=>{if(Wc(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=t.property(\"__zoom\").k||1;if(f.ctrlKey&&s){const y=Mo(f),v=F4(f),C=d*Math.pow(2,v);r.scaleTo(t,C,y,f);return}const h=f.deltaMode===1?20:1;let g=i===Wa.Vertical?0:f.deltaX*h,p=i===Wa.Horizontal?0:f.deltaY*h;!Ep()&&f.shiftKey&&i!==Wa.Vertical&&(g=f.deltaY*h,p=0),r.translateBy(t,-(g/d)*o,-(p/d)*o,{internal:!0});const m=tv(t.property(\"__zoom\"));clearTimeout(n.panScrollTimeout),n.isPanScrolling||(n.isPanScrolling=!0,a==null||a(f,m)),n.isPanScrolling&&(l==null||l(f,m),n.panScrollTimeout=setTimeout(()=>{u==null||u(f,m),n.isPanScrolling=!1},150))}}function F9({noWheelClassName:n,preventScrolling:e,d3ZoomHandler:t}){return function(r,i){if(!e&&r.type===\"wheel\"&&!r.ctrlKey||Wc(r,n))return null;r.preventDefault(),t.call(this,r,i)}}function j9({zoomPanValues:n,onDraggingChange:e,onPanZoomStart:t}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=tv(r.transform);n.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,n.isZoomingOrPanning=!0,n.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)===\"mousedown\"&&e(!0),t&&(t==null||t(r.sourceEvent,i))}}function z9({zoomPanValues:n,panOnDrag:e,onPaneContextMenu:t,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;n.usedRightMouseButton=!!(t&&B4(e,n.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,tv(o.transform)))}}function V9({zoomPanValues:n,panOnDrag:e,panOnScroll:t,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(n.isZoomingOrPanning=!1,o&&B4(e,n.mouseButton??0)&&!n.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),n.usedRightMouseButton=!1,r(!1),i&&L9(n.prevViewport,s.transform))){const l=tv(s.transform);n.prevViewport=l,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},t?150:0)}}}function H9({zoomActivationKeyPressed:n,zoomOnScroll:e,zoomOnPinch:t,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u}){return f=>{var p;const d=n||e,h=t&&f.ctrlKey;if(f.button===1&&f.type===\"mousedown\"&&(Wc(f,`${u}-flow__node`)||Wc(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!t||s||Wc(f,a)&&f.type===\"wheel\"||Wc(f,l)&&(f.type!==\"wheel\"||i&&f.type===\"wheel\"&&!n)||!t&&f.ctrlKey&&f.type===\"wheel\")return!1;if(!t&&f.type===\"touchstart\"&&((p=f.touches)==null?void 0:p.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&f.type===\"wheel\"||!r&&(f.type===\"mousedown\"||f.type===\"touchstart\")||Array.isArray(r)&&!r.includes(f.button)&&f.type===\"mousedown\")return!1;const g=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type===\"wheel\")&&g}}function q9({domNode:n,minZoom:e,maxZoom:t,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=n.getBoundingClientRect(),h=y4().clickDistance(!Ks(r)||r<0?0:r).scaleExtent([e,t]).translateExtent(i),g=io(n).call(h);k({x:o.x,y:o.y,zoom:ku(o.zoom,e,t)},[[0,0],[d.width,d.height]],i);const p=g.on(\"wheel.zoom\"),m=g.on(\"dblclick.zoom\");h.wheelDelta(F4);function y(M,P){return g?new Promise(_=>{h==null||h.transform(a0(g,P==null?void 0:P.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function v({noWheelClassName:M,noPanClassName:P,onPaneContextMenu:_,userSelectionActive:N,panOnScroll:F,panOnDrag:B,panOnScrollMode:L,panOnScrollSpeed:z,preventScrolling:Z,zoomOnPinch:ae,zoomOnScroll:ne,zoomOnDoubleClick:ie,zoomActivationKeyPressed:U,lib:ue,onTransformChange:ce}){N&&!f.isZoomingOrPanning&&C();const se=F&&!U&&!N?B9({zoomPanValues:f,noWheelClassName:M,d3Selection:g,d3Zoom:h,panOnScrollMode:L,panOnScrollSpeed:z,zoomOnPinch:ae,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):F9({noWheelClassName:M,preventScrolling:Z,d3ZoomHandler:p});if(g.on(\"wheel.zoom\",se,{passive:!1}),!N){const G=j9({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:a});h.on(\"start\",G);const oe=z9({zoomPanValues:f,panOnDrag:B,onPaneContextMenu:!!_,onPanZoom:s,onTransformChange:ce});h.on(\"zoom\",oe);const $=V9({zoomPanValues:f,panOnDrag:B,panOnScroll:F,onPaneContextMenu:_,onPanZoomEnd:l,onDraggingChange:u});h.on(\"end\",$)}const fe=H9({zoomActivationKeyPressed:U,panOnDrag:B,zoomOnScroll:ne,panOnScroll:F,zoomOnDoubleClick:ie,zoomOnPinch:ae,userSelectionActive:N,noPanClassName:P,noWheelClassName:M,lib:ue});h.filter(fe),ie?g.on(\"dblclick.zoom\",m):g.on(\"dblclick.zoom\",null)}function C(){h.on(\"zoom\",null)}async function k(M,P,_){const N=s0(M),F=h==null?void 0:h.constrain()(N,P,_);return F&&await y(F),new Promise(B=>B(F))}async function b(M,P){const _=s0(M);return await y(_,P),new Promise(N=>N(_))}function w(M){if(g){const P=s0(M),_=g.property(\"__zoom\");(_.k!==M.zoom||_.x!==M.x||_.y!==M.y)&&(h==null||h.transform(g,P,null,{sync:!0}))}}function E(){const M=g?v4(g.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function O(M,P){return g?new Promise(_=>{h==null||h.scaleTo(a0(g,P==null?void 0:P.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function T(M,P){return g?new Promise(_=>{h==null||h.scaleBy(a0(g,P==null?void 0:P.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function I(M){h==null||h.scaleExtent(M)}function D(M){h==null||h.translateExtent(M)}function A(M){const P=!Ks(M)||M<0?0:M;h==null||h.clickDistance(P)}return{update:v,destroy:C,setViewport:b,setViewportConstrained:k,getViewport:E,scaleTo:O,scaleBy:T,setScaleExtent:I,setTranslateExtent:D,syncViewport:w,setClickDistance:A}}var Jx;(function(n){n.Line=\"line\",n.Handle=\"handle\"})(Jx||(Jx={}));function Xx(n,e,t,r,i,o){const s=A4(n);(s&&n.button===0||!s)&&D9.onPointerDown(n,{handleId:e(),nodeId:t,isTarget:c(r),connectionRadius:i.connectionRadius,domNode:i.domNode,nodeLookup:i.nodeLookup,connectionMode:i.connectionMode,lib:\"svelte\",autoPanOnConnect:i.autoPanOnConnect,flowId:i.flowId,isValidConnection:o.isValidConnection??i.isValidConnection,updateConnection:i.updateConnection,cancelConnection:i.cancelConnection,panBy:i.panBy,onConnect:a=>{var u;const l=i.onedgecreate?i.onedgecreate(a):a;l&&(i.addEdge(l),(u=i.onconnect)==null||u.call(i,a))},onConnectStart:(a,l)=>{var u;(u=i.onconnectstart)==null||u.call(i,a,{nodeId:l.nodeId,handleId:l.handleId,handleType:l.handleType})},onConnectEnd:(a,l)=>{var u;(u=i.onconnectend)==null||u.call(i,a,l)},getTransform:()=>[i.viewport.x,i.viewport.y,i.viewport.zoom],getFromHandle:()=>i.connection.fromHandle})}var W9=X('<div role=\"button\" tabindex=\"-1\"><!></div>');function Fa(n,e){Ee(e,!0);let t=x(e,\"id\",3,null),r=x(e,\"type\",3,\"source\"),i=x(e,\"position\",19,()=>Mt.Top);const o=Yi(\"svelteflow__node_id\"),s=Yi(\"svelteflow__node_connectable\");let a=re(()=>r()===\"target\"),l=re(()=>e.isConnectable!==void 0?e.isConnectable:s.value),u=ya(),f=null;jb(()=>{if(u.edges,e.onconnect||e.ondisconnect){let k=u.connectionLookup.get(`${o}-${r()}${t()?`-${t()}`:\"\"}`);if(f&&!GR(k,f)){const b=k??new Map;Rx(f,b,e.ondisconnect),Rx(b,f,e.onconnect)}f=new Map(k)}});let d=re(()=>{const{fromHandle:k,toHandle:b,isValid:w}=u.connection,E=!!k,O=(k==null?void 0:k.nodeId)===o&&(k==null?void 0:k.type)===r()&&(k==null?void 0:k.id)===t(),T=(b==null?void 0:b.nodeId)===o&&(b==null?void 0:b.type)===r()&&(b==null?void 0:b.id)===t(),I=u.connectionMode===Su.Strict?(k==null?void 0:k.type)!==r():o!==(k==null?void 0:k.nodeId)||t()!==(k==null?void 0:k.id);return[E,O,T,I,T&&w]}),h=re(()=>c(d)[0]),g=re(()=>c(d)[1]),p=re(()=>c(d)[2]),m=re(()=>c(d)[3]),y=re(()=>c(d)[4]);var v=W9();ke(v,\"data-nodeid\",o),v.__mousedown=[Xx,t,o,a,u,e],v.__touchstart=[Xx,t,o,a,u,e];var C=j(v);bi(C,()=>e.children??tr),he(()=>{ke(v,\"data-handleid\",t()),ke(v,\"data-handlepos\",i()),ke(v,\"data-id\",`${u.flowId??\"\"}-${o??\"\"}-${t()??\"\"}-${r()??\"\"}`),Nr(v,Lr([\"svelte-flow__handle\",`svelte-flow__handle-${i()}`,\"nodrag\",\"nopan\",i(),e.class])),ke(v,\"style\",e.style),Re(v,\"valid\",c(y)),Re(v,\"connectingto\",c(p)),Re(v,\"connectingfrom\",c(g)),Re(v,\"source\",!c(a)),Re(v,\"target\",c(a)),Re(v,\"connectablestart\",c(l)),Re(v,\"connectableend\",c(l)),Re(v,\"connectable\",c(l)),Re(v,\"connectionindicator\",c(l)&&(!c(h)||c(m)))}),R(n,v),Te()}li([\"mousedown\",\"touchstart\"]);var U9=X(\"<!> <!>\",1);function j4(n,e){Ee(e,!0);let t=x(e,\"data\",19,()=>({label:\"Node\"})),r=x(e,\"targetPosition\",19,()=>Mt.Top),i=x(e,\"sourcePosition\",19,()=>Mt.Bottom);var o=U9(),s=ye(o);Fa(s,{type:\"target\",get position(){return r()}});var a=H(s),l=H(a);Fa(l,{type:\"source\",get position(){return i()}}),he(()=>{var u;return He(a,` ${((u=t())==null?void 0:u.label)??\"\"} `)}),R(n,o),Te()}var K9=X(\" <!>\",1);function J9(n,e){Ee(e,!0);let t=x(e,\"data\",19,()=>({label:\"Node\"})),r=x(e,\"sourcePosition\",19,()=>Mt.Bottom);var i=K9(),o=ye(i),s=H(o);Fa(s,{type:\"source\",get position(){return r()}}),he(()=>{var a;return He(o,`${((a=t())==null?void 0:a.label)??\"\"} `)}),R(n,i),Te()}var X9=X(\" <!>\",1);function G9(n,e){Ee(e,!0);let t=x(e,\"data\",19,()=>({label:\"Node\"})),r=x(e,\"targetPosition\",19,()=>Mt.Top);var i=X9(),o=ye(i),s=H(o);Fa(s,{type:\"target\",get position(){return r()}}),he(()=>{var a;return He(o,`${((a=t())==null?void 0:a.label)??\"\"} `)}),R(n,i),Te()}function Y9(n,e){}function Gx(n,e,t){if(!e)return;const r=t?e.querySelector(t):e;r&&r.appendChild(n)}function l0(n,{target:e,domNode:t}){return Gx(n,t,e),{async update({target:r,domNode:i}){Gx(n,i,r)},destroy(){n.parentNode&&n.parentNode.removeChild(n)}}}var Q9=X(\"<div><!></div>\");function Z9(n,e){Ee(e,!0);const t=ya();var r=Q9(),i=j(r);bi(i,()=>e.children??tr),Ut(r,(o,s)=>l0==null?void 0:l0(o,s),()=>({target:\".svelte-flow__edgelabel-renderer\",domNode:t.domNode})),R(n,r),Te()}var $9=()=>{},eD=(n,e,t)=>{e&&t.handleEdgeSelection(e)},tD=X('<div role=\"button\" tabindex=\"-1\"><!></div>');function nD(n,e){Ee(e,!0);const t=ya(),r=Yi(\"svelteflow__edge_id\");Z9(n,{children:(i,o)=>{var s=tD();s.__keyup=[$9],s.__click=[eD,r,t];var a=j(s);bi(a,()=>e.children??tr),he(()=>{Nr(s,Lr([\"svelte-flow__edge-label\",e.class])),ke(s,\"style\",\"pointer-events: all;\"+e.style),Nn(s,\"transform\",`translate(-50%, -50%) translate(${e.x??\"\"}px,${e.y??\"\"}px)`)}),R(i,s)},$$slots:{default:!0}}),Te()}li([\"keyup\",\"click\"]);var rD=It('<path fill=\"none\" class=\"svelte-flow__edge-interaction\"></path>'),iD=It('<path fill=\"none\"></path><!><!>',1);function nv(n,e){let t=x(e,\"interactionWidth\",3,20);var r=iD(),i=ye(r),o=H(i);{var s=u=>{var f=rD();ke(f,\"stroke-opacity\",0),he(()=>{ke(f,\"d\",e.path),ke(f,\"stroke-width\",t())}),R(u,f)};te(o,u=>{t()>0&&u(s)})}var a=H(o);{var l=u=>{nD(u,{get x(){return e.labelX},get y(){return e.labelY},get style(){return e.labelStyle},children:(f,d)=>{var h=Or();he(()=>He(h,e.label)),R(f,h)},$$slots:{default:!0}})};te(a,u=>{e.label&&u(l)})}he(()=>{ke(i,\"id\",e.id),ke(i,\"d\",e.path),hc(i,Lr([\"svelte-flow__edge-path\",e.class])),ke(i,\"marker-start\",e.markerStart),ke(i,\"marker-end\",e.markerEnd),ke(i,\"style\",e.style)}),R(n,r)}function z4(n,e){Ee(e,!0);let t=re(()=>{var s;return E4({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition,curvature:(s=e.pathOptions)==null?void 0:s.curvature})}),r=re(()=>c(t)[0]),i=re(()=>c(t)[1]),o=re(()=>c(t)[2]);nv(n,{get id(){return e.id},get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(o)},get label(){return e.label},get labelStyle(){return e.labelStyle},get markerStart(){return e.markerStart},get markerEnd(){return e.markerEnd},get interactionWidth(){return e.interactionWidth},get style(){return e.style}}),Te()}function oD(n,e){Ee(e,!0);let t=re(()=>iw({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition})),r=re(()=>c(t)[0]),i=re(()=>c(t)[1]),o=re(()=>c(t)[2]);nv(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(o)},get label(){return e.label},get labelStyle(){return e.labelStyle},get markerStart(){return e.markerStart},get markerEnd(){return e.markerEnd},get interactionWidth(){return e.interactionWidth},get style(){return e.style}}),Te()}function sD(n,e){Ee(e,!0);let t=re(()=>M4({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY})),r=re(()=>c(t)[0]),i=re(()=>c(t)[1]),o=re(()=>c(t)[2]);nv(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(o)},get label(){return e.label},get labelStyle(){return e.labelStyle},get markerStart(){return e.markerStart},get markerEnd(){return e.markerEnd},get interactionWidth(){return e.interactionWidth},get style(){return e.style}}),Te()}function aD(n,e){Ee(e,!0);let t=re(()=>iw({sourceX:e.sourceX,sourceY:e.sourceY,targetX:e.targetX,targetY:e.targetY,sourcePosition:e.sourcePosition,targetPosition:e.targetPosition,borderRadius:0})),r=re(()=>c(t)[0]),i=re(()=>c(t)[1]),o=re(()=>c(t)[2]);nv(n,{get path(){return c(r)},get labelX(){return c(i)},get labelY(){return c(o)},get label(){return e.label},get labelStyle(){return e.labelStyle},get markerStart(){return e.markerStart},get markerEnd(){return e.markerEnd},get interactionWidth(){return e.interactionWidth},get style(){return e.style}}),Te()}var Kd,Jd;class lD{constructor(e,t){st(this,Kd);st(this,Jd);ff(this,Kd,e),ff(this,Jd,pP(t))}get current(){return ze(this,Jd).call(this),ze(this,Kd).call(this)}}Kd=new WeakMap,Jd=new WeakMap;const cD=/\\(.+\\)/;class uD extends lD{constructor(e,t){let r=cD.test(e)?e:`(${e})`;const i=window.matchMedia(r);super(()=>i.matches,o=>ky(i,\"change\",o))}}function fD(n,e,t,r){const i=new Map;return x4(n,{x:0,y:0,width:t,height:r},e,!0).forEach(o=>{i.set(o.id,o)}),i}function Yx(n){const{edges:e,nodeLookup:t,previousEdges:r,connectionMode:i,onerror:o,onlyRenderVisible:s}=n,a=new Map;for(const l of e){const u=t.get(l.source),f=t.get(l.target);if(!u||!f)continue;if(s){const{visibleNodes:g,transform:p,width:m,height:y}=n;if(c9({sourceNode:u,targetNode:f,width:m,height:y,transform:p}))g.set(u.id,u),g.set(f.id,f);else continue}const d=r.get(l.id);if(d&&l===d.edge&&u==d.sourceNode&&f==d.targetNode){a.set(l.id,d);continue}const h=m9({id:l.id,sourceNode:u,targetNode:f,sourceHandle:l.sourceHandle||null,targetHandle:l.targetHandle||null,connectionMode:i,onError:o});h&&a.set(l.id,{...l,zIndex:l9({selected:l.selected,zIndex:l.zIndex,sourceNode:u,targetNode:f,elevateOnSelect:!1}),...h,sourceNode:u,targetNode:f,edge:l})}return a}const V4={input:J9,output:G9,default:j4,group:Y9},H4={straight:sD,smoothstep:oD,default:z4,step:aD},dD=n=>{var t,r,i,o,s,a,l,u,f,d,h,g,p,m,y,v,C,k,b,w,E,O,T,I,D,A,M,P,_,N,F,B,L,z,Z,ae,ne,ie,U,ue,ce,q,se,fe,G,oe,$,Y,ee,K,je,Ze,Ce,be,Ae,Ie,Ne,gt,Xe;class e{constructor(){st(this,i,re(()=>(w9(n.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:!1,checkEquality:!0}),n.nodes)));st(this,o,re(()=>(O9(this.connectionLookup,this.edgeLookup,n.edges),n.edges)));Eo(this,\"nodeLookup\",new Map);Eo(this,\"parentLookup\",new Map);Eo(this,\"connectionLookup\",new Map);Eo(this,\"edgeLookup\",new Map);Eo(this,\"_prevVisibleEdges\",new Map);st(this,s,re(()=>{const{_nodes:ve,_edges:Je,_prevVisibleEdges:_t,nodeLookup:$e,connectionMode:mt,onerror:lt,onlyRenderVisibleElements:Ue}=this;let Le,pe;const wt={edges:Je,previousEdges:_t,nodeLookup:$e,connectionMode:mt,onerror:lt};if(Ue){const{viewport:vt,width:On,height:ct}=this,Gt=[vt.x,vt.y,vt.zoom];Le=fD($e,Gt,On,ct),pe=Yx({...wt,onlyRenderVisible:!0,visibleNodes:Le,transform:Gt,width:On,height:ct})}else Le=this.nodeLookup,pe=Yx(wt);return{nodes:Le,edges:pe}}));st(this,a,Wt(null));st(this,l,Wt(at(n.width??0)));st(this,u,Wt(at(n.height??0)));st(this,f,re(()=>n.props.id??\"1\"));st(this,d,re(()=>n.props.minZoom??.5));st(this,h,re(()=>n.props.maxZoom??2));st(this,g,re(()=>n.props.nodeOrigin??[0,0]));st(this,p,re(()=>n.props.nodeExtent??zy));st(this,m,re(()=>n.props.translateExtent??zy));st(this,y,re(()=>n.props.defaultEdgeOptions??{}));st(this,v,re(()=>n.props.nodeDragThreshold??1));st(this,C,re(()=>n.props.autoPanOnNodeDrag??!0));st(this,k,re(()=>n.props.autoPanOnConnect??!0));st(this,b,Wt(!1));st(this,w,re(()=>n.props.fitView??!1));st(this,E,re(()=>n.props.fitViewOptions));st(this,O,Wt(null));st(this,T,re(()=>n.props.snapGrid??null));st(this,I,Wt(!1));st(this,D,Wt(null));st(this,A,Wt(!1));st(this,M,Wt(!1));st(this,P,Wt(!1));st(this,_,Wt(!1));st(this,N,Wt(!1));st(this,F,Wt(null));st(this,B,re(()=>n.props.selectionMode??Op.Partial));st(this,L,re(()=>({...V4,...n.props.nodeTypes})));st(this,z,re(()=>({...H4,...n.props.edgeTypes})));st(this,Z,Wt(at(n.props.initialViewport??{x:0,y:0,zoom:1})));st(this,ae,Wt(at(b4)));st(this,ne,re(()=>this._connection.inProgress?{...this._connection,to:nh(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection));st(this,ie,re(()=>n.props.connectionMode??Su.Strict));st(this,U,re(()=>n.props.connectionRadius??20));st(this,ue,re(()=>n.props.isValidConnection??(()=>!0)));st(this,ce,re(()=>n.props.nodesDraggable??!0));st(this,q,re(()=>n.props.nodesConnectable??!0));st(this,se,re(()=>n.props.elementsSelectable??!0));st(this,fe,re(()=>n.props.selectNodesOnDrag??!0));st(this,G,re(()=>n.props.defaultMarkerColor??\"#b1b1b7\"));st(this,oe,re(()=>v9(n.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd})));st(this,$,re(()=>n.props.onlyRenderVisibleElements??!1));st(this,Y,re(()=>n.props.onerror??n9));st(this,ee,re(()=>n.props.ondelete??void 0));st(this,K,re(()=>n.props.onedgecreate));st(this,je,re(()=>n.props.onconnect));st(this,Ze,re(()=>n.props.onconnectstart));st(this,Ce,re(()=>n.props.onconnectend));st(this,be,re(()=>n.props.onbeforedelete));st(this,Ae,Wt(!1));st(this,Ie,Wt(!1));st(this,Ne,Wt(!1));Eo(this,\"_initialNodesLength\",((t=n.nodes)==null?void 0:t.length)??0);Eo(this,\"_initialEdgesLength\",((r=n.edges)==null?void 0:r.length)??0);st(this,gt,re(()=>{let ve=!1;return this._initialNodesLength===0?ve=this.viewportInitialized:this._initialEdgesLength===0?ve=this.viewportInitialized&&this.nodesInitialized:ve=this.viewportInitialized&&this.nodesInitialized&&this.edgesInitialized,ve}));Eo(this,\"_prefersDark\",new uD(\"(prefers-color-scheme: dark)\",n.props.colorModeSSR===\"dark\"));st(this,Xe,re(()=>n.props.colorMode===\"system\"?this._prefersDark.current?\"dark\":\"light\":n.props.colorMode??\"light\"));if(n.props.fitView&&!n.props.initialViewport&&this.width&&this.height){const ve=th(this.nodeLookup,{filter:Je=>!!((Je.width||Je.initialWidth)&&(Je.height||Je.initialHeight))});this.viewport=nw(ve,this.width,this.height,.5,2,.1)}}get _nodes(){return c(ze(this,i))}get _edges(){return c(ze(this,o))}get nodes(){return this._nodes}set nodes(ve){n.nodes=ve}get edges(){return this._edges}set edges(ve){n.edges=ve}get visible(){return c(ze(this,s))}get domNode(){return c(ze(this,a))}set domNode(ve){S(ze(this,a),at(ve))}get width(){return c(ze(this,l))}set width(ve){S(ze(this,l),at(ve))}get height(){return c(ze(this,u))}set height(ve){S(ze(this,u),at(ve))}get flowId(){return c(ze(this,f))}get minZoom(){return c(ze(this,d))}get maxZoom(){return c(ze(this,h))}get nodeOrigin(){return c(ze(this,g))}get nodeExtent(){return c(ze(this,p))}get translateExtent(){return c(ze(this,m))}get defaultEdgeOptions(){return c(ze(this,y))}get nodeDragThreshold(){return c(ze(this,v))}get autoPanOnNodeDrag(){return c(ze(this,C))}get autoPanOnConnect(){return c(ze(this,k))}get fitViewOnInitDone(){return c(ze(this,b))}set fitViewOnInitDone(ve){S(ze(this,b),at(ve))}get fitViewOnInit(){return c(ze(this,w))}get fitViewOptions(){return c(ze(this,E))}get panZoom(){return c(ze(this,O))}set panZoom(ve){S(ze(this,O),at(ve))}get snapGrid(){return c(ze(this,T))}get dragging(){return c(ze(this,I))}set dragging(ve){S(ze(this,I),at(ve))}get selectionRect(){return c(ze(this,D))}set selectionRect(ve){S(ze(this,D),at(ve))}get selectionKeyPressed(){return c(ze(this,A))}set selectionKeyPressed(ve){S(ze(this,A),at(ve))}get multiselectionKeyPressed(){return c(ze(this,M))}set multiselectionKeyPressed(ve){S(ze(this,M),at(ve))}get deleteKeyPressed(){return c(ze(this,P))}set deleteKeyPressed(ve){S(ze(this,P),at(ve))}get panActivationKeyPressed(){return c(ze(this,_))}set panActivationKeyPressed(ve){S(ze(this,_),at(ve))}get zoomActivationKeyPressed(){return c(ze(this,N))}set zoomActivationKeyPressed(ve){S(ze(this,N),at(ve))}get selectionRectMode(){return c(ze(this,F))}set selectionRectMode(ve){S(ze(this,F),at(ve))}get selectionMode(){return c(ze(this,B))}get nodeTypes(){return c(ze(this,L))}get edgeTypes(){return c(ze(this,z))}get _viewport(){return c(ze(this,Z))}set _viewport(ve){S(ze(this,Z),at(ve))}get viewport(){return n.viewport??this._viewport}set viewport(ve){n.viewport&&(n.viewport=ve),this._viewport=ve}get _connection(){return c(ze(this,ae))}set _connection(ve){S(ze(this,ae),at(ve))}get connection(){return c(ze(this,ne))}get connectionMode(){return c(ze(this,ie))}get connectionRadius(){return c(ze(this,U))}get isValidConnection(){return c(ze(this,ue))}get nodesDraggable(){return c(ze(this,ce))}get nodesConnectable(){return c(ze(this,q))}get elementsSelectable(){return c(ze(this,se))}get selectNodesOnDrag(){return c(ze(this,fe))}get defaultMarkerColor(){return c(ze(this,G))}get markers(){return c(ze(this,oe))}get onlyRenderVisibleElements(){return c(ze(this,$))}get onerror(){return c(ze(this,Y))}get ondelete(){return c(ze(this,ee))}get onedgecreate(){return c(ze(this,K))}get onconnect(){return c(ze(this,je))}get onconnectstart(){return c(ze(this,Ze))}get onconnectend(){return c(ze(this,Ce))}get onbeforedelete(){return c(ze(this,be))}get nodesInitialized(){return c(ze(this,Ae))}set nodesInitialized(ve){S(ze(this,Ae),at(ve))}get edgesInitialized(){return c(ze(this,Ie))}set edgesInitialized(ve){S(ze(this,Ie),at(ve))}get viewportInitialized(){return c(ze(this,Ne))}set viewportInitialized(ve){S(ze(this,Ne),at(ve))}get initialized(){return c(ze(this,gt))}get colorMode(){return c(ze(this,Xe))}resetStoreValues(){}}return i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,d=new WeakMap,h=new WeakMap,g=new WeakMap,p=new WeakMap,m=new WeakMap,y=new WeakMap,v=new WeakMap,C=new WeakMap,k=new WeakMap,b=new WeakMap,w=new WeakMap,E=new WeakMap,O=new WeakMap,T=new WeakMap,I=new WeakMap,D=new WeakMap,A=new WeakMap,M=new WeakMap,P=new WeakMap,_=new WeakMap,N=new WeakMap,F=new WeakMap,B=new WeakMap,L=new WeakMap,z=new WeakMap,Z=new WeakMap,ae=new WeakMap,ne=new WeakMap,ie=new WeakMap,U=new WeakMap,ue=new WeakMap,ce=new WeakMap,q=new WeakMap,se=new WeakMap,fe=new WeakMap,G=new WeakMap,oe=new WeakMap,$=new WeakMap,Y=new WeakMap,ee=new WeakMap,K=new WeakMap,je=new WeakMap,Ze=new WeakMap,Ce=new WeakMap,be=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,gt=new WeakMap,Xe=new WeakMap,new e};function ya(){const n=Yi(qy);if(!n)throw new Error(\"In order to use useStore you need to wrap your component in a <SvelteFlowProvider />\");return n.getStore()}const qy=Symbol();function hD(n){const e=dD(n);function t(A){e.nodeTypes={...V4,...A}}function r(A){e.edgeTypes={...H4,...A}}function i(A){e.edges=d9(A,e.edges)}const o=(A,M=!1)=>{e.nodes=e.nodes.map(P=>{const _=A.get(P.id);return _?{...P,position:_.position,dragging:M}:P})};function s(A){var N,F,B,L;const{changes:M,updatedInternals:P}=S9(A,e.nodeLookup,e.parentLookup,e.domNode,e.nodeOrigin);if(!P)return;if(b9(e.nodeLookup,e.parentLookup,{nodeOrigin:e.nodeOrigin,nodeExtent:e.nodeExtent}),!e.fitViewOnInitDone&&e.fitViewOnInit){const z=l({...e.fitViewOptions,nodes:(N=e.fitViewOptions)==null?void 0:N.nodes});z&&(e.fitViewOnInitDone=z)}const _=new Map;for(const z of M){const Z=(F=e.nodeLookup.get(z.id))==null?void 0:F.internals.userNode;if(!Z)continue;const ae={...Z};switch(z.type){case\"dimensions\":{const ne={...ae.measured,...z.dimensions};z.setAttributes&&(ae.width=((B=z.dimensions)==null?void 0:B.width)??ae.width,ae.height=((L=z.dimensions)==null?void 0:L.height)??ae.height),ae.measured=ne;break}case\"position\":ae.position=z.position??ae.position;break}_.set(z.id,ae)}e.nodes=e.nodes.map(z=>_.get(z.id)??z),e.nodesInitialized||(e.nodesInitialized=!0)}function a(A){const M=e.panZoom,P=e.domNode;if(!M||!P)return Promise.resolve(!1);const{width:_,height:N}=rw(P),F=Dx(e.nodeLookup,A);return Nx({nodes:F,width:_,height:N,minZoom:e.minZoom,maxZoom:e.maxZoom,panZoom:M},A)}function l(A){const M=e.panZoom;if(!M)return!1;const P=Dx(e.nodeLookup,A);return Nx({nodes:P,width:e.width,height:e.height,minZoom:e.minZoom,maxZoom:e.maxZoom,panZoom:M},A),P.size>0}function u(A,M){const P=e.panZoom;return P?P.scaleBy(A,M):Promise.resolve(!1)}function f(A){return u(1.2,A)}function d(A){return u(1/1.2,A)}function h(A){const M=e.panZoom;M&&(M.setScaleExtent([A,e.maxZoom]),e.minZoom=A)}function g(A){const M=e.panZoom;M&&(M.setScaleExtent([e.minZoom,A]),e.maxZoom=A)}function p(A){const M=e.panZoom;M&&(M.setTranslateExtent(A),e.translateExtent=A)}function m(A){var M;(M=e.panZoom)==null||M.setClickDistance(A)}function y(A,M=null){let P=!1;const _=A.map(N=>(M?M.has(N.id):!0)&&N.selected?(P=!0,{...N,selected:!1}):N);return[P,_]}function v(A){const M=A!=null&&A.nodes?new Set(A.nodes.map(L=>L.id)):null,[P,_]=y(e.nodes,M);P&&(e.nodes=_);const N=A!=null&&A.edges?new Set(A.edges.map(L=>L.id)):null,[F,B]=y(e.edges,N);F&&(e.edges=B)}function C(A){const M=e.multiselectionKeyPressed;e.nodes=e.nodes.map(P=>{const _=A.includes(P.id),N=M&&P.selected||_;if(P.selected!==N){const F=e.nodeLookup.get(P.id);return F&&(F.selected=N),P.selected=N,{...P}}return P}),M||v({nodes:[]})}function k(A){const M=e.multiselectionKeyPressed;e.edges=e.edges.map(P=>{const _=A.includes(P.id),N=M&&P.selected||_;return P.selected!==N?{...P,selected:N}:P}),M||v({edges:[]})}function b(A){const M=e.nodeLookup.get(A);if(!M){console.warn(\"012\",kp.error012(A));return}e.selectionRect=null,e.selectionRectMode=null,M.selected?M.selected&&e.multiselectionKeyPressed&&v({nodes:[M],edges:[]}):C([A])}function w(A){const M=e.edgeLookup.get(A);if(!M){console.warn(\"012\",kp.error012(A));return}(M.selectable||e.elementsSelectable&&typeof M.selectable>\"u\")&&(e.selectionRect=null,e.selectionRectMode=null,M.selected?M.selected&&e.multiselectionKeyPressed&&v({nodes:[],edges:[M]}):k([A]))}function E(A){return k9({delta:A,panZoom:e.panZoom,transform:[e.viewport.x,e.viewport.y,e.viewport.zoom],translateExtent:e.translateExtent,width:e.width,height:e.height})}const O=A=>{e._connection={...A}};function T(){e._connection=b4}function I(){e.fitViewOnInitDone=!1,e.selectionRect=null,e.selectionRectMode=null,v(),T()}return Object.assign(e,{setNodeTypes:t,setEdgeTypes:r,addEdge:i,updateNodePositions:o,updateNodeInternals:s,zoomIn:f,zoomOut:d,fitView:A=>a(A),setMinZoom:h,setMaxZoom:g,setTranslateExtent:p,setPaneClickDistance:m,unselectNodesAndEdges:v,addSelectedNodes:C,addSelectedEdges:k,handleNodeSelection:b,handleEdgeSelection:w,panBy:E,updateConnection:O,cancelConnection:T,reset:I})}function c0(n,e){const{minZoom:t,maxZoom:r,initialViewport:i,translateExtent:o,paneClickDistance:s,setPanZoomInstance:a,onDraggingChange:l,onTransformChange:u}=e,f=q9({domNode:n,minZoom:t,maxZoom:r,translateExtent:o,viewport:i,paneClickDistance:s,onDraggingChange:l}),d=f.getViewport();return(i.x!==d.x||i.y!==d.y||i.zoom!==d.zoom)&&u([d.x,d.y,d.zoom]),a(f),f.update(e),{update(h){f.update(h)}}}var gD=X('<div class=\"svelte-flow__zoom svelte-4xkw84\"><!></div>');function pD(n,e){Ee(e,!0);let t=x(e,\"store\",7),r=x(e,\"panOnScrollMode\",19,()=>Wa.Free),i=x(e,\"preventScrolling\",3,!0),o=x(e,\"zoomOnScroll\",3,!0),s=x(e,\"zoomOnDoubleClick\",3,!0),a=x(e,\"zoomOnPinch\",3,!0),l=x(e,\"panOnDrag\",3,!0),u=x(e,\"panOnScroll\",3,!1),f=x(e,\"paneClickDistance\",3,1),d=re(()=>t().panActivationKeyPressed||l()),h=re(()=>t().panActivationKeyPressed||u());const g=v=>t().viewport={x:v[0],y:v[1],zoom:v[2]},{viewport:p}=t();dr(()=>{t().viewportInitialized=!0});var m=gD(),y=j(m);bi(y,()=>e.children),Ut(m,(v,C)=>c0==null?void 0:c0(v,C),()=>({viewport:t().viewport,minZoom:t().minZoom,maxZoom:t().maxZoom,initialViewport:p,onDraggingChange:v=>{t().dragging=v},setPanZoomInstance:v=>{t().panZoom=v},onPanZoomStart:e.onMoveStart,onPanZoom:e.onMove,onPanZoomEnd:e.onMoveEnd,zoomOnScroll:o(),zoomOnDoubleClick:s(),zoomOnPinch:a(),panOnScroll:c(h),panOnDrag:c(d),panOnScrollSpeed:.5,panOnScrollMode:r()||Wa.Free,zoomActivationKeyPressed:t().zoomActivationKeyPressed,preventScrolling:typeof i()==\"boolean\"?i():!0,noPanClassName:\"nopan\",noWheelClassName:\"nowheel\",userSelectionActive:!!t().selectionRect,translateExtent:t().translateExtent,lib:\"svelte\",paneClickDistance:f(),onTransformChange:g})),R(n,m),Te()}function Qx(n,e){return t=>{t.target===e&&(n==null||n(t))}}function Zx(n){return e=>{const t=n.has(e.id);return!!e.selected!==t?{...e,selected:t}:e}}function $x(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}var mD=X('<div class=\"svelte-flow__pane svelte-1esy7hx\"><!></div>');function vD(n,e){Ee(e,!0);let t=x(e,\"store\",7),r=x(e,\"panOnDrag\",3,!0),i,o=null,s=new Set,a=new Set,l=re(()=>t().panActivationKeyPressed||r()),u=re(()=>t().selectionKeyPressed||t().selectionRect||e.selectionOnDrag&&c(l)!==!0),f=re(()=>t().elementsSelectable&&(c(u)||t().selectionRectMode===\"user\")),d=!1;function h(w){var E;if(d){d=!1;return}(E=e.onpaneclick)==null||E.call(e,{event:w}),t().unselectNodesAndEdges(),t().selectionRectMode=null}function g(w){var T,I;if(o=i==null?void 0:i.getBoundingClientRect(),!t().elementsSelectable||!c(u)||w.button!==0||w.target!==i||!o)return;(I=(T=w.target)==null?void 0:T.setPointerCapture)==null||I.call(T,w.pointerId);const{x:E,y:O}=Zs(w,o);t().unselectNodesAndEdges(),t().selectionRect={width:0,height:0,startX:E,startY:O,x:E,y:O}}function p(w){if(!c(u)||!o||!t().selectionRect)return;d=!0;const E=Zs(w,o),{startX:O=0,startY:T=0}=t().selectionRect,I={...t().selectionRect,x:E.x<O?E.x:O,y:E.y<T?E.y:T,width:Math.abs(E.x-O),height:Math.abs(E.y-T)},D=s,A=a;s=new Set(x4(t().nodeLookup,I,[t().viewport.x,t().viewport.y,t().viewport.zoom],t().selectionMode===Op.Partial,!0).map(P=>P.id));const M=t().defaultEdgeOptions.selectable??!0;a=new Set;for(const P of s){const _=t().connectionLookup.get(P);if(_)for(const{edgeId:N}of _.values()){const F=t().edgeLookup.get(N);F&&(F.selectable??M)&&a.add(N)}}$x(D,s)||(t().nodes=t().nodes.map(Zx(s))),$x(A,a)||(t().edges=t().edges.map(Zx(a))),t().selectionRectMode=\"user\",t().selectionRect=I}function m(w){var E,O;w.button===0&&((O=(E=w.target)==null?void 0:E.releasePointerCapture)==null||O.call(E,w.pointerId),!c(u)&&t().selectionRectMode===\"user\"&&w.target===i&&(h==null||h(w)),t().selectionRect=null,s.size>0&&(t().selectionRectMode=\"nodes\"),t().selectionKeyPressed&&(d=!1))}const y=w=>{var E;if(Array.isArray(c(l))&&c(l).includes(2)){w.preventDefault();return}(E=e.onpanecontextmenu)==null||E.call(e,{event:w})};var v=mD(),C=re(()=>c(f)?void 0:Qx(h,i));v.__click=function(...w){var E;(E=c(C))==null||E.apply(this,w)},v.__pointerdown=function(...w){var E;(E=c(f)?g:void 0)==null||E.apply(this,w)},v.__pointermove=function(...w){var E;(E=c(f)?p:void 0)==null||E.apply(this,w)},v.__pointerup=function(...w){var E;(E=c(f)?m:void 0)==null||E.apply(this,w)};var k=re(()=>Qx(y,i));v.__contextmenu=function(...w){var E;(E=c(k))==null||E.apply(this,w)};var b=j(v);bi(b,()=>e.children),yn(v,w=>i=w,()=>i),he(w=>{Re(v,\"draggable\",w),Re(v,\"dragging\",t().dragging),Re(v,\"selection\",c(u))},[()=>r()===!0||Array.isArray(r())&&r().includes(0)]),R(n,v),Te()}li([\"click\",\"pointerdown\",\"pointermove\",\"pointerup\",\"contextmenu\"]);var yD=X('<div class=\"svelte-flow__viewport xyflow__viewport svelte-1floaup\"><!></div>');function bD(n,e){Ee(e,!0);var t=yD(),r=j(t);bi(r,()=>e.children),he(()=>ke(t,\"style\",`transform: translate(${e.store.viewport.x??\"\"}px, ${e.store.viewport.y??\"\"}px) scale(${e.store.viewport.zoom??\"\"})`)),R(n,t),Te()}function ou(n,e){const{store:t,onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s}=e,a=E9({onDrag:r,onDragStart:i,onDragStop:o,onNodeMouseDown:s,getStoreItems:()=>{const{snapGrid:u,viewport:f}=t;return{nodes:t.nodes,nodeLookup:t.nodeLookup,edges:t.edges,nodeExtent:t.nodeExtent,snapGrid:u||[0,0],snapToGrid:!!u,nodeOrigin:t.nodeOrigin,multiSelectionActive:t.multiselectionKeyPressed,domNode:t.domNode,transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:t.autoPanOnNodeDrag,nodesDraggable:t.nodesDraggable,selectNodesOnDrag:t.selectNodesOnDrag,nodeDragThreshold:t.nodeDragThreshold,unselectNodesAndEdges:t.unselectNodesAndEdges,updateNodePositions:t.updateNodePositions,panBy:t.panBy}}});function l(u,f){if(f.disabled){a.destroy();return}a.update({domNode:u,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return l(n,e),{update(u){l(n,u)},destroy(){a.destroy()}}}function wD({width:n,height:e,initialWidth:t,initialHeight:r,measuredWidth:i,measuredHeight:o}){if(i===void 0&&o===void 0){const s=n??t,a=e??r;return{width:s?`width:${s}px;`:\"\",height:a?`height:${a}px;`:\"\"}}return{width:n?`width:${n}px;`:\"\",height:e?`height:${e}px;`:\"\"}}function xD(n,e,t,r,i){var o;c(e)&&(!t.store.selectNodesOnDrag||!c(r)||t.store.nodeDragThreshold>0)&&t.store.handleNodeSelection(i),(o=t.onnodeclick)==null||o.call(t,{node:t.node,event:n})}var CD=X(\"<div><!></div>\");function _D(n,e){Ee(e,!0);let t=re(()=>Si(e.node.data,()=>({}),!0)),r=re(()=>Si(e.node.selected,!1)),i=re(()=>e.node.draggable),o=re(()=>e.node.selectable),s=re(()=>Si(e.node.deletable,!0)),a=re(()=>e.node.connectable),l=re(()=>Si(e.node.hidden,!1)),u=re(()=>Si(e.node.dragging,!1)),f=re(()=>e.node.style),d=re(()=>e.node.class),h=re(()=>Si(e.node.type,\"default\")),g=re(()=>e.node.parentId),p=re(()=>e.node.sourcePosition),m=re(()=>e.node.targetPosition),y=re(()=>Si(e.node.measured,()=>({width:0,height:0}),!0).width),v=re(()=>Si(e.node.measured,()=>({width:0,height:0}),!0).height),C=re(()=>e.node.initialWidth),k=re(()=>e.node.initialHeight),b=re(()=>e.node.width),w=re(()=>e.node.height),E=re(()=>e.node.dragHandle),O=re(()=>Si(e.node.internals.z,0)),T=re(()=>e.node.internals.positionAbsolute.x),I=re(()=>e.node.internals.positionAbsolute.y),{id:D}=e.node,A=re(()=>c(i)??e.store.nodesDraggable),M=re(()=>c(o)??e.store.elementsSelectable),P=re(()=>c(a)??e.store.nodesConnectable),_=re(()=>O4(e.node)&&!!e.node.internals.handleBounds);function N(se){return e.store.parentLookup.has(se)}let F=re(()=>N(D)),B=Wt(null),L=null,z,Z,ae,ne=re(()=>e.store.nodeTypes[c(h)]??j4);id(\"svelteflow__node_connectable\",{get value(){return c(P)}}),id(\"svelteflow__node_id\",D);let U=re(()=>wD({width:c(b),height:c(w),initialWidth:c(C),initialHeight:c(k),measuredWidth:c(y),measuredHeight:c(v)}));mo(()=>{(z&&c(h)!==z||Z&&c(p)!==Z||ae&&c(m)!==ae)&&c(B)!==null&&requestAnimationFrame(()=>{c(B)!==null&&e.store.updateNodeInternals(new Map([[D,{id:D,nodeElement:c(B),force:!0}]]))}),z=c(h),Z=c(p),ae=c(m)}),mo(()=>{e.resizeObserver&&(!c(_)||c(B)!==L)&&(L&&e.resizeObserver.unobserve(L),c(B)&&e.resizeObserver.observe(c(B)),L=c(B))}),zr(()=>{var se;L&&((se=e.resizeObserver)==null||se.unobserve(L))});var ue=De(),ce=ye(ue);{var q=se=>{var fe=CD();ke(fe,\"data-id\",D),fe.__click=[xD,M,e,A,D],fe.__pointermove=function(...oe){var $;($=e.onnodepointermove?Y=>e.onnodepointermove({node:e.node,event:Y}):void 0)==null||$.apply(this,oe)},fe.__contextmenu=function(...oe){var $;($=e.onnodecontextmenu?Y=>e.onnodecontextmenu({node:e.node,event:Y}):void 0)==null||$.apply(this,oe)};var G=j(fe);Wl(G,()=>c(ne),(oe,$)=>{$(oe,{get data(){return c(t)},id:D,get selected(){return c(r)},get selectable(){return c(M)},get deletable(){return c(s)},get sourcePosition(){return c(p)},get targetPosition(){return c(m)},get zIndex(){return c(O)},get dragging(){return c(u)},get draggable(){return c(A)},get dragHandle(){return c(E)},get parentId(){return c(g)},get type(){return c(h)},get isConnectable(){return c(P)},get positionAbsoluteX(){return c(T)},get positionAbsoluteY(){return c(I)},get width(){return c(b)},get height(){return c(w)}})}),Ut(fe,(oe,$)=>ou==null?void 0:ou(oe,$),()=>({nodeId:D,isSelectable:c(M),disabled:!c(A),handleSelector:c(E),noDragClass:\"nodrag\",nodeClickDistance:e.nodeClickDistance,onNodeMouseDown:e.store.handleNodeSelection,onDrag:(oe,$,Y,ee)=>{var K;(K=e.onnodedrag)==null||K.call(e,{event:oe,targetNode:Y,nodes:ee})},onDragStart:(oe,$,Y,ee)=>{var K;(K=e.onnodedragstart)==null||K.call(e,{event:oe,targetNode:Y,nodes:ee})},onDragStop:(oe,$,Y,ee)=>{var K;(K=e.onnodedragstop)==null||K.call(e,{event:oe,targetNode:Y,nodes:ee})},store:e.store})),yn(fe,oe=>S(B,oe),()=>c(B)),he(()=>{Nr(fe,Lr([\"svelte-flow__node\",`svelte-flow__node-${c(h)}`,c(d)])),ke(fe,\"style\",`${c(f)??\"\"};${c(U).width??\"\"}${c(U).height??\"\"}`),Re(fe,\"dragging\",c(u)),Re(fe,\"selected\",c(r)),Re(fe,\"draggable\",c(A)),Re(fe,\"connectable\",c(P)),Re(fe,\"selectable\",c(M)),Re(fe,\"nopan\",c(A)),Re(fe,\"parent\",c(F)),Nn(fe,\"z-index\",c(O)),Nn(fe,\"transform\",`translate(${c(T)??\"\"}px, ${c(I)??\"\"}px)`),Nn(fe,\"visibility\",c(_)?\"visible\":\"hidden\")}),we(\"pointerenter\",fe,function(...oe){var $;($=e.onnodepointerenter?Y=>e.onnodepointerenter({node:e.node,event:Y}):void 0)==null||$.apply(this,oe)}),we(\"pointerleave\",fe,function(...oe){var $;($=e.onnodepointerleave?Y=>e.onnodepointerleave({node:e.node,event:Y}):void 0)==null||$.apply(this,oe)}),R(se,fe)};te(ce,se=>{c(l)||se(q)})}R(n,ue),Te()}li([\"click\",\"pointermove\",\"contextmenu\"]);var SD=X('<div class=\"svelte-flow__nodes svelte-tf4uy4\"></div>');function kD(n,e){Ee(e,!0);const t=typeof ResizeObserver>\"u\"?null:new ResizeObserver(i=>{const o=new Map;i.forEach(s=>{const a=s.target.getAttribute(\"data-id\");o.set(a,{id:a,nodeElement:s.target,force:!0})}),e.store.updateNodeInternals(o)});zr(()=>{t==null||t.disconnect()});var r=SD();Pt(r,21,()=>e.store.visible.nodes.values(),i=>i.id,(i,o)=>{_D(i,{get store(){return e.store},get node(){return c(o)},resizeObserver:t,get nodeClickDistance(){return e.nodeClickDistance},get onnodeclick(){return e.onnodeclick},get onnodepointerenter(){return e.onnodepointerenter},get onnodepointermove(){return e.onnodepointermove},get onnodepointerleave(){return e.onnodepointerleave},get onnodedrag(){return e.onnodedrag},get onnodedragstart(){return e.onnodedragstart},get onnodedragstop(){return e.onnodedragstop},get onnodecontextmenu(){return e.onnodecontextmenu}})}),R(n,r),Te()}var OD=It('<svg><g role=\"img\"><!></g></svg>');function AD(n,e){Ee(e,!0);let t=re(()=>e.store.defaultEdgeOptions?{...e.store.defaultEdgeOptions,...e.edge}:e.edge),r=re(()=>c(t).source),i=re(()=>c(t).target),o=re(()=>c(t).sourceX),s=re(()=>c(t).sourceY),a=re(()=>c(t).targetX),l=re(()=>c(t).targetY),u=re(()=>c(t).sourcePosition),f=re(()=>c(t).targetPosition),d=re(()=>Si(c(t).animated,!1)),h=re(()=>Si(c(t).selected,!1)),g=re(()=>c(t).label),p=re(()=>c(t).labelStyle),m=re(()=>Si(c(t).data,()=>({}),!0)),y=re(()=>c(t).style),v=re(()=>c(t).interactionWidth),C=re(()=>Si(c(t).type,\"default\")),k=re(()=>c(t).sourceHandle),b=re(()=>c(t).targetHandle),w=re(()=>c(t).markerStart),E=re(()=>c(t).markerEnd),O=re(()=>c(t).selectable),T=re(()=>Si(c(t).deletable,!0)),I=re(()=>c(t).hidden),D=re(()=>c(t).zIndex),A=re(()=>c(t).class),M=re(()=>c(t).ariaLabel);const{id:P}=e.edge;id(\"svelteflow__edge_id\",P);let _=re(()=>c(O)??e.store.elementsSelectable),N=re(()=>e.store.edgeTypes[c(C)]??z4),F=re(()=>c(w)?`url('#${Hy(c(w),e.store.flowId)}')`:void 0),B=re(()=>c(E)?`url('#${Hy(c(E),e.store.flowId)}')`:void 0);function L(ie){var ue;const U=e.store.edgeLookup.get(P);U&&(c(_)&&e.store.handleEdgeSelection(P),(ue=e.onedgeclick)==null||ue.call(e,{event:ie,edge:U}))}function z(ie,U){const ue=e.store.edgeLookup.get(P);ue&&U({event:ie,edge:ue})}var Z=De(),ae=ye(Z);{var ne=ie=>{var U=OD(),ue=j(U);ke(ue,\"data-id\",P),ue.__click=L,ue.__contextmenu=function(...q){var se;(se=e.onedgecontextmenu?fe=>{z(fe,e.onedgecontextmenu)}:void 0)==null||se.apply(this,q)};var ce=j(ue);Wl(ce,()=>c(N),(q,se)=>{se(q,{id:P,get source(){return c(r)},get target(){return c(i)},get sourceX(){return c(o)},get sourceY(){return c(s)},get targetX(){return c(a)},get targetY(){return c(l)},get sourcePosition(){return c(u)},get targetPosition(){return c(f)},get animated(){return c(d)},get selected(){return c(h)},get label(){return c(g)},get labelStyle(){return c(p)},get data(){return c(m)},get style(){return c(y)},get interactionWidth(){return c(v)},get selectable(){return c(_)},get deletable(){return c(T)},get type(){return c(C)},get sourceHandleId(){return c(k)},get targetHandleId(){return c(b)},get markerStart(){return c(F)},get markerEnd(){return c(B)}})}),he(()=>{Nn(U,\"z-index\",c(D)),hc(ue,Lr([\"svelte-flow__edge\",c(A)])),ke(ue,\"aria-label\",c(M)===null?void 0:c(M)?c(M):`Edge from ${c(r)} to ${c(i)}`),Re(ue,\"animated\",c(d)),Re(ue,\"selected\",c(h)),Re(ue,\"selectable\",c(_))}),we(\"pointerenter\",ue,function(...q){var se;(se=e.onedgepointerenter?fe=>{z(fe,e.onedgepointerenter)}:void 0)==null||se.apply(this,q)}),we(\"pointerleave\",ue,function(...q){var se;(se=e.onedgepointerleave?fe=>{z(fe,e.onedgepointerleave)}:void 0)==null||se.apply(this,q)}),R(ie,U)};te(ae,ie=>{c(I)||ie(ne)})}R(n,Z),Te()}li([\"click\",\"contextmenu\"]);function ED(n,e){Ee(e,!1);let t=x(e,\"onMount\",8,void 0),r=x(e,\"onDestroy\",8,void 0);dr(()=>{var i;return(i=t())==null||i(),r()}),ft(),Te()}var TD=It(\"<defs></defs>\");function MD(n,e){Ee(e,!1);const t=ya();ft();var r=TD();Pt(r,5,()=>t.markers,i=>i.id,(i,o)=>{DD(i,Xr(()=>c(o)))}),R(n,r),Te()}var PD=It('<polyline stroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\" points=\"-5,-4 0,0 -5,4\"></polyline>'),ID=It('<polyline stroke-linecap=\"round\" stroke-linejoin=\"round\" points=\"-5,-4 0,0 -5,4 -5,-4\"></polyline>'),RD=It('<marker class=\"svelte-flow__arrowhead\" viewBox=\"-10 -10 20 20\" refX=\"0\" refY=\"0\"><!></marker>');function DD(n,e){Ee(e,!0);let t=x(e,\"width\",3,12.5),r=x(e,\"height\",3,12.5),i=x(e,\"markerUnits\",3,\"strokeWidth\"),o=x(e,\"orient\",3,\"auto-start-reverse\");var s=RD(),a=j(s);{var l=f=>{var d=PD();he(()=>{ke(d,\"stroke\",e.color),ke(d,\"stroke-width\",e.strokeWidth)}),R(f,d)},u=f=>{var d=De(),h=ye(d);{var g=p=>{var m=ID();he(()=>{ke(m,\"stroke\",e.color),ke(m,\"stroke-width\",e.strokeWidth),ke(m,\"fill\",e.color)}),R(p,m)};te(h,p=>{e.type===fd.ArrowClosed&&p(g)},!0)}R(f,d)};te(a,f=>{e.type===fd.Arrow?f(l):f(u,!1)})}he(()=>{ke(s,\"id\",e.id),ke(s,\"markerWidth\",`${t()}`),ke(s,\"markerHeight\",`${r()}`),ke(s,\"markerUnits\",i()),ke(s,\"orient\",o())}),R(n,s),Te()}var ND=X('<div class=\"svelte-flow__edges\"><svg class=\"svelte-flow__marker\"><!></svg> <!> <!></div>');function LD(n,e){Ee(e,!0);let t=x(e,\"store\",7);var r=ND(),i=j(r),o=j(i);MD(o,{});var s=H(i,2);Pt(s,17,()=>t().visible.edges.values(),u=>u.id,(u,f)=>{AD(u,{get store(){return t()},get edge(){return c(f)},get onedgeclick(){return e.onedgeclick},get onedgecontextmenu(){return e.onedgecontextmenu},get onedgepointerenter(){return e.onedgepointerenter},get onedgepointerleave(){return e.onedgepointerleave}})});var a=H(s,2);{var l=u=>{ED(u,{onMount:()=>{t().edgesInitialized=!0},onDestroy:()=>{}})};te(a,u=>{!t().edgesInitialized&&t().visible.edges.size>0&&u(l)})}R(n,r),Te()}var BD=X('<div class=\"svelte-flow__selection svelte-1iugwpu\"></div>');function q4(n,e){let t=x(e,\"x\",3,0),r=x(e,\"y\",3,0),i=x(e,\"width\",3,0),o=x(e,\"height\",3,0),s=x(e,\"isVisible\",3,!0);var a=De(),l=ye(a);{var u=f=>{var d=BD();he(()=>{Nn(d,\"width\",typeof i()==\"string\"?i():`${i()}px`),Nn(d,\"height\",typeof o()==\"string\"?o():`${o()}px`),Nn(d,\"transform\",`translate(${t()}px, ${r()}px)`)}),R(f,d)};te(l,f=>{s()&&f(u)})}R(n,a)}function FD(n,e){var r;const t=e.store.nodes.filter(i=>i.selected);(r=e.onselectioncontextmenu)==null||r.call(e,{nodes:t,event:n})}function jD(n,e){var r;const t=e.store.nodes.filter(i=>i.selected);(r=e.onselectionclick)==null||r.call(e,{nodes:t,event:n})}var zD=()=>{},VD=X('<div class=\"selection-wrapper nopan svelte-5pxri\" role=\"button\" tabindex=\"-1\"><!></div>');function HD(n,e){Ee(e,!0);let t=re(()=>e.store.selectionRectMode===\"nodes\"?(e.store.nodes,th(e.store.nodeLookup,{filter:s=>!!s.selected})):null);var r=De(),i=ye(r);{var o=s=>{var a=VD();a.__contextmenu=[FD,e],a.__click=[jD,e],a.__keyup=[zD];var l=j(a);q4(l,{width:\"100%\",height:\"100%\",x:0,y:0}),Ut(a,(u,f)=>ou==null?void 0:ou(u,f),()=>({disabled:!1,store:e.store,onDrag:(u,f,d,h)=>{var g;(g=e.onnodedrag)==null||g.call(e,{event:u,targetNode:null,nodes:h})},onDragStart:(u,f,d,h)=>{var g;(g=e.onnodedragstart)==null||g.call(e,{event:u,targetNode:null,nodes:h})},onDragStop:(u,f,d,h)=>{var g;(g=e.onnodedragstop)==null||g.call(e,{event:u,targetNode:null,nodes:h})}})),he(()=>ke(a,\"style\",`width: ${c(t).width??\"\"}px; height: ${c(t).height??\"\"}px; transform: translate(${c(t).x??\"\"}px, ${c(t).y??\"\"}px)`)),R(s,a)};te(i,s=>{e.store.selectionRectMode===\"nodes\"&&c(t)&&Ks(c(t).x)&&Ks(c(t).y)&&s(o)})}R(n,r),Te()}li([\"contextmenu\",\"click\",\"keyup\"]);function qD(n){switch(n){case\"ctrl\":return 8;case\"shift\":return 4;case\"alt\":return 2;case\"meta\":return 1}}function _n(n,e){let{enabled:t=!0,trigger:r,type:i=\"keydown\"}=e;function o(a){var f;const l=Array.isArray(r)?r:[r],u=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((d,h,g)=>h?d|1<<g:d,0);for(const d of l){const h={preventDefault:!1,enabled:!0,...d},{modifier:g,key:p,callback:m,preventDefault:y,enabled:v}=h;if(v){if(a.key!==p)continue;if(g===null||g===!1){if(u!==0)continue}else if(g!==void 0&&((f=g==null?void 0:g[0])==null?void 0:f.length)>0){const k=Array.isArray(g)?g:[g];let b=!1;for(const w of k)if((Array.isArray(w)?w:[w]).reduce((O,T)=>O|qD(T),0)===u){b=!0;break}if(!b)continue}y&&a.preventDefault();const C={node:n,trigger:h,originalEvent:a};n.dispatchEvent(new CustomEvent(\"shortcut\",{detail:C})),m==null||m(C)}}}let s;return t&&(s=ky(n,i,o)),{update:a=>{const{enabled:l=!0,type:u=\"keydown\"}=a;t&&(!l||i!==u)?s==null||s():!t&&l&&(s=ky(n,u,o)),t=l,i=u,r=a.trigger},destroy:()=>{s==null||s()}}}const eC=n=>QR(n),WD=n=>w4(n);function UD(){const n=ya(),e=o=>{var u,f;const s=eC(o)?o:n.nodeLookup.get(o.id),a=s.parentId?r9(s.position,s.measured,s.parentId,n.nodeLookup,n.nodeOrigin):s.position,l={...s,position:a,width:((u=s.measured)==null?void 0:u.width)??s.width,height:((f=s.measured)==null?void 0:f.height)??s.height};return Ou(l)};function t(o,s,a={replace:!1}){n.nodes=Ot(()=>n.nodes).map(l=>{if(l.id===o){const u=typeof s==\"function\"?s(l):s;return a!=null&&a.replace&&eC(u)?u:{...l,...u}}return l})}function r(o,s,a={replace:!1}){n.edges=Ot(()=>n.edges).map(l=>{if(l.id===o){const u=typeof s==\"function\"?s(l):s;return a.replace&&WD(u)?u:{...l,...u}}return l})}const i=o=>n.nodeLookup.get(o);return{zoomIn:n.zoomIn,zoomOut:n.zoomOut,getInternalNode:i,getNode:o=>{var s;return(s=i(o))==null?void 0:s.internals.userNode},getNodes:o=>o===void 0?n.nodes:tC(n.nodeLookup,o),getEdge:o=>n.edgeLookup.get(o),getEdges:o=>o===void 0?n.edges:tC(n.edgeLookup,o),setZoom:(o,s)=>{const a=n.panZoom;return a?a.scaleTo(o,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>n.viewport.zoom,setViewport:async(o,s)=>{const a=n.viewport;return n.panZoom?(await n.panZoom.setViewport({x:o.x??a.x,y:o.y??a.y,zoom:o.zoom??a.zoom},{duration:s==null?void 0:s.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>c8(n.viewport),setCenter:async(o,s,a)=>{const l=typeof(a==null?void 0:a.zoom)<\"u\"?a.zoom:n.maxZoom,u=n.panZoom;return u?(await u.setViewport({x:n.width/2-o*l,y:n.height/2-s*l,zoom:l},{duration:a==null?void 0:a.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n.fitView,fitBounds:async(o,s)=>{if(!n.panZoom)return Promise.resolve(!1);const a=nw(o,n.width,n.height,n.minZoom,n.maxZoom,(s==null?void 0:s.padding)??.1);return await n.panZoom.setViewport(a,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)},getIntersectingNodes:(o,s=!0,a)=>{const l=Bx(o),u=l?o:e(o);return u?(a||n.nodes).filter(f=>{const d=n.nodeLookup.get(f.id);if(!d||!l&&f.id===o.id)return!1;const h=Ou(d),g=dd(h,u);return s&&g>0||g>=u.width*u.height}):[]},isNodeIntersecting:(o,s,a=!0)=>{const u=Bx(o)?o:e(o);if(!u)return!1;const f=dd(u,s);return a&&f>0||f>=u.width*u.height},deleteElements:async({nodes:o=[],edges:s=[]})=>{const{nodes:a,edges:l}=await t9({nodesToRemove:o,edgesToRemove:s,nodes:n.nodes,edges:n.edges,onBeforeDelete:n.onbeforedelete});return a&&(n.nodes=Ot(()=>n.nodes).filter(u=>!a.some(({id:f})=>f===u.id))),l&&(n.edges=Ot(()=>n.edges).filter(u=>!l.some(({id:f})=>f===u.id))),{deletedNodes:a,deletedEdges:l}},screenToFlowPosition:(o,s={snapToGrid:!0})=>{if(!n.domNode)return o;const a=s.snapToGrid?n.snapGrid:!1,{x:l,y:u,zoom:f}=n.viewport,{x:d,y:h}=n.domNode.getBoundingClientRect(),g={x:o.x-d,y:o.y-h};return nh(g,[l,u,f],a!==null,a||[1,1])},flowToScreenPosition:o=>{if(!n.domNode)return o;const{x:s,y:a,zoom:l}=n.viewport,{x:u,y:f}=n.domNode.getBoundingClientRect(),d=k4(o,[s,a,l]);return{x:d.x+u,y:d.y+f}},toObject:()=>structuredClone({nodes:[...n.nodes],edges:[...n.edges],viewport:{...n.viewport}}),updateNode:t,updateNodeData:(o,s,a)=>{var f;const l=(f=n.nodeLookup.get(o))==null?void 0:f.internals.userNode;if(!l)return;const u=typeof s==\"function\"?s(l):s;t(o,{data:a!=null&&a.replace?u:{...l.data,...u}})},updateEdge:r,getNodesBounds:o=>ZR(o,{nodeLookup:n.nodeLookup,nodeOrigin:n.nodeOrigin}),getHandleConnections:({type:o,id:s,nodeId:a})=>{var l;return Array.from(((l=n.connectionLookup.get(`${a}-${o}-${s??null}`))==null?void 0:l.values())??[])}}}function tC(n,e){var r;const t=[];for(const i of e){const o=n.get(i);if(o){const s=\"internals\"in o?(r=o.internals)==null?void 0:r.userNode:o;t.push(s)}}return t}function KD(n,e){Ee(e,!0);let t=x(e,\"store\",7),r=x(e,\"selectionKey\",3,\"Shift\"),i=x(e,\"multiSelectionKey\",19,()=>Ep()?\"Meta\":\"Control\"),o=x(e,\"deleteKey\",3,\"Backspace\"),s=x(e,\"panActivationKey\",3,\" \"),a=x(e,\"zoomActivationKey\",19,()=>Ep()?\"Meta\":\"Control\"),{deleteElements:l}=UD();function u(m){return m!==null&&typeof m==\"object\"}function f(m){return u(m)?m.modifier||[]:[]}function d(m){return m==null?\"\":u(m)?m.key:m}function h(m,y){return(Array.isArray(m)?m:[m]).map(C=>{const k=d(C);return{key:k,modifier:f(C),enabled:k!==null,callback:y}})}function g(){t().selectionRect=null,t().selectionKeyPressed=!1,t().multiselectionKeyPressed=!1,t().deleteKeyPressed=!1,t().panActivationKeyPressed=!1,t().zoomActivationKeyPressed=!1}async function p(){var k,b;const m=t().nodes.filter(w=>w.selected),y=t().edges.filter(w=>w.selected),{deletedNodes:v,deletedEdges:C}=await l({nodes:m,edges:y});(v.length>0||C.length>0)&&((b=(k=t()).ondelete)==null||b.call(k,{nodes:v,edges:C}))}we(\"blur\",ur,g),we(\"contextmenu\",ur,g),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(r(),()=>t().selectionKeyPressed=!0),type:\"keydown\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(r(),()=>t().selectionKeyPressed=!1),type:\"keyup\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(i(),()=>{t().multiselectionKeyPressed=!0}),type:\"keydown\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(i(),()=>t().multiselectionKeyPressed=!1),type:\"keyup\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(o(),m=>{!(m.originalEvent.ctrlKey||m.originalEvent.metaKey||m.originalEvent.shiftKey)&&!s9(m.originalEvent)&&(t().deleteKeyPressed=!0,p())}),type:\"keydown\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(o(),()=>t().deleteKeyPressed=!1),type:\"keyup\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(s(),()=>t().panActivationKeyPressed=!0),type:\"keydown\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(s(),()=>t().panActivationKeyPressed=!1),type:\"keyup\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(a(),()=>t().zoomActivationKeyPressed=!0),type:\"keydown\"})),Ut(ur,(m,y)=>_n==null?void 0:_n(m,y),()=>({trigger:h(a(),()=>t().zoomActivationKeyPressed=!1),type:\"keyup\"})),Te()}var JD=It('<path fill=\"none\" class=\"svelte-flow__connection-path\"></path>'),XD=It('<svg class=\"svelte-flow__connectionline\"><g><!></g></svg>');function GD(n,e){Ee(e,!0);let t=x(e,\"containerStyle\",3,\"\"),r=x(e,\"style\",3,\"\"),i=re(()=>{if(!e.store.connection.inProgress)return\"\";const l={sourceX:e.store.connection.from.x,sourceY:e.store.connection.from.y,sourcePosition:e.store.connection.fromPosition,targetX:e.store.connection.to.x,targetY:e.store.connection.to.y,targetPosition:e.store.connection.toPosition};switch(e.type){case Ra.Bezier:{const[u]=E4(l);return u}case Ra.Straight:{const[u]=M4(l);return u}case Ra.Step:case Ra.SmoothStep:{const[u]=iw({...l,borderRadius:e.type===Ra.Step?0:void 0});return u}}});var o=De(),s=ye(o);{var a=l=>{var u=XD(),f=j(u),d=j(f);{var h=p=>{var m=De(),y=ye(m);Wl(y,()=>e.LineComponent,(v,C)=>{C(v,{})}),R(p,m)},g=p=>{var m=JD();he(()=>{ke(m,\"d\",c(i)),ke(m,\"style\",r())}),R(p,m)};te(d,p=>{e.LineComponent?p(h):p(g,!1)})}he(p=>{ke(u,\"width\",e.store.width),ke(u,\"height\",e.store.height),ke(u,\"style\",t()),hc(f,Lr(p))},[()=>[\"svelte-flow__connection\",YR(e.store.connection.isValid)]]),R(l,u)};te(s,l=>{e.store.connection.inProgress&&l(a)})}R(n,o),Te()}var YD=X(\"<div><!></div>\");function lw(n,e){Ee(e,!0);let t=x(e,\"position\",3,\"top-right\"),r=Jb(e,[\"$$slots\",\"$$events\",\"$$legacy\",\"position\",\"style\",\"class\",\"children\"]);const i=ya();let o=re(()=>`${t()}`.split(\"-\"));var s=YD();let a;var l=j(s);bi(l,()=>e.children??tr),he(u=>{a=ki(s,a,{class:u,style:e.style,...r}),Nn(s,\"pointer-events\",i.selectionRectMode?\"none\":\"\")},[()=>[\"svelte-flow__panel\",e.class,...c(o)]]),R(n,s),Te()}var QD=X('<a href=\"https://svelteflow.dev\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Svelte Flow attribution\">Svelte Flow</a>');function ZD(n,e){Ee(e,!0);let t=x(e,\"position\",3,\"bottom-right\");var r=De(),i=ye(r);{var o=s=>{lw(s,{get position(){return t()},class:\"svelte-flow__attribution\",\"data-message\":\"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us\",children:(a,l)=>{var u=QD();R(a,u)},$$slots:{default:!0}})};te(i,s=>{var a;(a=e.proOptions)!=null&&a.hideAttribution&&s(o)})}R(n,r),Te()}var $D=X(\"<div><!></div>\");function eN(n,e){let t=x(e,\"domNode\",15),r=x(e,\"clientWidth\",15),i=x(e,\"clientHeight\",15),o=re(()=>A8(e.rest,[\"id\",\"nodeTypes\",\"edgeTypes\",\"colorMode\",\"isValidConnection\",\"onerror\",\"ondelete\",\"onbeforedelete\",\"onedgecreate\",\"onconnect\",\"onconnectstart\",\"onconnectend\",\"oninit\",\"fitView\",\"fitViewOptions\",\"nodeOrigin\",\"nodeDragThreshold\",\"minZoom\",\"maxZoom\",\"initialViewport\",\"connectionRadius\",\"connectionMode\",\"selectionMode\",\"selectNodesOnDrag\",\"snapGrid\",\"defaultMarkerColor\",\"nodesDraggable\",\"nodesConnectable\",\"elementsSelectable\",\"translateExtent\",\"nodeExtent\",\"onlyRenderVisibleElements\",\"autoPanOnConnect\",\"autoPanOnNodeDrag\",\"colorModeSSR\",\"style\",\"defaultEdgeOptions\"]));var s=$D();let a;var l=j(s);bi(l,()=>e.children??tr),yn(s,u=>t(u),()=>t()),he(()=>{a=ki(s,a,{class:[\"svelte-flow\",\"svelte-flow-container\",e.class,e.colorMode],\"data-testid\":\"svelte-flow__wrapper\",role:\"application\",...c(o)},\"svelte-12wlba6\"),Nn(s,\"width\",e.width),Nn(s,\"height\",e.height)}),lx(s,\"clientHeight\",i),lx(s,\"clientWidth\",r),R(n,s)}var tN=X('<!> <!> <div class=\"svelte-flow__edgelabel-renderer\"></div> <div class=\"svelte-flow__viewport-portal\"></div> <!> <!>',1),nN=X(\"<!> <!>\",1),rN=X(\"<!> <!> <!> <!>\",1);function iN(n,e){Ee(e,!0);let t=x(e,\"paneClickDistance\",3,1),r=x(e,\"nodeClickDistance\",3,1),i=x(e,\"panOnScrollMode\",19,()=>Wa.Free),o=x(e,\"preventScrolling\",3,!0),s=x(e,\"zoomOnScroll\",3,!0),a=x(e,\"zoomOnDoubleClick\",3,!0),l=x(e,\"zoomOnPinch\",3,!0),u=x(e,\"panOnScroll\",3,!1),f=x(e,\"panOnDrag\",3,!0),d=x(e,\"selectionOnDrag\",3,!0),h=x(e,\"connectionLineStyle\",3,\"\"),g=x(e,\"connectionLineContainerStyle\",3,\"\"),p=x(e,\"connectionLineType\",19,()=>Ra.Bezier),m=x(e,\"nodes\",31,()=>at([])),y=x(e,\"edges\",31,()=>at([])),v=x(e,\"viewport\",15,void 0),C=Jb(e,[\"$$slots\",\"$$events\",\"$$legacy\",\"width\",\"height\",\"proOptions\",\"selectionKey\",\"deleteKey\",\"panActivationKey\",\"multiSelectionKey\",\"zoomActivationKey\",\"paneClickDistance\",\"nodeClickDistance\",\"onMoveStart\",\"onMoveEnd\",\"onMove\",\"onnodeclick\",\"onnodecontextmenu\",\"onnodedrag\",\"onnodedragstart\",\"onnodedragstop\",\"onnodepointerenter\",\"onnodepointermove\",\"onnodepointerleave\",\"onselectionclick\",\"onselectioncontextmenu\",\"onedgeclick\",\"onedgecontextmenu\",\"onedgepointerenter\",\"onedgepointerleave\",\"onpaneclick\",\"onpanecontextmenu\",\"panOnScrollMode\",\"preventScrolling\",\"zoomOnScroll\",\"zoomOnDoubleClick\",\"zoomOnPinch\",\"panOnScroll\",\"panOnDrag\",\"selectionOnDrag\",\"connectionLineComponent\",\"connectionLineStyle\",\"connectionLineContainerStyle\",\"connectionLineType\",\"attributionPosition\",\"children\",\"nodes\",\"edges\",\"viewport\"]);const k=hD({props:C,width:e.width,height:e.height,get nodes(){return m()},set nodes(w){m(w)},get edges(){return y()},set edges(w){y(w)},get viewport(){return v()},set viewport(w){v(w)}}),b=Yi(qy);b&&b.setStore&&b.setStore(k),id(qy,{provider:!1,getStore(){return k}}),zr(()=>{k.reset()}),eN(n,{get colorMode(){return k.colorMode},get width(){return e.width},get height(){return e.height},get rest(){return C},get domNode(){return k.domNode},set domNode(w){k.domNode=w},get clientWidth(){return k.width},set clientWidth(w){k.width=w},get clientHeight(){return k.height},set clientHeight(w){k.height=w},children:(w,E)=>{var O=rN(),T=ye(O);KD(T,{store:k,get selectionKey(){return e.selectionKey},get deleteKey(){return e.deleteKey},get panActivationKey(){return e.panActivationKey},get multiSelectionKey(){return e.multiSelectionKey},get zoomActivationKey(){return e.zoomActivationKey}});var I=H(T,2);pD(I,{store:k,get onMoveStart(){return e.onMoveStart},get onMove(){return e.onMove},get onMoveEnd(){return e.onMoveEnd},get panOnScrollMode(){return i()},get preventScrolling(){return o()},get zoomOnScroll(){return s()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return l()},get panOnScroll(){return u()},get panOnDrag(){return f()},get paneClickDistance(){return t()},children:(M,P)=>{vD(M,{store:k,get onpaneclick(){return e.onpaneclick},get onpanecontextmenu(){return e.onpanecontextmenu},get panOnDrag(){return f()},get selectionOnDrag(){return d()},children:(_,N)=>{var F=nN(),B=ye(F);bD(B,{store:k,children:(U,ue)=>{var ce=tN(),q=ye(ce);LD(q,{store:k,get onedgeclick(){return e.onedgeclick},get onedgecontextmenu(){return e.onedgecontextmenu},get onedgepointerenter(){return e.onedgepointerenter},get onedgepointerleave(){return e.onedgepointerleave}});var se=H(q,2);GD(se,{store:k,get type(){return p()},get LineComponent(){return e.connectionLineComponent},get containerStyle(){return g()},get style(){return h()}});var fe=H(se,6);kD(fe,{store:k,get nodeClickDistance(){return r()},get onnodeclick(){return e.onnodeclick},get onnodecontextmenu(){return e.onnodecontextmenu},get onnodepointerenter(){return e.onnodepointerenter},get onnodepointermove(){return e.onnodepointermove},get onnodepointerleave(){return e.onnodepointerleave},get onnodedrag(){return e.onnodedrag},get onnodedragstart(){return e.onnodedragstart},get onnodedragstop(){return e.onnodedragstop}});var G=H(fe,2);HD(G,{store:k,get onselectionclick(){return e.onselectionclick},get onselectioncontextmenu(){return e.onselectioncontextmenu},get onnodedrag(){return e.onnodedrag},get onnodedragstart(){return e.onnodedragstart},get onnodedragstop(){return e.onnodedragstop}}),R(U,ce)},$$slots:{default:!0}});var L=H(B,2);const z=re(()=>!!(k.selectionRect&&k.selectionRectMode===\"user\")),Z=re(()=>{var U;return(U=k.selectionRect)==null?void 0:U.width}),ae=re(()=>{var U;return(U=k.selectionRect)==null?void 0:U.height}),ne=re(()=>{var U;return(U=k.selectionRect)==null?void 0:U.x}),ie=re(()=>{var U;return(U=k.selectionRect)==null?void 0:U.y});q4(L,{get isVisible(){return c(z)},get width(){return c(Z)},get height(){return c(ae)},get x(){return c(ne)},get y(){return c(ie)}}),R(_,F)},$$slots:{default:!0}})},$$slots:{default:!0}});var D=H(I,2);ZD(D,{get proOptions(){return e.proOptions},get position(){return e.attributionPosition}});var A=H(D,2);bi(A,()=>e.children??tr),R(w,O)},$$slots:{default:!0}}),Te()}var oN=X(\"<button><!></button>\");function Lh(n,e){let t=Jb(e,[\"$$slots\",\"$$events\",\"$$legacy\",\"class\",\"bgColor\",\"bgColorHover\",\"color\",\"colorHover\",\"borderColor\",\"onclick\",\"children\"]);var r=oN();let i;var o=j(r);bi(o,()=>e.children??tr),he(()=>{i=ki(r,i,{type:\"button\",onclick:e.onclick,class:[\"svelte-flow__controls-button\",e.class],...t}),Nn(r,\"--xy-controls-button-background-color-props\",e.bgColor),Nn(r,\"--xy-controls-button-background-color-hover-props\",e.bgColorHover),Nn(r,\"--xy-controls-button-color-props\",e.color),Nn(r,\"--xy-controls-button-color-hover-props\",e.colorHover),Nn(r,\"--xy-controls-button-border-color-props\",e.borderColor)}),R(n,r)}var sN=It('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\"></path></svg>');function aN(n){var e=sN();R(n,e)}var lN=It('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 5\"><path d=\"M0 0h32v4.2H0z\"></path></svg>');function cN(n){var e=lN();R(n,e)}var uN=It('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 30\"><path d=\"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\"></path></svg>');function fN(n){var e=uN();R(n,e)}var dN=It('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 32\"><path d=\"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\"></path></svg>');function hN(n){var e=dN();R(n,e)}var gN=It('<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 32\"><path d=\"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\"></path></svg>');function pN(n){var e=gN();R(n,e)}var mN=X(\"<!> <!>\",1),vN=X(\"<!> <!> <!> <!> <!> <!>\",1);function yN(n,e){Ee(e,!0);let t=x(e,\"position\",3,\"bottom-left\"),r=x(e,\"orientation\",3,\"vertical\"),i=x(e,\"showZoom\",3,!0),o=x(e,\"showFitView\",3,!0),s=x(e,\"showLock\",3,!0);const a=ya(),l={bgColor:e.buttonBgColor,bgColorHover:e.buttonBgColorHover,color:e.buttonColor,colorHover:e.buttonColorHover,borderColor:e.buttonBorderColor};let u=Wt(at(a.nodesDraggable||a.nodesConnectable||a.elementsSelectable)),f=re(()=>a.viewport.zoom<=a.minZoom),d=re(()=>a.viewport.zoom>=a.maxZoom),h=re(()=>r()===\"horizontal\"?\"horizontal\":\"vertical\");const g=()=>{a.zoomIn()},p=()=>{a.zoomOut()},m=()=>{a.fitView(e.fitViewOptions)},y=()=>{S(u,!c(u)),a.nodesDraggable=c(u),a.nodesConnectable=c(u),a.elementsSelectable=c(u)},v=re(()=>[\"svelte-flow__controls\",c(h),e.class]),C=re(()=>e[\"aria-label\"]??\"Svelte Flow controls\");lw(n,{get class(){return c(v)},get position(){return t()},\"data-testid\":\"svelte-flow__controls\",get\"aria-label\"(){return c(C)},get style(){return e.style},children:(k,b)=>{var w=vN(),E=ye(w);{var O=L=>{var z=De(),Z=ye(z);bi(Z,()=>e.before),R(L,z)};te(E,L=>{e.before&&L(O)})}var T=H(E,2);{var I=L=>{var z=mN(),Z=ye(z);Lh(Z,Xr({onclick:g,class:\"svelte-flow__controls-zoomin\",title:\"zoom in\",\"aria-label\":\"zoom in\",get disabled(){return c(d)}},l,{children:(ne,ie)=>{aN(ne)},$$slots:{default:!0}}));var ae=H(Z,2);Lh(ae,Xr({onclick:p,class:\"svelte-flow__controls-zoomout\",title:\"zoom out\",\"aria-label\":\"zoom out\",get disabled(){return c(f)}},l,{children:(ne,ie)=>{cN(ne)},$$slots:{default:!0}})),R(L,z)};te(T,L=>{i()&&L(I)})}var D=H(T,2);{var A=L=>{Lh(L,Xr({class:\"svelte-flow__controls-fitview\",onclick:m,title:\"fit view\",\"aria-label\":\"fit view\"},l,{children:(z,Z)=>{fN(z)},$$slots:{default:!0}}))};te(D,L=>{o()&&L(A)})}var M=H(D,2);{var P=L=>{Lh(L,Xr({class:\"svelte-flow__controls-interactive\",onclick:y,title:\"toggle interactivity\",\"aria-label\":\"toggle interactivity\"},l,{children:(z,Z)=>{var ae=De(),ne=ye(ae);{var ie=ue=>{pN(ue)},U=ue=>{hN(ue)};te(ne,ue=>{c(u)?ue(ie):ue(U,!1)})}R(z,ae)},$$slots:{default:!0}}))};te(M,L=>{s()&&L(P)})}var _=H(M,2);{var N=L=>{var z=De(),Z=ye(z);bi(Z,()=>e.children),R(L,z)};te(_,L=>{e.children&&L(N)})}var F=H(_,2);{var B=L=>{var z=De(),Z=ye(z);bi(Z,()=>e.after),R(L,z)};te(F,L=>{e.after&&L(B)})}R(k,w)},$$slots:{default:!0}}),Te()}var Ua;(function(n){n.Lines=\"lines\",n.Dots=\"dots\",n.Cross=\"cross\"})(Ua||(Ua={}));var bN=It(\"<circle></circle>\");function wN(n,e){var t=bN();he(()=>{ke(t,\"cx\",e.radius),ke(t,\"cy\",e.radius),ke(t,\"r\",e.radius),hc(t,Lr([\"svelte-flow__background-pattern\",\"dots\",e.class]))}),R(n,t)}var xN=It(\"<path></path>\");function CN(n,e){Ee(e,!0);var t=xN();he(()=>{ke(t,\"stroke-width\",e.lineWidth),ke(t,\"d\",`M${e.dimensions[0]/2} 0 V${e.dimensions[1]} M0 ${e.dimensions[1]/2} H${e.dimensions[0]}`),hc(t,Lr([\"svelte-flow__background-pattern\",e.variant,e.class]))}),R(n,t),Te()}const _N={[Ua.Dots]:1,[Ua.Lines]:1,[Ua.Cross]:6};var SN=It('<svg data-testid=\"svelte-flow__background\"><pattern patternUnits=\"userSpaceOnUse\"><!></pattern><rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\"></rect></svg>');function kN(n,e){Ee(e,!0);let t=x(e,\"variant\",19,()=>Ua.Dots),r=x(e,\"gap\",3,20),i=x(e,\"size\",3,1),o=x(e,\"lineWidth\",3,1);const s=ya(),a=i()??_N[t()],l=t()===Ua.Dots,u=t()===Ua.Cross,f=Array.isArray(r())?r():[r(),r()];let d=re(()=>`background-pattern-${s.flowId}-${e.id??\"\"}`),h=re(()=>[f[0]*s.viewport.zoom||1,f[1]*s.viewport.zoom||1]),g=re(()=>a*s.viewport.zoom),p=re(()=>u?[c(g),c(g)]:c(h)),m=re(()=>l?[c(g)/2,c(g)/2]:[c(p)[0]/2,c(p)[1]/2]);var y=SN(),v=j(y),C=j(v);{var k=E=>{const O=re(()=>c(g)/2);wN(E,{get radius(){return c(O)},get class(){return e.patternClass}})},b=E=>{CN(E,{get dimensions(){return c(p)},get variant(){return t()},get lineWidth(){return o()},get class(){return e.patternClass}})};te(C,E=>{l?E(k):E(b,!1)})}var w=H(v);he(()=>{hc(y,Lr([\"svelte-flow__background\",e.class]),\"svelte-1r7pe8d\"),Nn(y,\"--xy-background-color-props\",e.bgColor),Nn(y,\"--xy-background-pattern-color-props\",e.patternColor),ke(v,\"id\",c(d)),ke(v,\"x\",s.viewport.x%c(h)[0]),ke(v,\"y\",s.viewport.y%c(h)[1]),ke(v,\"width\",c(h)[0]),ke(v,\"height\",c(h)[1]),ke(v,\"patternTransform\",`translate(-${c(m)[0]},-${c(m)[1]})`),ke(w,\"fill\",`url(#${c(d)})`)}),R(n,y),Te()}var ON=It(\"<rect></rect>\");function AN(n,e){let t=x(e,\"borderRadius\",3,5),r=x(e,\"strokeWidth\",3,2);var i=ON();he(()=>{hc(i,Lr([\"svelte-flow__minimap-node\",e.class])),ke(i,\"x\",e.x),ke(i,\"y\",e.y),ke(i,\"rx\",t()),ke(i,\"ry\",t()),ke(i,\"width\",e.width),ke(i,\"height\",e.height),ke(i,\"style\",`${e.color?`fill: ${e.color};`:\"\"}${e.strokeColor?`stroke: ${e.strokeColor};`:\"\"}${r()?`stroke-width: ${r()};`:\"\"}`),ke(i,\"shape-rendering\",e.shapeRendering),Re(i,\"selected\",e.selected)}),R(n,i)}function u0(n,e){const t=N9({domNode:n,panZoom:e.panZoom,getTransform:()=>{const{viewport:i}=e.store;return[i.x,i.y,i.zoom]},getViewScale:e.getViewScale});function r(i){t.update({translateExtent:i.translateExtent,width:i.width,height:i.height,inversePan:i.inversePan,zoomStep:i.zoomStep,pannable:i.pannable,zoomable:i.zoomable})}return{update:r,destroy(){t.destroy()}}}const f0=n=>n instanceof Function?n:()=>n;var EN=It(\"<title> </title>\"),TN=It('<svg class=\"svelte-flow__minimap-svg\" role=\"img\"><!><!><path class=\"svelte-flow__minimap-mask\" fill-rule=\"evenodd\" pointer-events=\"none\"></path></svg>');function MN(n,e){Ee(e,!0);let t=x(e,\"position\",3,\"bottom-right\"),r=x(e,\"ariaLabel\",3,\"Mini map\"),i=x(e,\"nodeStrokeColor\",3,\"transparent\"),o=x(e,\"nodeClass\",3,\"\"),s=x(e,\"nodeBorderRadius\",3,5),a=x(e,\"nodeStrokeWidth\",3,2),l=x(e,\"width\",3,200),u=x(e,\"height\",3,150),f=x(e,\"pannable\",3,!0),d=x(e,\"zoomable\",3,!0),h=x(e,\"style\",3,\"\"),g=ya();const p=e.nodeColor===void 0?void 0:f0(e.nodeColor),m=f0(i()),y=f0(o()),v=typeof window>\"u\"||window.chrome?\"crispEdges\":\"geometricPrecision\";let C=re(()=>`svelte-flow__minimap-desc-${g.flowId}`),k=re(()=>({x:-g.viewport.x/g.viewport.zoom,y:-g.viewport.y/g.viewport.zoom,width:g.width/g.viewport.zoom,height:g.height/g.viewport.zoom})),b=re(()=>g.nodeLookup.size>0?S4(th(g.nodeLookup),c(k)):c(k)),w=re(()=>c(b).width/l()),E=re(()=>c(b).height/u()),O=re(()=>Math.max(c(w),c(E))),T=re(()=>c(O)*l()),I=re(()=>c(O)*u()),D=re(()=>5*c(O)),A=re(()=>c(b).x-(c(T)-c(b).width)/2-c(D)),M=re(()=>c(b).y-(c(I)-c(b).height)/2-c(D)),P=re(()=>c(T)+c(D)*2),_=re(()=>c(I)+c(D)*2);const N=()=>c(O),F=re(()=>h()+(e.bgColor?`;--xy-minimap-background-color-props:${e.bgColor}`:\"\")),B=re(()=>[\"svelte-flow__minimap\",e.class]);lw(n,{get position(){return t()},get style(){return c(F)},get class(){return c(B)},\"data-testid\":\"svelte-flow__minimap\",children:(L,z)=>{var Z=De(),ae=ye(Z);{var ne=ie=>{var U=TN(),ue=j(U);{var ce=fe=>{var G=EN(),oe=j(G);he(()=>{ke(G,\"id\",c(C)),He(oe,r())}),R(fe,G)};te(ue,fe=>{r()&&fe(ce)})}var q=H(ue);Pt(q,17,()=>g.nodes,fe=>fe.id,(fe,G)=>{var oe=De();const $=re(()=>g.nodeLookup.get(c(G).id));var Y=ye(oe);{var ee=K=>{const je=re(()=>al(c($))),Ze=re(()=>p==null?void 0:p(c($))),Ce=re(()=>m(c($))),be=re(()=>y(c($)));AN(K,Xr({get x(){return c($).internals.positionAbsolute.x},get y(){return c($).internals.positionAbsolute.y}},()=>c(je),{get selected(){return c($).selected},get color(){return c(Ze)},get borderRadius(){return s()},get strokeColor(){return c(Ce)},get strokeWidth(){return a()},shapeRendering:v,get class(){return c(be)}}))};te(Y,K=>{c($)&&O4(c($))&&K(ee)})}R(fe,oe)});var se=H(q);Ut(U,(fe,G)=>u0==null?void 0:u0(fe,G),()=>({store:g,panZoom:g.panZoom,getViewScale:N,translateExtent:g.translateExtent,width:g.width,height:g.height,inversePan:e.inversePan,zoomStep:e.zoomStep,pannable:f(),zoomable:d()})),he(()=>{ke(U,\"width\",l()),ke(U,\"height\",u()),ke(U,\"viewBox\",`${c(A)??\"\"} ${c(M)??\"\"} ${c(P)??\"\"} ${c(_)??\"\"}`),ke(U,\"aria-labelledby\",c(C)),Nn(U,\"--xy-minimap-mask-background-color-props\",e.maskColor),Nn(U,\"--xy-minimap-mask-stroke-color-props\",e.maskStrokeColor),Nn(U,\"--xy-minimap-mask-stroke-width-props\",e.maskStrokeWidth?e.maskStrokeWidth*c(O):void 0),ke(se,\"d\",`M${c(A)-c(D)},${c(M)-c(D)}h${c(P)+c(D)*2}v${c(_)+c(D)*2}h${-c(P)-c(D)*2}z\n      M${c(k).x??\"\"},${c(k).y??\"\"}h${c(k).width??\"\"}v${c(k).height??\"\"}h${-c(k).width}z`)}),R(ie,U)};te(ae,ie=>{g.panZoom&&ie(ne)})}R(L,Z)},$$slots:{default:!0}}),Te()}var PN={};const d0=Symbol.for(\"remult-static1\");let zg={defaultRemultFactory:void 0,remultFactory:void 0,defaultRemult:void 0,asyncContext:void 0,columnsOfType:new Map,allEntities:[],classHelpers:new Map,actionInfo:{allActions:[],runningOnServer:!1,runActionWithoutBlockingUI:n=>n(),startBusyWithProgress:()=>({progress:n=>{},close:()=>{}})},fieldOptionsEnricher:void 0,captionTransformer:void 0,defaultDataProvider:()=>{}};typeof process<\"u\"&&PN.IGNORE_GLOBAL_REMULT_IN_TESTS||typeof globalThis[d0]>\"u\"?(globalThis[d0]=zg,zg.remultFactory=()=>W4()):zg=globalThis[d0];const yt=zg;function W4(){return yt.defaultRemult||(yt.defaultRemult=yt.defaultRemultFactory()),yt.defaultRemult}function IN(){yt.remultFactory=()=>W4()}function Bl(n){const e=n;if(typeof e[gd]==\"function\")return e[gd]();throw Error(\"Error getting repository internal from \"+n)}const gd=Symbol.for(\"getInternal\");class RN{constructor(){this.iAmRemultProxy=!0,this.repoCache=new Map,this.repo=(...e)=>{let t=yt,r=this.repoCache.get(e[0]);r||this.repoCache.set(e[0],r=new Map);let i=r.get(e[1]);return i||(i={get fields(){return yt.remultFactory().repo(...e).metadata.fields},[gd](){return t.remultFactory().repo(...e)[gd]()},relations:o=>t.remultFactory().repo(...e).relations(o),validate:(o,...s)=>t.remultFactory().repo(...e).validate(o,...s),addEventListener:(...o)=>t.remultFactory().repo(...e).addEventListener(...o),count:(...o)=>t.remultFactory().repo(...e).count(...o),create:(...o)=>t.remultFactory().repo(...e).create(...o),delete:o=>t.remultFactory().repo(...e).delete(o),deleteMany:o=>t.remultFactory().repo(...e).deleteMany(o),updateMany:(...o)=>t.remultFactory().repo(...e).updateMany(...o),find:(...o)=>t.remultFactory().repo(...e).find(...o),groupBy:(...o)=>t.remultFactory().repo(...e).groupBy(...o),aggregate:(...o)=>t.remultFactory().repo(...e).aggregate(...o),findFirst:(...o)=>t.remultFactory().repo(...e).findFirst(...o),findOne:(...o)=>t.remultFactory().repo(...e).findOne(...o),findId:(o,s)=>t.remultFactory().repo(...e).findId(o,s),toJson:o=>t.remultFactory().repo(...e).toJson(o),fromJson:(o,s)=>t.remultFactory().repo(...e).fromJson(o,s),getEntityRef:(...o)=>t.remultFactory().repo(...e).getEntityRef(...o),insert:o=>t.remultFactory().repo(...e).insert(o),liveQuery:(...o)=>t.remultFactory().repo(...e).liveQuery(...o),get metadata(){return yt.remultFactory().repo(...e).metadata},query:o=>t.remultFactory().repo(...e).query(o),save:o=>t.remultFactory().repo(...e).save(o),upsert:o=>t.remultFactory().repo(...e).upsert(o),update:(o,s)=>t.remultFactory().repo(...e).update(o,s)},r.set(e[1],i),i)}}get liveQuerySubscriber(){return yt.remultFactory().liveQuerySubscriber}set liveQuerySubscriber(e){yt.remultFactory().liveQuerySubscriber=e}get liveQueryStorage(){return yt.remultFactory().liveQueryStorage}set liveQueryStorage(e){yt.remultFactory().liveQueryStorage=e}get liveQueryPublisher(){return yt.remultFactory().liveQueryPublisher}set liveQueryPublisher(e){yt.remultFactory().liveQueryPublisher=e}initUser(){return yt.remultFactory().initUser()}call(e,t,...r){return yt.remultFactory().call(e,t,...r)}get context(){return yt.remultFactory().context}get dataProvider(){return yt.remultFactory().dataProvider}set dataProvider(e){yt.remultFactory().dataProvider=e}get repCache(){return yt.remultFactory().repCache}authenticated(){return yt.remultFactory().authenticated()}isAllowed(e){return yt.remultFactory().isAllowed(e)}isAllowedForInstance(e,t){return yt.remultFactory().isAllowedForInstance(e,t)}clearAllCache(){return yt.remultFactory().clearAllCache()}useFetch(e){return yt.remultFactory().useFetch(e)}get user(){return yt.remultFactory().user}set user(e){yt.remultFactory().user=e}get apiClient(){return yt.remultFactory().apiClient}set apiClient(e){yt.remultFactory().apiClient=e}get subscriptionServer(){return yt.remultFactory().subscriptionServer}set subscriptionServer(e){yt.remultFactory().subscriptionServer=e}}const Pi=new RN;var nC=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function DN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n}var ll={},Wn={},cl={};Object.defineProperty(cl,\"__esModule\",{value:!0});cl.anumber=Wy;cl.abytes=U4;cl.ahash=LN;cl.aexists=BN;cl.aoutput=FN;function Wy(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(\"positive integer expected, got \"+n)}function NN(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name===\"Uint8Array\"}function U4(n,...e){if(!NN(n))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(n.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+n.length)}function LN(n){if(typeof n!=\"function\"||typeof n.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Wy(n.outputLen),Wy(n.blockLen)}function BN(n,e=!0){if(n.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&n.finished)throw new Error(\"Hash#digest() has already been called\")}function FN(n,e){U4(n);const t=e.outputLen;if(n.length<t)throw new Error(\"digestInto() expects output buffer of length at least \"+t)}var Tt={};Object.defineProperty(Tt,\"__esModule\",{value:!0});Tt.add5L=Tt.add5H=Tt.add4H=Tt.add4L=Tt.add3H=Tt.add3L=Tt.rotlBL=Tt.rotlBH=Tt.rotlSL=Tt.rotlSH=Tt.rotr32L=Tt.rotr32H=Tt.rotrBL=Tt.rotrBH=Tt.rotrSL=Tt.rotrSH=Tt.shrSL=Tt.shrSH=Tt.toBig=void 0;Tt.fromBig=cw;Tt.split=K4;Tt.add=sO;const Bh=BigInt(2**32-1),Uy=BigInt(32);function cw(n,e=!1){return e?{h:Number(n&Bh),l:Number(n>>Uy&Bh)}:{h:Number(n>>Uy&Bh)|0,l:Number(n&Bh)|0}}function K4(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:o,l:s}=cw(n[i],e);[t[i],r[i]]=[o,s]}return[t,r]}const J4=(n,e)=>BigInt(n>>>0)<<Uy|BigInt(e>>>0);Tt.toBig=J4;const X4=(n,e,t)=>n>>>t;Tt.shrSH=X4;const G4=(n,e,t)=>n<<32-t|e>>>t;Tt.shrSL=G4;const Y4=(n,e,t)=>n>>>t|e<<32-t;Tt.rotrSH=Y4;const Q4=(n,e,t)=>n<<32-t|e>>>t;Tt.rotrSL=Q4;const Z4=(n,e,t)=>n<<64-t|e>>>t-32;Tt.rotrBH=Z4;const $4=(n,e,t)=>n>>>t-32|e<<64-t;Tt.rotrBL=$4;const eO=(n,e)=>e;Tt.rotr32H=eO;const tO=(n,e)=>n;Tt.rotr32L=tO;const nO=(n,e,t)=>n<<t|e>>>32-t;Tt.rotlSH=nO;const rO=(n,e,t)=>e<<t|n>>>32-t;Tt.rotlSL=rO;const iO=(n,e,t)=>e<<t-32|n>>>64-t;Tt.rotlBH=iO;const oO=(n,e,t)=>n<<t-32|e>>>64-t;Tt.rotlBL=oO;function sO(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const aO=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Tt.add3L=aO;const lO=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Tt.add3H=lO;const cO=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Tt.add4L=cO;const uO=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0;Tt.add4H=uO;const fO=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0);Tt.add5L=fO;const dO=(n,e,t,r,i,o)=>e+t+r+i+o+(n/2**32|0)|0;Tt.add5H=dO;const jN={fromBig:cw,split:K4,toBig:J4,shrSH:X4,shrSL:G4,rotrSH:Y4,rotrSL:Q4,rotrBH:Z4,rotrBL:$4,rotr32H:eO,rotr32L:tO,rotlSH:nO,rotlSL:rO,rotlBH:iO,rotlBL:oO,add:sO,add3L:aO,add3H:lO,add4L:cO,add4H:uO,add5H:dO,add5L:fO};Tt.default=jN;var hO={},rv={};Object.defineProperty(rv,\"__esModule\",{value:!0});rv.crypto=void 0;rv.crypto=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,\"__esModule\",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.isLE=void 0,n.isBytes=r,n.u8=i,n.u32=o,n.createView=s,n.rotr=a,n.rotl=l,n.byteSwap=u,n.byteSwap32=f,n.bytesToHex=h,n.hexToBytes=m,n.asyncLoop=v,n.utf8ToBytes=C,n.toBytes=k,n.concatBytes=b,n.checkOpts=E,n.wrapConstructor=O,n.wrapConstructorWithOpts=T,n.wrapXOFConstructorWithOpts=I,n.randomBytes=D;const e=rv,t=cl;function r(A){return A instanceof Uint8Array||ArrayBuffer.isView(A)&&A.constructor.name===\"Uint8Array\"}function i(A){return new Uint8Array(A.buffer,A.byteOffset,A.byteLength)}function o(A){return new Uint32Array(A.buffer,A.byteOffset,Math.floor(A.byteLength/4))}function s(A){return new DataView(A.buffer,A.byteOffset,A.byteLength)}function a(A,M){return A<<32-M|A>>>M}function l(A,M){return A<<M|A>>>32-M>>>0}n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function u(A){return A<<24&4278190080|A<<8&16711680|A>>>8&65280|A>>>24&255}n.byteSwapIfBE=n.isLE?A=>A:A=>u(A);function f(A){for(let M=0;M<A.length;M++)A[M]=u(A[M])}const d=Array.from({length:256},(A,M)=>M.toString(16).padStart(2,\"0\"));function h(A){(0,t.abytes)(A);let M=\"\";for(let P=0;P<A.length;P++)M+=d[A[P]];return M}const g={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(A){if(A>=g._0&&A<=g._9)return A-g._0;if(A>=g.A&&A<=g.F)return A-(g.A-10);if(A>=g.a&&A<=g.f)return A-(g.a-10)}function m(A){if(typeof A!=\"string\")throw new Error(\"hex string expected, got \"+typeof A);const M=A.length,P=M/2;if(M%2)throw new Error(\"hex string expected, got unpadded hex of length \"+M);const _=new Uint8Array(P);for(let N=0,F=0;N<P;N++,F+=2){const B=p(A.charCodeAt(F)),L=p(A.charCodeAt(F+1));if(B===void 0||L===void 0){const z=A[F]+A[F+1];throw new Error('hex string expected, got non-hex character \"'+z+'\" at index '+F)}_[N]=B*16+L}return _}const y=async()=>{};n.nextTick=y;async function v(A,M,P){let _=Date.now();for(let N=0;N<A;N++){P(N);const F=Date.now()-_;F>=0&&F<M||(await(0,n.nextTick)(),_+=F)}}function C(A){if(typeof A!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof A);return new Uint8Array(new TextEncoder().encode(A))}function k(A){return typeof A==\"string\"&&(A=C(A)),(0,t.abytes)(A),A}function b(...A){let M=0;for(let _=0;_<A.length;_++){const N=A[_];(0,t.abytes)(N),M+=N.length}const P=new Uint8Array(M);for(let _=0,N=0;_<A.length;_++){const F=A[_];P.set(F,N),N+=F.length}return P}class w{clone(){return this._cloneInto()}}n.Hash=w;function E(A,M){if(M!==void 0&&{}.toString.call(M)!==\"[object Object]\")throw new Error(\"Options should be object or undefined\");return Object.assign(A,M)}function O(A){const M=_=>A().update(k(_)).digest(),P=A();return M.outputLen=P.outputLen,M.blockLen=P.blockLen,M.create=()=>A(),M}function T(A){const M=(_,N)=>A(N).update(k(_)).digest(),P=A({});return M.outputLen=P.outputLen,M.blockLen=P.blockLen,M.create=_=>A(_),M}function I(A){const M=(_,N)=>A(N).update(k(_)).digest(),P=A({});return M.outputLen=P.outputLen,M.blockLen=P.blockLen,M.create=_=>A(_),M}function D(A=32){if(e.crypto&&typeof e.crypto.getRandomValues==\"function\")return e.crypto.getRandomValues(new Uint8Array(A));if(e.crypto&&typeof e.crypto.randomBytes==\"function\")return e.crypto.randomBytes(A);throw new Error(\"crypto.getRandomValues must be defined\")}})(hO);Object.defineProperty(Wn,\"__esModule\",{value:!0});Wn.shake256=Wn.shake128=Wn.keccak_512=Wn.keccak_384=Wn.keccak_256=Wn.keccak_224=Wn.sha3_512=Wn.sha3_384=Wn.sha3_256=Wn.sha3_224=Wn.Keccak=void 0;Wn.keccakP=vO;const Ec=cl,pd=Tt,Fs=hO,gO=[],pO=[],mO=[],zN=BigInt(0),gf=BigInt(1),VN=BigInt(2),HN=BigInt(7),qN=BigInt(256),WN=BigInt(113);for(let n=0,e=gf,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],gO.push(2*(5*r+t)),pO.push((n+1)*(n+2)/2%64);let i=zN;for(let o=0;o<7;o++)e=(e<<gf^(e>>HN)*WN)%qN,e&VN&&(i^=gf<<(gf<<BigInt(o))-gf);mO.push(i)}const[UN,KN]=(0,pd.split)(mO,!0),rC=(n,e,t)=>t>32?(0,pd.rotlBH)(n,e,t):(0,pd.rotlSH)(n,e,t),iC=(n,e,t)=>t>32?(0,pd.rotlBL)(n,e,t):(0,pd.rotlSL)(n,e,t);function vO(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let s=0;s<10;s++)t[s]=n[s]^n[s+10]^n[s+20]^n[s+30]^n[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,l=(s+2)%10,u=t[l],f=t[l+1],d=rC(u,f,1)^t[a],h=iC(u,f,1)^t[a+1];for(let g=0;g<50;g+=10)n[s+g]^=d,n[s+g+1]^=h}let i=n[2],o=n[3];for(let s=0;s<24;s++){const a=pO[s],l=rC(i,o,a),u=iC(i,o,a),f=gO[s];i=n[f],o=n[f+1],n[f]=l,n[f+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=n[s+a];for(let a=0;a<10;a++)n[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=UN[r],n[1]^=KN[r]}t.fill(0)}class rh extends Fs.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Ec.anumber)(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=(0,Fs.u32)(this.state)}keccak(){Fs.isLE||(0,Fs.byteSwap32)(this.state32),vO(this.state32,this.rounds),Fs.isLE||(0,Fs.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Ec.aexists)(this);const{blockLen:t,state:r}=this;e=(0,Fs.toBytes)(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(t-this.pos,i-o);for(let a=0;a<s;a++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Ec.aexists)(this,!1),(0,Ec.abytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return(0,Ec.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ec.aoutput)(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new rh(t,r,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}Wn.Keccak=rh;const ul=(n,e,t)=>(0,Fs.wrapConstructor)(()=>new rh(e,n,t));Wn.sha3_224=ul(6,144,224/8);Wn.sha3_256=ul(6,136,256/8);Wn.sha3_384=ul(6,104,384/8);Wn.sha3_512=ul(6,72,512/8);Wn.keccak_224=ul(1,144,224/8);Wn.keccak_256=ul(1,136,256/8);Wn.keccak_384=ul(1,104,384/8);Wn.keccak_512=ul(1,72,512/8);const yO=(n,e,t)=>(0,Fs.wrapXOFConstructorWithOpts)((r={})=>new rh(e,n,r.dkLen===void 0?t:r.dkLen,!0));Wn.shake128=yO(31,168,128/8);Wn.shake256=yO(31,136,256/8);const{sha3_512:JN}=Wn,bO=24,qf=32,Ky=(n=4,e=Math.random)=>{let t=\"\";for(;t.length<n;)t=t+Math.floor(e()*36).toString(36);return t};function wO(n){let e=8n,t=0n;for(const r of n.values()){const i=BigInt(r);t=(t<<e)+i}return t}const xO=(n=\"\")=>wO(JN(n)).toString(36).slice(1),oC=Array.from({length:26},(n,e)=>String.fromCharCode(e+97)),XN=n=>oC[Math.floor(n()*oC.length)],CO=({globalObj:n=typeof nC<\"u\"?nC:typeof window<\"u\"?window:{},random:e=Math.random}={})=>{const t=Object.keys(n).toString(),r=t.length?t+Ky(qf,e):Ky(qf,e);return xO(r).substring(0,qf)},_O=n=>()=>n++,GN=476782367,SO=({random:n=Math.random,counter:e=_O(Math.floor(n()*GN)),length:t=bO,fingerprint:r=CO({random:n})}={})=>function(){const o=XN(n),s=Date.now().toString(36),a=e().toString(36),l=Ky(t,n),u=`${s+l+a+r}`;return`${o+xO(u).substring(1,t)}`},YN=SO(),QN=(n,{minLength:e=2,maxLength:t=qf}={})=>{const r=n.length,i=/^[0-9a-z]+$/;try{if(typeof n==\"string\"&&r>=e&&r<=t&&i.test(n))return!0}finally{}return!1};ll.getConstants=()=>({defaultLength:bO,bigLength:qf});ll.init=SO;ll.createId=YN;ll.bufToBigInt=wO;ll.createCounter=_O;ll.createFingerprint=CO;ll.isCuid=QN;const{createId:ZN}=ll;var sC=ZN,Fh,$N=new Uint8Array(16);function eL(){if(!Fh&&(Fh=typeof crypto<\"u\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<\"u\"&&typeof msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto),!Fh))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return Fh($N)}const tL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function nL(n){return typeof n==\"string\"&&tL.test(n)}var Wr=[];for(var h0=0;h0<256;++h0)Wr.push((h0+256).toString(16).substr(1));function rL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Wr[n[e+0]]+Wr[n[e+1]]+Wr[n[e+2]]+Wr[n[e+3]]+\"-\"+Wr[n[e+4]]+Wr[n[e+5]]+\"-\"+Wr[n[e+6]]+Wr[n[e+7]]+\"-\"+Wr[n[e+8]]+Wr[n[e+9]]+\"-\"+Wr[n[e+10]]+Wr[n[e+11]]+Wr[n[e+12]]+Wr[n[e+13]]+Wr[n[e+14]]+Wr[n[e+15]]).toLowerCase();if(!nL(t))throw TypeError(\"Stringified UUID is invalid\");return t}function Jy(n,e,t){n=n||{};var r=n.random||(n.rng||eL)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rL(r)}const js=class js{};js.number=\"number\",js.date=\"date\",js.checkbox=\"checkbox\",js.password=\"password\",js.email=\"email\",js.tel=\"tel\",js.time=\"time\";let Wf=js;const qt=class qt{};qt.Date={toJson:e=>{if(e===null)return null;if(!e)return\"\";if(typeof e==\"string\"&&(e=new Date(e)),e instanceof Date)return e.toISOString();throw new Error(\"Expected date but got \"+e)},fromJson:e=>{if(e===null)return null;if(e!=null&&e!=\"\"&&!e.startsWith(\"0000-00-00\"))return new Date(Date.parse(e))},toDb:e=>e,fromDb:e=>{if(typeof e==\"number\"&&(e=new Date(e)),typeof e==\"string\"&&(e=new Date(e)),e&&!(e instanceof Date))throw\"expected date but got \"+e;return e},fromInput:e=>qt.Date.fromJson(e),toInput:e=>qt.Date.toJson(e),displayValue:e=>e?e.toLocaleString():\"\"},qt.DateOnly={fromInput:e=>qt.DateOnly.fromJson(e),toInput:e=>qt.DateOnly.toJson(e),toJson:e=>{var t=e;return(typeof t==\"string\"||typeof t==\"number\")&&(t=new Date(t)),!t||t==null?null:t.getHours()==0?new Date(t.valueOf()-t.getTimezoneOffset()*6e4).toISOString().substring(0,10):t.toISOString().substring(0,10)},fromJson:e=>{if(!e||e==\"\"||e==\"0000-00-00\")return null;let t=new Date(Date.parse(e));return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t},inputType:Wf.date,toDb:e=>e?qt.DateOnly.fromJson(qt.DateOnly.toJson(e)):null,fromDb:e=>qt.Date.fromDb(e),fieldTypeInDb:\"date\",displayValue:e=>e?e.toLocaleDateString(void 0):\"\"},qt.DateOnlyString={...qt.DateOnly,toDb:e=>{let t=qt.DateOnly.toJson(e);if(t)return t.replace(/-/g,\"\")},fromDb:e=>{if(e===null)return null;if(e)return new Date(e.substring(0,4)+\"-\"+e.substring(4,6)+\"-\"+e.substring(6,8))}},qt.Boolean={toDb:e=>e,inputType:Wf.checkbox,fromDb:e=>qt.Boolean.fromJson(e),fromJson:e=>typeof e==\"boolean\"?e:e===1?!0:e!=null?e.toString().trim().toLowerCase()==\"true\":e,toJson:e=>e,fromInput:e=>qt.Boolean.fromJson(e),toInput:e=>qt.Boolean.toJson(e)},qt.Number={fromDb:e=>{if(e===null)return null;if(e!==void 0)return+e},toDb:e=>e,fromJson:e=>qt.Number.fromDb(e),toJson:e=>qt.Number.toDb(e),fromInput:(e,t)=>{let r=+e;if(e!=null)return r},toInput:(e,t)=>(e==null?void 0:e.toString())??\"\",inputType:Wf.number},qt.String={fromDb:Tc,toDb:Tc,fromJson:Tc,toJson:Tc,fromInput:Tc,toInput:Tc},qt.Integer={...qt.Number,toJson:e=>{let t=qt.Number.toDb(e);return t&&+(+t).toFixed(0)},toDb:e=>qt.Integer.toJson(e),fieldTypeInDb:\"integer\"},qt.Default={fromJson:e=>e,toJson:e=>e,fromDb:e=>qt.JsonString.fromDb(e),toDb:e=>qt.JsonString.toDb(e),fromInput:e=>qt.Default.fromJson(e),toInput:e=>qt.Default.toJson(e),displayValue:e=>e+\"\",fieldTypeInDb:\"\",inputType:\"text\"},qt.JsonString={fromJson:e=>e,toJson:e=>e,fromDb:e=>e==null?null:e?JSON.parse(qt.JsonString.fromJson(e)):void 0,toDb:e=>e!==void 0?e===null?null:JSON.stringify(qt.JsonString.toJson(e)):void 0,fromInput:e=>qt.JsonString.fromJson(e),toInput:e=>qt.JsonString.toJson(e)},qt.JsonValue={fromJson:e=>e,toJson:e=>e,fromDb:e=>e,toDb:e=>e,fromInput:e=>qt.JsonString.fromJson(e),toInput:e=>qt.JsonString.toJson(e),fieldTypeInDb:\"json\"};let $r=qt;function Tc(n){return n==null?n:typeof n!=\"string\"?n.toString():n}function $n(n,e=!0){var r;if(n===void 0)throw new Error(\"entity is undefined\");let t=n[jc];if(!t&&e)throw new Error(\"item \"+(((r=n.constructor)==null?void 0:r.name)||n)+\" was not initialized using a context\");return t}const jc=Symbol.for(\"entityMember\"),kO=Symbol.for(\"entityInfo\"),OO=Symbol.for(\"entityInfo_key\");function lo(n,e=!0){if(n===void 0){if(e)throw new Error(\"Undefined is not an entity :)\");return}let t=n[kO];if(!t&&e)throw new Error(n.prototype.constructor.name+\" is not a known entity, did you forget to set @Entity() or did you forget to add the '@' before the call to Entity?\");return t}function iL(n){return n[OO]}function oL(n){return n.replace(/([a-z])([A-Z])/g,\"$1 $2\").replace(/^./,e=>e.toUpperCase()).replace(\"Email\",\"eMail\")}class sL{constructor(e,t,r){this.repository=e,this.isReferenceRelation=t,this.allowNull=r}toJson(){if(this.storedItem)return this.item===null?null:this.repository.toJson(this.item)}setId(e){this.repository.metadata.idMetadata.field.valueType==Number&&(e=+e),this.id=e}waitLoadOf(e){return e==null?null:Bl(this.repository)._getCachedByIdAsync(e,!1)}get(e){if(e==null)return null;const t=Bl(this.repository)._getCachedById(e,this.isReferenceRelation);return this.isReferenceRelation&&!this.storedItem?!this.allowNull&&(this.id===0||this.id===\"\")?null:void 0:t}set(e){if(e===null&&!this.allowNull&&this.isReferenceRelation&&(this.id==0||this.id==\"\")){this.storedItem={item:null};return}if(this.storedItem=void 0,e)if(typeof e==\"string\"||typeof e==\"number\")this.id=e;else{let t=$n(e,!1);t&&!this.isReferenceRelation?(Bl(this.repository)._addToCache(e),this.id=t.getId()):(this.storedItem={item:e},this.id=e[this.repository.metadata.idMetadata.field.key])}else e===null?this.id=null:this.id=void 0}get item(){return this.storedItem?this.storedItem.item:this.get(this.id)}async waitLoad(){return this.waitLoadOf(this.id)}}class Rl{constructor(...e){this.options={},this.readonly=!0,this.allowNull=!1,this.dbReadOnly=!1,this.isServerExpression=!1,this.key=\"\",this.caption=\"\",this.inputType=\"\",this.dbName=\"\",this.fields=e}apiUpdateAllowed(e){throw new Error(\"Method not implemented.\")}displayValue(e){throw new Error(\"Method not implemented.\")}includedInApi(e){throw new Error(\"Method not implemented.\")}toInput(e,t){throw new Error(\"Method not implemented.\")}fromInput(e,t){throw new Error(\"Method not implemented.\")}getDbName(){return Promise.resolve(\"\")}getId(e){let t=i=>e[i.key];typeof e==\"function\"&&(t=e);let r=\"\";return this.fields.forEach(i=>{r.length>0&&(r+=\",\"),r+=i.valueConverter.toJson(t(i))}),r}get valueConverter(){throw new Error(\"cant get value converter of compound id\")}isEqualTo(e){let t={},i=e.toString().split(\",\");return this.fields.forEach((o,s)=>{t[o.key]=o.valueConverter.fromJson(i[s])}),t}}class aC{constructor(e){this.url=e}add(e,t){this.url.indexOf(\"?\")>=0?this.url+=\"&\":this.url+=\"?\",this.url+=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)}addObject(e,t=\"\"){if(e!=null)for(var r in e){let i=e[r];this.add(r+t,i)}}}const aL=\"$count\",lL=Symbol.for(\"GroupByForApiKey\"),cL=[\"sum\",\"avg\",\"min\",\"max\",\"distinctCount\"],AO={error500RetryCount:4};function md(n){if(!n)return new cC;let e;return e||EO(n)&&(e=new uL(n)),e||typeof n==\"function\"&&(e=new cC(n)),e}function EO(n){let e=n;return!!(e&&e.get&&e.put&&e.post&&e.delete)}class uL{constructor(e){this.http=e}async post(e,t){return await Tp(()=>jh(this.http.post(e,t)))}delete(e){return jh(this.http.delete(e))}put(e,t){return jh(this.http.put(e,t))}async get(e){return await Tp(()=>jh(this.http.get(e)))}}async function Tp(n){var t,r,i,o;let e=0;for(;;)try{return await n()}catch(s){if(((t=s.message)!=null&&t.startsWith(\"Error occurred while trying to proxy\")||(r=s.message)!=null&&r.startsWith(\"Error occured while trying to proxy\")||(i=s.message)!=null&&i.includes(\"http proxy error\")||(o=s.message)!=null&&o.startsWith(\"Gateway Timeout\")||s.status==500)&&e++<AO.error500RetryCount){await new Promise((a,l)=>{setTimeout(()=>{a({})},500)});continue}throw s}}function jh(n){let e;return n.toPromise!==void 0?e=n.toPromise():e=n,e.then(t=>t&&(t.status==200||t.status==201)&&t.headers&&t.request&&t.data!==void 0?t.data:t).catch(async t=>{throw await fL(t)})}async function fL(n){var o,s,a;let e=await n;var t;e.error?t=e.error:e.isAxiosError&&(typeof((o=e.response)==null?void 0:o.data)==\"string\"?t=e.response.data:t=(s=e==null?void 0:e.response)==null?void 0:s.data),t||(t=e.message),e.status==0&&e.error.isTrusted&&(t=\"Network Error\"),typeof t==\"string\"&&(t={message:t}),e.modelState&&(t.modelState=e.modelState);let r=e.status;r===void 0&&(r=(a=e.response)==null?void 0:a.status),r!=null&&(t.httpStatusCode=r);var i=Object.assign(t??{},{});return i}const dL=Symbol.for(\"relationInfo\");function hL(n){return n==null?void 0:n[dL]}const Xy=Symbol.for(\"fieldRelationInfo\");function jn(n){if(n)return n[Xy]}function gL(n,e,t){for(const r of n.fields.toArray()){const i=hL(r.options);if(i&&!r[Xy]){const o=i.toType(),s=e.repo(o,t),a=r.options;r[Xy]={type:i.type,toEntity:o,options:a,toRepo:s,getFields:()=>{let l=a.field,u={fields:a.fields,compoundIdField:void 0};function f(g){return Error(`Error for relation: \"${n.metadata.key}.${r.key}\", `+g)}let d=()=>l||u.fields;if(i.type===\"toMany\"&&!d()){for(const g of s.fields.toArray())if(!d()){const p=jn(g),m=g.options;if(p&&p.toEntity===n.metadata.entityType){if(p.type===\"reference\")l=g.key;else if(p.type===\"toOne\"){if(m.field)l=m.field;else if(m.fields){let y={};for(const v in m.fields)if(Object.prototype.hasOwnProperty.call(m.fields,v)){const C=m.fields[v];y[C]=v}u.fields=y}}}}if(!d())throw f(`No matching field found on target \"${s.metadata.key}\". Please specify field/fields`)}function h(g,p){const m=p.fields.find(g);if(!m)throw f(`Field \"${g}\" was not found in \"${p.key}\".`);return m}i.type===\"reference\"&&(l=r.key),l&&(i.type===\"toOne\"||i.type===\"reference\"?s.metadata.idMetadata.field instanceof Rl?u.compoundIdField=l:u.fields={[s.metadata.idMetadata.field.key]:l}:n.metadata.idMetadata.field instanceof Rl?u.compoundIdField=l:u.fields={[l]:n.metadata.idMetadata.field.key});for(const g in u.fields)Object.prototype.hasOwnProperty.call(u.fields,g)&&(h(g,s.metadata),h(u.fields[g],n.metadata));return u}}}}}let Zt=class ji{constructor(e){this.apply=e}static throwErrorIfFilterIsEmpty(e,t){if(ji.isFilterEmpty(e))throw{message:`${t}: requires a filter to protect against accidental delete/update of all rows`,httpStatusCode:400}}static isFilterEmpty(e){if(e.$and){for(const t of e.$and)if(!ji.isFilterEmpty(t))return!1}if(e.$or){for(const t of e.$or)if(ji.isFilterEmpty(t))return!0;return!1}return Object.keys(e).filter(t=>![\"$or\",\"$and\"].includes(t)).length==0}static async getPreciseValues(e,t){const r=new Rp;return await ji.fromEntityFilter(e,t).__applyToConsumer(r),r.preciseValues}async getPreciseValues(){const e=new Rp;return await this.__applyToConsumer(e),e.preciseValues}static createCustom(e,t=\"\"){let r={key:t,rawFilterTranslator:e};return Object.assign(i=>{if(i==null&&(i={}),!r.key)throw\"Usage of custom filter before a key was assigned to it\";return{[Fl+r.key]:i}},{rawFilterInfo:r})}static entityFilterToJson(e,t){return ji.fromEntityFilter(e,t).toJson()}static entityFilterFromJson(e,t){return Vg(e,{get:r=>t[r]})}static fromEntityFilter(e,t){let r=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){let o=t[i];if(i==\"$or\")r.push(new vL(...o.map(s=>ji.fromEntityFilter(e,s))));else if(i==\"$not\")r.push(new yL(ji.fromEntityFilter(e,o)));else if(i==\"$and\")r.push(new lC(...o.map(s=>ji.fromEntityFilter(e,s))));else if(i.startsWith(Fl))r.push(new ji(s=>{s.custom(i.substring(Fl.length),o)}));else if(i==TO)r.push(new ji(s=>s.databaseCustom(o)));else{const s=e.fields[i],a=jn(s),l=s.options;let u=(a==null?void 0:a.type)===\"toOne\"?l.fields?new mL(s,e.fields,l):new pL(e.fields[l.field]):new Mp(s),f=!1;if(o!==void 0&&o!=null){o.$id!==void 0&&(o=o.$id);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=o[d];switch(d){case\"$gte\":case\">=\":r.push(u.isGreaterOrEqualTo(h)),f=!0;break;case\"$gt\":case\">\":r.push(u.isGreaterThan(h)),f=!0;break;case\"$lte\":case\"<=\":r.push(u.isLessOrEqualTo(h)),f=!0;break;case\"$lt\":case\"<\":r.push(u.isLessThan(h)),f=!0;break;case\"$ne\":case\"$not\":case\"!=\":case\"$nin\":f=!0,Array.isArray(h)?r.push(u.isNotIn(h)):r.push(u.isDifferentFrom(h));break;case\"$in\":f=!0,r.push(u.isIn(h));break;case\"$contains\":f=!0,r.push(u.contains(h));break;case\"$startsWith\":f=!0,r.push(u.startsWith(h));break;case\"$endsWith\":f=!0,r.push(u.endsWith(h));break;case\"$notContains\":f=!0,r.push(u.notContains(h));break}}Array.isArray(o)&&(f=!0,r.push(u.isIn(o)))}!f&&o!==void 0&&r.push(u.isEqualTo(o))}}return new lC(...r)}__applyToConsumer(e){this.apply(e)}static async resolve(e){return typeof e==\"function\"?await e():e}toJson(){let e=new Pp;return this.__applyToConsumer(e),e.result}static async translateCustomWhere(e,t,r){let i=new Ip(async(o,s)=>{let a=[];for(const l in t.entityType){const u=t.entityType[l];u&&u.rawFilterInfo&&u.rawFilterInfo.rawFilterTranslator&&u.rawFilterInfo.key==o&&a.push(await ji.fromEntityFilter(t,await u.rawFilterInfo.rawFilterTranslator(s,r)))}return a});return e.__applyToConsumer(i),await i.resolve(),e=new ji(o=>i.applyTo(o)),e}};class Mp{constructor(e){this.metadata=e}processVal(e){if(lo(this.metadata.valueType,!1)){if(e==null){if(e===null&&!this.metadata.allowNull){const r=jn(this.metadata);if((r==null?void 0:r.type)===\"reference\")return r.toRepo.metadata.idMetadata.field.options.valueType===Number?0:\"\"}return null}return typeof e==\"string\"||typeof e==\"number\"?e:$n(e).getId()}return e}contains(e){return new Zt(t=>t.containsCaseInsensitive(this.metadata,e))}notContains(e){return new Zt(t=>t.notContainsCaseInsensitive(this.metadata,e))}startsWith(e){return new Zt(t=>t.startsWithCaseInsensitive(this.metadata,e))}endsWith(e){return new Zt(t=>t.endsWithCaseInsensitive(this.metadata,e))}isLessThan(e){return e=this.processVal(e),new Zt(t=>t.isLessThan(this.metadata,e))}isGreaterOrEqualTo(e){return e=this.processVal(e),new Zt(t=>t.isGreaterOrEqualTo(this.metadata,e))}isNotIn(e){return new Zt(t=>{for(const r of e)t.isDifferentFrom(this.metadata,this.processVal(r))})}isDifferentFrom(e){return e=this.processVal(e),e==null&&this.metadata.allowNull?new Zt(t=>t.isNotNull(this.metadata)):new Zt(t=>t.isDifferentFrom(this.metadata,e))}isLessOrEqualTo(e){return e=this.processVal(e),new Zt(t=>t.isLessOrEqualTo(this.metadata,e))}isGreaterThan(e){return e=this.processVal(e),new Zt(t=>t.isGreaterThan(this.metadata,e))}isEqualTo(e){return e=this.processVal(e),e==null&&this.metadata.allowNull?new Zt(t=>t.isNull(this.metadata)):new Zt(t=>t.isEqualTo(this.metadata,e))}isIn(e){return e=e.map(t=>this.processVal(t)),(e==null?void 0:e.length)==1&&e[0]!=null&&e[0]!==null?new Zt(t=>t.isEqualTo(this.metadata,e[0])):new Zt(t=>t.isIn(this.metadata,e))}}class pL extends Mp{processVal(e){return e?typeof e==\"string\"||typeof e==\"number\"?e:$n(e).getId():null}}class mL{constructor(e,t,r){this.metadata=e,this.fields=t,this.relationOptions=r}processVal(e){throw new Error(\"Invalid for Many To One Relation Field\")}contains(e){throw new Error(\"Invalid for Many To One Relation Field\")}notContains(e){throw new Error(\"Invalid for Many To One Relation Field\")}endsWith(e){throw new Error(\"Invalid for Many To One Relation Field\")}startsWith(e){throw new Error(\"Invalid for Many To One Relation Field\")}isLessThan(e){throw new Error(\"Invalid for Many To One Relation Field\")}isGreaterOrEqualTo(e){throw new Error(\"Invalid for Many To One Relation Field\")}isNotIn(e){return new Zt(t=>{e.forEach(r=>this.isDifferentFrom(r).__applyToConsumer(t))})}isDifferentFrom(e){return new Zt(t=>{const r=[];for(const i in this.relationOptions.fields)if(Object.prototype.hasOwnProperty.call(this.relationOptions.fields,i)){const o=this.relationOptions.fields[i];r.push(new Zt(s=>new Mp(this.fields.find(o)).isDifferentFrom(e[i]).__applyToConsumer(s)))}t.or(r)})}isLessOrEqualTo(e){throw new Error(\"Invalid for Many To One Relation Field\")}isGreaterThan(e){throw new Error(\"Invalid for Many To One Relation Field\")}isEqualTo(e){return new Zt(t=>{for(const r in this.relationOptions.fields)if(Object.prototype.hasOwnProperty.call(this.relationOptions.fields,r)){const i=this.relationOptions.fields[r];new Mp(this.fields.find(i)).isEqualTo(e[r]).__applyToConsumer(t)}})}isIn(e){return new Zt(t=>{t.or(e.map(r=>this.isEqualTo(r)))})}}class lC extends Zt{constructor(...e){super(t=>{for(const r of this.filters)r&&r.__applyToConsumer(t)}),this.filters=e}add(e){this.filters.push(e)}}class vL extends Zt{constructor(...e){super(t=>{let r=this.filters.filter(i=>i!==void 0);r.length>1?t.or(r):r.length==1&&r[0].__applyToConsumer(t)}),this.filters=e}}class yL extends Zt{constructor(e){super(t=>{t.not(e)}),this.filter=e}}const Fl=\"$custom$\",TO=\"$db$\",Gy=\"$an array\";class Pp{constructor(){this.result={},this.hasUndefined=!1}databaseCustom(e){throw new Error(\"database custom is not allowed with api calls.\")}custom(e,t){Array.isArray(t)&&(t={[Gy]:t}),this.add(Fl+e,t)}add(e,t){t===void 0&&(this.hasUndefined=!0);let r=this.result;if(!r[e]){r[e]=t;return}let i=r[e];i instanceof Array?i.push(t):i=[i,t],r[e]=i}or(e){this.add(\"OR\",e.map(t=>{let r=new Pp;return t.__applyToConsumer(r),r.result}))}not(e){let t=new Pp;e.__applyToConsumer(t),this.add(\"NOT\",t.result)}isNull(e){this.add(e.key+\".null\",!0)}isNotNull(e){this.add(e.key+\".null\",!1)}isIn(e,t){this.add(e.key+\".in\",t.map(r=>e.valueConverter.toJson(r)))}isEqualTo(e,t){this.add(e.key,e.valueConverter.toJson(t))}isDifferentFrom(e,t){this.add(e.key+\".ne\",e.valueConverter.toJson(t))}isGreaterOrEqualTo(e,t){this.add(e.key+\".gte\",e.valueConverter.toJson(t))}isGreaterThan(e,t){this.add(e.key+\".gt\",e.valueConverter.toJson(t))}isLessOrEqualTo(e,t){this.add(e.key+\".lte\",e.valueConverter.toJson(t))}isLessThan(e,t){this.add(e.key+\".lt\",e.valueConverter.toJson(t))}containsCaseInsensitive(e,t){this.add(e.key+\".contains\",t)}notContainsCaseInsensitive(e,t){this.add(e.key+\".notContains\",t)}startsWithCaseInsensitive(e,t){this.add(e.key+\".startsWith\",t)}endsWithCaseInsensitive(e,t){this.add(e.key+\".endsWith\",t)}}function Vg(n,e){let t={};function r(a){t.$and||(t.$and=[]),t.$and.push(a)}function i(a,l){t[a]===void 0?t[a]=l:r({[a]:l})}[...n.fields].forEach(a=>{function l(f,d,h=!1,g=!1){let p=e.get(a.key+f);if(p!==void 0){let m=y=>{let v=y;if(h){let k;typeof y==\"string\"?k=JSON.parse(y):k=y,v=k.map(b=>g?b:a.valueConverter.fromJson(b))}else v=g?v:a.valueConverter.fromJson(v);let C=d(v);C!==void 0&&i(a.key,C)};if(!h&&p instanceof Array)p.forEach(y=>{m(y)});else{h&&typeof p==\"string\"&&(p=JSON.parse(p));const y=s(p);for(const v of y)m(v)}}}l(\"\",f=>f),l(\".gt\",f=>({$gt:f})),l(\".gte\",f=>({$gte:f})),l(\".lt\",f=>({$lt:f})),l(\".lte\",f=>({$lte:f})),l(\".ne\",f=>({$ne:f})),l(\".in\",f=>f,!0);var u=e.get(a.key+\".null\");if(u)switch(u=u.toString().trim().toLowerCase(),u){case\"y\":case\"true\":case\"yes\":i(a.key,null);break;default:i(a.key,{$ne:null});break}l(\".contains\",f=>({$contains:f}),!1,!0),l(\".notContains\",f=>({$notContains:f}),!1,!0),l(\".startsWith\",f=>({$startsWith:f}),!1,!0),l(\".endsWith\",f=>({$endsWith:f}),!1,!0)});let o=e.get(\"OR\");if(o){const l=s(o).map(u=>({$or:u.map(f=>Vg(n,{get:d=>f[d]}))}));l.length==1?t.$or?t.$or.push(l[0].$or):t.$or=l[0].$or:r({$and:l})}if(o=e.get(\"NOT\"),o){let a=s(o);const l=[];for(const u of a)if(Array.isArray(u))for(const f of u)l.push({$not:Vg(n,{get:d=>f[d]})});else l.push({$not:Vg(n,{get:f=>u[f]})});l.length==1&&!t.$not?t=l[0]:r({$and:l})}for(const a in n.entityType){const l=n.entityType[a];if(l&&l.rawFilterInfo&&l.rawFilterInfo.rawFilterTranslator){let u=e.get(Fl+a);if(u!==void 0){const f=d=>{d[Gy]!=null&&(d=d[Gy]),i(Fl+a,d)};Array.isArray(u)?u.forEach(d=>f(d)):f(u)}}}return t;function s(a){if(!Array.isArray(a))return[a];const l=[],u=[];for(const f of a)Array.isArray(f)?u.push(f):l.push(f);return u.push(l),u}}class Ip{constructor(e){this.translateCustom=e,this.commands=[],this.promises=[]}applyTo(e){this.commands.forEach(t=>t(e))}or(e){let t;this.promises.push(Promise.all(e.map(async r=>{let i=new Ip(this.translateCustom);return r.__applyToConsumer(i),await i.resolve(),new Zt(o=>i.applyTo(o))})).then(r=>{t=r})),this.commands.push(r=>r.or(t))}not(e){let t;this.promises.push((async()=>{let r=new Ip(this.translateCustom);e.__applyToConsumer(r),await r.resolve(),t=new Zt(i=>r.applyTo(i))})()),this.commands.push(r=>r.not(t))}isEqualTo(e,t){this.commands.push(r=>r.isEqualTo(e,t))}isDifferentFrom(e,t){this.commands.push(r=>r.isDifferentFrom(e,t))}isNull(e){this.commands.push(t=>t.isNull(e))}isNotNull(e){this.commands.push(t=>t.isNotNull(e))}isGreaterOrEqualTo(e,t){this.commands.push(r=>r.isGreaterOrEqualTo(e,t))}isGreaterThan(e,t){this.commands.push(r=>r.isGreaterThan(e,t))}isLessOrEqualTo(e,t){this.commands.push(r=>r.isLessOrEqualTo(e,t))}isLessThan(e,t){this.commands.push(r=>r.isLessThan(e,t))}containsCaseInsensitive(e,t){this.commands.push(r=>r.containsCaseInsensitive(e,t))}notContainsCaseInsensitive(e,t){this.commands.push(r=>r.notContainsCaseInsensitive(e,t))}startsWithCaseInsensitive(e,t){this.commands.push(r=>r.startsWithCaseInsensitive(e,t))}endsWithCaseInsensitive(e,t){this.commands.push(r=>r.endsWithCaseInsensitive(e,t))}isIn(e,t){this.commands.push(r=>r.isIn(e,t))}custom(e,t){this.promises.push((async()=>{let r=await this.translateCustom(e,t);r&&(Array.isArray(r)?r.forEach(i=>i.__applyToConsumer(this)):r.__applyToConsumer(this))})())}databaseCustom(e){this.commands.push(t=>t.databaseCustom(e))}async resolve(){for(;this.promises.length>0;){let e=this.promises;this.promises=[],await Promise.all(e)}}}class Rp{constructor(){this.rawValues={},this.preciseValues=new Proxy(this.rawValues,{get:(e,t)=>{if(t in e){let r=e[t];if(r.bad)return;if(r.values.length>0){const i=jn(r.field);if(i){if(i.type===\"reference\")return r.values.map(o=>i.toRepo.metadata.idMetadata.getIdFilter(o));throw new Error(\"Only relations toOne without field are supported.\")}return r.values}}}})}ok(e,...t){let r=this.rawValues[e.key];r?r.values.push(...t.filter(i=>!r.values.includes(i))):this.rawValues[e.key]={field:e,bad:!1,values:[...t]}}notOk(e){let t=this.rawValues[e.key];t?t.bad=!0:this.rawValues[e.key]={field:e,bad:!0,values:[]}}not(e){}or(e){const t=e.map(r=>{let i=new Rp;return r.__applyToConsumer(i),i});for(const r of t)for(const i in r.rawValues)if(Object.prototype.hasOwnProperty.call(r.rawValues,i)){const o=r.rawValues[i];o&&(o.bad?this.notOk(o.field):this.ok(o.field,...o.values))}for(const r in this.rawValues)if(Object.prototype.hasOwnProperty.call(this.rawValues,r))for(const i of t)i.rawValues[r]||this.notOk(this.rawValues[r].field)}isEqualTo(e,t){this.ok(e,t)}isDifferentFrom(e,t){this.notOk(e)}isNull(e){this.ok(e,null)}isNotNull(e){this.notOk(e)}isGreaterOrEqualTo(e,t){this.notOk(e)}isGreaterThan(e,t){this.notOk(e)}isLessOrEqualTo(e,t){this.notOk(e)}isLessThan(e,t){this.notOk(e)}containsCaseInsensitive(e,t){this.notOk(e)}notContainsCaseInsensitive(e,t){this.notOk(e)}startsWithCaseInsensitive(e,t){this.notOk(e)}endsWithCaseInsensitive(e,t){this.notOk(e)}isIn(e,t){this.ok(e,...t)}custom(e,t){}databaseCustom(e){}}class Yy{constructor(e,t){this.apiProvider=e,this.entityRequested=t,this.isProxy=!0}getEntityDataProvider(e){var t;return(t=this.entityRequested)==null||t.call(this,e),new bL(()=>{var r;return MO((r=this.apiProvider())==null?void 0:r.url,e.key)},()=>md(this.apiProvider().httpClient),e)}async transaction(e){throw new Error(\"Method not implemented.\")}}function MO(n,e){return n==null&&(n=\"/api\"),n+\"/\"+e}function uw(n,e){if(n.include){let t={};for(const r in n.include)if(Object.prototype.hasOwnProperty.call(n.include,r)){let i=n.include[r];if(typeof i==\"object\"){const o=jn(e.fields.find(r));o&&(i=uw(i,o.toRepo.metadata))}t[r]=i}n={...n,include:t}}return n.where&&(n={...n,where:Zt.entityFilterToJson(e,n.where)}),n.load&&(n={...n,load:n.load(e.fields).map(t=>t.key)}),n}class bL{constructor(e,t,r){this.url=e,this.http=t,this.entity=r}query(e,t){return this.buildFindRequest(e).run(\"query\",{aggregate:this.buildAggregateOptions(t)}).then(({items:i,aggregates:o})=>({items:i.map(s=>this.translateFromJson(s)),aggregates:o}))}async groupBy(e){const{run:t}=this.buildFindRequest({where:e==null?void 0:e.where,limit:e==null?void 0:e.limit,page:e==null?void 0:e.page}),r=this.buildAggregateOptions(e),i=await t(\"groupBy\",Object.keys(r).length>0?r:void 0);return e!=null&&e.group&&i.forEach(o=>{for(const s of e.group)o[s.key]=s.valueConverter.fromJson(o[s.key])}),i}buildAggregateOptions(e){var t,r,i,o,s,a,l;return{groupBy:(t=e==null?void 0:e.group)==null?void 0:t.map(u=>u.key),sum:(r=e==null?void 0:e.sum)==null?void 0:r.map(u=>u.key),avg:(i=e==null?void 0:e.avg)==null?void 0:i.map(u=>u.key),min:(o=e==null?void 0:e.min)==null?void 0:o.map(u=>u.key),max:(s=e==null?void 0:e.max)==null?void 0:s.map(u=>u.key),distinctCount:(a=e==null?void 0:e.distinctCount)==null?void 0:a.map(u=>u.key),orderBy:(l=e==null?void 0:e.orderBy)==null?void 0:l.map(u=>{var f;return{...u,field:(f=u.field)==null?void 0:f.key}})}}translateFromJson(e){let t={};for(const r of this.entity.fields)t[r.key]=r.valueConverter.fromJson(e[r.key]);return t}translateToJson(e){let t={};for(const r of this.entity.fields)t[r.key]=r.valueConverter.toJson(e[r.key]);return t}async count(e){const{run:t}=this.buildFindRequest({where:e});return t(\"count\").then(r=>+r.count)}async deleteMany(e){const{run:t}=this.buildFindRequest({where:e},\"delete\");return t(\"deleteMany\").then(r=>+r.deleted)}async updateMany(e,t){const{run:r}=this.buildFindRequest({where:e},\"put\");return r(\"updateMany\",this.toJsonOfIncludedKeys(t)).then(i=>+i.updated)}async upsertMany(e){const{run:t}=this.buildFindRequest(void 0);return t(\"upsertMany\",e.map(r=>({where:this.toJsonOfIncludedKeys(r.where),set:r.set!==void 0?this.toJsonOfIncludedKeys(r.set):void 0}))).then(r=>r.map(i=>this.translateFromJson(i)))}find(e){let{run:t}=this.buildFindRequest(e);return t().then(r=>r.map(i=>this.translateFromJson(i)))}buildFindRequest(e,t){t||(t=\"get\");let r=new aC(this.url()),i;if(e){if(e.where&&(i=e.where.toJson(),xL(i,r)&&(i=void 0)),e.orderBy&&e.orderBy.Segments){let s=\"\",a=\"\",l=!1;e.orderBy.Segments.forEach(u=>{s.length>0&&(s+=\",\",a+=\",\"),s+=u.field.key,a+=u.isDescending?\"desc\":\"asc\",u.isDescending&&(l=!0)}),s&&r.add(\"_sort\",s),l&&r.add(\"_order\",a)}e.limit&&r.add(\"_limit\",e.limit),e.page&&r.add(\"_page\",e.page)}const o=(s,a)=>{let l=new aC(r.url);if(!s&&i&&(s=\"get\"),s&&l.add(\"__action\",s),i){if(t===\"put\")return this.http().post(l.url,{set:a,where:i});a={...a,where:i}}return a&&t!=\"put\"?this.http().post(l.url,a):this.http()[t](l.url,a)};return{createKey:()=>JSON.stringify({url:r,filterObject:i}),run:o,subscribe:async s=>({result:await o(CL+s),unsubscribe:async()=>yt.actionInfo.runActionWithoutBlockingUI(()=>this.http().post(this.url()+\"?__action=endLiveQuery\",{id:s}))})}}update(e,t){return this.http().put(this.url()+(e!=\"\"?\"/\"+encodeURIComponent(e):\"?__action=emptyId\"),this.toJsonOfIncludedKeys(t)).then(r=>this.translateFromJson(r))}toJsonOfIncludedKeys(e){let t={},r=Object.keys(e);for(const i of this.entity.fields)r.includes(i.key)&&(t[i.key]=i.valueConverter.toJson(e[i.key]));return t}async delete(e){if(e==\"\")await this.deleteMany(Zt.fromEntityFilter(this.entity,this.entity.idMetadata.getIdFilter(e)));else return this.http().delete(this.url()+\"/\"+encodeURIComponent(e))}insert(e){return this.http().post(this.url(),this.translateToJson(e)).then(t=>this.translateFromJson(t))}insertMany(e){return this.http().post(this.url(),e.map(t=>this.translateToJson(t))).then(t=>t.map(r=>this.translateFromJson(r)))}}class cC{constructor(e){this.fetch=e}async get(e){return await Tp(async()=>this.myFetch(e).then(t=>t))}put(e,t){return this.myFetch(e,{method:\"put\",body:JSON.stringify(t)})}delete(e){return this.myFetch(e,{method:\"delete\"})}async post(e,t){return await Tp(()=>this.myFetch(e,{method:\"post\",body:JSON.stringify(t)}))}myFetch(e,t){const r={};if(t!=null&&t.body&&(r[\"Content-type\"]=\"application/json\"),typeof window<\"u\"&&typeof window.document<\"u\"&&typeof(window.document.cookie!==\"undefined\"))for(const i of window.document.cookie.split(\";\"))i.trim().startsWith(\"XSRF-TOKEN=\")&&(r[\"X-XSRF-TOKEN\"]=i.split(\"=\")[1]);return(this.fetch||fetch)(e,{credentials:\"include\",method:t==null?void 0:t.method,body:t==null?void 0:t.body,headers:r}).then(i=>wL(i)).catch(async i=>{throw await i})}}function wL(n){if(n.status!=204){if(n.status>=200&&n.status<300)return n.json();throw n.json().then(e=>({...e,message:e.message||n.statusText,url:n.url,status:n.status})).catch(()=>{throw{message:n.statusText,url:n.url,status:n.status}})}}function xL(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(Array.isArray(r)&&(r.length>0&&typeof r[0]==\"object\"||r.length>10)||t===\"NOT\")return!1}for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];Array.isArray(r)?t.endsWith(\".in\")?e.add(t,JSON.stringify(r)):r.forEach(i=>e.add(t,i)):t.startsWith(Fl)?e.add(t,JSON.stringify(r)):e.add(t,r)}return!0}const CL=\"liveQuery-\";class Ii{toEntityOrderBy(){let e={};for(const t of this.Segments)t.isDescending?e[t.field.key]=\"desc\":e[t.field.key]=\"asc\";return e}constructor(...e){this.Segments=e}reverse(){let e=new Ii;for(const t of this.Segments)e.Segments.push({field:t.field,isDescending:!t.isDescending});return e}compare(e,t,r){r||(r=i=>i.key);for(let i=0;i<this.Segments.length;i++){let o=this.Segments[i],s=e[r(o.field)],a=t[r(o.field)],l=o.isDescending,u=_L(s,a,l);if(u!=0)return u}return 0}static translateOrderByToSort(e,t){let r=new Ii;if(t){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];let s=e.fields.find(i);const a=l=>{switch(o){case\"desc\":r.Segments.push({field:l,isDescending:!0});break;case\"asc\":r.Segments.push({field:l})}};if(s){const l=jn(s);if((l==null?void 0:l.type)===\"toOne\"){const u=l.options;if(typeof u.field==\"string\")a(e.fields.find(u.field));else if(u.fields){for(const f in u.fields)if(Object.prototype.hasOwnProperty.call(u.fields,f)){const d=u.fields[f];a(e.fields.find(d.toString()))}}}else a(s)}}}return r}static createUniqueSort(e,t){(!t||Object.keys(t).length===0)&&e.options.defaultOrderBy&&(t=Ii.translateOrderByToSort(e,e.options.defaultOrderBy)),t||(t=new Ii);for(const r of e.idMetadata.fields)t.Segments.find(i=>i.field==r)||t.Segments.push({field:r});return t}static createUniqueEntityOrderBy(e,t){(!t||Object.keys(t).length===0)&&(t=e.options.defaultOrderBy),t?t={...t}:t={};for(const r of e.idMetadata.fields)t[r.key]||(t[r.key]=\"asc\");return t}}function _L(n,e,t){n=uC(n),e=uC(e);let r=0;return n>e?r=1:n<e&&(r=-1),t&&(r*=-1),r}function uC(n){return n==null||n==null?n:n.id!==void 0?n.id:n}const g0=\"stream\";class SL{constructor(e,t,r){this.repo=e,this.query=t,this.unsubscribe=()=>{},this.defaultQueryState=[],this.listeners=[],this.id=Jy(),this.queryChannel=`users:${r}:queries:${this.id}`,this.id=this.queryChannel}sendDefaultState(e){e(this.createReducerType(()=>[...this.defaultQueryState],this.allItemsMessage(this.defaultQueryState)))}async setAllItems(e){const t=await Bl(this.repo)._fromJsonArray(e,this.query.options);this.forListeners(r=>{r(()=>t)},this.allItemsMessage(t))}allItemsMessage(e){return[{type:\"all\",data:e}]}forListeners(e,t){e(r=>{if(this.defaultQueryState=r(this.defaultQueryState),t.find(i=>i.type===\"add\"||i.type===\"replace\")&&this.query.options.orderBy){const i=Ii.translateOrderByToSort(this.repo.metadata,this.query.options.orderBy);this.defaultQueryState.sort((o,s)=>i.compare(o,s))}});for(const r of this.listeners)e(i=>{r.next(this.createReducerType(i,t))})}createReducerType(e,t){return{applyChanges:e,changes:t,items:this.defaultQueryState}}async handle(e){{let t=e.filter(({type:i})=>i==\"add\"||i==\"replace\"),r=await Bl(this.repo)._fromJsonArray(t.map(i=>i.data.item),this.query.options);for(let i=0;i<t.length;i++){const o=t[i];o.data.item=r[i]}}this.forListeners(t=>{t(r=>{r||(r=[]);for(const i of e)switch(i.type){case\"all\":this.setAllItems(i.data);break;case\"replace\":{r=r.map(o=>this.repo.metadata.idMetadata.getId(o)===i.data.oldId?i.data.item:o);break}case\"add\":r=r.filter(o=>this.repo.metadata.idMetadata.getId(o)!==this.repo.metadata.idMetadata.getId(i.data.item)),r.push(i.data.item);break;case\"remove\":r=r.filter(o=>this.repo.metadata.idMetadata.getId(o)!==i.data.id);break}return r})},e)}}const kL=\"_liveQueryKeepAlive\";class OL{constructor(e,t){this.apiProvider=e,this.getUserId=t,this.queries=new Map,this.channels=new Map}wrapMessageHandling(e){var t=this.apiProvider().wrapMessageHandling;t?t(e):e()}hasQueriesForTesting(){return this.queries.size>0}runPromise(e){return e}close(){this.queries.clear(),this.channels.clear(),this.closeIfNoListeners()}async subscribeChannel(e,t){let r=()=>{};const i=await this.openIfNoOpened();try{let o=this.channels.get(e);if(!o){this.channels.set(e,o=new AL);try{o.unsubscribe=await i.subscribe(e,s=>this.wrapMessageHandling(()=>o.handle(s)),s=>{t.error(s)})}catch(s){throw t.error(s),s}}o.listeners.push(t),r=()=>{o.listeners.splice(o.listeners.indexOf(t),1),o.listeners.length==0&&(this.channels.delete(e),o.unsubscribe()),this.closeIfNoListeners()}}catch(o){throw t.error(o),o}return()=>{r(),r=()=>{}}}closeIfNoListeners(){this.client&&this.queries.size===0&&this.channels.size===0&&(this.runPromise(this.client.then(e=>e.close())),this.client=void 0,clearInterval(this.interval),this.interval=void 0)}subscribe(e,t,r){let i=!0,o=()=>{i=!1};return this.runPromise(Bl(e)._buildEntityDataProviderFindOptions(t).then(s=>{if(!i)return;const{createKey:a,subscribe:l}=new Yy(this.apiProvider).getEntityDataProvider(e.metadata).buildFindRequest(s),u=a();let f=this.queries.get(u);f?f.sendDefaultState(r.next):(this.queries.set(u,f=new SL(e,{entityKey:e.metadata.key,options:t},this.getUserId())),f.subscribeCode=()=>{f.unsubscribe&&(f.unsubscribe(),f.unsubscribe=()=>{}),this.runPromise(this.subscribeChannel(f.queryChannel,{next:d=>this.runPromise(f.handle(d)),complete:()=>{},error:d=>{f.listeners.forEach(h=>h.error(d))}}).then(d=>{if(f.listeners.length==0){d();return}this.runPromise(l(f.queryChannel).then(h=>{if(f.listeners.length===0){h.unsubscribe(),d();return}this.runPromise(f.setAllItems(h.result)),f.unsubscribe=()=>{f.unsubscribe=()=>{},d(),this.runPromise(h.unsubscribe())}}).catch(h=>{f.listeners.forEach(g=>g.error(h)),d(),this.queries.delete(u)}))})).catch(d=>{f.listeners.forEach(h=>h.error(d))})},f.subscribeCode()),f.listeners.push(r),o=()=>{f.listeners.splice(f.listeners.indexOf(r),1),r.complete(),f.listeners.length==0&&(this.queries.delete(u),f.unsubscribe()),this.closeIfNoListeners()}}).catch(s=>{r.error(s)})),()=>{o()}}openIfNoOpened(){return this.client?this.client:(this.interval=setInterval(async()=>{const e=[];for(const t of this.queries.values())e.push(t.queryChannel);if(e.length>0){let t=this.apiProvider();const r=await this.runPromise(await yt.actionInfo.runActionWithoutBlockingUI(()=>md(t.httpClient).post(t.url+\"/\"+kL,e)));for(const i of r)for(const o of this.queries.values())o.queryChannel===i&&o.subscribeCode()}},3e4),this.runPromise(this.client=this.apiProvider().subscriptionClient.openConnection(()=>{for(const e of this.queries.values())e.subscribeCode()})))}}class AL{constructor(){this.unsubscribe=()=>{},this.listeners=[]}async handle(e){for(const t of this.listeners)t.next(e)}}class fw{openConnection(e){let t;const r=new Map,i=md(Pi.apiClient.httpClient);let o=!1,s;const a={close(){s.close()},async subscribe(f,d){let h=r.get(f);return h||(r.set(f,h=[]),await u(f)),h.push(d),()=>{h.splice(h.indexOf(d,1)),h.length==0&&(yt.actionInfo.runActionWithoutBlockingUI(()=>i.post(Pi.apiClient.url+\"/\"+g0+\"/unsubscribe\",{channel:f,clientId:t})),r.delete(f))}}},l=()=>new Promise(f=>{h();let d=0;function h(){s&&s.close(),s=fw.createEventSource(Pi.apiClient.url+\"/\"+g0),s.onmessage=g=>{let p=JSON.parse(g.data);const m=r.get(p.channel);m&&m.forEach(y=>y(p.data))},s.onerror=g=>{console.error(\"Live Query Event Source Error\",g),s.close(),d++<AO.error500RetryCount&&setTimeout(()=>{h()},500)},s.addEventListener(\"connectionId\",async g=>{if(t=g.data,o){for(const p of r.keys())await u(p);e()}else o=!0,f(a)})}});return l();async function u(f){await yt.actionInfo.runActionWithoutBlockingUI(()=>i.post(Pi.apiClient.url+\"/\"+g0+\"/subscribe\",{channel:f,clientId:t}))===EL&&await l()}}static createEventSource(e){return new EventSource(e,{withCredentials:!0})}}const EL=\"client connection not found\",TL=Symbol.for(\"serverActionField\");class ML{constructor(e){this.remultObjectStorage=e}static enable(){yt.remultFactory=()=>{const e=yt.asyncContext.getStore();if(e)return e.remult;throw new Error(\"remult object was requested outside of a valid request cycle.valid context, try running `withRemult` or run  within initApi or a remult request cycle\")}}static disable(){IN()}async run(e,t){return this.remultObjectStorage?this.remultObjectStorage.run({remult:e},()=>t(e)):t(e)}isInInitRequest(){var e,t;return(t=(e=this.remultObjectStorage)==null?void 0:e.getStore())==null?void 0:t.inInitRequest}setInInitRequest(e){var r,i;const t=(r=this.remultObjectStorage)==null?void 0:r.getStore();t&&(e||(i=this.remultObjectStorage)!=null&&i.isStub)&&(t.inInitRequest=e)}getStore(){if(!this.remultObjectStorage)throw new Error(\"can't use static remult in this environment, `async_hooks` were not initialized\");return this.remultObjectStorage.getStore()}}yt.asyncContext||(yt.asyncContext=new ML(void 0));var wu;let Dp=(wu=class{constructor(e){if(this.repo=(t,r)=>{r===void 0&&(r=this.dataProvider);let i=this.repCache.get(r);i||this.repCache.set(r,i=new Map);let o=i.get(t);return o||(i.set(t,o=new hw(t,this,r,UL(t,this))),gL(o,this,r)),o},this.dataProvider=new Yy(()=>this.apiClient),this.repCache=new Map,this.liveQueryPublisher={itemChanged:async()=>{}},this.liveQuerySubscriber=new OL(()=>this.apiClient,()=>{var t;return(t=this.user)==null?void 0:t.id}),this.context={},this.apiClient={url:\"/api\",subscriptionClient:new fw},e&&e.getEntityDataProvider){this.dataProvider=e;return}if(EO(e))this.apiClient.httpClient=e;else if(typeof e==\"function\")this.apiClient.httpClient=e;else if(e){const t=e;t.httpClient&&(this.apiClient.httpClient=t.httpClient),t.url&&(this.apiClient.url=t.url),t.subscriptionClient&&(this.apiClient.subscriptionClient=t.subscriptionClient),t.wrapMessageHandling&&(this.apiClient.wrapMessageHandling=t.wrapMessageHandling)}}async initUser(){const t=await md(this.apiClient.httpClient).get(MO(this.apiClient.url,\"me\"));return this.user=(t==null?void 0:t.id)!=null?t:void 0,this.user}authenticated(){var e;return((e=this.user)==null?void 0:e.id)!==void 0}isAllowed(e){var t,r;if(e!=null){if(e instanceof Array){for(const i of e)if(this.isAllowed(i)===!0)return!0;return!1}return typeof e==\"function\"?e(this):typeof e==\"boolean\"?e:!!(typeof e==\"string\"&&(r=(t=this.user)==null?void 0:t.roles)!=null&&r.includes(e.toString()))}}isAllowedForInstance(e,t){if(Array.isArray(t)){for(const r of t)if(this.isAllowedForInstance(e,r))return!0}else return typeof t==\"function\"?t(e,this):this.isAllowed(t)}useFetch(e){this.dataProvider=new Yy(()=>({httpClient:e}))}call(e,t,...r){const i=e[TL];if(!i.doWork)throw Error(\"The method received is not a valid backend method\");return i.doWork(r,t,this.apiClient.url,md(this.apiClient.httpClient))}clearAllCache(){this.repCache.clear()}},wu.onFind=(e,t)=>{},wu);yt.defaultRemultFactory=()=>new Dp;class PL{constructor(){this.classes=new Map}}function IL(n,e){let t=n;for(;;){let r=yt.classHelpers.get(t);r||yt.classHelpers.set(t,r=new PL),r.classes.set(n,e);let i=Object.getPrototypeOf(t.prototype);if(i==null)break;t=i.constructor}}const Dm=class Dm{};Dm.everyone=()=>!0,Dm.authenticated=(...e)=>e.length>1?e[1].authenticated():e.length==1&&e[0].authenticated?e[0].authenticated():Pi.authenticated();let fC=Dm;const RL={defaultPageSize:200};function Mf(n,e){return e&&Object.assign(n,e),n}class PO extends Error{constructor(e){super(e.message),Object.assign(this,e)}}function p0(n,e,t){let r=Zt.fromEntityFilter(n,e);const i=()=>{};r&&r.__applyToConsumer({custom:i,databaseCustom:i,containsCaseInsensitive:i,notContainsCaseInsensitive:i,startsWithCaseInsensitive:i,endsWithCaseInsensitive:i,isDifferentFrom:i,isEqualTo:(o,s)=>{t[o.key]=s},isGreaterOrEqualTo:i,isGreaterThan:i,isIn:i,isLessOrEqualTo:i,isLessThan:i,isNotNull:i,isNull:i,not:i,or:i})}class Pf{constructor(){this.entityLoaders=new Map,this.promises=[]}load(e,t){let r=this.entityLoaders.get(e.entityType);r||this.entityLoaders.set(e.entityType,r=new DL(e));const i=r.find(t);return this.promises.push(i),i}async resolveAll(){for(const t of this.entityLoaders.values())for(const r of t.queries.values())r.resolve();if(this.promises.length===0)return;const e=this.promises;this.promises=[],await Promise.all(e),await this.resolveAll()}}class DL{constructor(e){this.rel=e,this.queries=new Map}find(e){const{where:t,...r}=uw(e,this.rel.metadata),i=JSON.stringify(r);let o=this.queries.get(i);return o||this.queries.set(i,o=new NL(this.rel)),o.find(e,t)}}class NL{constructor(e){this.rel=e,this.pendingInStatements=new Map,this.whereVariations=new Map}find(e,t){const r=JSON.stringify(t);let i=this.whereVariations.get(r);if(!i){const o=Object.keys(t);if(o.length===1&&typeof t[o[0]]!=\"object\"&&!e.limit){let s=this.pendingInStatements.get(o[0]);s||this.pendingInStatements.set(o[0],s=new LL(this.rel,o[0],e)),this.whereVariations.set(r,i={result:s.find(t)})}else this.whereVariations.set(r,i={result:this.rel.find(e)})}return i.result}resolve(){const e=[...this.pendingInStatements.values()];this.pendingInStatements.clear();for(const t of e)t.resolve()}}class LL{constructor(e,t,r){this.rel=e,this.key=t,this.options=r,this.values=new Map}async resolve(){const e=[...this.values.values()];if(e.length==1){this.rel.find(this.options).then(e[0].resolve,e[0].reject);return}var t={...this.options};t.where={[this.key]:e.map(i=>i.value)},t.limit=1e3,t.page=1;let r=[];try{for(;;){const i=await this.rel.find(t);if(r.push(...i),i.length<t.limit)break;t.page++}for(const i of this.values.values())i.resolve(r.filter(o=>{const a=$n(o).fields.find(this.key),l=jn(a.metadata),u=(l==null?void 0:l.type)===\"reference\"?a.getId():o[this.key];return i.value==u}))}catch(i){for(const o of this.values.values())o.reject(i)}}find(e){const t=e[this.key];let r=this.values.get(t);if(!r){let i,o,s=new Promise((a,l)=>{i=a,o=l});this.values.set(t,r={value:t,resolve:i,reject:o,result:s})}return r.result}}function su(n,e){return typeof n[e]<\"u\"}const eu=class eu{constructor(e){this.sql=e,this.wrapIdentifier=t=>t,this.createdEntities=[],e.wrapIdentifier&&(this.wrapIdentifier=t=>e.wrapIdentifier(t)),su(e,\"provideMigrationBuilder\")&&(this.provideMigrationBuilder=t=>e.provideMigrationBuilder(t)),su(e,\"end\")&&(this.end=()=>e.end())}static getDb(e){const t=e||Pi.dataProvider;if(su(t,\"createCommand\"))return t;throw\"the data provider is not an SqlCommandFactory\"}createCommand(){return new FL(this.sql.createCommand(),eu.LogToConsole)}async execute(e){return await this.createCommand().execute(e)}_getSourceSql(){return this.sql}async ensureSchema(e){this.sql.ensureSchema&&await this.sql.ensureSchema(e)}getEntityDataProvider(e){if(!this.sql.supportsJsonColumnType)for(const t of e.fields.toArray())t.valueConverter.fieldTypeInDb===\"json\"&&(t.valueConverter={...t.valueConverter,toDb:$r.JsonString.toDb,fromDb:$r.JsonString.fromDb});return new Qy(e,this,async t=>{this.createdEntities.indexOf(t.$entityName)<0&&(this.createdEntities.push(t.$entityName),await this.sql.entityIsUsedForTheFirstTime(e))},this.sql)}transaction(e){return this.sql.transaction(async t=>{let r=!1;try{await e(new eu({createCommand:()=>{let i=t.createCommand();return{addParameterAndReturnSqlToken:o=>i.param(o),param:o=>i.param(o),execute:async o=>{if(r)throw\"can't run a command after the transaction was completed\";return i.execute(o)}}},getLimitSqlSyntax:this.sql.getLimitSqlSyntax,entityIsUsedForTheFirstTime:i=>t.entityIsUsedForTheFirstTime(i),transaction:i=>t.transaction(i),supportsJsonColumnType:this.sql.supportsJsonColumnType,wrapIdentifier:this.wrapIdentifier,end:this.end,doesNotSupportReturningSyntax:this.sql.doesNotSupportReturningSyntax,doesNotSupportReturningSyntaxOnlyForUpdate:this.sql.doesNotSupportReturningSyntaxOnlyForUpdate,orderByNullsFirst:this.sql.orderByNullsFirst}))}finally{r=!0}})}static rawFilter(e){return{[TO]:{buildSql:e}}}static async filterToRaw(e,t,r,i,o){r||(r=new jL);const s=rB(e);var a=new Js(r,i||await IO(s.metadata,o));return a._addWhere=!1,await(await Bl(s)._translateWhereToFilter(t)).__applyToConsumer(a),await a.resolveWhere()}};eu.LogToConsole=!1,eu.durationThreshold=0;let Np=eu;const BL=new Map([[\"INSERT\",\"\"],[\"SELECT\",\"\"],[\"UPDATE\",\"\"],[\"DELETE\",\"\"],[\"CREATE\",\"\"],[\"ALTER\",\"\"],[\"DROP\",\"\"],[\"TRUNCATE\",\"\"],[\"GRANT\",\"\"],[\"REVOKE\",\"\"]]);class FL{constructor(e,t){this.origin=e,this.logToConsole=t,this.args={}}addParameterAndReturnSqlToken(e){return this.param(e)}param(e,t){let r=this.origin.param(e);return this.args[r]=e,r}async execute(e){try{let r=new Date,i=await this.origin.execute(e);if(this.logToConsole!==!1){var t=new Date().valueOf()-r.valueOf();if(t>=Np.durationThreshold){const o=t/1e3;if(this.logToConsole===\"oneLiner\"){const s=e.replace(/(\\r\\n|\\n|\\r|\\t)/gm,\" \").replace(/  +/g,\" \").trim(),a=s.split(\" \")[0].toUpperCase();console.info(`${BL.get(a)||\"\"} (${o.toFixed(3)}) ${s} ${JSON.stringify(this.args)}`)}else typeof this.logToConsole==\"function\"?this.logToConsole(o,e,this.args):console.info(e+`\n`,{arguments:this.args,duration:o})}}return i}catch(r){throw console.error((r.message||\"Sql Error\")+`:\n`,e,{arguments:this.args,error:r}),r}}}const q2=class q2{constructor(e,t,r,i){this.entity=e,this.sql=t,this.iAmUsed=r,this.strategy=i}async init(){let e=await IO(this.entity,t=>this.sql.wrapIdentifier(t));return await this.iAmUsed(e),e}async count(e){let t=await this.init(),r=\"select count(*) count from \"+t.$entityName,i=this.sql.createCommand();if(e){let o=new Js(i,t);e.__applyToConsumer(o),r+=await o.resolveWhere()}return i.execute(r).then(o=>Number(o.rows[0].count))}async groupBy(e){return await zL(e,await this.init(),this.sql.createCommand(),this.sql._getSourceSql().orderByNullsFirst,this.sql._getSourceSql().getLimitSqlSyntax)}async find(e){let t=await this.init(),{colKeys:r,select:i}=this.buildSelect(t);i=\"select \"+i,i+=`\n from `+t.$entityName;let o=this.sql.createCommand();if(e){if(e.where){let s=new Js(o,t);e.where.__applyToConsumer(s),i+=await s.resolveWhere()}if(e.limit&&(e.orderBy=Ii.createUniqueSort(this.entity,e.orderBy)),e.orderBy||(e.orderBy=Ii.createUniqueSort(this.entity,new Ii)),e.orderBy){let s=!0,a=[];for(const l of e.orderBy.Segments)a.push(l);for(const l of a)s?(i+=\" Order By \",s=!1):i+=\", \",i+=t.$dbNameOf(l.field),l.isDescending&&(i+=\" desc\"),this.sql._getSourceSql().orderByNullsFirst&&(l.isDescending?i+=\" nulls last\":i+=\" nulls first\")}if(e.limit){let s=1;e.page&&(s=e.page),s<1&&(s=1),i+=\" \"+this.strategy.getLimitSqlSyntax(e.limit,(s-1)*e.limit)}}return o.execute(i).then(s=>s.rows.map(a=>this.buildResultRow(r,a,s)))}buildResultRow(e,t,r){let i={};for(let o=0;o<e.length;o++){const s=e[o];try{i[s.key]=s.valueConverter.fromDb(t[r.getColumnKeyInResultForIndexInSelect(o)])}catch(a){throw new Error(\"Failed to load from db:\"+s.key+`\\r\n`+a)}}return i}buildSelect(e){let t=\"\",r=[];for(const i of this.entity.fields)i.isServerExpression||(r.length>0&&(t+=\", \"),t+=e.$dbNameOf(i),i.options.sqlExpression&&(t+=\" as \"+i.key),r.push(i));return{colKeys:r,select:t}}async update(e,t){let r=await this.init(),i=this.sql.createCommand(),o=\"update \"+r.$entityName+\" set \",s=!1;for(const h of this.entity.fields)if(!hC(h,r)){if(t[h.key]!==void 0){let g=h.valueConverter.toDb(t[h.key]);g!==void 0&&(s?o+=\", \":s=!0,o+=r.$dbNameOf(h)+\" = \"+i.param(g))}}const a=this.entity.idMetadata.getIdFilter(e);let l=new Js(i,r);Zt.fromEntityFilter(this.entity,a).__applyToConsumer(l),o+=await l.resolveWhere();let{colKeys:u,select:f}=this.buildSelect(r),d=!0;return this.sql._getSourceSql().doesNotSupportReturningSyntax&&(d=!1),d&&this.sql._getSourceSql().doesNotSupportReturningSyntaxOnlyForUpdate&&(d=!1),d&&(o+=\" returning \"+f),i.execute(o).then(h=>{var g,p;if((p=(g=this.sql._getSourceSql()).afterMutation)==null||p.call(g),!d)return dC(this.entity,this,t,e,\"update\");if(h.rows.length!=1)throw new Error(\"Failed to update row with id \"+e+\", rows updated: \"+h.rows.length);return this.buildResultRow(u,h.rows[0],h)})}async delete(e){let t=await this.init(),r=this.sql.createCommand(),i=new Js(r,t);Zt.fromEntityFilter(this.entity,this.entity.idMetadata.getIdFilter(e)).__applyToConsumer(i);let o=\"delete from \"+t.$entityName;return o+=await i.resolveWhere(),r.execute(o).then(()=>{var s,a;(a=(s=this.sql._getSourceSql()).afterMutation)==null||a.call(s)})}async insert(e){let t=await this.init(),r=this.sql.createCommand(),i=\"\",o=\"\",s=!1;for(const f of this.entity.fields)if(!hC(f,t)){let d=f.valueConverter.toDb(e[f.key]);d!=null&&(s?(i+=\", \",o+=\", \"):s=!0,i+=t.$dbNameOf(f),o+=r.param(d))}let a=`insert into ${t.$entityName} (${i}) values (${o})`,{colKeys:l,select:u}=this.buildSelect(t);return this.sql._getSourceSql().doesNotSupportReturningSyntax||(a+=\" returning \"+u),await r.execute(a).then(f=>{var d,h;if((h=(d=this.sql._getSourceSql()).afterMutation)==null||h.call(d),this.sql._getSourceSql().doesNotSupportReturningSyntax)if(ZL(this.entity.idMetadata.field)){const g=f.rows[0];if(typeof g!=\"number\")throw new Error(\"Auto increment, for a database that is does not support returning syntax, should return an array with the single last added id. Instead it returned: \"+JSON.stringify(g));return this.find({where:new Zt(p=>p.isEqualTo(this.entity.idMetadata.field,g))}).then(p=>p[0])}else return dC(this.entity,this,e,void 0,\"insert\");return this.buildResultRow(l,f.rows[0],f)})}};q2.LogToConsole=!1;let Qy=q2;class jL{execute(e){throw new Error(\"Method not implemented.\")}addParameterAndReturnSqlToken(e){return this.param(e)}param(e){return e===null?\"null\":(e instanceof Date&&(e=e.toISOString()),typeof e==\"string\"?(e==null&&(e=\"\"),\"'\"+e.replace(/'/g,\"''\")+\"'\"):e.toString())}}function dC(n,e,t,r,i){const o=r!==void 0?n.idMetadata.getIdFilter(r):{};return e.find({where:new Zt(s=>{for(const a of n.idMetadata.fields)s.isEqualTo(a,t[a.key]??o[a.key])})}).then(s=>{if(s.length!=1)throw new Error(`Failed to ${i} row - result contained ${s.length} rows`);return s[0]})}async function zL(n,e,t,r,i){let o=\"select count(*) as count\",s=\"\";const a=[];if(a.push((d,h)=>{h[aL]=Number(d)}),n!=null&&n.group)for(const d of n==null?void 0:n.group)d.isServerExpression||(o+=\", \"+e.$dbNameOf(d),d.options.sqlExpression&&(o+=\" as \"+d.key),s==\"\"?s=\" group by \":s+=\", \",s+=e.$dbNameOf(d)),a.push((h,g)=>{g[d.key]=d.valueConverter.fromDb(h)});for(const d of cL){const h=n==null?void 0:n[d];if(h)for(const g of h){if(!g.isServerExpression){const m=await e.$dbNameOf(g);o+=`, ${f(d,m)} as ${g.key}_${d}`}const p=g.valueType===Number||d==\"distinctCount\";a.push((m,y)=>{p&&(m=Number(m)),y[g.key]={...y[g.key],[d]:m}})}}if(o+=`\n from `+e.$entityName,n!=null&&n.where){let d=new Js(t,e);n==null||n.where.__applyToConsumer(d),o+=await d.resolveWhere()}s&&(o+=s);let l=\"\";if(n!=null&&n.orderBy){for(const d of n==null?void 0:n.orderBy){l==\"\"?l=\" order by \":l+=\", \";let h=d.field&&await e.$dbNameOf(d.field);switch(d.operation){case\"count\":h=d.operation+\"(*)\";break;case void 0:break;default:h=f(d.operation,h)}l+=h,d.isDescending&&(l+=\" desc\"),r&&(d.isDescending?l+=\" nulls last\":l+=\" nulls first\")}l&&(o+=l)}if(n!=null&&n.limit){let d=1;n.page&&(d=n.page),d<1&&(d=1),o+=\" \"+i(n.limit,(d-1)*n.limit)}const u=await t.execute(o);return u.rows.map(d=>{let h={};return a.forEach((g,p)=>g(d[u.getColumnKeyInResultForIndexInSelect(p)],h)),h});function f(d,h){return d===\"distinctCount\"?`count (distinct ${h})`:`${d}( ${h} )`}}class Js{constructor(e,t){this.r=e,this.nameProvider=t,this.where=\"\",this._addWhere=!0,this.promises=[]}async resolveWhere(){for(;this.promises.length>0;){let e=this.promises;this.promises=[];for(const t of e)await t}return this.where}custom(e,t){throw new Error(\"Custom filter should be translated before it gets here\")}or(e){let t=\"\";this.promises.push((async()=>{for(const r of e){let i=new Js(this.r,this.nameProvider);i._addWhere=!1,r.__applyToConsumer(i);let o=await i.resolveWhere();if(!o)return;o.length>0&&(t.length>0&&(t+=\" or \"),e.length>1?t+=\"(\"+o+\")\":t+=o)}this.addToWhere(\"(\"+t+\")\")})())}not(e){this.promises.push((async()=>{let t=new Js(this.r,this.nameProvider);t._addWhere=!1,e.__applyToConsumer(t);let r=await t.resolveWhere();r&&this.addToWhere(\"not (\"+r+\")\")})())}isNull(e){this.promises.push((async()=>this.addToWhere(this.nameProvider.$dbNameOf(e)+\" is null\"))())}isNotNull(e){this.promises.push((async()=>this.addToWhere(this.nameProvider.$dbNameOf(e)+\" is not null\"))())}isIn(e,t){this.promises.push((async()=>{t&&t.length>0?this.addToWhere(this.nameProvider.$dbNameOf(e)+\" in (\"+t.map(r=>this.r.param(e.valueConverter.toDb(r))).join(\",\")+\")\"):this.addToWhere(\"1 = 0 /*isIn with no values*/\")})())}isEqualTo(e,t){this.add(e,t,\"=\")}isDifferentFrom(e,t){this.add(e,t,\"<>\")}isGreaterOrEqualTo(e,t){this.add(e,t,\">=\")}isGreaterThan(e,t){this.add(e,t,\">\")}isLessOrEqualTo(e,t){this.add(e,t,\"<=\")}isLessThan(e,t){this.add(e,t,\"<\")}containsCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"%')\")})())}notContainsCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"not lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"%')\")})())}startsWithCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('\"+t.replace(/'/g,\"''\")+\"%')\")})())}endsWithCaseInsensitive(e,t){this.promises.push((async()=>{this.addToWhere(\"lower (\"+this.nameProvider.$dbNameOf(e)+\") like lower ('%\"+t.replace(/'/g,\"''\")+\"')\")})())}add(e,t,r){this.promises.push((async()=>{let i=this.nameProvider.$dbNameOf(e)+\" \"+r+\" \"+this.r.param(e.valueConverter.toDb(t));this.addToWhere(i)})())}addToWhere(e){this.where.length==0?this._addWhere&&(this.where+=\" where \"):this.where+=\" and \",this.where+=e}databaseCustom(e){this.promises.push((async()=>{if(e!=null&&e.buildSql){let t=new VL(this.r,this.nameProvider.wrapIdentifier),r=await e.buildSql(t);typeof r!=\"string\"&&(r=t.sql),r&&this.addToWhere(\"(\"+r+\")\")}})())}}class VL{constructor(e,t){this.r=e,this.wrapIdentifier=t,this.sql=\"\",this.param=(r,i)=>(typeof i==\"object\"&&i.valueConverter.toDb&&(r=i.valueConverter.toDb(r)),this.r.param(r)),this.filterToRaw=async(r,i)=>Np.filterToRaw(r,i,this,void 0,this.wrapIdentifier),this.param.bind(this),this.filterToRaw.bind(this)}addParameterAndReturnSqlToken(e){return this.param(e)}}function hC(n,e){return n.dbReadOnly||n.isServerExpression||n.options.sqlExpression&&n.dbName!=e.$dbNameOf(n)}async function IO(n,e){return HL(n,e,!0)}async function HL(n,e,t=!1){let r=typeof e==\"function\"?{wrapIdentifier:e}:e||{};var i=nB(n);r.wrapIdentifier||(r.wrapIdentifier=Pi.dataProvider.wrapIdentifier),r.wrapIdentifier||(r.wrapIdentifier=s=>s);const o={$entityName:await RO(i,r.wrapIdentifier),toString:()=>o.$entityName,$dbNameOf:s=>{var a;return typeof s==\"string\"?a=s:a=s.key,o[a]},wrapIdentifier:r.wrapIdentifier};for(const s of i.fields){let a=await dw(s,i,r.wrapIdentifier,t);s.options.sqlExpression||(typeof r.tableName==\"string\"?a=r.wrapIdentifier(r.tableName)+\".\"+a:r.tableName===!0&&(a=o.$entityName+\".\"+a)),o[s.key]=a}return o}async function RO(n,e=t=>t){if(n.options.sqlExpression){if(typeof n.options.sqlExpression==\"string\")return n.options.sqlExpression;if(typeof n.options.sqlExpression==\"function\"){const t=n.options.sqlExpression;try{return n.options.sqlExpression=\"recursive sqlExpression call for entity '\"+n.key+\"'. \",await t(n)}finally{n.options.sqlExpression=t}}}return e(n.dbName)}const m0=Symbol.for(\"sqlExpressionInProgressKey\");async function dw(n,e,t=i=>i,r=!1){try{if(n.options.sqlExpression){let s;if(typeof n.options.sqlExpression==\"function\"){if(n[m0]&&!r)return\"recursive sqlExpression call for field '\"+n.key+\"'. \\0\";try{n[m0]=!0,s=await n.options.sqlExpression(e),s.includes(\"\\0\")||(n.options.sqlExpression=()=>s)}finally{delete n[m0]}}else s=n.options.sqlExpression;return s||n.dbName}const i=jn(n);let o=(i==null?void 0:i.type)===\"toOne\"&&n.options.field;if(o){let s=e.fields.find(o);if(s)return dw(s,e,t,r)}return t(n.dbName)}finally{}}yt.actionInfo;const Dr=class Dr{};Dr.required=If(async(e,t)=>!t.valueIsNull()&&t.value!==\"\"&&(t.value!==void 0||jn(t.metadata)!==void 0),\"Should not be empty\"),Dr.unique=If(async(e,t)=>{if(!t.entityRef)throw\"unique validation may only work on columns that are attached to an entity\";return t.isBackend()&&(t.isNew||t.valueChanged())?await t.entityRef.repository.count({[t.metadata.key]:t.value})==0:!0},\"already exists\"),Dr.uniqueOnBackend=If(async(e,t)=>t.isBackend()&&(t.isNew||t.valueChanged())?await t.entityRef.repository.count({[t.metadata.key]:t.value})==0:!0,Dr.unique.defaultMessage),Dr.regex=_a((e,t)=>t.test(e)),Dr.email=Hg(e=>/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e),\"Invalid Email\"),Dr.url=Hg(e=>!!new URL(e),\"Invalid Url\"),Dr.in=_a((e,t)=>t.includes(e),e=>`Value must be one of: ${e.map(t=>typeof t==\"object\"?(t==null?void 0:t.id)!==void 0?t==null?void 0:t.id:t==null?void 0:t.toString():t).join(\", \")}`),Dr.notNull=Hg(e=>e!=null,\"Should not be null\"),Dr.enum=_a((e,t)=>Object.values(t).includes(e),e=>`Value must be one of ${qg(e).join(\", \")}`),Dr.relationExists=If(async(e,t)=>t.valueIsNull()||!t.isBackend()?!0:!!await t.load(),\"Relation value does not exist\"),Dr.min=_a((e,t)=>e>=t,e=>`Value must be bigger than or equal to ${e}`),Dr.max=_a((e,t)=>e<=t,e=>`Value must be smaller than or equal to ${e}`),Dr.maxLength=_a((e,t)=>e.length<=t,e=>`Value must be at most ${e} characters`),Dr.minLength=_a((e,t)=>e.length>=t,e=>`Value must be at least ${e} characters`),Dr.range=_a((e,[t,r])=>e>=t&&e<=r,([e,t])=>`Value must be between ${e} and ${t}`),Dr.defaultMessage=\"Invalid value\";let $s=Dr;function If(n,e){const t=async(i,o,s)=>{const a=await n(i,o);typeof a==\"string\"&&a.length>0?o.error=a:a||(o.error=typeof s==\"function\"&&s(i,o,void 0)||s||typeof e==\"function\"&&e(i,o,void 0)||e||$s.defaultMessage)},r=(i,o,s)=>typeof i==\"string\"||i===\"function\"||i===void 0&&o===void 0?async(a,l,u)=>await t(a,l,i||u):t(i,o,s);return Object.defineProperty(r,\"defaultMessage\",{get:()=>e,set:i=>{e=i},enumerable:!0}),Object.assign(r,{withMessage:i=>async(o,s)=>r(o,s,i)})}function Hg(n,e){return If((t,r)=>r.value===void 0||r.value===null?!0:n(r.value),e)}function _a(n,e){const t=qL((r,i,o)=>i.value===void 0||i.value===null?!0:n(i.value,o),(r,i,o)=>typeof e==\"function\"&&e(o)||e,!0);return Object.assign((r,i)=>t(r,i),{get defaultMessage(){return e},set defaultMessage(r){e=r}})}function qL(n,e,t=!1){return Object.assign((i,o)=>async(s,a)=>{const l=await n(s,a,i);typeof l==\"string\"?a.error=l:l||(a.error=o?typeof o==\"function\"?t?o(i):o(s,a,i):o:e?typeof e==\"function\"?e(s,a,i):e:$s.defaultMessage)},{get defaultMessage(){return e},set defaultMessage(i){e=i}})}function qg(n){return Object.values(n).filter(e=>typeof n[e]!=\"number\")}function Wg(n,e,t=!1){if(!e)return n;const r=Array.isArray(e)?e:[e],i=Array.isArray(n)?n:n?[n]:[];return t?[...r,...i]:[...i,...r]}class WL{constructor(e,t){this.options=e,this.repo=t,this._count=void 0,this.options||(this.options={}),this.options.pageSize||(this.options.pageSize=RL.defaultPageSize)}async getPage(e){return(e??0)<1&&(e=1),this.repo.find({where:this.options.where,orderBy:this.options.orderBy,limit:this.options.pageSize,page:e,load:this.options.load,include:this.options.include})}async count(){return this._count===void 0&&(this._count=await this.repo.count(this.options.where)),this._count}async forEach(e){let t=0;for await(const r of this)await e(r),t++;return t}async paginator(e){this.options.orderBy=Ii.createUniqueEntityOrderBy(this.repo.metadata,this.options.orderBy);let t={where:{$and:[this.options.where,e]},orderBy:this.options.orderBy,limit:this.options.pageSize,load:this.options.load,include:this.options.include},r=()=>this.repo.find(t);if(this._aggregates===void 0&&su(this.options,\"aggregate\")){let a=this.options.aggregate;if(this.repo._dataProvider.isProxy){const l=new Pf;r=()=>this.repo._rawFind(t,!1,l,async u=>{const f=await this.repo._edp.query(u,await this.repo.__buildGroupByOptions(a));return this._aggregates=f.aggregates,f.items}).then(async u=>(await l.resolveAll(),u))}else{let l=r();r=async()=>(this._aggregates=await this.repo.aggregate({...a,where:this.options.where}),this._count=this._aggregates.$count,l)}}let i=await r(),o=()=>{throw new Error(\"no more pages\")},s=i.length==this.options.pageSize;if(s){let a=await this.repo._createAfterFilter(this.options.orderBy,i[i.length-1]);o=()=>this.paginator(a)}return{count:()=>this.count(),hasNextPage:s,items:i,nextPage:o,aggregates:this._aggregates}}[Symbol.asyncIterator](){this.options.where||(this.options.where={});let e=this.options.orderBy;this.options.orderBy=Ii.createUniqueEntityOrderBy(this.repo.metadata,e);let t=-1,r,i,o=0;return i=async()=>{if(this.options.progress&&this.options.progress.progress(o++/await this.count()),r===void 0||t==r.items.length){if(r&&!r.hasNextPage)return{value:void 0,done:!0};let s=r;if(r?r=await r.nextPage():r=await this.paginator(),t=0,r.items.length==0)return{value:void 0,done:!0};if(((s==null?void 0:s.items.length)??!1)&&this.repo.getEntityRef(s.items[0]).getId()==this.repo.getEntityRef(r.items[0]).getId())throw new Error(\"pagination failure, returned same first row\")}return t<r.items.length?{value:r.items[t++],done:!1}:{done:!0,value:void 0}},{next:async()=>i()}}}class hw{constructor(e,t,r,i,o){this._entity=e,this._remult=t,this._dataProvider=r,this._info=i,this._defaultFindOptions=o,this._idCache=new Map,this._cache=new Map}_notFoundError(e){return{message:`id ${e} not found in entity ${this.metadata.key}`,httpStatusCode:404}}[gd](){return this}async _createAfterFilter(e,t){let r=new Map;for(const s of Ii.translateOrderByToSort(this.metadata,e).Segments){let a=t[s.field.key];r.set(s.field.key,a)}let i={$or:[]},o=[];for(const s of Ii.translateOrderByToSort(this.metadata,e).Segments){let a={};for(const l of o)a[l.key]=r.get(l.key);o.push(s.field),s.isDescending?a[s.field.key]={$lt:r.get(s.field.key)}:a[s.field.key]={$gt:r.get(s.field.key)},i.$or.push(a)}return i}relations(e){return new Proxy({},{get:(t,r)=>{const i=this.fields.find(r),o=jn(i);if(!o)throw Error(r+\" is not a relation\");const{toRepo:s,returnNull:a,returnUndefined:l}=this._getFocusedRelationRepo(i,e);return o.type===\"toMany\"?s:{findOne:u=>a?Promise.resolve(null):l?Promise.resolve(void 0):s.findFirst({},u)}}})}_getFocusedRelationRepo(e,t){const r=jn(e);let i=r.toRepo,{findOptions:o,returnNull:s,returnUndefined:a}=this._findOptionsBasedOnRelation(r,e,void 0,t,i);return{toRepo:new hw(i._entity,i._remult,i._dataProvider,i._info,o),returnNull:s,returnUndefined:a}}get _edp(){return this.__edp?this.__edp:this.__edp=this._dataProvider.getEntityDataProvider(this.metadata)}async aggregate(e){return(await this.groupBy(e))[0]}async groupBy(e){var t=await this.__buildGroupByOptions(e);const r=await this._edp.groupBy(t);if(!(e!=null&&e[lL])&&e.group){const i={include:{}};for(const s of e.group)i.include[s]=!0;const o=new Pf;await this._populateRelationsForFields(t.group,i,r,o),await o.resolveAll()}return r}async __buildGroupByOptions(e){var s,a,l,u,f,d;let t=await this._buildEntityDataProviderFindOptions({...e});const r=h=>{const g=this.metadata.fields.find(h);if(g===void 0)throw Error(`key \"${h}\" not found in entity`);return g},i=h=>{var g;if((g=e==null?void 0:e.group)!=null&&g.includes(h))throw Error(`field \"${h}\" cannot be used both in an aggregate and in group by`);return r(h)};var o={where:t.where,limit:t.limit,page:t.page,group:(s=e==null?void 0:e.group)==null?void 0:s.map(r),sum:(a=e==null?void 0:e.sum)==null?void 0:a.map(i),avg:(l=e==null?void 0:e.avg)==null?void 0:l.map(i),min:(u=e==null?void 0:e.min)==null?void 0:u.map(i),max:(f=e==null?void 0:e.max)==null?void 0:f.map(i),distinctCount:(d=e==null?void 0:e.distinctCount)==null?void 0:d.map(i)};if(e!=null&&e.orderBy){o.orderBy=[];for(const h in e.orderBy)if(Object.prototype.hasOwnProperty.call(e==null?void 0:e.orderBy,h)){const g=e.orderBy[h];if(g){if(typeof g==\"string\")o.orderBy.push({field:h===\"$count\"?void 0:r(h),isDescending:g===\"desc\",operation:h===\"$count\"?\"count\":void 0});else for(const p in g)if(Object.prototype.hasOwnProperty.call(g,p)){const m=g[p];o.orderBy.push({field:this.metadata.fields.find(h),isDescending:m===\"desc\",operation:p})}}}}return o}_getCachedById(e,t){e=e+\"\",this._getCachedByIdAsync(e,t);let r=this._idCache.get(e);if(!(r instanceof Promise))return r}async _getCachedByIdAsync(e,t){e=e+\"\";let r=this._idCache.get(e);if(r instanceof Promise)return await r;if(this._idCache.has(e))return r;if(t)return;this._idCache.set(e,void 0);let i=this.findId(e).then(o=>(o===void 0?r=null:r=o,this._idCache.set(e,r),r));return this._idCache.set(e,i),await i}_addToCache(e){e&&this._idCache.set(this.getEntityRef(e).getId()+\"\",e)}get metadata(){return this._info}addEventListener(e){return this.listeners||(this.listeners=[]),this.listeners.push(e),()=>{this.listeners.splice(this.listeners.indexOf(e),1)}}query(e){return new WL(e,this)}getEntityRef(e){let t=e[jc];return t||(this._fixTypes(e),t=new zh(this._info,e,this,this._edp,this._remult,!0),Object.defineProperty(e,jc,{get:()=>t}),t.saveOriginalData()),t}async delete(e){const t=$n(e,!1);if(t)return t.delete();if(typeof e==\"string\"||typeof e==\"number\"){if(this._dataProvider.isProxy)return this._edp.delete(e);{let i=await this.findId(e);if(!i)throw this._notFoundError(e);return await $n(i).delete()}}let r=this._getRefForExistingRow(e,void 0);return this._dataProvider.isProxy||await r.reload(),r.delete()}__cleanupPartialObject(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const i=t[r],o=this.fields[i];if(o){const s=jn(o);s&&s.type===\"toOne\"&&s.options.field&&t.indexOf(s.options.field)>r&&s.toRepo.getEntityRef(e[i]).getId()!==e[s.options.field]&&delete e[i]}}for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r],jn(this.fields[r]));for(const r of this.fields);}async insert(e){if(Array.isArray(e))if(this._dataProvider.isProxy){let t=[],r=[];for(const i of e){this.__cleanupPartialObject(i);let o=$n(e,!1);if(o){if(!o.isNew())throw\"Item is not new\"}else o=await this.getEntityRef(this.create(i));t.push(o),r.push(await o.buildDtoForInsert())}return Uc(await this._edp.insertMany(r),(i,o)=>t[o].processInsertResponseDto(i))}else{let t=[];for(const r of e)t.push(await this.insert(r));return t}else{let t=$n(e,!1);if(t){if(!t.isNew())throw\"Item is not new\";return await t.save()}else return this.__cleanupPartialObject(e),await this.getEntityRef(this.create(e)).save()}}get fields(){return this.metadata.fields}async validate(e,...t){{let r=$n(e,!1);if(r||(r=this.getEntityRef({...e})),!t||t.length===0)return await r.validate();{r.__clearErrorsAndReportChanged();let i=!1;for(const o of t)await r.fields.find(o).validate()||(i=!0);return i?r.buildErrorInfoObject():void 0}}}__createDto(e){this.__cleanupPartialObject(e);const r=this.getEntityRef({...e}).copyDataToObject(!1),i=Object.keys(e);for(const o of this.fields)(o.dbReadOnly||!i.includes(o.key))&&delete r[o.key];return r}async updateMany({where:e,set:t}){if(this.__cleanupPartialObject(t),Zt.throwErrorIfFilterIsEmpty(e,\"updateMany\"),this._dataProvider.isProxy)return this._edp.updateMany(await this._translateWhereToFilter(e),this.__createDto({...t}));{let r=0;for await(const i of this.query({where:e,aggregate:void 0}))Mf(i,t),await $n(i).save(),r++;return r}}async update(e,t){{let i=$n(t,!1);if(i)return await i.save()}{let i=$n(e,!1);if(i)return Mf(e,t),i.save()}this.__cleanupPartialObject(t);let r;if(typeof e==\"object\"?(r=this._getRefForExistingRow(e,this.metadata.idMetadata.getId(e)),Object.assign(r.instance,t)):r=this._getRefForExistingRow(t,e),this._dataProvider.isProxy)return await r.save(Object.keys(t));{const i=await r.reload();if(!i)throw this._notFoundError(r.id);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){let s=r.fields[o];if(t[o]===void 0&&jn(s.metadata))continue;s&&(i[o]=t[o])}return await this._fixTypes(i),await r.save()}}async upsert(e){if(this._dataProvider.isProxy){let o=await this._edp.upsertMany((Array.isArray(e)?e:[e]).map(l=>{var u;return(u=this._defaultFindOptions)!=null&&u.where&&(p0(this.metadata,this._defaultFindOptions.where,l.where),this._fixTypes(l)),{where:this.__createDto(l.where),set:l.set?this.__createDto(l.set):void 0}}));const s=new Pf,a=await this._loadManyToOneForManyRows(o,{},s);return await s.resolveAll(),Array.isArray(e)?a:a[0]}if(Array.isArray(e))return Uc(e,o=>this.upsert(o));let t=e;var r=await this.findFirst(t.where,{createIfNotFound:!0}),i=$n(r,!1);return i.isNew()?(t.set&&Mf(r,t.set),await i.save()):t.set?(Mf(r,t.set),await i.save()):r}_getRefForExistingRow(e,t){let r=$n(e,!1);if(!r){const i=new this._entity(this._remult);for(const s of this._fieldsOf(e)){const a=s.key;i[a]=e[a]}this._fixTypes(i);let o=new zh(this._info,i,this,this._edp,this._remult,!1);typeof t==\"object\"&&(t=this.metadata.idMetadata.getId(t)),t?(o.id=t,o.originalId=t):o.id=o.getId(),r=o,Object.defineProperty(i,jc,{get:()=>o})}return r}async save(e){if(Array.isArray(e))return Uc(e,t=>this.save(t));{let t=$n(e,!1);if(t)return await t.save();if(e instanceof tB)return await this.getEntityRef(e).save();{let r=this.metadata.idMetadata.getId(e);return r===void 0?this.insert(e):this.update(r,e)}}}liveQuery(e){return e||(e={}),{subscribe:t=>{let r=t;return typeof t==\"function\"&&(r={next:t,complete:()=>{},error:()=>{}}),r.error??(r.error=()=>{}),r.complete??(r.complete=()=>{}),this._remult.liveQuerySubscriber.subscribe(this,e,r)}}}async _rawFind(e,t=!1,r,i){e||(e={}),this._defaultFindOptions&&(e={...this._defaultFindOptions,...e});let o=await this._buildEntityDataProviderFindOptions(e);t&&(delete o.orderBy,delete o.limit),Dp.onFind(this._info,e);const s=await i(o);return await this._loadManyToOneForManyRows(s,e,r)}async find(e,t=!1){const r=new Pf,i=await this._rawFind(e,t,r,o=>this._edp.find(o));return await r.resolveAll(),i}async _buildEntityDataProviderFindOptions(e){e={...e};let t={};return t={},(!e.orderBy||Object.keys(e.orderBy).length===0)&&(this._dataProvider.isProxy||(e.orderBy=this._info.entityInfo.defaultOrderBy)),t.where=await this._translateWhereToFilter(e.where),e.orderBy!==void 0&&(t.orderBy=Ii.translateOrderByToSort(this.metadata,e.orderBy)),e.limit!==void 0&&(t.limit=e.limit),e.page!==void 0&&(t.page=e.page),t}async _fromJsonArray(e,t){const r=new Pf,i=await this._loadManyToOneForManyRows(e.map(o=>{let s={};for(const a of this.metadata.fields.toArray())s[a.key]=a.valueConverter.fromJson(o[a.key]);return s}),t,r);return await r.resolveAll(),i}async _loadManyToOneForManyRows(e,t,r){let i;t!=null&&t.load&&(i=t.load(this.metadata.fields));for(const u of this.metadata.fields)if(lo(u.valueType,!1)&&!jn(u)){let h=!u.options.lazy;if(i!==void 0&&(h=i.includes(u)),h){let g=this._remult.repo(u.valueType),p=[];for(const m of e){let y=m[u.key];y!=null&&!p.includes(y)&&!g._idCache.has(y+\"\")&&p.push(y)}p.length>0&&await o(g,p)}}async function o(u,f){let d=await u.find({where:u.metadata.idMetadata.getIdFilter(...f)},!0);for(const h of d)u._addToCache(h)}const s=new Set(this.fields.toArray().map(u=>{const f=this.__getRelationAndInclude(u,t);if(f.rel&&!f.incl)return u.key}).filter(u=>u!==void 0));let a=await Uc(e,async u=>await this._mapRawDataToResult(u,i,s));const l=this.metadata.fields.toArray();return this._populateRelationsForFields(l,t,a,r),a}_populateRelationsForFields(e,t,r,i){for(const o of e){let{rel:s,incl:a}=this.__getRelationAndInclude(o,t);if(s)if(a){const l=s.toRepo;for(const u of r){let{findOptions:f,returnNull:d}=this._findOptionsBasedOnRelation(s,o,a,u,l);const h=o.key;if(d)u[h]=null;else{const g=s.toEntity,p=l;i.load({entityType:g,find:m=>p._rawFind(m,!1,i,y=>p._edp.find(y)),metadata:p.metadata},f).then(m=>{m.length==0&&s.type==\"toOne\"||(u[h]=s.type!==\"toMany\"?m.length==0?null:m[0]:m)})}}}else for(const l of r)Reflect.deleteProperty(l,o.key)}}__getRelationAndInclude(e,t){var s;let r=jn(e),i=e.options.defaultIncluded;const o=(s=t==null?void 0:t.include)==null?void 0:s[e.key];return o!==void 0&&(i=o),{rel:r,incl:i}}_findOptionsBasedOnRelation(e,t,r,i,o){let s=!1,a=!1,l=[],u={},f=[];typeof e.options.findOptions==\"function\"?f.push(e.options.findOptions(i)):typeof e.options.findOptions==\"object\"&&f.push(e.options.findOptions),typeof r==\"object\"&&f.push(r);for(const g of f){g.where&&l.push(g.where);for(const p of[\"limit\",\"include\",\"orderBy\"])g[p]&&(u[p]=g[p])}const d=e.getFields(),h=g=>{const p=$n(i,!1);let m=e.type===\"reference\"&&p?p.fields.find(t.key).getId():i[g];return(e.type===\"toOne\"||e.type===\"reference\")&&(m===null?s=!0:m===void 0?a=!0:e.type===\"reference\"&&typeof m==\"object\"&&(m=o.metadata.idMetadata.getId(m))),m};d.compoundIdField&&(e.type===\"toMany\"?l.push({[d.compoundIdField]:this.metadata.idMetadata.getId(i)}):l.push(o.metadata.idMetadata.getIdFilter(h(d.compoundIdField))));for(const g in d.fields)Object.prototype.hasOwnProperty.call(d.fields,g)&&l.push({[g]:h(d.fields[g])});return u.where={$and:l},(e.type===\"toOne\"||e.type===\"reference\")&&u.orderBy&&(u.limit=1),{findOptions:u,returnNull:s,returnUndefined:a}}async _mapRawDataToResult(e,t,r){let i=new this._entity(this._remult),o=new zh(this._info,i,this,this._edp,this._remult,!1,r);return Object.defineProperty(i,jc,{get:()=>o}),await o.loadDataFrom(e,t),o.saveOriginalData(),i}toJson(e){return e==null?e:Array.isArray(e)?e.map(t=>this.toJson(t)):typeof e.then==\"function\"?e.then(t=>this.toJson(t)):this.getEntityRef(e).toApiJson(!0)}fromJson(e,t){if(e==null)return e;if(Array.isArray(e))return e.map(i=>this.fromJson(i,t));let r=new this._entity(this._remult);for(const i of this._fieldsOf(e)){const o=i.key;if(lo(i.valueType,!1)){let a=e[i.key];typeof a==\"string\"||typeof a==\"number\"?r[o]=a:r[o]=this._remult.repo(i.valueType).fromJson(a)}else e[o]!==void 0&&(r[o]=i.valueConverter.fromJson(e[i.key]))}if(this._fixTypes(r),t)return this.create(r);{let i=new zh(this._info,r,this,this._edp,this._remult,!1);return Object.defineProperty(r,jc,{get:()=>i}),i.id=i.getId(),i.saveOriginalData(),i.originalId=i.id,r}}async count(e){return this._edp.count(await this._translateWhereToFilter(e))}async deleteMany({where:e}){if(Zt.throwErrorIfFilterIsEmpty(e,\"deleteMany\"),this._dataProvider.isProxy)return this._edp.deleteMany(await this._translateWhereToFilter(e));{let t=0;for await(const r of this.query({where:e,aggregate:void 0}))await $n(r).delete(),t++;return t}}async findOne(e,t=!1){let r,i,o=e??{};if(o.useCache){let s=uw(o,this.metadata),a=JSON.stringify(s);if(i=this._cache.get(a),i!==void 0)if(i.value&&this.getEntityRef(i.value).wasDeleted())i=void 0,this._cache.delete(a);else return i.promise;else i={value:void 0,promise:void 0},this._cache.set(a,i)}return r=this.find({...o,limit:1},t).then(async s=>{let a;return s.length>0&&(a=s[0]),!a&&o.createIfNotFound&&(a=this.create(),o.where&&await p0(this.metadata,o.where,a)),a}),i&&(i.promise=r=r.then(s=>(i.value=s,s))),r}async findFirst(e,t,r=!1){if(t||(t={}),e)if(t.where){let i=t.where;t.where={$and:[i,e]}}else t.where=e;return this.findOne(t,r)}_fieldsOf(e){let t=Object.keys(e);return this.metadata.fields.toArray().filter(r=>t.includes(r.key))}create(e){var r;let t=new this._entity(this._remult);if(e){for(const i of this._fieldsOf(e)){const o=i.key;t[o]=e[o]}this._fixTypes(t)}return(r=this._defaultFindOptions)!=null&&r.where&&(p0(this.metadata,this._defaultFindOptions.where,t),this._fixTypes(t)),this.getEntityRef(t),t}async _fixTypes(e){for(const t of this._fieldsOf(e)){const r=e[t.key];if(r!=null)if(t.valueType===Date&&!(r instanceof Date))e[t.key]=t.valueConverter.fromJson(t.valueConverter.toJson(r));else for(const[i,o]of[[String,\"string\"],[Number,\"number\"],[Boolean,\"boolean\"]])t.valueType===i&&typeof r!==o&&(e[t.key]=t.valueConverter.fromJson(t.valueConverter.toJson(r)))}return e}findId(e,t){if(e==null)return Promise.resolve(null);if(typeof e!=\"string\"&&typeof e!=\"number\")throw new Error(\"id can be either number or string, but got: \"+typeof e);return this.findFirst({},{...t,where:this.metadata.idMetadata.getIdFilter(e)},!0)}async _translateWhereToFilter(e){var i,o;let t=e??{};(i=this._defaultFindOptions)!=null&&i.where&&(t={$and:[t,(o=this._defaultFindOptions)==null?void 0:o.where]}),this._dataProvider.isProxy||(this.metadata.options.backendPreprocessFilter&&(t=await this.metadata.options.backendPreprocessFilter(t,{metadata:this.metadata,getFilterPreciseValues:s=>Zt.getPreciseValues(this.metadata,s||t)})),this.metadata.options.backendPrefilter&&(t={$and:[t,await Zt.resolve(this.metadata.options.backendPrefilter)]}));let r=await Zt.fromEntityFilter(this.metadata,t);return r&&!this._dataProvider.isProxy&&(r=await Zt.translateCustomWhere(r,this.metadata,this._remult)),r}}function UL(n,e){let t=yt.columnsOfType.get(n);t||yt.columnsOfType.set(n,t=[]);let r=lo(n)(e),i=iL(n),o=Object.getPrototypeOf(n);for(;o!=null;){let s=yt.columnsOfType.get(o);s&&t.unshift(...s.filter(l=>!t.find(u=>u.key==l.key)));let a=lo(o,!1);if(a){let l=a(e);r={...l,...r};let u=[\"saving\",\"saved\",\"deleting\",\"deleted\",\"validation\"];for(const f of u)if(l[f]&&l[f]!==r[f]){let d=r[f];r[f]=async(h,g)=>{await d(h,g),await l[f](h,g)}}}o=Object.getPrototypeOf(o)}return new QL(JL(t,e),r,e,n,i)}class KL{constructor(e,t,r,i,o){this.fieldsMetadata=e,this.instance=t,this.remult=r,this.isNewRow=i,this._isLoading=!1,this.lookups=new Map,this.originalValues={};{let s=r;s!=null&&s.iAmRemultProxy&&(r=yt.remultFactory())}for(const s of e)if(lo(s.valueType,!1)&&r){let l=new sL(r.repo(s.valueType),!!jn(s),s.allowNull);this.lookups.set(s.key,l);let u=t[s.key],f;Object.defineProperty(t,s.key,{get:()=>(this._subscribers&&(this._subscribers.reportObserved(),f||(f=this.fields.find(s.key),f._subscribers||(f._subscribers=new Vh)),f._subscribers.reportObserved()),l.item),set:d=>{var h;l.set(d),(h=this._subscribers)==null||h.reportChanged(),f||(f=this.fields.find(s.key),f._subscribers||(f._subscribers=new Vh)),f._subscribers.reportChanged()},enumerable:!(o!=null&&o.has(s.key))}),l.set(u)}else{const l=jn(s);if((l==null?void 0:l.type)===\"toOne\"){let u=t.hasOwnProperty(s.key),f=t[s.key];i&&!f&&(u=!1),Object.defineProperty(t,s.key,{get:()=>f,set:d=>{if(f=d,d===void 0)return;const h=s.options;if(h.field&&(this.instance[h.field]=l.toRepo.metadata.idMetadata.getId(d)),h.fields){for(const g in h.fields)if(Object.prototype.hasOwnProperty.call(h.fields,g)){const p=h.fields[g];this.instance[p]=d==null?null:d[g]}}},enumerable:!(o!=null&&o.has(s.key))}),u&&(t[s.key]=f)}}}get error(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._error}set error(e){var t;this._error=e,(t=this._subscribers)==null||t.reportChanged()}subscribe(e){return this.initSubscribers(),this._subscribers.subscribe(e)}initSubscribers(){if(!this._subscribers){this._subscribers=new Vh;const e=this._subscribers;for(const t of this.fieldsMetadata){let r=lo(t.valueType,!1),i=this.fields.find(t.key);if(i._subscribers=new Vh,!(r&&this.remult||jn(t))){let o=this.instance[t.key];Object.defineProperty(this.instance,t.key,{get:()=>(e.reportObserved(),i._subscribers.reportObserved(),o),set:s=>{o=s,e.reportChanged(),i._subscribers.reportChanged()},enumerable:!0})}}}}get isLoading(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._isLoading}set isLoading(e){var t;this._isLoading=e,(t=this._subscribers)==null||t.reportChanged()}async waitLoad(){await Uc([...this.lookups.values()],e=>e.waitLoad())}__assertValidity(){if(!this.hasErrors())throw this.buildErrorInfoObject()}buildErrorInfoObject(){var t;let e={modelState:Object.assign({},this.errors),message:this.error};if(!e.message){for(const r of this.fieldsMetadata)if((t=this.errors)!=null&&t[r.key]){e.message=this.fields[r.key].metadata.caption+\": \"+this.errors[r.key],this.error=e.message;break}}return new PO(e)}catchSaveErrors(e){let t=e;if(t instanceof Promise)return t.then(i=>this.catchSaveErrors(i));t.error&&(t=t.error),t.message?this.error=t.message:t.Message?this.error=t.Message:this.error=t;let r=t.modelState;throw r||(r=t.ModelState),r&&(this.errors=r),e}__clearErrorsAndReportChanged(){this.errors=void 0,this.error=void 0,this._reportChangedToEntityAndFields()}_reportChangedToEntityAndFields(){if(this._subscribers){this._subscribers.reportChanged();for(const e of this.fields)e._subscribers.reportChanged()}}hasErrors(){var e;return(e=this._subscribers)==null||e.reportObserved(),!this.error&&this.errors==null}copyDataToObject(e=!1){let t={};for(const r of this.fieldsMetadata){let i=this.lookups.get(r.key),o;const s=jn(r);i?o=i.id:o=this.instance[r.key],s&&e&&!r.allowNull&&o==null&&(s.toRepo.metadata.idMetadata.field.valueType===Number?o=0:o=\"\"),(!s||s.type===\"reference\")&&(o!==void 0&&(o=r.valueConverter.toJson(o),o!=null&&(o=r.valueConverter.fromJson(JSON.parse(JSON.stringify(o))))),t[r.key]=o)}return t}saveOriginalData(){this.originalValues=this.copyDataToObject(),this.saveMoreOriginalData()}saveMoreOriginalData(){}async validate(){if(this.__clearErrorsAndReportChanged(),await this.__performColumnAndEntityValidations(),this.hasErrors(),!this.hasErrors())return this.buildErrorInfoObject()}async __validateEntity(){this.__clearErrorsAndReportChanged(),await this.__performColumnAndEntityValidations(),this.__assertValidity()}async __performColumnAndEntityValidations(){}toApiJson(e=!1,t=!1){let r={};for(const i of this.fieldsMetadata)if(t||!this.remult||i.includedInApi(this.instance)){let o,s=this.lookups.get(i.key),a=!1;s?e?(o=s.toJson(),a=!0,r[i.key]=o):o=s.id:jn(i)&&!e?a=!0:(o=this.instance[i.key],this.remult||o&&lo(o.constructor,!1)&&(o=$n(o).getId())),a||(r[i.key]=i.valueConverter.toJson(o))}return r}async _updateEntityBasedOnApi(e,t=!1){let r=Object.keys(e);for(const i of this.fieldsMetadata)if(r.includes(i.key)&&i.includedInApi(this.instance)&&(!this.remult||t||i.apiUpdateAllowed(this.instance))){let o=this.lookups.get(i.key);o?o.id=e[i.key]:this.instance[i.key]=i.valueConverter.fromJson(e[i.key])}await Uc([...this.fields].filter(i=>!jn(i.metadata)),i=>i.load())}}class zh extends KL{constructor(e,t,r,i,o,s,a){if(super(e.fieldsMetadata,t,o,s,a),this.info=e,this.repo=r,this.edp=i,this._isNew=s,this._wasDeleted=!1,this._saving=!1,this.repository=r,this.metadata=e,s)for(const l of e.fieldsMetadata){const u=l.key;l.options.defaultValue&&t[u]===void 0&&(typeof l.options.defaultValue==\"function\"?t[u]=l.options.defaultValue(t):t[u]||(t[u]=l.options.defaultValue))}this.info.entityInfo.entityRefInit&&this.info.entityInfo.entityRefInit(this,t),Dp.entityRefInit&&Dp.entityRefInit(this,t)}clone(){const e=this.toApiJson(!0,!0);return this.repo.fromJson(e,this.isNew())}get relations(){return this.repo.relations(this.instance)}get apiUpdateAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiUpdate)}get apiDeleteAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiDelete)}get apiInsertAllowed(){return this.remult.isAllowedForInstance(this.instance,this.metadata.options.allowApiInsert)}getId(){const e=t=>{let r=this.lookups.get(t.key);return r?r.id:this.instance[t.key]};return this.metadata.idMetadata.field instanceof Rl?this.metadata.idMetadata.field.getId(e):e(this.metadata.idMetadata.field)}saveMoreOriginalData(){this.originalId=this.getId()}wasDeleted(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._wasDeleted}undoChanges(){this.loadDataFrom(this.originalValues),this.__clearErrorsAndReportChanged()}async reload(){return await this.edp.find({where:await this.getIdFilter()}).then(async e=>{if(e.length===0)throw this.repo._notFoundError(this.id);await this.loadDataFrom(e[0]),this.saveOriginalData()}),this._reportChangedToEntityAndFields(),this.instance}get fields(){if(!this._columns){let e=[],t={find:r=>t[typeof r==\"string\"?r:r.key],[Symbol.iterator]:()=>e[Symbol.iterator](),toArray:()=>e};for(const r of this.info.fieldsMetadata)e.push(t[r.key]=new gC(r.options,r,this.instance,this,this));this._columns=t}return this._columns}async save(e){var t,r;try{if(this._saving)throw new Error(\"cannot save while entity is already saving\");if(this._saving=!0,this.wasDeleted())throw new Error(\"cannot save a deleted row\");this.isLoading=!0,e===void 0&&await this.__validateEntity();let i=!1,o=this.buildLifeCycleEvent(()=>i=!0);if(!this.repo._dataProvider.isProxy){for(const f of this.fields)f.metadata.options.saving&&await f.metadata.options.saving(this.instance,f,o);this.info.entityInfo.saving&&await this.info.entityInfo.saving(this.instance,o)}this.__assertValidity();let s=this.copyDataToObject(this.isNew()),a=[];for(const f of this.metadata.fields)if(f.dbReadOnly||e!==void 0&&!e.includes(f.key)){s[f.key]=void 0,a.push(f.key);let d=this.fields.find(f);d.value=d.originalValue}let l,u=this.isNew();try{if((t=this._subscribers)==null||t.reportChanged(),this.isNew())i?l=(l=await this.edp.find({where:await this.getIdFilter()}))[0]:l=await this.edp.insert(s);else{let f={},d=!1;for(const h in s)if(Object.prototype.hasOwnProperty.call(s,h)){const g=s[h];this.fields.find(h).valueChanged()&&!a.includes(h)&&g!==void 0&&(f[h]=g,d=!0)}if(!d)return this.instance;if(i)l=(await this.edp.find({where:await this.getIdFilter()}))[0];else{if(this.id===void 0)throw new Error(\"Invalid operation, id is undefined\");l=await this.edp.update(this.id,f)}}if(l&&await this.loadDataFrom(l),o.id=this.getId(),!this.repo._dataProvider.isProxy&&(this.info.entityInfo.saved&&await this.info.entityInfo.saved(this.instance,o),this.repo.listeners))for(const f of this.repo.listeners)await((r=f.saved)==null?void 0:r.call(f,this.instance,u));return this.repo._remult.liveQueryPublisher.itemChanged(this.repo.metadata.key,[{id:this.getId(),oldId:this.getOriginalId(),deleted:!1}]),this.saveOriginalData(),this._isNew=!1,this.instance}catch(f){throw await this.catchSaveErrors(f)}}finally{this.isLoading=!1,this._reportChangedToEntityAndFields(),this._saving=!1}}async processInsertResponseDto(e){return await this.loadDataFrom(e),this.saveOriginalData(),this._isNew=!1,this.instance}async buildDtoForInsert(){await this.__validateEntity(),this.__assertValidity();let e=this.copyDataToObject(this.isNew());for(const t of this.metadata.fields)if(t.dbReadOnly){e[t.key]=void 0;let r=this.fields.find(t);r.value=r.originalValue}return e}buildLifeCycleEvent(e=()=>{}){const t=this;return{isNew:t.isNew(),fields:t.fields,id:t.getId(),originalId:t.getOriginalId(),metadata:t.repo.metadata,repository:t.repo,preventDefault:()=>e(),relations:t.repo.relations(t.instance)}}async getIdFilter(){return await this.repo._translateWhereToFilter(this.repo.metadata.idMetadata.getIdFilter(this.id))}async delete(){var r;this.__clearErrorsAndReportChanged();let e=!0,t=this.buildLifeCycleEvent(()=>e=!1);this.repo._dataProvider.isProxy||this.info.entityInfo.deleting&&await this.info.entityInfo.deleting(this.instance,t),this.__assertValidity();try{if(e){if(this.id===void 0)throw new Error(\"Invalid operation, id is undefined\");await this.edp.delete(this.id)}if(this.repo._dataProvider.isProxy||this.info.entityInfo.deleted&&await this.info.entityInfo.deleted(this.instance,t),this.repo.listeners)for(const i of this.repo.listeners)await((r=i.deleted)==null?void 0:r.call(i,this.instance));this.repo._remult.liveQueryPublisher.itemChanged(this.repo.metadata.key,[{id:this.getId(),oldId:this.getOriginalId(),deleted:!0}]),this._wasDeleted=!0}catch(i){throw await this.catchSaveErrors(i)}}async loadDataFrom(e,t){for(const r of this.info.fields){let i=this.lookups.get(r.key);i?(i.id=e[r.key],t===void 0?!r.options.lazy&&!jn(r)&&await i.waitLoad():t.includes(r)&&await i.waitLoad()):jn(r)||(e[r.key]===void 0?delete this.instance[r.key]:this.instance[r.key]=e[r.key])}await this.calcServerExpression(),this.id=this.getId()}getOriginalId(){return this.originalId}async calcServerExpression(){if(!this.repo._dataProvider.isProxy){for(const e of this.info.fieldsMetadata)if(e.options.serverExpression){const t=await e.options.serverExpression(this.instance);t!==void 0&&(this.instance[e.key]=t)}}}isNew(){var e;return(e=this._subscribers)==null||e.reportObserved(),this._isNew}wasChanged(){var e;(e=this._subscribers)==null||e.reportObserved();for(const t of this.fields){const r=jn(t.metadata);if((!r||r.type==\"reference\")&&t.valueChanged())return!0}return!1}async __performColumnAndEntityValidations(){var e;for(const t of this.fieldsMetadata)t.options.validate&&await new gC(t.options,t,this.instance,this,this).__performValidation();if(this.info.entityInfo.validation){let t=this.buildLifeCycleEvent(()=>{});await this.info.entityInfo.validation(this.instance,t)}if(this.repo.listeners)for(const t of this.repo.listeners)await((e=t.validating)==null?void 0:e.call(t,this.instance))}}function JL(n,e){return n.map(t=>eB(t.settings(e),e))}class gC{constructor(e,t,r,i,o){this.settings=e,this.metadata=t,this.container=r,this.helper=i,this.rowBase=o,this.target=this.settings.target,this.entityRef=this.helper}subscribe(e){return this._subscribers||this.rowBase.initSubscribers(),this._subscribers.subscribe(e)}valueIsNull(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id===void 0||e.id===null:this.value===null}originalValueIsNull(){return this.reportObserved(),this.rowBase.lookups.get(this.metadata.key),this.rawOriginalValue()===null}get key(){return this.metadata.key}get repo(){var e;return(e=this.helper)==null?void 0:e.repository}async load(){let e=this.rowBase.lookups.get(this.metadata.key),t=jn(this.metadata);if(t&&this.helper){if(t.type===\"toMany\")return this.container[this.metadata.key]=await this.repo.relations(this.container)[this.key].find();{let r=await this.repo.relations(this.container)[this.metadata.key].findOne();if(r)this.container[this.metadata.key]=r;else return null}}else if(e)return this.valueChanged()&&await e.waitLoadOf(this.rawOriginalValue()),await e.waitLoad();return this.value}reportObserved(){var e,t;(e=this._subscribers)==null||e.reportObserved(),(t=this.rowBase._subscribers)==null||t.reportObserved()}reportChanged(){var e,t;(e=this._subscribers)==null||e.reportChanged(),(t=this.rowBase._subscribers)==null||t.reportChanged()}get error(){if(this.reportObserved(),!!this.rowBase.errors)return this.rowBase.errors[this.metadata.key]}set error(e){this.rowBase.errors||(this.rowBase.errors={}),this.rowBase.errors[this.metadata.key]=e,this.reportChanged()}get displayValue(){return this.reportObserved(),this.value!=null?this.settings.displayValue?this.settings.displayValue(this.container,this.value):this.metadata.valueConverter.displayValue?this.metadata.valueConverter.displayValue(this.value):this.value.toString():\"\"}get value(){return this.container[this.metadata.key]}set value(e){this.container[this.metadata.key]=e}get originalValue(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.get(this.rawOriginalValue()):this.rowBase.originalValues[this.metadata.key]}rawOriginalValue(){return this.rowBase.originalValues[this.metadata.key]}setId(e){this.value=e}getId(){let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id!=null?e.id:null:this.value}get inputValue(){this.reportObserved();let e=this.rowBase.lookups.get(this.metadata.key);return e?e.id!=null?e.id.toString():null:this.metadata.valueConverter.toInput(this.value,this.settings.inputType)}set inputValue(e){let t=this.rowBase.lookups.get(this.metadata.key);t?t.setId(e):this.value=this.metadata.valueConverter.fromInput(e,this.settings.inputType)}valueChanged(){this.reportObserved();let e=this.value,t=this.rowBase.lookups.get(this.metadata.key);return t&&(e=t.id),JSON.stringify(this.metadata.valueConverter.toJson(this.rowBase.originalValues[this.metadata.key]))!=JSON.stringify(this.metadata.valueConverter.toJson(e))}async __performValidation(){var e;try{const t=r=>{r!==!0&&r!==void 0&&!this.error&&(typeof r==\"string\"&&r.length>0?this.error=r:this.error=\"invalid value\")};if(this.settings.validate){let r=this,i={entityRef:this.entityRef,get error(){return r.error},set error(o){r.error=o},isNew:((e=this.entityRef)==null?void 0:e.isNew())??!1,load:()=>r.load(),metadata:r.metadata,originalValue:r.originalValue,value:r.value,valueChanged:()=>r.valueChanged(),originalValueIsNull:()=>r.originalValueIsNull(),valueIsNull:()=>r.valueIsNull(),isBackend:()=>{var o,s,a;return!((a=(s=(o=r.rowBase)==null?void 0:o.remult)==null?void 0:s.dataProvider)!=null&&a.isProxy)}};if(Array.isArray(this.settings.validate))for(const o of this.settings.validate)t(await o(this.container,i));else typeof this.settings.validate==\"function\"&&t(await this.settings.validate(this.container,i))}}catch(t){typeof t==\"string\"?this.error=t:this.error=t==null?void 0:t.message}}async validate(){return await this.__performValidation(),!this.error}}let XL={transformCaption:(n,e,t,r)=>t};const v0=yt.fieldOptionsEnricher||{enrichFieldOptions:n=>n},GL=yt.captionTransformer||(yt.captionTransformer=XL);function DO(n,e,t,r){let i;return typeof n==\"function\"?t&&(i=n(t)):n&&(i=n),i=GL.transformCaption(t,e,i??\"\",r),i||(e?oL(e):\"\")}class YL{constructor(e,t,r){this.settings=e,this.entityDefs=t,this.remult=r,this.readonly=!1,this.isServerExpression=!1,this.options=this.settings,this.target=this.settings.target,this.valueConverter=new Proxy(this.settings.valueConverter??{},{get:(i,o)=>{let s=i[o];return typeof s==\"function\"?(...a)=>{try{return i[o](...a)}catch(l){const u=`${String(o)} failed for value ${a==null?void 0:a[0]}. Error: ${typeof l==\"string\"?l:l.message}`;throw new PO({message:this.caption+\": \"+u,modelState:{[this.key]:u}})}}:s}}),this.allowNull=!!this.settings.allowNull,this.valueType=this.settings.valueType,this.key=this.settings.key,this.inputType=this.settings.inputType,e.serverExpression&&(this.isServerExpression=!0),typeof this.settings.allowApiUpdate==\"boolean\"&&(this.readonly=this.settings.allowApiUpdate),this.inputType||(this.inputType=this.valueConverter.inputType),this.dbName=e.dbName,this.dbName==null&&(this.dbName=e.key),this.caption=DO(e.caption,e.key,r,t)}apiUpdateAllowed(e){return this.options.allowApiUpdate===void 0?!0:this.remult.isAllowedForInstance(e,this.options.allowApiUpdate)}displayValue(e){return this.entityDefs.getEntityMetadataWithoutBreakingTheEntity(e).fields.find(this.key).displayValue}includedInApi(e){return this.options.includeInApi===void 0?!0:this.remult.isAllowedForInstance(e,this.options.includeInApi)}toInput(e,t){return this.valueConverter.toInput(e,t)}fromInput(e,t){return this.valueConverter.fromInput(e,t)}async getDbName(){return dw(this,this.entityDefs)}get dbReadOnly(){return!!this.settings.dbReadOnly}}class QL{constructor(e,t,r,i,o){if(this.entityInfo=t,this.remult=r,this.entityType=i,this.key=o,this.fieldsMetadata=[],this.idMetadata={getId:a=>{if(a==null)return a;const l=$n(a,!1);return l?l.getId():this.idMetadata.field instanceof Rl?this.idMetadata.field.getId(a):a[this.idMetadata.field.key]},field:void 0,get fields(){return this.field instanceof Rl?this.field.fields:[this.field]},createIdInFilter:a=>a.length>0?{$or:a.map(l=>this.idMetadata.getIdFilter($n(l).getId()))}:{[this.fields.toArray()[0].key]:[]},isIdField:a=>a.key==this.idMetadata.field.key,getIdFilter:(...a)=>{if(this.idMetadata.field instanceof Rl){let l=this.idMetadata.field;return a.length==1?l.isEqualTo(a[0]):{$or:a.map(u=>l.isEqualTo(u))}}return a.length==1?{[this.idMetadata.field.key]:a[0]}:{[this.idMetadata.field.key]:a}}},this.options=t,this.options.allowApiCrud!==void 0){let a;typeof this.options.allowApiCrud==\"function\"?a=(l,u)=>this.options.allowApiCrud(u):a=this.options.allowApiCrud,this.options.allowApiDelete===void 0&&(this.entityInfo.allowApiDelete=a),this.options.allowApiInsert===void 0&&(this.entityInfo.allowApiInsert=a),this.options.allowApiUpdate===void 0&&(this.entityInfo.allowApiUpdate=a),this.options.allowApiRead===void 0&&(this.options.allowApiRead=this.options.allowApiCrud)}this.options.allowApiRead===void 0&&(this.options.allowApiRead=!0),this.key||(this.key=i.name),t.dbName||(t.dbName=this.key),this.dbName=t.dbName;let s={find:a=>s[typeof a==\"string\"?a:a.key],[Symbol.iterator]:()=>this.fieldsMetadata[Symbol.iterator](),toArray:()=>this.fieldsMetadata};for(const a of e)this.fieldsMetadata.push(s[a.key]=new YL(a,this,r));if(this.fields=s,this.caption=DO(t.caption,this.key,r,this),t.id){let a=typeof t.id==\"string\"?this.fields.find(t.id):Array.isArray(t.id)?t.id.map(l=>this.fields.find(l)):typeof t.id==\"function\"?t.id(this.fields):Object.keys(t.id).map(l=>this.fields.find(l));Array.isArray(a)?a.length>1?this.idMetadata.field=new Rl(...a):a.length==1&&(this.idMetadata.field=a[0]):this.idMetadata.field=a}if(!this.idMetadata.field){const a=this.fields.id;a?this.idMetadata.field=a:this.idMetadata.field=[...this.fields][0]}}apiUpdateAllowed(e){return this.options.allowApiUpdate===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiUpdateAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiUpdate)}get apiReadAllowed(){return this.options.allowApiRead===void 0?!0:this.remult.isAllowed(this.options.allowApiRead)}apiDeleteAllowed(e){return this.options.allowApiDelete===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiDeleteAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiDelete)}apiInsertAllowed(e){return this.options.allowApiUpdate===void 0?!1:e?this.getEntityMetadataWithoutBreakingTheEntity(e).apiInsertAllowed:this.remult.isAllowedForInstance(void 0,this.options.allowApiInsert)}getEntityMetadataWithoutBreakingTheEntity(e){let t=$n(e,!1);return t||this.remult.repo(this.entityType).getEntityRef({...e})}getDbName(){return RO(this)}}function ZL(n){var e,t;return((t=(e=n.options)==null?void 0:e.valueConverter)==null?void 0:t.fieldTypeInDb)===\"autoincrement\"}const $L=Symbol.for(\"storableMember\"),y0=Symbol.for(\"fieldOptionalValues\");function NO(n,e){var r;let t={};for(const i of n)if(i)if(typeof i==\"function\")i(t,e);else{const{validate:o,...s}=i;t.validate=Wg(t.validate,o),Object.assign(t,s)}return(r=v0.enrichFieldOptions)==null||r.call(v0,t),t}function eB(n,e){if(n.valueType){let i=n.valueType[$L];i&&(n=NO([...i,n],e))}if(n.valueType==String){let i=n;n.valueConverter||(i.valueConverter=$r.String)}if(n.valueType==Number){let i=n;n.valueConverter||(i.valueConverter=$r.Number)}if(n.valueType==Date){let i=n;n.valueConverter||(i.valueConverter=$r.Date)}if(n.valueType==Boolean){let i=n;i.valueConverter||(i.valueConverter=$r.Boolean)}if(!n.valueConverter){if(lo(n.valueType,!1)){let o;n.valueConverter={toDb:s=>s,fromDb:s=>s},n.valueConverter=new Proxy(n.valueConverter,{get(s,a){if(s[a]===void 0&&o===void 0){if(a===\"inputType\")return\"\";o=e.repo(n.valueType).metadata.idMetadata.field.valueType===Number;for(const l of[\"fieldTypeInDb\",\"toJson\",\"fromJson\",\"toDb\",\"fromDb\"])s[l]=o?$r.Integer[l]:$r.String[l]}return s[a]},set(s,a,l,u){return s[a]=l,!0}})}else n.valueConverter=$r.Default;return n}n.valueConverter.toJson||(n.valueConverter.toJson=i=>i),n.valueConverter.fromJson||(n.valueConverter.fromJson=i=>i);const t=n.valueConverter.fromJson,r=n.valueConverter.toJson;return n.valueConverter.toDb||(n.valueConverter.toDb=i=>r(i)),n.valueConverter.fromDb||(n.valueConverter.fromDb=i=>t(i)),n.valueConverter.toInput||(n.valueConverter.toInput=i=>r(i)),n.valueConverter.fromInput||(n.valueConverter.fromInput=i=>t(i)),n}class tB{get _(){return $n(this)}save(){return $n(this).save()}assign(e){return Mf(this,e),this}delete(){return this._.delete()}isNew(){return this._.isNew()}get $(){return this._.fields}}class Vh{reportChanged(){this._subscribers&&this._subscribers.forEach(e=>e.reportChanged())}reportObserved(){this._subscribers&&this._subscribers.forEach(e=>e.reportObserved())}subscribe(e){let t;return typeof e==\"function\"?t={reportChanged:()=>e(),reportObserved:()=>{}}:t=e,this._subscribers||(this._subscribers=[]),this._subscribers.push(t),()=>this._subscribers=this._subscribers.filter(r=>r!=t)}}function nB(n){return n.metadata?n.metadata:lo(n,!1)?Pi.repo(n).metadata:n}function rB(n){return lo(n,!1)?Pi.repo(n):n}async function Uc(n,e){const t=[];for(let r=0;r<n.length;r++){const i=n[r];t.push(await e(i,r))}return t}const pC=Hg(n=>!isNaN(n)&&isFinite(n));class Kc{static object(...e){return _i(void 0,...e)}static json(...e){let t=e;return t.valueConverter&&!t.valueConverter.fieldTypeInDb&&(t.valueConverter.fieldTypeInDb=\"json\"),_i(void 0,{valueConverter:{fieldTypeInDb:\"json\"}},...e)}static dateOnly(...e){return _i(()=>Date,{valueConverter:$r.DateOnly},...e)}static date(...e){return _i(()=>Date,...e)}static integer(...e){return _i(()=>Number,{valueConverter:$r.Integer,validate:pC},...e)}static autoIncrement(...e){return _i(()=>Number,{allowApiUpdate:!1,dbReadOnly:!0,valueConverter:{...$r.Integer,fieldTypeInDb:\"autoincrement\"}},...e)}static number(...e){return _i(()=>Number,{validate:pC},...e)}static createdAt(...e){return _i(()=>Date,{allowApiUpdate:!1,saving:(t,r,{isNew:i})=>{i&&(r.value=new Date)}},...e)}static updatedAt(...e){return _i(()=>Date,{allowApiUpdate:!1,saving:(t,r)=>{r.value=new Date}},...e)}static uuid(...e){return _i(()=>String,{allowApiUpdate:!1,defaultValue:()=>Jy(),saving:(t,r)=>{r.value||(r.value=Jy())}},...e)}static cuid(...e){return _i(()=>String,{allowApiUpdate:!1,defaultValue:()=>sC(),saving:(t,r)=>{r.value||(r.value=sC())}},...e)}static literal(e,...t){return Kc.string({validate:(r,i)=>$s.in(e())(r,i),[y0]:e},...t)}static enum(e,...t){let r;return _i(()=>e(),{validate:(i,o)=>$s.enum(e())(i,o),[y0]:()=>qg(e())},...t,i=>{if(i[y0]=()=>qg(e()),r===void 0){let o=e();r=qg(o).find(a=>typeof a==\"string\")?$r.String:$r.Integer}i.valueConverter?i.valueConverter.fieldTypeInDb||(i.valueConverter.fieldTypeInDb=r.fieldTypeInDb):i.valueConverter=r})}static string(...e){return _i(()=>String,...e)}static boolean(...e){return _i(()=>Boolean,...e)}}function _i(n,...e){return(t,r,i)=>{const o=typeof r==\"string\"?r:r.name.toString();let s=u=>{let f=NO(e,u);if(f.required&&(f.validate=Wg(f.validate,$s.required,!0)),su(f,\"maxLength\")){let h=f;h.maxLength&&(h.validate=Wg(h.validate,$s.maxLength(h.maxLength)))}if(su(f,\"minLength\")){let h=f;h.minLength&&(h.validate=Wg(h.validate,$s.minLength(h.minLength)))}!f.valueType&&n&&(f.valueType=n()),f.key||(f.key=o),f.dbName||(f.dbName=f.key);let d=f.valueType;return d||(d=typeof Reflect.getMetadata==\"function\"?Reflect.getMetadata(\"design:type\",t,o):[],f.valueType=d),f.target||(f.target=t),f};iB(t);let a=yt.columnsOfType.get(t.constructor);a||(a=[],yt.columnsOfType.set(t.constructor,a));let l=a.find(u=>u.key==o);if(!l)a.push({key:o,settings:s});else{let u=l.settings;l.settings=f=>{let d=u(f),h=s(f);return Object.assign(d,h)}}}}function iB(n){if(!n)throw new Error(\"Set the 'experimentalDecorators:true' option in your 'tsconfig' or 'jsconfig' (target undefined)\")}function oB(n,...e){return(t,r)=>{let i=t;for(;i!=null;){for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)){const a=t[s];a!=null&&a.rawFilterInfo&&(a.rawFilterInfo.key||(a.rawFilterInfo.key=s))}i=Object.getPrototypeOf(i)}let o=s=>{let a={};for(const u of e)u&&(typeof u==\"function\"?u(a,s):Object.assign(a,u));let l=Object.getPrototypeOf(t);if(l){let u=lo(l,!1);if(u){let f=u(s);f&&(a={...f,...a})}}return a};return yt.allEntities.push(t),IL(t,{key:n}),t[kO]=o,t[OO]=n,t}}const sB=n=>{const e=[];for(let t=0;t<n;t++){const r=t*360/n;e.push(r)}return e};class aB{constructor(e){Eo(this,\"tables\");const t=sB(e.length);this.tables=e.sort((r,i)=>r.caption.localeCompare(i.caption)).map((r,i)=>{r.color=t[i%t.length];class o{}for(const s of r.fields)switch(s.type){case\"json\":Kc.json()(o.prototype,s.key);break;case\"number\":Kc.number()(o.prototype,s.key);break;case\"boolean\":Kc.boolean()(o.prototype,s.key);break;default:Kc.string()(o.prototype,s.key);break}return oB(r.key,{allowApiCrud:!0,caption:r.caption,id:r.ids})(o),{...r,repo:Pi.repo(o)}})}async getItemsForSelect(e,t){const r=this.tables.find(l=>l.key==e.entityKey);if(!r)return{items:[],$count:0};const i=r.repo,o=t?{[e.captionField]:{$contains:t}}:void 0,[s,a]=await Promise.all([i.find({limit:11,orderBy:{[e.captionField]:\"asc\"},where:o}),i.count(o)]);return{items:s.map(l=>({id:l[e.idField],caption:l[e.captionField]})),$count:a}}async displayValueFor(e,t){const r=e.relationToOne,i=this.tables.find(s=>s.key==r.entityKey);if(!i)return\"Forbidden - \"+t;const o=await i.repo.findId(t);return o?o[r.captionField]?o[r.captionField]:`Can't display ${r.captionField} - ${t}`:t!==void 0?\"not found - \"+t:\"-\"}async displayValueForEach(e,t){const r=e.relationToOne,i=this.tables.find(s=>s.key==r.entityKey);if(!i)return{[e.valFieldKey]:new Map(t.map(s=>[s[e.valFieldKey],`Forbidden (${s[e.valFieldKey]})`]))};const o=await i.repo.find({where:{[r.idField]:{$in:t.map(s=>s[e.valFieldKey])}}});return!o||o.length==0?{[e.valFieldKey]:new Map(t.map(s=>[s[e.valFieldKey],`not found (${s[e.valFieldKey]})`]))}:{[e.valFieldKey]:new Map(o.map(s=>[s.id,s[r.captionField]]))}}getTables(e){return(this.tables??[]).filter(t=>(e.settings.dispayCaption?t.caption:t.key).toLowerCase().includes(e.settings.search.toLowerCase()))}}const LO=typeof window<\"u\",Zy=\"LSRemultAdmin_2025_02_16\",Lp={currentLocationHash:\"/\",schema:{},settings:{search:\"\",dispayCaption:!0,confirmDelete:!0,numberOfRows:25,diagramLayoutAlgorithm:\"grid-dfs\",keyForBearerAuth:\"\",withLiveQuery:!0}},lB=LO&&JSON.parse(localStorage.getItem(Zy))||Lp,cB=()=>{const{set:n,subscribe:e,update:t}=ao(lB);return{set:n,subscribe:e,update:t,reset:()=>{n(Lp),window.location.reload()}}},vr=cB();vr.subscribe(n=>{LO&&(n?localStorage.setItem(Zy,JSON.stringify(n)):localStorage.setItem(Zy,JSON.stringify(Lp)))});function $y(n,e,t){return n.settings.bearerAuth?{...t==null?void 0:t.headers,authorization:\"Bearer \"+n.settings.bearerAuth}:e.settings.keyForBearerAuth?{...t==null?void 0:t.headers,authorization:\"Bearer \"+localStorage.getItem(e.settings.keyForBearerAuth)}:t==null?void 0:t.headers}const BO=typeof window<\"u\",e1=\"SSRemultAdmin_2024_08_23\",Bp={settings:{bearerAuth:\"\"},forbiddenEntities:[]},uB=BO&&JSON.parse(sessionStorage.getItem(e1))||Bp,fB=()=>{const{set:n,subscribe:e,update:t}=ao(uB);return{set:n,subscribe:e,update:t,reset:()=>{n(Bp),window.location.reload()}}},Jl=fB();Jl.subscribe(n=>{BO&&(n?localStorage.setItem(e1,JSON.stringify(n)):localStorage.setItem(e1,JSON.stringify(Bp)))});function dB(){const{subscribe:n,set:e}=ao(),t=()=>{var s;const r=vp(vr),i=vp(Jl),o=((s=window.optionsFromServer)==null?void 0:s.rootPath)??\"/api\";Pi.apiClient.url=o,Pi.initUser().then(()=>{fetch(`${o}/admin/__entities-metadata`,{headers:$y(i,r)}).then(a=>a.json()).then(a=>{e(new aB(a))})})};return t(),{subscribe:n,reloadEntities:t}}const _s=dB();var hB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><g fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M6.04.5H3.584a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3H6.04z\"></path><path d=\"M2.289 4.479a1.023 1.023 0 1 0 2.046 0a1.023 1.023 0 1 0-2.046 0M7.96 13.5h2.455a3 3 0 0 0 3-3v-7a3 3 0 0 0-3-3H7.96z\"></path><path d=\"M11.71 8.565a1.023 1.023 0 1 0-2.046 0a1.023 1.023 0 1 0 2.046 0\"></path></g></svg>');function gB(n){var e=hB();R(n,e)}var pB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M1.5 2a1 1 0 0 0-1 1v9.5a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-2M.5 5.5h13m-10-5v3m7-3v3M3.5 2h5\"></path></svg>');function mB(n){var e=pB();R(n,e)}var vB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.977 1.125H5.59a1 1 0 0 0-1 1v2.77a2 2 0 0 1-.92 1.684l-.804.515l.803.515a2 2 0 0 1 .921 1.684v2.77a1 1 0 0 0 1 1h.386m2.39-11.938h.386a1 1 0 0 1 1 1v2.77a2 2 0 0 0 .92 1.684l.804.515l-.804.515a2 2 0 0 0-.92 1.684v2.77a1 1 0 0 1-1 1h-.386\"></path></svg>');function FO(n){var e=vB();R(n,e)}var yB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M1 3a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1m3.5-.5h9M1 7.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1M4.5 7h9M1 12a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1m3.5-.5h9\"></path></svg>');function bB(n){var e=yB();R(n,e)}var wB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><path fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M.5 4.25h13m-13 5.5h13M11.25.5l-2.5 13m-3-13l-2.5 13\"></path></svg>');function xB(n){var e=wB();R(n,e)}var CB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 256 256\"><path fill=\"gray\" d=\"M212 56v32a12 12 0 0 1-24 0V68h-48v120h20a12 12 0 0 1 0 24H96a12 12 0 0 1 0-24h20V68H68v20a12 12 0 0 1-24 0V56a12 12 0 0 1 12-12h144a12 12 0 0 1 12 12\"></path></svg>');function _B(n){var e=CB();R(n,e)}function jO(n,e){let t=x(e,\"type\",3,\"string\"),r=x(e,\"isSelect\",3,!1);var i=De(),o=ye(i);{var s=l=>{gB(l)},a=l=>{var u=De(),f=ye(u);{var d=g=>{bB(g)},h=g=>{var p=De(),m=ye(p);{var y=C=>{FO(C)},v=C=>{var k=De(),b=ye(k);{var w=O=>{xB(O)},E=O=>{var T=De(),I=ye(T);{var D=M=>{mB(M)},A=M=>{_B(M)};te(I,M=>{t()===\"date\"?M(D):M(A,!1)},!0)}R(O,T)};te(b,O=>{t()===\"number\"?O(w):O(E,!1)},!0)}R(C,k)};te(m,C=>{t()===\"json\"?C(y):C(v,!1)},!0)}R(g,p)};te(f,g=>{r()?g(d):g(h,!1)},!0)}R(l,u)};te(o,l=>{t()===\"boolean\"?l(s):l(a,!1)})}R(n,i)}var SB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" viewBox=\"0 0 14 14\"><g fill=\"none\" stroke=\"gray\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M5.62 7.38L11.5 1.5l2 2m-4.25.25L11 5.5\"></path><path d=\"M3.5 12.5a3 3 0 1 0 0-6a3 3 0 0 0 0 6\"></path></g></svg>');function zO(n){var e=SB();R(n,e)}var kB=X('<div class=\"entity-field svelte-6slv8o\"><!> <!> <span> <span><!> <!></span></span> <!> <!></div>'),OB=X('<div class=\"entity-node svelte-6slv8o\"><div class=\"entity-name svelte-6slv8o\"> </div> <div class=\"entity-fields svelte-6slv8o\"></div></div>');function AB(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(vr,\"$LSContext\",t),o=()=>e.data.fields;var s=OB(),a=j(s),l=j(a),u=H(a,2);Pt(u,21,o,tn,(f,d)=>{var h=kB(),g=j(h);const p=re(()=>`${c(d).key}-source-left`);Fa(g,{type:\"source\",get position(){return Mt.Left},get id(){return c(p)}});var m=H(g,2);const y=re(()=>`${c(d).key}-target-left`);Fa(m,{type:\"target\",get position(){return Mt.Left},get id(){return c(y)}});var v=H(m,2),C=j(v),k=H(C),b=j(k);{var w=M=>{zO(M)};te(b,M=>{Object.keys(e.data.ids).includes(c(d).key)&&M(w)})}var E=H(b,2);const O=re(()=>c(d).values&&c(d).values.length>0);jO(E,{get type(){return c(d).type},get isSelect(){return c(O)}});var T=H(v,2);const I=re(()=>`${c(d).key}-source-right`);Fa(T,{type:\"source\",get position(){return Mt.Right},get id(){return c(I)}});var D=H(T,2);const A=re(()=>`${c(d).key}-target-right`);Fa(D,{type:\"target\",get position(){return Mt.Right},get id(){return c(A)}}),he(M=>{ke(v,\"style\",`display: flex; justify-content: space-between; ${M??\"\"}`),He(C,`${(i().settings.dispayCaption?c(d).caption:c(d).key)??\"\"} `)},[()=>Object.keys(e.data.ids).includes(c(d).key)?\"font-weight: bold;\":\"\"]),R(f,h)}),he(()=>{ke(s,\"style\",`--color: ${e.data.color??\"\"}`),He(l,e.data.caption)}),R(n,s),Te(),r()}var EB=X(\"<!> <!> <!>\",1),TB=X('<div style=\"height:100vh;\"><!></div>');function MB(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(vr,\"$LSContext\",t),o=()=>An(_s,\"$godStore\",t);let s=Wt([]),a=Wt([]);const l={entity:AB},u=(O,T)=>{const I=T.settings.diagramLayoutAlgorithm,D=f(I,O),A=Math.ceil(Math.sqrt(O.length+O.length)),M=[],P=Array(A).fill(0);let _=0;D.forEach(N=>{N.forEach(F=>{var z;const B=(z=i().schema)==null?void 0:z[F.key];let L;B?L={x:i().schema[F.key].x,y:i().schema[F.key].y}:(L=g(_,F.fields.length,I,P),Hi(vr,Ot(i).schema={...i().schema,[F.key]:{x:L.x,y:L.y}},Ot(i)),_++),M.push({id:F.repo.metadata.key,position:L,data:F,type:\"entity\"})})}),S(s,M),m()};function f(O,T){const I=[],D=new Set;return T.forEach(A=>{if(!D.has(A.key)){const M=[];O===\"grid-dfs\"?h(A,M,D):d(A,M,D),I.push(M)}}),I}function d(O,T,I){const D=[O];for(;D.length>0;){const A=D.shift();I.has(A.key)||(I.add(A.key),T.push(A),A.fields.forEach(M=>{if(M.relationToOne){const P=o().getTables(i()).find(_=>_.key===M.relationToOne.entityKey);P&&!I.has(P.key)&&D.push(P)}}),A.relations.forEach(M=>{const P=o().getTables(i()).find(_=>_.key===M.entityKey);P&&!I.has(P.key)&&D.push(P)}))}}function h(O,T,I){I.add(O.key),T.push(O),O.fields.forEach(D=>{if(D.relationToOne){const A=o().getTables(i()).find(M=>M.key===D.relationToOne.entityKey);A&&!I.has(A.key)&&h(A,T,I)}}),O.relations.forEach(D=>{const A=o().getTables(i()).find(M=>M.key===D.entityKey);A&&!I.has(A.key)&&h(A,T,I)})}function g(O,T,I,D){switch(I){case\"grid-dfs\":return p(T,D);case\"grid-bfs\":return p(T,D);default:return{x:O*300,y:0}}}function p(O,T){const M=T.indexOf(Math.min(...T)),P=M*400,_=T[M];return T[M]+=O*40+200,{x:P,y:_}}function m(){var O;for(const T of o().getTables(i())){for(const I of T.fields)I.relationToOne&&y(T,(O=I.relationToOne)==null?void 0:O.entityKey,I.relationToOne.fields);for(const I of T.relations)o().getTables(i()).find(A=>A.key===I.entityKey)&&y(T,I.entityKey,I.fields)}}function y(O,T,I){const D=o().getTables(i()).find(A=>A.key===T);if(D){const A=c(s).find(_=>_.id===O.key),M=c(s).find(_=>_.id===D.key),P=[];for(const _ in I)if(Object.prototype.hasOwnProperty.call(I,_)){const N=I[_];P.push({id:`${O.key}-${N}-to-one-${A.id}-${M.id}`,source:A.id,target:M.id,...v(A,M,N,_),markerEnd:{type:fd.ArrowClosed,strokeWidth:4}})}S(a,[...c(a).filter(_=>!P.map(N=>N.id).includes(_.id)),...P])}}function v(O,T,I,D){return{sourceHandle:C(I)+\"-source-\"+(O.position.x>T.position.x?\"left\":\"right\"),targetHandle:C(D)+\"-target-\"+(O.position.x>T.position.x?\"right\":\"left\")}}function C(O){const T=O.split(\"-\");return T[T.length-2]===\"source\"||T[T.length-2]===\"target\"?T.slice(0,T.length-2).join(\"-\"):O}const k=()=>{m()},b=O=>{Hi(vr,Ot(i).schema={...i().schema,[O.targetNode.id]:{x:O.targetNode.position.x,y:O.targetNode.position.y}},Ot(i))};mo(()=>_s.subscribe(O=>{if(O){const T=O.getTables(i());u(T,i())}}));var w=TB(),E=j(w);iN(E,{nodeTypes:l,fitView:!0,snapGrid:[16,16],minZoom:.01,onnodedrag:k,onnodedragstop:b,get nodes(){return c(s)},set nodes(O){S(s,O)},get edges(){return c(a)},set edges(O){S(a,O)},children:(O,T)=>{var I=EB(),D=ye(I);kN(D,{patternColor:\"#aaa\",gap:16});var A=H(D,2);yN(A,{});var M=H(A,2);MN(M,{zoomable:!0,pannable:!0,height:120}),R(O,I)},$$slots:{default:!0}}),R(n,w),Te(),r()}var PB=X('<div style=\"height:100vh;\"><div class=\"msg svelte-yni9t8\">Ho Nooo !</div> <div class=\"msg svelte-yni9t8\">- 404 -</div></div>');function IB(n,e){x(e,\"params\",3,\"\")();var r=PB();R(n,r)}var RB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3\"></path></svg>');function DB(n){var e=RB();ke(e,\"stroke-width\",1.5),R(n,e)}var NB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m8.25 4.5 7.5 7.5-7.5 7.5\"></path></svg>');function VO(n){var e=NB();ke(e,\"stroke-width\",1.5),R(n,e)}var LB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"></path></svg>');function HO(n,e){let t=x(e,\"size\",3,\"1em\");var r=LB();ke(r,\"stroke-width\",1.5),he(()=>{ke(r,\"width\",t()),ke(r,\"height\",t())}),R(n,r)}var BB=It('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12\"></path></svg>');function FB(n){var e=BB();ke(e,\"stroke-width\",1.5),R(n,e)}const jB=()=>{const{subscribe:n,update:e}=ao([]),t=(r,i)=>{let o;const s=new Promise(a=>{o=a});return e(a=>[...a,{...r,resolve:o,type:i}]),s};return{confirm:r=>t({config:{title:\"Confirm\",buttonSuccess:\"Confirm\"},children:`\n          \t<p>${r}</p>\n          `},\"confirm\"),confirmDelete:r=>t({config:{title:\"Confirm delete\",description:\"This action can't be undone.\",buttonSuccess:\"Confirm delete\",isWarning:!0},children:r?`Remove : <p>- <b>${r}</b></p>`:\"\"},\"confirmDelete\"),show:r=>t(r,\"custom\"),close:r=>{e(i=>(i[i.length-1].resolve(r),i.pop(),i))},closeAll:()=>{e(r=>(r.forEach(i=>{i.resolve({success:!1})}),[]))},subscribe:n}},vo=jB();var zB=X('<span class=\"total-count\"> </span>'),VB=(n,e,t)=>e(c(t).id),HB=X('<button class=\"svelte-177wg27\"><span style=\"width: 100%; text-align: left;\"> </span></button>'),qB=(n,e)=>e(null),WB=X('<form><input placeholder=\"Search\" class=\"svelte-177wg27\"></form> <div class=\"result-count svelte-177wg27\"><span> </span> <!></div> <div class=\"dialog-list svelte-177wg27\"><!> <button style=\"color: rgb(var(--color-black) / 0.5); margin-top: 1rem;\" class=\"svelte-177wg27\"><span style=\"width: 100%; text-align: left;\">- Unset -</span></button></div>',1);function UB(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(_s,\"$godStore\",t),o=()=>An(l,\"$items\",t),s=()=>An(u,\"$count\",t),a=()=>An(f,\"$search\",t),l=ao([]),u=ao(0),f=ao(\"\"),d=async I=>{const D=await i().getItemsForSelect(e.relation,I);$v(l,at(D.items)),$v(u,at(D.$count))};mo(()=>{e.relation&&d(a())});function h(I){I.preventDefault();let D;l.subscribe(A=>D=A),(D==null?void 0:D.length)===1&&e.onSelect(D[0].id)}function g(I){e.onSelect(I)}var p=WB(),m=ye(p),y=j(m),v=H(m,2),C=j(v),k=j(C),b=H(C,2);{var w=I=>{var D=zB(),A=j(D);he(()=>He(A,`/ ${s()??\"\"}`)),R(I,D)};te(b,I=>{s()>o().length&&I(w)})}var E=H(v,2),O=j(E);Pt(O,1,o,tn,(I,D)=>{var A=HB();A.__click=[VB,g,D];var M=j(A),P=j(M);he(()=>He(P,c(D).caption??\"Can't display\")),R(I,A)});var T=H(O,2);T.__click=[qB,g],he(()=>He(k,o().length)),we(\"submit\",m,h),pi(y,a,I=>$v(f,I)),R(n,p),Te(),r()}li([\"click\"]);var KB=X('<span class=\"skeleton svelte-1syc90w\"></span>');function qO(n,e){let t=x(e,\"width\",3,120);var r=KB();he(()=>ke(r,\"style\",`--width: ${t()??\"\"}px`)),R(n,r)}var JB=X('<input value=\"\" disabled style=\"opacity: 0.5; background-color: Gainsboro; cursor: not-allowed;\">'),XB=(n,e,t)=>{vo.show({config:{title:`${e.info.caption} selection`,width:\"400px\"},component:UB,props:{relation:e.info.relationToOne,onSelect:t}})},GB=X('<button class=\"naked-button svelte-1ualm2c\"><div class=\"btn-txt svelte-1ualm2c\"><span></span> <!></div></button>');function WO(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(_s,\"$godStore\",t);let o=x(e,\"value\",15),s=x(e,\"relationsToOneValues\",19,()=>({})),a=Wt(void 0);const l=Jm();function u(y){l(\"change\",{_data:y})}mo(()=>{var C;if(o()===null){S(a,\"- Unset -\");return}const y=(C=s()[e.info.valFieldKey])==null?void 0:C.get(o());if(y!==void 0){S(a,at(y));return}let v=!1;return S(a,void 0),i().displayValueFor(e.info,o()).then(k=>{v||S(a,at(k))}),()=>{v=!0}});const f=()=>{const y=Math.random();return y>.6?120:y>.3?100:70},d=y=>{o(y),u(o()),vo.close({success:!0,data:{value:o()}})};var h=De(),g=ye(h);{var p=y=>{var v=JB();R(y,v)},m=y=>{var v=GB();v.__click=[XB,e,d];var C=j(v),k=H(j(C),2);{var b=E=>{const O=re(f);qO(E,{get width(){return c(O)}})},w=E=>{var O=Or();he(()=>He(O,c(a))),R(E,O)};te(k,E=>{c(a)===void 0?E(b):E(w,!1)})}R(y,v)};te(g,y=>{(c(a)??\"\").startsWith(\"Can't display\")?y(p):y(m,!1)})}R(n,h),Te(),r()}li([\"click\"]);function Er(n,e=YB(n)){if(!e)return QB;const t=$B(n);return function(...i){console.log(`%c${n}`,`color:${t}`,...i)}}function YB(n){const e=ZB(\"debug\");return e!=null&&e.endsWith(\"*\")?n.startsWith(e.slice(0,-1)):n===e}function QB(){}function ZB(n){try{if(typeof window<\"u\"&&typeof window.localStorage<\"u\")return window.localStorage[n]}catch{}}function $B(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return mC[Math.abs(e)%mC.length]}const mC=[\"#0000CC\",\"#0099FF\",\"#009400\",\"#8dd200\",\"#CCCC00\",\"#CC9933\",\"#ae04e7\",\"#ff35d7\",\"#FF3333\",\"#FF6600\",\"#FF9933\",\"#FFCC33\"];let vC=0;function Jc(){return vC++,vC}function Jn(n){return Array.isArray(n)}function rr(n){return n!==null&&typeof n==\"object\"&&(n.constructor===void 0||n.constructor.name===\"Object\")}function UO(n){return n&&typeof n==\"object\"?n.op===\"add\":!1}function KO(n){return n&&typeof n==\"object\"?n.op===\"remove\":!1}function gw(n){return n&&typeof n==\"object\"?n.op===\"replace\":!1}function t1(n){return n&&typeof n==\"object\"?n.op===\"copy\":!1}function Eu(n){return n&&typeof n==\"object\"?n.op===\"move\":!1}function eF(n,e){return JSON.stringify(n)===JSON.stringify(e)}function tF(n,e){return n===e}function JO(n){return n.slice(0,n.length-1)}function nF(n){return n[n.length-1]}function rF(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tF;if(n.length<e.length)return!1;for(let r=0;r<e.length;r++)if(!t(n[r],e[r]))return!1;return!0}function XO(n){return typeof n==\"object\"&&n!==null}function pw(n){if(Jn(n)){const e=n.slice();return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else if(rr(n)){const e={...n};return Object.getOwnPropertySymbols(n).forEach(t=>{e[t]=n[t]}),e}else return n}function mw(n,e,t){if(n[e]===t)return n;{const r=pw(n);return r[e]=t,r}}function Qe(n,e){let t=n,r=0;for(;r<e.length;)rr(t)?t=t[e[r]]:Jn(t)?t=t[parseInt(e[r])]:t=void 0,r++;return t}function Oi(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;const i=e[0],o=Oi(n?n[i]:void 0,e.slice(1),t,r);if(rr(n)||Jn(n))return mw(n,i,o);if(r){const s=iF.test(i)?[]:{};return s[i]=o,s}else throw new Error(\"Path does not exist\")}const iF=/^\\d+$/;function vw(n,e,t){if(e.length===0)return t(n);if(!XO(n))throw new Error(\"Path doesn't exist\");const r=e[0],i=vw(n[r],e.slice(1),t);return mw(n,r,i)}function iv(n,e){if(e.length===0)return n;if(!XO(n))throw new Error(\"Path does not exist\");if(e.length===1){const i=e[0];if(i in n){const o=pw(n);return Jn(o)&&o.splice(parseInt(i),1),rr(o)&&delete o[i],o}else return n}const t=e[0],r=iv(n[t],e.slice(1));return mw(n,t,r)}function yw(n,e,t){const r=e.slice(0,e.length-1),i=e[e.length-1];return vw(n,r,o=>{if(!Array.isArray(o))throw new TypeError(\"Array expected at path \"+JSON.stringify(r));const s=pw(o);return s.splice(parseInt(i),0,t),s})}function co(n,e){return n===void 0?!1:e.length===0?!0:n===null?!1:co(n[e[0]],e.slice(1))}function yo(n){const e=n.split(\"/\");return e.shift(),e.map(t=>t.replace(/~1/g,\"/\").replace(/~0/g,\"~\"))}function ht(n){return n.map(GO).join(\"\")}function GO(n){return\"/\"+String(n).replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function yC(n,e){return n+GO(e)}function Fo(n,e,t){let r=n;for(let i=0;i<e.length;i++){dF(e[i]);let o=e[i];if(t&&t.before){const l=t.before(r,o);if(l!==void 0){if(l.document!==void 0&&(r=l.document),l.json!==void 0)throw new Error('Deprecation warning: returned object property \".json\" has been renamed to \".document\"');l.operation!==void 0&&(o=l.operation)}}const s=r,a=jo(r,o.path);if(o.op===\"add\")r=aF(r,a,o.value);else if(o.op===\"remove\")r=sF(r,a);else if(o.op===\"replace\")r=oF(r,a,o.value);else if(o.op===\"copy\")r=lF(r,a,n1(o.from));else if(o.op===\"move\")r=cF(r,a,n1(o.from));else if(o.op===\"test\")uF(r,a,o.value);else throw new Error(\"Unknown JSONPatch operation \"+JSON.stringify(o));if(t&&t.after){const l=t.after(r,o,s);l!==void 0&&(r=l)}}return r}function oF(n,e,t){return Oi(n,e,t)}function sF(n,e){return iv(n,e)}function aF(n,e,t){return ih(n,e)?yw(n,e,t):Oi(n,e,t)}function lF(n,e,t){const r=Qe(n,t);if(ih(n,e))return yw(n,e,r);{const i=Qe(n,t);return Oi(n,e,i)}}function cF(n,e,t){const r=Qe(n,t),i=iv(n,t);return ih(i,e)?yw(i,e,r):Oi(i,e,r)}function uF(n,e,t){if(t===void 0)throw new Error(`Test failed: no value provided (path: \"${ht(e)}\")`);if(!co(n,e))throw new Error(`Test failed: path not found (path: \"${ht(e)}\")`);const r=Qe(n,e);if(!eF(r,t))throw new Error(`Test failed, value differs (path: \"${ht(e)}\")`)}function ih(n,e){if(e.length===0)return!1;const t=Qe(n,JO(e));return Array.isArray(t)}function fF(n,e){if(nF(e)!==\"-\")return e;const t=JO(e),r=Qe(n,t);return t.concat(r.length)}function dF(n){if(![\"add\",\"remove\",\"replace\",\"copy\",\"move\",\"test\"].includes(n.op))throw new Error(\"Unknown JSONPatch op \"+JSON.stringify(n.op));if(typeof n.path!=\"string\")throw new Error('Required property \"path\" missing or not a string in operation '+JSON.stringify(n));if((n.op===\"copy\"||n.op===\"move\")&&typeof n.from!=\"string\")throw new Error('Required property \"from\" missing or not a string in operation '+JSON.stringify(n))}function jo(n,e){return fF(n,yo(e))}function n1(n){return yo(n)}function YO(n,e,t){let r=[];return Fo(n,e,{before:(o,s)=>{let a;const l=jo(o,s.path);if(s.op===\"add\")a=$O(o,l);else if(s.op===\"remove\")a=ZO(o,l);else if(s.op===\"replace\")a=QO(o,l);else if(s.op===\"copy\")a=hF(o,l);else if(s.op===\"move\")a=gF(o,l,n1(s.from));else if(s.op===\"test\")a=[];else throw new Error(\"Unknown JSONPatch operation \"+JSON.stringify(s));let u;if(t&&t.before){const f=t.before(o,s,a);if(f&&f.revertOperations&&(a=f.revertOperations),f&&f.document&&(u=f.document),f&&f.json)throw new Error('Deprecation warning: returned object property \".json\" has been renamed to \".document\"')}if(r=a.concat(r),u!==void 0)return{document:u}}}),r}function QO(n,e){return[{op:\"replace\",path:ht(e),value:Qe(n,e)}]}function ZO(n,e){return[{op:\"add\",path:ht(e),value:Qe(n,e)}]}function $O(n,e){return ih(n,e)||!co(n,e)?[{op:\"remove\",path:ht(e)}]:QO(n,e)}function hF(n,e){return $O(n,e)}function gF(n,e,t){if(e.length<t.length&&rF(t,e))return[{op:\"replace\",path:ht(e),value:n}];const r={op:\"move\",from:ht(e),path:ht(t)};return!ih(n,e)&&co(n,e)?[r,...ZO(n,e)]:[r]}var ov={},bC={b:\"\\b\",f:\"\\f\",n:`\n`,r:\"\\r\",t:\"\t\",'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\"},pF=97;ov.parse=function(n,e,t){var r={},i=0,o=0,s=0,a=t&&t.bigint&&typeof BigInt<\"u\";return{data:l(\"\",!0),pointers:r};function l(I,D){u();var A;k(I,\"value\");var M=m();switch(M){case\"t\":p(\"rue\"),A=!0;break;case\"f\":p(\"alse\"),A=!1;break;case\"n\":p(\"ull\"),A=null;break;case'\"':A=f();break;case\"[\":A=h(I);break;case\"{\":A=g(I);break;default:y(),\"-0123456789\".indexOf(M)>=0?A=d():E()}return k(I,\"valueEnd\"),u(),D&&s<n.length&&E(),A}function u(){e:for(;s<n.length;){switch(n[s]){case\" \":o++;break;case\"\t\":o+=4;break;case\"\\r\":o=0;break;case`\n`:o=0,i++;break;default:break e}s++}}function f(){for(var I=\"\",D;D=m(),D!='\"';)D==\"\\\\\"?(D=m(),D in bC?I+=bC[D]:D==\"u\"?I+=v():O()):I+=D;return I}function d(){var I=\"\",D=!0;n[s]==\"-\"&&(I+=m()),I+=n[s]==\"0\"?m():C(),n[s]==\".\"&&(I+=m()+C(),D=!1),(n[s]==\"e\"||n[s]==\"E\")&&(I+=m(),(n[s]==\"+\"||n[s]==\"-\")&&(I+=m()),I+=C(),D=!1);var A=+I;return a&&D&&(A>Number.MAX_SAFE_INTEGER||A<Number.MIN_SAFE_INTEGER)?BigInt(I):A}function h(I){u();var D=[],A=0;if(m()==\"]\")return D;for(y();;){var M=I+\"/\"+A;D.push(l(M)),u();var P=m();if(P==\"]\")break;P!=\",\"&&O(),u(),A++}return D}function g(I){u();var D={};if(m()==\"}\")return D;for(y();;){var A=w();m()!='\"'&&O();var M=f(),P=I+\"/\"+r1(M);b(P,\"key\",A),k(P,\"keyEnd\"),u(),m()!=\":\"&&O(),u(),D[M]=l(P),u();var _=m();if(_==\"}\")break;_!=\",\"&&O(),u()}return D}function p(I){for(var D=0;D<I.length;D++)m()!==I[D]&&O()}function m(){T();var I=n[s];return s++,o++,I}function y(){s--,o--}function v(){for(var I=4,D=0;I--;){D<<=4;var A=m().toLowerCase();A>=\"a\"&&A<=\"f\"?D+=A.charCodeAt()-pF+10:A>=\"0\"&&A<=\"9\"?D+=+A:O()}return String.fromCharCode(D)}function C(){for(var I=\"\";n[s]>=\"0\"&&n[s]<=\"9\";)I+=m();if(I.length)return I;T(),E()}function k(I,D){b(I,D,w())}function b(I,D,A){r[I]=r[I]||{},r[I][D]=A}function w(){return{line:i,column:o,pos:s}}function E(){throw new SyntaxError(\"Unexpected token \"+n[s]+\" in JSON at position \"+s)}function O(){y(),E()}function T(){if(s>=n.length)throw new SyntaxError(\"Unexpected end of JSON input\")}};ov.stringify=function(n,e,t){if(!Hh(n))return;var r=0,i,o,s=typeof t==\"object\"?t.space:t;switch(typeof s){case\"number\":var a=s>10?10:s<0?0:Math.floor(s);s=a&&b(a,\" \"),i=a,o=a;break;case\"string\":s=s.slice(0,10),i=0,o=0;for(var l=0;l<s.length;l++){var u=s[l];switch(u){case\" \":o++;break;case\"\t\":o+=4;break;case\"\\r\":o=0;break;case`\n`:o=0,r++;break;default:throw new Error(\"whitespace characters not allowed in JSON\")}i++}break;default:s=void 0}var f=\"\",d={},h=0,g=0,p=0,m=t&&t.es6&&typeof Map==\"function\";return y(n,0,\"\"),{json:f,pointers:d};function y(w,E,O){switch(k(O,\"value\"),typeof w){case\"number\":case\"bigint\":case\"boolean\":v(\"\"+w);break;case\"string\":v(qh(w));break;case\"object\":w===null?v(\"null\"):typeof w.toJSON==\"function\"?v(qh(w.toJSON())):Array.isArray(w)?T():m?w.constructor.BYTES_PER_ELEMENT?T():w instanceof Map?D():w instanceof Set?D(!0):I():I()}k(O,\"valueEnd\");function T(){if(w.length){v(\"[\");for(var A=E+1,M=0;M<w.length;M++){M&&v(\",\"),C(A);var P=Hh(w[M])?w[M]:null,_=O+\"/\"+M;y(P,A,_)}C(E),v(\"]\")}else v(\"[]\")}function I(){var A=Object.keys(w);if(A.length){v(\"{\");for(var M=E+1,P=0;P<A.length;P++){var _=A[P],N=w[_];if(Hh(N)){P&&v(\",\");var F=O+\"/\"+r1(_);C(M),k(F,\"key\"),v(qh(_)),k(F,\"keyEnd\"),v(\":\"),s&&v(\" \"),y(N,M,F)}}C(E),v(\"}\")}else v(\"{}\")}function D(A){if(w.size){v(\"{\");for(var M=E+1,P=!0,_=w.entries(),N=_.next();!N.done;){var F=N.value,B=F[0],L=A?!0:F[1];if(Hh(L)){P||v(\",\"),P=!1;var z=O+\"/\"+r1(B);C(M),k(z,\"key\"),v(qh(B)),k(z,\"keyEnd\"),v(\":\"),s&&v(\" \"),y(L,M,z)}N=_.next()}C(E),v(\"}\")}else v(\"{}\")}}function v(w){g+=w.length,p+=w.length,f+=w}function C(w){if(s){for(f+=`\n`+b(w,s),h++,g=0;w--;)r?(h+=r,g=o):g+=o,p+=i;p+=1}}function k(w,E){d[w]=d[w]||{},d[w][E]={line:h,column:g,pos:p}}function b(w,E){return Array(w+1).join(E)}};var mF=[\"number\",\"bigint\",\"boolean\",\"string\",\"object\"];function Hh(n){return mF.indexOf(typeof n)>=0}var vF=/\"|\\\\/g,yF=/[\\b]/g,bF=/\\f/g,wF=/\\n/g,xF=/\\r/g,CF=/\\t/g;function qh(n){return n=n.replace(vF,\"\\\\$&\").replace(bF,\"\\\\f\").replace(yF,\"\\\\b\").replace(wF,\"\\\\n\").replace(xF,\"\\\\r\").replace(CF,\"\\\\t\"),'\"'+n+'\"'}var _F=/~/g,SF=/\\//g;function r1(n){return n.replace(_F,\"~0\").replace(SF,\"~1\")}class Mc extends Error{constructor(e,t){super(\"\".concat(e,\" at position \").concat(t)),this.position=t}}const eA=32,kF=10,tA=9,nA=13,OF=160,AF=8192,EF=8202,TF=8239,MF=8287,PF=12288;function IF(n){return/^[0-9A-Fa-f]$/.test(n)}function xl(n){return n>=\"0\"&&n<=\"9\"}function RF(n){return n>=\" \"}function Wh(n){return`,:[]/{}()\n+`.includes(n)}function wC(n){return n>=\"a\"&&n<=\"z\"||n>=\"A\"&&n<=\"Z\"||n===\"_\"||n===\"$\"}function xC(n){return n>=\"a\"&&n<=\"z\"||n>=\"A\"&&n<=\"Z\"||n===\"_\"||n===\"$\"||n>=\"0\"&&n<=\"9\"}const CC=/^(http|https|ftp|mailto|file|data|irc):\\/\\/$/,_C=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function SC(n){return`,[]/{}\n+`.includes(n)}function kC(n){return Ug(n)||DF.test(n)}const DF=/^[[{\\w-]$/;function NF(n){return n===`\n`||n===\"\\r\"||n===\"\t\"||n===\"\\b\"||n===\"\\f\"}function Sl(n,e){const t=n.charCodeAt(e);return t===eA||t===kF||t===tA||t===nA}function LF(n,e){const t=n.charCodeAt(e);return t===eA||t===tA||t===nA}function BF(n,e){const t=n.charCodeAt(e);return t===OF||t>=AF&&t<=EF||t===TF||t===MF||t===PF}function Ug(n){return rA(n)||i1(n)}function rA(n){return n==='\"'||n===\"\"||n===\"\"}function OC(n){return n==='\"'}function i1(n){return n===\"'\"||n===\"\"||n===\"\"||n===\"`\"||n===\"\"}function AC(n){return n===\"'\"}function pf(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=n.lastIndexOf(e);return r!==-1?n.substring(0,r)+(t?\"\":n.substring(r+1)):n}function To(n,e){let t=n.length;if(!Sl(n,t-1))return n+e;for(;Sl(n,t-1);)t--;return n.substring(0,t)+e+n.substring(t)}function FF(n,e,t){return n.substring(0,e)+n.substring(e+t)}function jF(n){return/[,\\n][ \\t\\r]*$/.test(n)}const zF={\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\t\":\"\\\\t\"},VF={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:`\n`,r:\"\\r\",t:\"\t\"};function vs(n){let e=0,t=\"\";u(),o()||P(),u();const i=f(\",\");for(i&&s(),kC(n[e])&&jF(t)?(i||(t=To(t,\",\")),y()):i&&(t=pf(t,\",\"));n[e]===\"}\"||n[e]===\"]\";)e++,s();if(e>=n.length)return t;M();function o(){s();const B=p()||m()||v()||k()||b()||E(!1)||O();return s(),B}function s(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const L=e;let z=a(B);do z=l(),z&&(z=a(B));while(z);return e>L}function a(B){const L=B?Sl:LF;let z=\"\";for(;;)if(L(n,e))z+=n[e],e++;else if(BF(n,e))z+=\" \",e++;else break;return z.length>0?(t+=z,!0):!1}function l(){if(n[e]===\"/\"&&n[e+1]===\"*\"){for(;e<n.length&&!HF(n,e);)e++;return e+=2,!0}if(n[e]===\"/\"&&n[e+1]===\"/\"){for(;e<n.length&&n[e]!==`\n`;)e++;return!0}return!1}function u(){if(n.slice(e,e+3)===\"```\"){if(e+=3,wC(n[e]))for(;e<n.length&&xC(n[e]);)e++;return s(),!0}return!1}function f(B){return n[e]===B?(t+=n[e],e++,!0):!1}function d(B){return n[e]===B?(e++,!0):!1}function h(){return d(\"\\\\\")}function g(){return s(),n[e]===\".\"&&n[e+1]===\".\"&&n[e+2]===\".\"?(e+=3,s(),d(\",\"),!0):!1}function p(){if(n[e]===\"{\"){t+=\"{\",e++,s(),d(\",\")&&s();let B=!0;for(;e<n.length&&n[e]!==\"}\";){let L;if(B?(L=!0,B=!1):(L=f(\",\"),L||(t=To(t,\",\")),s()),g(),!(v()||E(!0))){n[e]===\"}\"||n[e]===\"{\"||n[e]===\"]\"||n[e]===\"[\"||n[e]===void 0?t=pf(t,\",\"):_();break}s();const Z=f(\":\"),ae=e>=n.length;Z||(kC(n[e])||ae?t=To(t,\":\"):N()),o()||(Z||ae?t+=\"null\":N())}return n[e]===\"}\"?(t+=\"}\",e++):t=To(t,\"}\"),!0}return!1}function m(){if(n[e]===\"[\"){t+=\"[\",e++,s(),d(\",\")&&s();let B=!0;for(;e<n.length&&n[e]!==\"]\";)if(B?B=!1:f(\",\")||(t=To(t,\",\")),g(),!o()){t=pf(t,\",\");break}return n[e]===\"]\"?(t+=\"]\",e++):t=To(t,\"]\"),!0}return!1}function y(){let B=!0,L=!0;for(;L;)B?B=!1:f(\",\")||(t=To(t,\",\")),L=o();L||(t=pf(t,\",\")),t=`[\n`.concat(t,`\n]`)}function v(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,z=n[e]===\"\\\\\";if(z&&(e++,z=!0),Ug(n[e])){const Z=OC(n[e])?OC:AC(n[e])?AC:i1(n[e])?i1:rA,ae=e,ne=t.length;let ie='\"';for(e++;;){if(e>=n.length){const U=T(e-1);return!B&&Wh(n.charAt(U))?(e=ae,t=t.substring(0,ne),v(!0)):(ie=To(ie,'\"'),t+=ie,!0)}else{if(e===L)return ie=To(ie,'\"'),t+=ie,!0;if(Z(n[e])){const U=e,ue=ie.length;if(ie+='\"',e++,t+=ie,s(!1),B||e>=n.length||Wh(n[e])||Ug(n[e])||xl(n[e]))return C(),!0;const ce=T(U-1),q=n.charAt(ce);if(q===\",\")return e=ae,t=t.substring(0,ne),v(!1,ce);if(Wh(q))return e=ae,t=t.substring(0,ne),v(!0);t=t.substring(0,ne),e=U+1,ie=\"\".concat(ie.substring(0,ue),\"\\\\\").concat(ie.substring(ue))}else if(B&&SC(n[e])){if(n[e-1]===\":\"&&CC.test(n.substring(ae+1,e+2)))for(;e<n.length&&_C.test(n[e]);)ie+=n[e],e++;return ie=To(ie,'\"'),t+=ie,C(),!0}else if(n[e]===\"\\\\\"){const U=n.charAt(e+1);if(VF[U]!==void 0)ie+=n.slice(e,e+2),e+=2;else if(U===\"u\"){let ce=2;for(;ce<6&&IF(n[e+ce]);)ce++;ce===6?(ie+=n.slice(e,e+6),e+=6):e+ce>=n.length?e=n.length:F()}else ie+=U,e+=2}else{const U=n.charAt(e);U==='\"'&&n[e-1]!==\"\\\\\"?(ie+=\"\\\\\".concat(U),e++):NF(U)?(ie+=zF[U],e++):(RF(U)||A(U),ie+=U,e++)}}z&&h()}}return!1}function C(){let B=!1;for(s();n[e]===\"+\";){B=!0,e++,s(),t=pf(t,'\"',!0);const L=t.length;v()?t=FF(t,L,1):t=To(t,'\"')}return B}function k(){const B=e;if(n[e]===\"-\"){if(e++,I())return D(B),!0;if(!xl(n[e]))return e=B,!1}for(;xl(n[e]);)e++;if(n[e]===\".\"){if(e++,I())return D(B),!0;if(!xl(n[e]))return e=B,!1;for(;xl(n[e]);)e++}if(n[e]===\"e\"||n[e]===\"E\"){if(e++,(n[e]===\"-\"||n[e]===\"+\")&&e++,I())return D(B),!0;if(!xl(n[e]))return e=B,!1;for(;xl(n[e]);)e++}if(!I())return e=B,!1;if(e>B){const L=n.slice(B,e),z=/^0\\d/.test(L);return t+=z?'\"'.concat(L,'\"'):L,!0}return!1}function b(){return w(\"true\",\"true\")||w(\"false\",\"false\")||w(\"null\",\"null\")||w(\"True\",\"true\")||w(\"False\",\"false\")||w(\"None\",\"null\")}function w(B,L){return n.slice(e,e+B.length)===B?(t+=L,e+=B.length,!0):!1}function E(B){const L=e;if(wC(n[e])){for(;e<n.length&&xC(n[e]);)e++;let z=e;for(;Sl(n,z);)z++;if(n[z]===\"(\")return e=z+1,o(),n[e]===\")\"&&(e++,n[e]===\";\"&&e++),!0}for(;e<n.length&&!SC(n[e])&&!Ug(n[e])&&(!B||n[e]!==\":\");)e++;if(n[e-1]===\":\"&&CC.test(n.substring(L,e+2)))for(;e<n.length&&_C.test(n[e]);)e++;if(e>L){for(;Sl(n,e-1)&&e>0;)e--;const z=n.slice(L,e);return t+=z===\"undefined\"?\"null\":JSON.stringify(z),n[e]==='\"'&&e++,!0}}function O(){if(n[e]===\"/\"){const B=e;for(e++;e<n.length&&(n[e]!==\"/\"||n[e-1]===\"\\\\\");)e++;return e++,t+='\"'.concat(n.substring(B,e),'\"'),!0}}function T(B){let L=B;for(;L>0&&Sl(n,L);)L--;return L}function I(){return e>=n.length||Wh(n[e])||Sl(n,e)}function D(B){t+=\"\".concat(n.slice(B,e),\"0\")}function A(B){throw new Mc(\"Invalid character \".concat(JSON.stringify(B)),e)}function M(){throw new Mc(\"Unexpected character \".concat(JSON.stringify(n[e])),e)}function P(){throw new Mc(\"Unexpected end of json string\",n.length)}function _(){throw new Mc(\"Object key expected\",e)}function N(){throw new Mc(\"Colon expected\",e)}function F(){const B=n.slice(e,e+6);throw new Mc('Invalid unicode character \"'.concat(B,'\"'),e)}}function HF(n,e){return n[e]===\"*\"&&n[e+1]===\"/\"}function jr(n){return parseInt(n,10)}function bw(n){return qF.test(n)}const qF=/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?$/;function ln(n){return typeof n==\"object\"&&n!==null&&(n.constructor===void 0||n.constructor.name===\"Object\")}function nr(n){return typeof n==\"object\"&&n!==null&&(n.constructor===void 0||n.constructor.name===\"Object\"||n.constructor.name===\"Array\")}function WF(n){return n===!0||n===!1}function o1(n){if(typeof n==\"number\")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n==\"bigint\")return o1(Number(n));try{const t=n&&n.valueOf();if(t!==n)return o1(t)}catch{return!1}return!1}function iA(n){mf=mf||window.document.createElement(\"div\"),mf.style.color=\"\",mf.style.color=n;const e=mf.style.color;return e!==\"\"?e.replace(/\\s+/g,\"\").toLowerCase():void 0}let mf;function UF(n){return typeof n==\"string\"&&n.length<99&&!!iA(n)}function ww(n,e){if(typeof n==\"number\"||typeof n==\"string\"||typeof n==\"boolean\"||typeof n>\"u\")return typeof n;if(typeof n==\"bigint\")return\"number\";if(n===null)return\"null\";if(Array.isArray(n))return\"array\";if(ln(n))return\"object\";const t=e.stringify(n);return t&&bw(t)?\"number\":t===\"true\"||t===\"false\"?\"boolean\":t===\"null\"?\"null\":\"unknown\"}const KF=/^https?:\\/\\/\\S+$/;function sv(n){return typeof n==\"string\"&&KF.test(n)}function Gu(n,e){if(n===\"\")return\"\";const t=n.trim();return t===\"null\"?null:t===\"true\"?!0:t===\"false\"?!1:bw(t)?e.parse(t):n}function JF(n){return typeof n==\"string\"&&typeof Gu(n,JSON)!=\"string\"}var oA=typeof global==\"object\"&&global&&global.Object===Object&&global,XF=typeof self==\"object\"&&self&&self.Object===Object&&self,Qo=oA||XF||Function(\"return this\")(),bo=Qo.Symbol,sA=Object.prototype,GF=sA.hasOwnProperty,YF=sA.toString,vf=bo?bo.toStringTag:void 0;function QF(n){var e=GF.call(n,vf),t=n[vf];try{n[vf]=void 0;var r=!0}catch{}var i=YF.call(n);return r&&(e?n[vf]=t:delete n[vf]),i}var ZF=Object.prototype,$F=ZF.toString;function ej(n){return $F.call(n)}var tj=\"[object Null]\",nj=\"[object Undefined]\",EC=bo?bo.toStringTag:void 0;function Yu(n){return n==null?n===void 0?nj:tj:EC&&EC in Object(n)?QF(n):ej(n)}function Ga(n){return n!=null&&typeof n==\"object\"}var rj=\"[object Symbol]\";function Xl(n){return typeof n==\"symbol\"||Ga(n)&&Yu(n)==rj}function Uf(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var si=Array.isArray,TC=bo?bo.prototype:void 0,MC=TC?TC.toString:void 0;function aA(n){if(typeof n==\"string\")return n;if(si(n))return Uf(n,aA)+\"\";if(Xl(n))return MC?MC.call(n):\"\";var e=n+\"\";return e==\"0\"&&1/n==-1/0?\"-0\":e}var ij=/\\s/;function oj(n){for(var e=n.length;e--&&ij.test(n.charAt(e)););return e}var sj=/^\\s+/;function aj(n){return n&&n.slice(0,oj(n)+1).replace(sj,\"\")}function la(n){var e=typeof n;return n!=null&&(e==\"object\"||e==\"function\")}var PC=NaN,lj=/^[-+]0x[0-9a-f]+$/i,cj=/^0b[01]+$/i,uj=/^0o[0-7]+$/i,fj=parseInt;function s1(n){if(typeof n==\"number\")return n;if(Xl(n))return PC;if(la(n)){var e=typeof n.valueOf==\"function\"?n.valueOf():n;n=la(e)?e+\"\":e}if(typeof n!=\"string\")return n===0?n:+n;n=aj(n);var t=cj.test(n);return t||uj.test(n)?fj(n.slice(2),t?2:8):lj.test(n)?PC:+n}var dj=1/0,hj=17976931348623157e292;function Kg(n){if(!n)return n===0?n:0;if(n=s1(n),n===dj||n===-1/0){var e=n<0?-1:1;return e*hj}return n===n?n:0}function gj(n){var e=Kg(n),t=e%1;return e===e?t?e-t:e:0}function oh(n){return n}var pj=\"[object AsyncFunction]\",mj=\"[object Function]\",vj=\"[object GeneratorFunction]\",yj=\"[object Proxy]\";function lA(n){if(!la(n))return!1;var e=Yu(n);return e==mj||e==vj||e==pj||e==yj}var b0=Qo[\"__core-js_shared__\"],IC=function(){var n=/[^.]+$/.exec(b0&&b0.keys&&b0.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}();function bj(n){return!!IC&&IC in n}var wj=Function.prototype,xj=wj.toString;function gc(n){if(n!=null){try{return xj.call(n)}catch{}try{return n+\"\"}catch{}}return\"\"}var Cj=/[\\\\^$.*+?()[\\]{}|]/g,_j=/^\\[object .+?Constructor\\]$/,Sj=Function.prototype,kj=Object.prototype,Oj=Sj.toString,Aj=kj.hasOwnProperty,Ej=RegExp(\"^\"+Oj.call(Aj).replace(Cj,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function Tj(n){if(!la(n)||bj(n))return!1;var e=lA(n)?Ej:_j;return e.test(gc(n))}function Mj(n,e){return n==null?void 0:n[e]}function pc(n,e){var t=Mj(n,e);return Tj(t)?t:void 0}var a1=pc(Qo,\"WeakMap\"),RC=Object.create,Pj=function(){function n(){}return function(e){if(!la(e))return{};if(RC)return RC(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function Ij(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function cr(){}var Rj=800,Dj=16,Nj=Date.now;function Lj(n){var e=0,t=0;return function(){var r=Nj(),i=Dj-(r-t);if(t=r,i>0){if(++e>=Rj)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Bj(n){return function(){return n}}var Fp=function(){try{var n=pc(Object,\"defineProperty\");return n({},\"\",{}),n}catch{}}(),Fj=Fp?function(n,e){return Fp(n,\"toString\",{configurable:!0,enumerable:!1,value:Bj(e),writable:!0})}:oh,jj=Lj(Fj);function zj(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var Vj=9007199254740991,Hj=/^(?:0|[1-9]\\d*)$/;function xw(n,e){var t=typeof n;return e=e??Vj,!!e&&(t==\"number\"||t!=\"symbol\"&&Hj.test(n))&&n>-1&&n%1==0&&n<e}function Cw(n,e,t){e==\"__proto__\"&&Fp?Fp(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function av(n,e){return n===e||n!==n&&e!==e}var qj=Object.prototype,Wj=qj.hasOwnProperty;function Uj(n,e,t){var r=n[e];(!(Wj.call(n,e)&&av(r,t))||t===void 0&&!(e in n))&&Cw(n,e,t)}var DC=Math.max;function Kj(n,e,t){return e=DC(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=DC(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),Ij(n,this,a)}}function Jj(n,e){return jj(Kj(n,e,oh),n+\"\")}var Xj=9007199254740991;function _w(n){return typeof n==\"number\"&&n>-1&&n%1==0&&n<=Xj}function sh(n){return n!=null&&_w(n.length)&&!lA(n)}function l1(n,e,t){if(!la(t))return!1;var r=typeof e;return(r==\"number\"?sh(t)&&xw(e,t.length):r==\"string\"&&e in t)?av(t[e],n):!1}var Gj=Object.prototype;function Sw(n){var e=n&&n.constructor,t=typeof e==\"function\"&&e.prototype||Gj;return n===t}function cA(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Yj=\"[object Arguments]\";function NC(n){return Ga(n)&&Yu(n)==Yj}var uA=Object.prototype,Qj=uA.hasOwnProperty,Zj=uA.propertyIsEnumerable,lv=NC(function(){return arguments}())?NC:function(n){return Ga(n)&&Qj.call(n,\"callee\")&&!Zj.call(n,\"callee\")};function $j(){return!1}var fA=typeof Ji==\"object\"&&Ji&&!Ji.nodeType&&Ji,LC=fA&&typeof Xi==\"object\"&&Xi&&!Xi.nodeType&&Xi,ez=LC&&LC.exports===fA,BC=ez?Qo.Buffer:void 0,tz=BC?BC.isBuffer:void 0,vd=tz||$j,nz=\"[object Arguments]\",rz=\"[object Array]\",iz=\"[object Boolean]\",oz=\"[object Date]\",sz=\"[object Error]\",az=\"[object Function]\",lz=\"[object Map]\",cz=\"[object Number]\",uz=\"[object Object]\",fz=\"[object RegExp]\",dz=\"[object Set]\",hz=\"[object String]\",gz=\"[object WeakMap]\",pz=\"[object ArrayBuffer]\",mz=\"[object DataView]\",vz=\"[object Float32Array]\",yz=\"[object Float64Array]\",bz=\"[object Int8Array]\",wz=\"[object Int16Array]\",xz=\"[object Int32Array]\",Cz=\"[object Uint8Array]\",_z=\"[object Uint8ClampedArray]\",Sz=\"[object Uint16Array]\",kz=\"[object Uint32Array]\",Hn={};Hn[vz]=Hn[yz]=Hn[bz]=Hn[wz]=Hn[xz]=Hn[Cz]=Hn[_z]=Hn[Sz]=Hn[kz]=!0;Hn[nz]=Hn[rz]=Hn[pz]=Hn[iz]=Hn[mz]=Hn[oz]=Hn[sz]=Hn[az]=Hn[lz]=Hn[cz]=Hn[uz]=Hn[fz]=Hn[dz]=Hn[hz]=Hn[gz]=!1;function Oz(n){return Ga(n)&&_w(n.length)&&!!Hn[Yu(n)]}function cv(n){return function(e){return n(e)}}var dA=typeof Ji==\"object\"&&Ji&&!Ji.nodeType&&Ji,Kf=dA&&typeof Xi==\"object\"&&Xi&&!Xi.nodeType&&Xi,Az=Kf&&Kf.exports===dA,w0=Az&&oA.process,Tu=function(){try{var n=Kf&&Kf.require&&Kf.require(\"util\").types;return n||w0&&w0.binding&&w0.binding(\"util\")}catch{}}(),FC=Tu&&Tu.isTypedArray,kw=FC?cv(FC):Oz,Ez=Object.prototype,Tz=Ez.hasOwnProperty;function Mz(n,e){var t=si(n),r=!t&&lv(n),i=!t&&!r&&vd(n),o=!t&&!r&&!i&&kw(n),s=t||r||i||o,a=s?cA(n.length,String):[],l=a.length;for(var u in n)Tz.call(n,u)&&!(s&&(u==\"length\"||i&&(u==\"offset\"||u==\"parent\")||o&&(u==\"buffer\"||u==\"byteLength\"||u==\"byteOffset\")||xw(u,l)))&&a.push(u);return a}function hA(n,e){return function(t){return n(e(t))}}var Pz=hA(Object.keys,Object),Iz=Object.prototype,Rz=Iz.hasOwnProperty;function gA(n){if(!Sw(n))return Pz(n);var e=[];for(var t in Object(n))Rz.call(n,t)&&t!=\"constructor\"&&e.push(t);return e}function uv(n){return sh(n)?Mz(n):gA(n)}var Dz=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Nz=/^\\w*$/;function Ow(n,e){if(si(n))return!1;var t=typeof n;return t==\"number\"||t==\"symbol\"||t==\"boolean\"||n==null||Xl(n)?!0:Nz.test(n)||!Dz.test(n)||e!=null&&n in Object(e)}var yd=pc(Object,\"create\");function Lz(){this.__data__=yd?yd(null):{},this.size=0}function Bz(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Fz=\"__lodash_hash_undefined__\",jz=Object.prototype,zz=jz.hasOwnProperty;function Vz(n){var e=this.__data__;if(yd){var t=e[n];return t===Fz?void 0:t}return zz.call(e,n)?e[n]:void 0}var Hz=Object.prototype,qz=Hz.hasOwnProperty;function Wz(n){var e=this.__data__;return yd?e[n]!==void 0:qz.call(e,n)}var Uz=\"__lodash_hash_undefined__\";function Kz(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=yd&&e===void 0?Uz:e,this}function Gl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Gl.prototype.clear=Lz;Gl.prototype.delete=Bz;Gl.prototype.get=Vz;Gl.prototype.has=Wz;Gl.prototype.set=Kz;function Jz(){this.__data__=[],this.size=0}function fv(n,e){for(var t=n.length;t--;)if(av(n[t][0],e))return t;return-1}var Xz=Array.prototype,Gz=Xz.splice;function Yz(n){var e=this.__data__,t=fv(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Gz.call(e,t,1),--this.size,!0}function Qz(n){var e=this.__data__,t=fv(e,n);return t<0?void 0:e[t][1]}function Zz(n){return fv(this.__data__,n)>-1}function $z(n,e){var t=this.__data__,r=fv(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ba(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ba.prototype.clear=Jz;ba.prototype.delete=Yz;ba.prototype.get=Qz;ba.prototype.has=Zz;ba.prototype.set=$z;var bd=pc(Qo,\"Map\");function eV(){this.size=0,this.__data__={hash:new Gl,map:new(bd||ba),string:new Gl}}function tV(n){var e=typeof n;return e==\"string\"||e==\"number\"||e==\"symbol\"||e==\"boolean\"?n!==\"__proto__\":n===null}function dv(n,e){var t=n.__data__;return tV(e)?t[typeof e==\"string\"?\"string\":\"hash\"]:t.map}function nV(n){var e=dv(this,n).delete(n);return this.size-=e?1:0,e}function rV(n){return dv(this,n).get(n)}function iV(n){return dv(this,n).has(n)}function oV(n,e){var t=dv(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function wa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}wa.prototype.clear=eV;wa.prototype.delete=nV;wa.prototype.get=rV;wa.prototype.has=iV;wa.prototype.set=oV;var sV=\"Expected a function\";function Aw(n,e){if(typeof n!=\"function\"||e!=null&&typeof e!=\"function\")throw new TypeError(sV);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s)||o,s};return t.cache=new(Aw.Cache||wa),t}Aw.Cache=wa;var aV=500;function lV(n){var e=Aw(n,function(r){return t.size===aV&&t.clear(),r}),t=e.cache;return e}var cV=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,uV=/\\\\(\\\\)?/g,fV=lV(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(\"\"),n.replace(cV,function(t,r,i,o){e.push(i?o.replace(uV,\"$1\"):r||t)}),e});function pA(n){return n==null?\"\":aA(n)}function mA(n,e){return si(n)?n:Ow(n,e)?[n]:fV(pA(n))}function hv(n){if(typeof n==\"string\"||Xl(n))return n;var e=n+\"\";return e==\"0\"&&1/n==-1/0?\"-0\":e}function Ew(n,e){e=mA(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[hv(e[t++])];return t&&t==r?n:void 0}function dV(n,e,t){var r=n==null?void 0:Ew(n,e);return r===void 0?t:r}function vA(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var jC=bo?bo.isConcatSpreadable:void 0;function hV(n){return si(n)||lv(n)||!!(jC&&n&&n[jC])}function gV(n,e,t,r,i){var o=-1,s=n.length;for(t||(t=hV),i||(i=[]);++o<s;){var a=n[o];t(a)?vA(i,a):i[i.length]=a}return i}var pV=hA(Object.getPrototypeOf,Object);function mV(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+e];return o}function vV(){this.__data__=new ba,this.size=0}function yV(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function bV(n){return this.__data__.get(n)}function wV(n){return this.__data__.has(n)}var xV=200;function CV(n,e){var t=this.__data__;if(t instanceof ba){var r=t.__data__;if(!bd||r.length<xV-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new wa(r)}return t.set(n,e),this.size=t.size,this}function ys(n){var e=this.__data__=new ba(n);this.size=e.size}ys.prototype.clear=vV;ys.prototype.delete=yV;ys.prototype.get=bV;ys.prototype.has=wV;ys.prototype.set=CV;var yA=typeof Ji==\"object\"&&Ji&&!Ji.nodeType&&Ji,zC=yA&&typeof Xi==\"object\"&&Xi&&!Xi.nodeType&&Xi,_V=zC&&zC.exports===yA,VC=_V?Qo.Buffer:void 0;VC&&VC.allocUnsafe;function SV(n,e){return n.slice()}function kV(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var s=n[t];e(s,t,n)&&(o[i++]=s)}return o}function OV(){return[]}var AV=Object.prototype,EV=AV.propertyIsEnumerable,HC=Object.getOwnPropertySymbols,TV=HC?function(n){return n==null?[]:(n=Object(n),kV(HC(n),function(e){return EV.call(n,e)}))}:OV;function MV(n,e,t){var r=e(n);return si(n)?r:vA(r,t(n))}function c1(n){return MV(n,uv,TV)}var u1=pc(Qo,\"DataView\"),f1=pc(Qo,\"Promise\"),d1=pc(Qo,\"Set\"),qC=\"[object Map]\",PV=\"[object Object]\",WC=\"[object Promise]\",UC=\"[object Set]\",KC=\"[object WeakMap]\",JC=\"[object DataView]\",IV=gc(u1),RV=gc(bd),DV=gc(f1),NV=gc(d1),LV=gc(a1),no=Yu;(u1&&no(new u1(new ArrayBuffer(1)))!=JC||bd&&no(new bd)!=qC||f1&&no(f1.resolve())!=WC||d1&&no(new d1)!=UC||a1&&no(new a1)!=KC)&&(no=function(n){var e=Yu(n),t=e==PV?n.constructor:void 0,r=t?gc(t):\"\";if(r)switch(r){case IV:return JC;case RV:return qC;case DV:return WC;case NV:return UC;case LV:return KC}return e});var BV=Object.prototype,FV=BV.hasOwnProperty;function jV(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]==\"string\"&&FV.call(n,\"index\")&&(t.index=n.index,t.input=n.input),t}var jp=Qo.Uint8Array;function Tw(n){var e=new n.constructor(n.byteLength);return new jp(e).set(new jp(n)),e}function zV(n,e){var t=Tw(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var VV=/\\w*$/;function HV(n){var e=new n.constructor(n.source,VV.exec(n));return e.lastIndex=n.lastIndex,e}var XC=bo?bo.prototype:void 0,GC=XC?XC.valueOf:void 0;function qV(n){return GC?Object(GC.call(n)):{}}function WV(n,e){var t=Tw(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}var UV=\"[object Boolean]\",KV=\"[object Date]\",JV=\"[object Map]\",XV=\"[object Number]\",GV=\"[object RegExp]\",YV=\"[object Set]\",QV=\"[object String]\",ZV=\"[object Symbol]\",$V=\"[object ArrayBuffer]\",eH=\"[object DataView]\",tH=\"[object Float32Array]\",nH=\"[object Float64Array]\",rH=\"[object Int8Array]\",iH=\"[object Int16Array]\",oH=\"[object Int32Array]\",sH=\"[object Uint8Array]\",aH=\"[object Uint8ClampedArray]\",lH=\"[object Uint16Array]\",cH=\"[object Uint32Array]\";function uH(n,e,t){var r=n.constructor;switch(e){case $V:return Tw(n);case UV:case KV:return new r(+n);case eH:return zV(n);case tH:case nH:case rH:case iH:case oH:case sH:case aH:case lH:case cH:return WV(n);case JV:return new r;case XV:case QV:return new r(n);case GV:return HV(n);case YV:return new r;case ZV:return qV(n)}}function fH(n){return typeof n.constructor==\"function\"&&!Sw(n)?Pj(pV(n)):{}}var dH=\"[object Map]\";function hH(n){return Ga(n)&&no(n)==dH}var YC=Tu&&Tu.isMap,gH=YC?cv(YC):hH,pH=\"[object Set]\";function mH(n){return Ga(n)&&no(n)==pH}var QC=Tu&&Tu.isSet,vH=QC?cv(QC):mH,bA=\"[object Arguments]\",yH=\"[object Array]\",bH=\"[object Boolean]\",wH=\"[object Date]\",xH=\"[object Error]\",wA=\"[object Function]\",CH=\"[object GeneratorFunction]\",_H=\"[object Map]\",SH=\"[object Number]\",xA=\"[object Object]\",kH=\"[object RegExp]\",OH=\"[object Set]\",AH=\"[object String]\",EH=\"[object Symbol]\",TH=\"[object WeakMap]\",MH=\"[object ArrayBuffer]\",PH=\"[object DataView]\",IH=\"[object Float32Array]\",RH=\"[object Float64Array]\",DH=\"[object Int8Array]\",NH=\"[object Int16Array]\",LH=\"[object Int32Array]\",BH=\"[object Uint8Array]\",FH=\"[object Uint8ClampedArray]\",jH=\"[object Uint16Array]\",zH=\"[object Uint32Array]\",Bn={};Bn[bA]=Bn[yH]=Bn[MH]=Bn[PH]=Bn[bH]=Bn[wH]=Bn[IH]=Bn[RH]=Bn[DH]=Bn[NH]=Bn[LH]=Bn[_H]=Bn[SH]=Bn[xA]=Bn[kH]=Bn[OH]=Bn[AH]=Bn[EH]=Bn[BH]=Bn[FH]=Bn[jH]=Bn[zH]=!0;Bn[xH]=Bn[wA]=Bn[TH]=!1;function Jf(n,e,t,r,i,o){var s;if(t&&(s=i?t(n,r,i,o):t(n)),s!==void 0)return s;if(!la(n))return n;var a=si(n);if(a)s=jV(n);else{var l=no(n),u=l==wA||l==CH;if(vd(n))return SV(n);if(l==xA||l==bA||u&&!i)s=u?{}:fH(n);else{if(!Bn[l])return i?n:{};s=uH(n,l)}}o||(o=new ys);var f=o.get(n);if(f)return f;o.set(n,s),vH(n)?n.forEach(function(g){s.add(Jf(g,e,t,g,n,o))}):gH(n)&&n.forEach(function(g,p){s.set(p,Jf(g,e,t,p,n,o))});var d=c1,h=a?void 0:d(n);return zj(h||n,function(g,p){h&&(p=g,g=n[p]),Uj(s,p,Jf(g,e,t,p,n,o))}),s}var VH=1,HH=4;function h1(n){return Jf(n,VH|HH)}var qH=1,WH=4;function UH(n,e){return e=typeof e==\"function\"?e:void 0,Jf(n,qH|WH,e)}var KH=\"__lodash_hash_undefined__\";function JH(n){return this.__data__.set(n,KH),this}function XH(n){return this.__data__.has(n)}function zp(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new wa;++e<t;)this.add(n[e])}zp.prototype.add=zp.prototype.push=JH;zp.prototype.has=XH;function GH(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function YH(n,e){return n.has(e)}var QH=1,ZH=2;function CA(n,e,t,r,i,o){var s=t&QH,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(n),f=o.get(e);if(u&&f)return u==e&&f==n;var d=-1,h=!0,g=t&ZH?new zp:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var p=n[d],m=e[d];if(r)var y=s?r(m,p,d,e,n,o):r(p,m,d,n,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!GH(e,function(v,C){if(!YH(g,C)&&(p===v||i(p,v,t,r,o)))return g.push(C)})){h=!1;break}}else if(!(p===m||i(p,m,t,r,o))){h=!1;break}}return o.delete(n),o.delete(e),h}function $H(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function eq(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var tq=1,nq=2,rq=\"[object Boolean]\",iq=\"[object Date]\",oq=\"[object Error]\",sq=\"[object Map]\",aq=\"[object Number]\",lq=\"[object RegExp]\",cq=\"[object Set]\",uq=\"[object String]\",fq=\"[object Symbol]\",dq=\"[object ArrayBuffer]\",hq=\"[object DataView]\",ZC=bo?bo.prototype:void 0,x0=ZC?ZC.valueOf:void 0;function gq(n,e,t,r,i,o,s){switch(t){case hq:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case dq:return!(n.byteLength!=e.byteLength||!o(new jp(n),new jp(e)));case rq:case iq:case aq:return av(+n,+e);case oq:return n.name==e.name&&n.message==e.message;case lq:case uq:return n==e+\"\";case sq:var a=$H;case cq:var l=r&tq;if(a||(a=eq),n.size!=e.size&&!l)return!1;var u=s.get(n);if(u)return u==e;r|=nq,s.set(n,e);var f=CA(a(n),a(e),r,i,o,s);return s.delete(n),f;case fq:if(x0)return x0.call(n)==x0.call(e)}return!1}var pq=1,mq=Object.prototype,vq=mq.hasOwnProperty;function yq(n,e,t,r,i,o){var s=t&pq,a=c1(n),l=a.length,u=c1(e),f=u.length;if(l!=f&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:vq.call(e,h)))return!1}var g=o.get(n),p=o.get(e);if(g&&p)return g==e&&p==n;var m=!0;o.set(n,e),o.set(e,n);for(var y=s;++d<l;){h=a[d];var v=n[h],C=e[h];if(r)var k=s?r(C,v,h,e,n,o):r(v,C,h,n,e,o);if(!(k===void 0?v===C||i(v,C,t,r,o):k)){m=!1;break}y||(y=h==\"constructor\")}if(m&&!y){var b=n.constructor,w=e.constructor;b!=w&&\"constructor\"in n&&\"constructor\"in e&&!(typeof b==\"function\"&&b instanceof b&&typeof w==\"function\"&&w instanceof w)&&(m=!1)}return o.delete(n),o.delete(e),m}var bq=1,$C=\"[object Arguments]\",e_=\"[object Array]\",Uh=\"[object Object]\",wq=Object.prototype,t_=wq.hasOwnProperty;function xq(n,e,t,r,i,o){var s=si(n),a=si(e),l=s?e_:no(n),u=a?e_:no(e);l=l==$C?Uh:l,u=u==$C?Uh:u;var f=l==Uh,d=u==Uh,h=l==u;if(h&&vd(n)){if(!vd(e))return!1;s=!0,f=!1}if(h&&!f)return o||(o=new ys),s||kw(n)?CA(n,e,t,r,i,o):gq(n,e,l,t,r,i,o);if(!(t&bq)){var g=f&&t_.call(n,\"__wrapped__\"),p=d&&t_.call(e,\"__wrapped__\");if(g||p){var m=g?n.value():n,y=p?e.value():e;return o||(o=new ys),i(m,y,t,r,o)}}return h?(o||(o=new ys),yq(n,e,t,r,i,o)):!1}function gv(n,e,t,r,i){return n===e?!0:n==null||e==null||!Ga(n)&&!Ga(e)?n!==n&&e!==e:xq(n,e,t,r,gv,i)}var Cq=1,_q=2;function Sq(n,e,t,r){var i=t.length,o=i;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=t[i];var a=s[0],l=n[a],u=s[1];if(s[2]){if(l===void 0&&!(a in n))return!1}else{var f=new ys,d;if(!(d===void 0?gv(u,l,Cq|_q,r,f):d))return!1}}return!0}function _A(n){return n===n&&!la(n)}function kq(n){for(var e=uv(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,_A(i)]}return e}function SA(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function Oq(n){var e=kq(n);return e.length==1&&e[0][2]?SA(e[0][0],e[0][1]):function(t){return t===n||Sq(t,n,e)}}function Aq(n,e){return n!=null&&e in Object(n)}function Eq(n,e,t){e=mA(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var s=hv(e[r]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&_w(i)&&xw(s,i)&&(si(n)||lv(n)))}function Tq(n,e){return n!=null&&Eq(n,e,Aq)}var Mq=1,Pq=2;function Iq(n,e){return Ow(n)&&_A(e)?SA(hv(n),e):function(t){var r=dV(t,n);return r===void 0&&r===e?Tq(t,n):gv(e,r,Mq|Pq)}}function Rq(n){return function(e){return e==null?void 0:e[n]}}function Dq(n){return function(e){return Ew(e,n)}}function Nq(n){return Ow(n)?Rq(hv(n)):Dq(n)}function ah(n){return typeof n==\"function\"?n:n==null?oh:typeof n==\"object\"?si(n)?Iq(n[0],n[1]):Oq(n):Nq(n)}function Lq(n,e,t,r){for(var i=-1,o=n==null?0:n.length;++i<o;){var s=n[i];e(r,s,t(s),n)}return r}function kA(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[n?a:++i];if(t(o[l],l,o)===!1)break}return e}}var Bq=kA();function OA(n,e){return n&&Bq(n,e,uv)}function AA(n,e){return function(t,r){if(t==null)return t;if(!sh(t))return n(t,r);for(var i=t.length,o=e?i:-1,s=Object(t);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return t}}var EA=AA(OA);function Fq(n,e,t,r){return EA(n,function(i,o,s){e(r,i,t(i),s)}),r}function TA(n,e){return function(t,r){var i=si(t)?Lq:Fq,o=e?e():{};return i(t,n,ah(r),o)}}var C0=function(){return Qo.Date.now()},jq=\"Expected a function\",zq=Math.max,Vq=Math.min;function Vp(n,e,t){var r,i,o,s,a,l,u=0,f=!1,d=!1,h=!0;if(typeof n!=\"function\")throw new TypeError(jq);e=s1(e)||0,la(t)&&(f=!!t.leading,d=\"maxWait\"in t,o=d?zq(s1(t.maxWait)||0,e):o,h=\"trailing\"in t?!!t.trailing:h);function g(E){var O=r,T=i;return r=i=void 0,u=E,s=n.apply(T,O),s}function p(E){return u=E,a=setTimeout(v,e),f?g(E):s}function m(E){var O=E-l,T=E-u,I=e-O;return d?Vq(I,o-T):I}function y(E){var O=E-l,T=E-u;return l===void 0||O>=e||O<0||d&&T>=o}function v(){var E=C0();if(y(E))return C(E);a=setTimeout(v,m(E))}function C(E){return a=void 0,h&&r?g(E):(r=i=void 0,s)}function k(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?s:C(C0())}function w(){var E=C0(),O=y(E);if(r=arguments,i=this,l=E,O){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(v,e),g(l)}return a===void 0&&(a=setTimeout(v,e)),s}return w.cancel=k,w.flush=b,w}function Nt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function MA(n){return typeof n==\"function\"?n:oh}function Hq(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var qq=kA(!0);function Wq(n,e){return n&&qq(n,e,uv)}var Uq=AA(Wq,!0);function Kq(n,e){var t=si(n)?Hq:Uq;return t(n,MA(e))}function ea(n){return n&&n.length?n[0]:void 0}function PA(n,e){var t=-1,r=sh(n)?Array(n.length):[];return EA(n,function(i,o,s){r[++t]=e(i,o,s)}),r}function Jq(n,e){var t=si(n)?Uf:PA;return t(n,ah(e))}var Xq=Object.prototype,Gq=Xq.hasOwnProperty,Yq=TA(function(n,e,t){Gq.call(n,t)?n[t].push(e):Cw(n,t,[e])});function Jt(n){var e=n==null?0:n.length;return e?mV(n,0,-1):[]}var Qq=\"[object Map]\",Zq=\"[object Set]\",$q=Object.prototype,eW=$q.hasOwnProperty;function mn(n){if(n==null)return!0;if(sh(n)&&(si(n)||typeof n==\"string\"||typeof n.splice==\"function\"||vd(n)||kw(n)||lv(n)))return!n.length;var e=no(n);if(e==Qq||e==Zq)return!n.size;if(Sw(n))return!gA(n).length;for(var t in n)if(eW.call(n,t))return!1;return!0}function Ft(n,e){return gv(n,e)}function tW(n,e){return n<e}function nW(n,e){var t={};return e=ah(e),OA(n,function(r,i,o){Cw(t,i,e(r,i,o))}),t}function rW(n,e,t){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Xl(s):t(s,a)))var a=s,l=o}return l}function Kh(n,e){return n&&n.length?rW(n,ah(e),tW):void 0}function iW(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function oW(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,o=Xl(n),s=e!==void 0,a=e===null,l=e===e,u=Xl(e);if(!a&&!u&&!o&&n>e||o&&s&&l&&!a&&!u||r&&s&&l||!t&&l||!i)return 1;if(!r&&!o&&!u&&n<e||u&&t&&i&&!r&&!o||a&&t&&i||!s&&i||!l)return-1}return 0}function sW(n,e,t){for(var r=-1,i=n.criteria,o=e.criteria,s=i.length,a=t.length;++r<s;){var l=oW(i[r],o[r]);if(l){if(r>=a)return l;var u=t[r];return l*(u==\"desc\"?-1:1)}}return n.index-e.index}function aW(n,e,t){e.length?e=Uf(e,function(o){return si(o)?function(s){return Ew(s,o.length===1?o[0]:o)}:o}):e=[oh];var r=-1;e=Uf(e,cv(ah));var i=PA(n,function(o,s,a){var l=Uf(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return iW(i,function(o,s){return sW(o,s,t)})}var lW=TA(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),cW=Math.ceil,uW=Math.max;function fW(n,e,t,r){for(var i=-1,o=uW(cW((e-n)/(t||1)),0),s=Array(o);o--;)s[++i]=n,n+=t;return s}function dW(n){return function(e,t,r){return r&&typeof r!=\"number\"&&l1(e,t,r)&&(t=r=void 0),e=Kg(e),t===void 0?(t=e,e=0):t=Kg(t),r=r===void 0?e<t?1:-1:Kg(r),fW(e,t,r)}}var IA=dW(),hW=Jj(function(n,e){if(n==null)return[];var t=e.length;return t>1&&l1(n,e[0],e[1])?e=[]:t>2&&l1(e[0],e[1],e[2])&&(e=[e[0]]),aW(n,gV(e),[])}),gW=9007199254740991,_0=4294967295,pW=Math.min;function n_(n,e){if(n=gj(n),n<1||n>gW)return[];var t=_0,r=pW(n,_0);e=MA(e),n-=_0;for(var i=cA(r,e);++t<n;)e(t);return i}var mW=0;function Mu(n){var e=++mW;return pA(n)+e}const vW=1e4,yW=[];function r_(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function g1(n,e=!1){const t={};if(!Array.isArray(n))throw new TypeError(\"Array expected\");function r(s,a){(!Array.isArray(s)&&!ln(s)||e&&a.length>0)&&(t[ht(a)]=!0),ln(s)&&Object.keys(s).forEach(u=>{r(s[u],a.concat(u))})}const i=Math.min(n.length,vW);for(let s=0;s<i;s++){const a=n[s];r(a,yW)}return Object.keys(t).sort().map(yo)}function RA(n,e,t){if(!(e<=n))for(let r=n;r<e;r++)t(r)}function DA(n,e){return n.length>e?n.slice(0,e):n}function i_(n){return{...n}}function o_(n){return Object.values(n)}function s_(n,e,t,r){const i=n.slice(0),o=i.splice(e,t);return i.splice.apply(i,[e+r,0,...o]),i}function bW(n,e,t){if(n.length<e)n.forEach(t);else{const r=e>1?(n.length-1)/(e-1):n.length;for(let i=0;i<e;i++){const o=Math.floor(i*r);t(n[o],o,n)}}}function wW(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}function xW(n,e=Ft){return n.filter((t,r)=>{for(let i=r+1;i<n.length;i++)if(e(t,n[i]))return!1;return!0})}function lh(n,e){try{return e.parse(n)}catch{return e.parse(vs(n))}}function NA(n,e){try{return lh(n,e)}catch{return}}function pv(n,e){n=n.replace(BA,\"\");try{return e(n)}catch{}try{return e(\"{\"+n+\"}\")}catch{}try{return e(\"[\"+n+\"]\")}catch{}throw new Error(\"Failed to parse partial JSON\")}function LA(n){n=n.replace(BA,\"\");try{return vs(n)}catch{}try{const e=vs(\"[\"+n+\"]\");return e.substring(1,e.length-1)}catch{}try{const e=vs(\"{\"+n+\"}\");return e.substring(1,e.length-1)}catch{}throw new Error(\"Failed to repair partial JSON\")}const BA=/,\\s*$/;function Pu(n,e){const t=l_.exec(e);if(t){const r=jr(t[2]),i=_W(n,`\n`,0,r),o=n.lastIndexOf(`\n`,r),s=r-o-1;return{position:r,line:i,column:s,message:e.replace(l_,()=>`line ${i+1} column ${s+1}`)}}else{const r=TW.exec(e),i=r?jr(r[1]):void 0,o=i!==void 0?i-1:void 0,s=MW.exec(e),a=s?jr(s[1]):void 0,l=a!==void 0?a-1:void 0;return{position:o!==void 0&&l!==void 0?CW(n,o,l):void 0,line:o,column:l,message:e.replace(/^JSON.parse: /,\"\").replace(/ of the JSON data$/,\"\")}}}function CW(n,e,t){let r=n.indexOf(`\n`),i=1;for(;i<e&&r!==-1;)r=n.indexOf(`\n`,r+1),i++;return r!==-1?r+t+1:void 0}function _W(n,e,t=0,r=n.length){let i=0;for(let o=t;o<r;o++)n.charAt(o)===e&&i++;return i}function SW(n,e){try{const t=ov.parse(n),r=ht(e),i=t.pointers[r];if(i)return{path:e,line:i.key?i.key.line:i.value?i.value.line:0,column:i.key?i.key.column:i.value?i.value.column:0,from:i.key?i.key.pos:i.value?i.value.pos:0,to:i.keyEnd?i.keyEnd.pos:i.valueEnd?i.valueEnd.pos:0}}catch(t){console.error(t)}return{path:e,line:0,column:0,from:0,to:0}}function kW(n,e,t){if(e===\"array\"){if(Array.isArray(n))return n;if(ln(n))return o_(n);if(typeof n==\"string\")try{const r=t.parse(n);if(Array.isArray(r))return r;if(ln(r))return o_(r)}catch{return[n]}return[n]}if(e===\"object\"){if(Array.isArray(n))return i_(n);if(ln(n))return n;if(typeof n==\"string\")try{const r=t.parse(n);if(ln(r))return r;if(Array.isArray(r))return i_(r)}catch{return{value:n}}return{value:n}}if(e===\"value\")return nr(n)?t.stringify(n):n;throw new Error(`Cannot convert ${ww(n,t)} to ${e}`)}function S0(n){return ln(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property \"json\" or a property \"text\" but not both':void 0:n.text===void 0?'Content must contain either a property \"json\" or a property \"text\"':typeof n.text!=\"string\"?'Content \"text\" property must be a string containing a JSON document. Did you mean to use the \"json\" property instead?':void 0:\"Content must be an object\"}function wd(n){return ln(n)&&typeof n.text==\"string\"}function xd(n){return ln(n)&&typeof n.json<\"u\"}function OW(n,e=void 0,t=JSON){return wd(n)?n:{text:t.stringify(n.json,null,e)}}function a_(n,e=JSON){return xd(n)?n:{json:e.parse(n.text)}}function p1(n,e,t){return OW(n,e,t).text}function AW(n,e){return EW(n,e)>e}function EW(n,e=1/0){if(wd(n))return n.text.length;const t=n.json;let r=0;function i(o){if(Array.isArray(o)){if(r+=2+(o.length-1),r>e)return;for(let s=0;s<o.length;s++){const a=o[s];if(i(a),r>e)return}}else if(ln(o)){const s=Object.keys(o);r+=2+s.length+(s.length-1);for(let a=0;a<s.length;a++){const l=s[a],u=o[l];r+=l.length+2,i(u)}}else typeof o==\"string\"?r+=o.length+2:r+=String(o).length}return i(t),r}const l_=/(position|char) (\\d+)/,TW=/line (\\d+)/,MW=/column (\\d+)/;function PW(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function IW(n){const t=n.substring(0,999).trim();return!t.includes(`\n`)&&RW.test(t)}const RW=/[,:]\\S/;var _r;(function(n){n.text=\"text\",n.tree=\"tree\",n.table=\"table\"})(_r||(_r={}));var vn;(function(n){n.after=\"after\",n.inside=\"inside\",n.key=\"key\",n.value=\"value\",n.multi=\"multi\",n.text=\"text\"})(vn||(vn={}));var Do;(function(n){n.after=\"after\",n.key=\"key\",n.value=\"value\",n.inside=\"inside\"})(Do||(Do={}));var zo;(function(n){n.info=\"info\",n.warning=\"warning\",n.error=\"error\"})(zo||(zo={}));var Vo;(function(n){n.key=\"key\",n.value=\"value\"})(Vo||(Vo={}));var Lo;(function(n){n.asc=\"asc\",n.desc=\"desc\"})(Lo||(Lo={}));var Ka;(function(n){n.no=\"no\",n.self=\"self\",n.nextInside=\"nextInside\"})(Ka||(Ka={}));function Mw({escapeControlCharacters:n,escapeUnicodeCharacters:e}){return n?e?DW:NW:e?LW:BW}const DW={escapeValue:n=>FA(VA(String(n))),unescapeValue:n=>HA(jA(n))},NW={escapeValue:n=>VA(String(n)),unescapeValue:n=>HA(n)},LW={escapeValue:n=>FA(String(n)),unescapeValue:n=>jA(n)},BW={escapeValue:n=>String(n),unescapeValue:n=>n};function FA(n){return n.replace(/[^\\x20-\\x7F]/g,e=>{var t;return e===\"\\b\"||e===\"\\f\"||e===`\n`||e===\"\\r\"||e===\"\t\"?e:\"\\\\u\"+(\"000\"+((t=e.codePointAt(0))==null?void 0:t.toString(16))).slice(-4)})}function jA(n){return n.replace(/\\\\u[a-fA-F0-9]{4}/g,e=>{try{const t=JSON.parse('\"'+e+'\"');return zA[t]||t}catch{return e}})}const zA={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\t\":\"\\\\t\"},FW={'\\\\\"':'\"',\"\\\\\\\\\":\"\\\\\",\"\\\\/\":\"/\",\"\\\\b\":\"\\b\",\"\\\\f\":\"\\f\",\"\\\\n\":`\n`,\"\\\\r\":\"\\r\",\"\\\\t\":\"\t\"};function VA(n){return n.replace(/[\"\\b\\f\\n\\r\\t\\\\]/g,e=>zA[e]||e)}function HA(n){return n.replace(/\\\\[\"bfnrt\\\\]/g,e=>FW[e]||e)}function mv(n){return typeof n!=\"string\"?String(n):n.endsWith(`\n`)?n+`\n`:n}function jW(n){return n.replace(/\\n$/,\"\")}function qA(n,e){return Qu(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function ja(n,e,t){return Qu(n,r=>VW(r,e,t))}function zW(n){return n.nodeName===\"DIV\"&&n.contentEditable===\"true\"}function VW(n,e,t){return typeof n.getAttribute==\"function\"&&n.getAttribute(e)===t}function Qu(n,e){return!!Pw(n,e)}function Pw(n,e){let t=n;for(;t&&!e(t);)t=t.parentNode;return t}function HW(n){if(n.firstChild==null){n.focus();return}const e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}function ch(n){var e;return((e=n==null?void 0:n.ownerDocument)==null?void 0:e.defaultView)??void 0}function Iw(n){const e=ch(n),t=e==null?void 0:e.document.activeElement;return t?Qu(t,r=>r===n):!1}function WA(n,e){return Pw(n,t=>t.nodeName===e)}function k0(n){return ja(n,\"data-type\",\"selectable-key\")?vn.key:ja(n,\"data-type\",\"selectable-value\")?vn.value:ja(n,\"data-type\",\"insert-selection-area-inside\")?vn.inside:ja(n,\"data-type\",\"insert-selection-area-after\")?vn.after:vn.multi}function m1(n){return encodeURIComponent(ht(n))}function qW(n){return yo(decodeURIComponent(n))}function UA(n){const e=Pw(n,r=>r!=null&&r.hasAttribute?r.hasAttribute(\"data-path\"):!1),t=(e==null?void 0:e.getAttribute(\"data-path\"))??void 0;return t?qW(t):void 0}function WW({allElements:n,currentElement:e,direction:t,hasPrio:r=()=>!0,margin:i=10}){const o=Jq(n.filter(a),l),s=l(e);function a(v){const C=v.getBoundingClientRect();return C.width>0&&C.height>0}function l(v){const C=v.getBoundingClientRect();return{x:C.left+C.width/2,y:C.top+C.height/2,rect:C,element:v}}const u=(v,C)=>Math.abs(v.y-C.y)<i,f=(v,C)=>v.rect.left+i<C.rect.left,d=(v,C)=>v.rect.right>C.rect.right+i,h=(v,C)=>v.y+i<C.y,g=(v,C)=>v.y>C.y+i;function p(v,C,k=1){const b=v.x-C.x,w=(v.y-C.y)*k;return Math.sqrt(b*b+w*w)}const m=v=>p(v,s),y=v=>p(v,s,10);if(t===\"Left\"||t===\"Right\"){const v=t===\"Left\"?o.filter(b=>f(b,s)):o.filter(b=>d(b,s)),C=v.filter(b=>u(b,s)),k=Kh(C,m)||Kh(v,y);return k==null?void 0:k.element}if(t===\"Up\"||t===\"Down\"){const v=t===\"Up\"?o.filter(b=>h(b,s)):o.filter(b=>g(b,s)),C=v.filter(b=>r(b.element)),k=Kh(C,m)||Kh(v,m);return k==null?void 0:k.element}}function Rw(){var n,e,t;return typeof navigator<\"u\"&&(((n=navigator==null?void 0:navigator.platform)==null?void 0:n.toUpperCase().includes(\"MAC\"))??((t=(e=navigator==null?void 0:navigator.userAgentData)==null?void 0:e.platform)==null?void 0:t.toUpperCase().includes(\"MAC\"))??!1)}function ca(n,e=\"+\",t=Rw){const r=[];Dw(n,t)&&r.push(\"Ctrl\"),n.altKey&&r.push(\"Alt\"),n.shiftKey&&r.push(\"Shift\");const i=n.key.length===1?n.key.toUpperCase():n.key;return i in UW||r.push(i),r.join(e)}function Dw(n,e=Rw){return n.ctrlKey||n.metaKey&&e()}const UW={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0};var KW=X('<div class=\"jse-absolute-popup-content svelte-1r8q3m8\"><input type=\"text\" readonly=\"\" tabindex=\"-1\" class=\"jse-hidden-input svelte-1r8q3m8\"> <!></div>'),JW=X('<div role=\"none\" class=\"jse-absolute-popup svelte-1r8q3m8\"><!></div>');function XW(n,e){Ee(e,!1);let t=x(e,\"popup\",8),r=x(e,\"closeAbsolutePopup\",8),i=Q(),o=Q();dr(h);function s(y){t().options&&t().options.closeOnOuterClick&&!Qu(y.target,v=>v===c(i))&&r()(t().id)}function a(y){s(y)}function l(y){y.stopPropagation()}function u(y){ca(y)===\"Escape\"&&(y.preventDefault(),y.stopPropagation(),r()(t().id))}function f(y){s(y)}function d(y,v){function C(){if(v.anchor){const{anchor:D,width:A=0,height:M=0,offsetTop:P=0,offsetLeft:_=0,position:N}=v,{left:F,top:B,bottom:L,right:z}=D.getBoundingClientRect(),Z=N===\"top\"||B+M>window.innerHeight&&B>M,ae=N===\"left\"||F+A>window.innerWidth&&F>A;return{left:ae?z-_:F+_,top:Z?B-P:L+P,positionAbove:Z,positionLeft:ae}}else if(typeof v.left==\"number\"&&typeof v.top==\"number\"){const{left:D,top:A,width:M=0,height:P=0}=v,_=A+P>window.innerHeight&&A>P,N=D+M>window.innerWidth&&D>M;return{left:D,top:A,positionAbove:_,positionLeft:N}}else throw new Error('Invalid config: pass either \"left\" and \"top\", or pass \"anchor\"')}const k=y.getBoundingClientRect(),{left:b,top:w,positionAbove:E,positionLeft:O}=C(),T=E?`bottom: ${k.top-w}px;`:`top: ${w-k.top}px;`,I=O?`right: ${k.left-b}px;`:`left: ${b-k.left}px;`;return T+I}function h(){c(o)&&c(o).focus()}ft();var g=JW();we(\"mousedown\",ur,a,!0),we(\"keydown\",ur,u,!0),we(\"wheel\",ur,f,!0);var p=j(g);{var m=y=>{var v=KW(),C=j(v);yn(C,b=>S(o,b),()=>c(o));var k=H(C,2);Wl(k,()=>t().component,(b,w)=>{w(b,Xr(()=>t().props))}),he(b=>ke(v,\"style\",b),[()=>d(c(i),t().options)],Me),R(y,v)};te(p,y=>{c(i)&&y(m)})}yn(g,y=>S(i,y),()=>c(i)),we(\"mousedown\",g,l),we(\"keydown\",g,u),R(n,g),Te()}var GW=X(\"<!> <!>\",1);function Nw(n,e){Ee(e,!1);const t=Er(\"jsoneditor:AbsolutePopup\");let r=Q([],!0);function i(u,f,d){t(\"open...\",f,d);const h={id:Jc(),component:u,props:f||{},options:d||{}};return S(r,[...c(r),h]),h.id}function o(u){const f=c(r).findIndex(d=>d.id===u);if(f!==-1){const d=c(r)[f];d.options.onClose&&d.options.onClose(),S(r,c(r).filter(h=>h.id!==u))}}id(\"absolute-popup\",{openAbsolutePopup:i,closeAbsolutePopup:o}),le(()=>c(r),()=>{t(\"popups\",c(r))}),Xt(),ft(!0);var s=GW(),a=ye(s);Pt(a,1,()=>c(r),tn,(u,f)=>{XW(u,{get popup(){return c(f)},closeAbsolutePopup:o})});var l=H(a,2);qn(l,e,\"default\",{},null),R(n,s),Te()}const vv=n=>Array.isArray(n),YW=n=>n&&typeof n==\"object\"&&!vv(n),QW=n=>typeof n==\"string\";function pr(n){return(...e)=>{const t=e.map(o=>Rr(o)),r=t[0],i=t[1];return t.length===1?o=>n(r(o)):t.length===2?o=>n(r(o),i(o)):o=>n(...t.map(s=>s(o)))}}const kl={pipe:(...n)=>{const e=n.map(t=>Rr(t));return t=>e.reduce((r,i)=>i(r),t)},object:n=>{const e=Object.keys(n).map(t=>[t,Rr(n[t])]);return t=>{const r={};for(const[i,o]of e)r[i]=o(t);return r}},array:(...n)=>{const e=n.map(t=>Rr(t));return t=>e.map(r=>r(t))},get:(...n)=>{if(n.length===0)return e=>e??null;if(n.length===1){const e=n[0];return t=>(t==null?void 0:t[e])??null}return e=>{let t=e;for(const r of n)t=t==null?void 0:t[r];return t??null}},map:n=>{const e=Rr(n);return t=>t.map(e)},mapObject:n=>{const e=Rr(n);return t=>{const r={};for(const i of Object.keys(t)){const o=e({key:i,value:t[i]});r[o.key]=o.value}return r}},mapKeys:n=>{const e=Rr(n);return t=>{const r={};for(const i of Object.keys(t)){const o=e(i);r[o]=t[i]}return r}},mapValues:n=>{const e=Rr(n);return t=>{const r={};for(const i of Object.keys(t))r[i]=e(t[i]);return r}},filter:n=>{const e=Rr(n);return t=>t.filter(r=>c_(e(r)))},sort:(n=[\"get\"],e)=>{const t=Rr(n),r=e===\"desc\"?-1:1;function i(o,s){const a=t(o),l=t(s);return a>l?r:a<l?-r:0}return o=>o.slice().sort(i)},reverse:()=>n=>n.toReversed(),pick:(...n)=>{const e=n.map(([r,...i])=>[i[i.length-1],kl.get(...i)]),t=(r,i)=>{const o={};for(const[s,a]of i)o[s]=a(r);return o};return r=>vv(r)?r.map(i=>t(i,e)):t(r,e)},groupBy:n=>{const e=Rr(n);return t=>{const r={};for(const i of t){const o=e(i);r[o]?r[o].push(i):r[o]=[i]}return r}},keyBy:n=>{const e=Rr(n);return t=>{const r={};for(const i of t){const o=e(i);o in r||(r[o]=i)}return r}},flatten:()=>n=>n.flat(),join:(n=\"\")=>e=>e.join(n),split:pr((n,e)=>e!==void 0?n.split(e):n.trim().split(/\\s+/)),substring:pr((n,e,t)=>n.slice(Math.max(e,0),t)),uniq:()=>n=>[...new Set(n)],uniqBy:n=>e=>Object.values(kl.keyBy(n)(e)),limit:n=>e=>e.slice(0,Math.max(n,0)),size:()=>n=>n.length,keys:()=>Object.keys,values:()=>Object.values,prod:()=>n=>n.reduce((e,t)=>e*t),sum:()=>n=>n.reduce((e,t)=>e+t),average:()=>n=>kl.sum()(n)/n.length,min:()=>n=>Math.min(...n),max:()=>n=>Math.max(...n),and:pr((n,e)=>!!(n&&e)),or:pr((n,e)=>!!(n||e)),not:pr(n=>!n),exists:n=>{const e=n.slice(1),t=e.pop(),r=kl.get(...e);return i=>{const o=r(i);return!!o&&Object.hasOwnProperty.call(o,t)}},if:(n,e,t)=>{const r=Rr(n),i=Rr(e),o=Rr(t);return s=>c_(r(s))?i(s):o(s)},in:(n,e)=>{const t=Rr(n),r=Rr(e);return i=>r(i).includes(t(i))},\"not in\":(n,e)=>{const t=kl.in(n,e);return r=>!t(r)},regex:(n,e,t)=>{const r=new RegExp(e,t),i=Rr(n);return o=>r.test(i(o))},eq:pr((n,e)=>n===e),gt:pr((n,e)=>n>e),gte:pr((n,e)=>n>=e),lt:pr((n,e)=>n<e),lte:pr((n,e)=>n<=e),ne:pr((n,e)=>n!==e),add:pr((n,e)=>n+e),subtract:pr((n,e)=>n-e),multiply:pr((n,e)=>n*e),divide:pr((n,e)=>n/e),pow:pr((n,e)=>n**e),mod:pr((n,e)=>n%e),abs:pr(Math.abs),round:pr((n,e=0)=>+`${Math.round(+`${n}e${e}`)}e${-e}`),number:pr(n=>{const e=Number(n);return Number.isNaN(Number(n))?null:e}),string:pr(String)},c_=n=>n!==null&&n!==0&&n!==!1,Jh=[];function Rr(n,e){Jh.unshift({...kl,...Jh[0]});try{const t=vv(n)?ZW(n,Jh[0]):YW(n)?KA(`Function notation [\"object\", {...}] expected but got ${JSON.stringify(n)}`):()=>n;return r=>{try{return t(r)}catch(i){throw i.jsonquery=[{data:r,query:n},...i.jsonquery??[]],i}}}finally{Jh.shift()}}function ZW(n,e){const[t,...r]=n,i=e[t];return i||KA(`Unknown function '${t}'`),i(...r)}function KA(n){throw new Error(n)}const JA={and:\"and\",or:\"or\",eq:\"==\",gt:\">\",gte:\">=\",lt:\"<\",lte:\"<=\",ne:\"!=\",add:\"+\",subtract:\"-\",multiply:\"*\",divide:\"/\",pow:\"^\",mod:\"%\",in:\"in\",\"not in\":\"not in\"},$W=/^[a-zA-Z_$][a-zA-Z\\d_$]*$/,eU=/^[a-zA-Z_$][a-zA-Z\\d_$]*/,tU=/^\"(?:[^\"\\\\]|\\\\.)*\"/,nU=/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/,rU=/^(0|[1-9][0-9]*)/,iU=/^(true|false|null)/,oU=/^[ \\n\\t\\r]+/;function XA(n,e){const t={...JA},r=Object.keys(t).sort((O,T)=>T.length-O.length),i=()=>{C();const O=o();if(C(),n[w]===\"|\"){const T=[O];for(;n[w]===\"|\";)w++,C(),T.push(o());return[\"pipe\",...T]}return O},o=()=>{const O=s();C();for(const T of r){const I=t[T];if(n.substring(w,w+I.length)===I){w+=I.length,C();const D=s();return[T,O,D]}}return O},s=()=>{if(n[w]===\"(\"){w++;const O=i();return k(\")\"),O}return a()},a=()=>{if(n[w]===\".\"){const O=[];for(;n[w]===\".\";)w++,O.push(d()??h()??p()??b(\"Property expected\"));return[\"get\",...O]}return l()},l=()=>{const O=w,T=h();if(C(),!T||n[w]!==\"(\")return w=O,u();w++,!kl[T]&&b(`Unknown function '${T}'`),C();const I=n[w]!==\")\"?[i()]:[];for(;w<n.length&&n[w]!==\")\";)C(),k(\",\"),I.push(i());return k(\")\"),[T,...I]},u=()=>{if(n[w]===\"{\"){w++,C();const O={};let T=!0;for(;w<n.length&&n[w]!==\"}\";){T?T=!1:(k(\",\"),C());const I=d()??h()??p()??b(\"Key expected\");C(),k(\":\"),O[I]=i()}return k(\"}\"),[\"object\",O]}return f()},f=()=>{if(n[w]===\"[\"){w++,C();const O=[];let T=!0;for(;w<n.length&&n[w]!==\"]\";)T?T=!1:(k(\",\"),C()),O.push(i());return k(\"]\"),[\"array\",...O]}return d()??g()??m()},d=()=>v(tU,JSON.parse),h=()=>v(eU,O=>O),g=()=>v(nU,JSON.parse),p=()=>v(rU,JSON.parse),m=()=>{const O=v(iU,JSON.parse);if(O!==void 0)return O;b(\"Value expected\")},y=()=>{C(),w<n.length&&b(`Unexpected part '${n.substring(w)}'`)},v=(O,T)=>{const I=n.substring(w).match(O);if(I)return w+=I[0].length,T(I[0])},C=()=>v(oU,O=>O),k=O=>{n[w]!==O&&b(`Character '${O}' expected`),w++},b=(O,T=w)=>{throw new SyntaxError(`${O} (pos: ${T})`)};let w=0;const E=i();return y(),E}const sU=40,aU=\"  \",lU=(n,e)=>{const t=aU,r=(u,f)=>vv(u)?i(u,f):JSON.stringify(u),i=(u,f)=>{var d;const[h,...g]=u;if(h===\"get\"&&g.length>0)return s(g);if(h===\"pipe\"){const v=g.map(C=>r(C,f+t));return l(v,[\"\",\" | \",\"\"],[\"\",`\n${f+t}| `,\"\"])}if(h===\"object\")return o(g[0],f);if(h===\"array\"){const v=g.map(C=>r(C,f));return l(v,[\"[\",\", \",\"]\"],[`[\n${f+t}`,`,\n${f+t}`,`\n${f}]`])}const p=((d=void 0)==null?void 0:d[h])??JA[h];if(p&&g.length===2){const[v,C]=g,k=r(v,f),b=r(C,f);return`(${k} ${p} ${b})`}const m=g.length===1?f:f+t,y=g.map(v=>r(v,m));return g.length===1&&y[0][0]===\"(\"?`${h}${y[0]}`:l(y,[`${h}(`,\", \",\")\"],g.length===1?[`${h}(`,`,\n${f}`,\")\"]:[`${h}(\n${m}`,`,\n${m}`,`\n${f})`])},o=(u,f)=>{const d=f+t,h=Object.entries(u).map(([g,p])=>`${a(g)}: ${r(p,d)}`);return l(h,[\"{ \",\", \",\" }\"],[`{\n${d}`,`,\n${d}`,`\n${f}}`])},s=u=>u.map(f=>`.${a(f)}`).join(\"\"),a=u=>$W.test(u)?u:JSON.stringify(u),l=(u,[f,d,h],[g,p,m])=>f.length+u.reduce((y,v)=>y+v.length+d.length,0)-d.length+h.length<=sU?f+u.join(d)+h:g+u.join(p)+m;return r(n,\"\")};function cU(n,e,t){return Rr(QW(e)?XA(e):e)(n)}function uh(n,e){const t=new Set(e),r=n.replace(/ \\(copy( \\d+)?\\)$/,\"\");let i=n,o=1;for(;t.has(i);){const s=\"copy\"+(o>1?\" \"+o:\"\");i=`${r} (${s})`,o++}return i}function fh(n,e){const t=\"...\",r=e-t.length;return n.length>e?n.substring(0,r)+t:n}function uU(n){if(n===\"\")return\"\";const e=n.toLowerCase();if(e===\"null\")return null;if(e===\"true\")return!0;if(e===\"false\")return!1;if(e===\"undefined\")return;const t=Number(n),r=parseFloat(n);return!isNaN(t)&&!isNaN(r)?t:n}const fU=`\n<p>\n  Enter a <a href=\"https://jsonquerylang.org\" target=\"_blank\" \n  rel=\"noopener noreferrer\">JSON Query</a> function to filter, sort, or transform the data.\n  You can use functions like <code>get</code>, <code>filter</code>,\n  <code>sort</code>, <code>pick</code>, <code>groupBy</code>, <code>uniq</code>, etcetera. \n  Example query: <code>filter(.age >= 18)</code>\n</p>\n`,dU={id:\"jsonquery\",name:\"JSONQuery\",description:fU,createQuery:hU,executeQuery:gU};function hU(n,e){const{filter:t,sort:r,projection:i}=e,o=[];return t&&t.path&&t.relation&&t.value&&o.push([\"filter\",[pU(t.relation),Xh(t.path),uU(t.value)]]),r&&r.path&&r.direction&&o.push([\"sort\",Xh(r.path),r.direction===\"desc\"?\"desc\":\"asc\"]),i&&i.paths&&(i.paths.length>1?o.push([\"pick\",...i.paths.map(Xh)]):o.push([\"map\",Xh(i.paths[0])])),lU([\"pipe\",...o])}function Xh(n){return[\"get\",...n]}function gU(n,e){return e.trim()!==\"\"?cU(n,e):n}function pU(n){return XA(`1 ${n} 1`)[0]}/*!\n * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n * Copyright 2024 Fonticons, Inc.\n */const mU={prefix:\"far\",iconName:\"lightbulb\",icon:[384,512,[128161],\"f0eb\",\"M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7c0 0 0 0 0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5L109 384c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8c0 0 0 0 0 0s0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4c0 0 0 0 0 0s0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5l-48.6 0c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8c0 0 0 0 0 0s0 0 0 0s0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80l0-16 160 0 0 16c0 44.2-35.8 80-80 80z\"]},vU={prefix:\"far\",iconName:\"square-check\",icon:[448,512,[9745,9989,61510,\"check-square\"],\"f14a\",\"M64 80c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-320c0-8.8-7.2-16-16-16L64 80zM0 96C0 60.7 28.7 32 64 32l320 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"]},GA=vU,YA={prefix:\"far\",iconName:\"square\",icon:[448,512,[9632,9723,9724,61590],\"f0c8\",\"M384 80c8.8 0 16 7.2 16 16l0 320c0 8.8-7.2 16-16 16L64 432c-8.8 0-16-7.2-16-16L48 96c0-8.8 7.2-16 16-16l320 0zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z\"]},yU={prefix:\"far\",iconName:\"clock\",icon:[512,512,[128339,\"clock-four\"],\"f017\",\"M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z\"]};var bU=It(\"<g><!></g>\");function wU(n,e){Ee(e,!1);let t=870711;function r(){return t+=1,`fa-${t.toString(16)}`}let i=Q(\"\"),o=x(e,\"data\",8);function s(u){if(!u||!u.raw)return\"\";let f=u.raw;const d={};return f=f.replace(/\\s(?:xml:)?id=[\"']?([^\"')\\s]+)/g,(h,g)=>{const p=r();return d[g]=p,` id=\"${p}\"`}),f=f.replace(/#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g,(h,g,p,m)=>{const y=g||m;return!y||!d[y]?h:`#${d[y]}`}),f}le(()=>J(o()),()=>{S(i,s(o()))}),Xt();var a=bU(),l=j(a);Wb(l,()=>c(i),!0,!1),R(n,a),Te()}var xU=It(\"<svg><!></svg>\");function CU(n,e){const t=yp(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=yp(t,[\"class\",\"width\",\"height\",\"box\",\"spin\",\"inverse\",\"pulse\",\"flip\",\"style\",\"label\"]);let i=x(e,\"class\",8,\"\"),o=x(e,\"width\",8),s=x(e,\"height\",8),a=x(e,\"box\",8,\"0 0 0 0\"),l=x(e,\"spin\",8,!1),u=x(e,\"inverse\",8,!1),f=x(e,\"pulse\",8,!1),d=x(e,\"flip\",8,\"none\"),h=x(e,\"style\",8,\"\"),g=x(e,\"label\",8,\"\");var p=xU();let m;var y=j(p);qn(y,e,\"default\",{},null),he(()=>{m=ki(p,m,{version:\"1.1\",class:`fa-icon ${i()??\"\"}`,width:o(),height:s(),\"aria-label\":g(),role:g()?\"img\":\"presentation\",viewBox:a(),style:h(),...r},\"svelte-1mc5hvj\",!0),Re(p,\"fa-spin\",l()),Re(p,\"fa-pulse\",f()),Re(p,\"fa-inverse\",u()),Re(p,\"fa-flip-horizontal\",d()===\"horizontal\"),Re(p,\"fa-flip-vertical\",d()===\"vertical\")}),R(n,p)}var _U=It(\"<path></path>\"),SU=It(\"<polygon></polygon>\"),kU=It(\"<!><!><!>\",1);function jt(n,e){const t=yp(e,[\"children\",\"$$slots\",\"$$events\",\"$$legacy\"]),r=yp(t,[\"class\",\"data\",\"scale\",\"spin\",\"inverse\",\"pulse\",\"flip\",\"label\",\"style\"]);Ee(e,!1);let i=x(e,\"class\",8,\"\"),o=x(e,\"data\",8),s=Q(),a=x(e,\"scale\",8,1),l=x(e,\"spin\",8,!1),u=x(e,\"inverse\",8,!1),f=x(e,\"pulse\",8,!1),d=x(e,\"flip\",8,void 0),h=x(e,\"label\",8,\"\"),g=x(e,\"style\",8,\"\"),p=1,m=Q(10),y=Q(10),v=Q(),C=Q();function k(D){let A,M;if(D)if(\"definition\"in D){console.error(\"`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead\");return}else if(\"iconName\"in D&&\"icon\"in D){A=D.iconName;const[P,_,,,N]=D.icon,F=Array.isArray(N)?N:[N];M={width:P,height:_,paths:F.map(B=>({d:B}))}}else A=Object.keys(D)[0],M=D[A];else return;return M}function b(){let D=1;return typeof a()<\"u\"&&(D=Number(a())),isNaN(D)||D<=0?(console.warn('Invalid prop: prop \"scale\" should be a number over 0.'),p):D*p}function w(){return c(s)?`0 0 ${c(s).width} ${c(s).height}`:`0 0 ${c(m)} ${c(y)}`}function E(){return c(s)?Math.max(c(s).width,c(s).height)/16:1}function O(){return c(s)?c(s).width/E()*b():0}function T(){return c(s)?c(s).height/E()*b():0}function I(){let D=\"\";g()!==null&&(D+=g());let A=b();return A===1?D.length===0?\"\":D:(D!==\"\"&&!D.endsWith(\";\")&&(D+=\"; \"),`${D}font-size: ${A}em`)}le(()=>(J(o()),J(g()),J(a())),()=>{S(s,k(o())),g(),a(),S(m,O()),S(y,T()),S(v,I()),S(C,w())}),Xt(),ft(),CU(n,Xr({get label(){return h()},get width(){return c(m)},get height(){return c(y)},get box(){return c(C)},get style(){return c(v)},get spin(){return l()},get flip(){return d()},get inverse(){return u()},get pulse(){return f()},get class(){return i()}},()=>r,{children:(D,A)=>{var M=De(),P=ye(M);qn(P,e,\"default\",{},_=>{var N=kU(),F=ye(N);Pt(F,1,()=>{var Z;return((Z=c(s))==null?void 0:Z.paths)||[]},tn,(Z,ae)=>{var ne=_U();let ie;he(()=>ie=ki(ne,ie,{...c(ae)},void 0,!0)),R(Z,ne)});var B=H(F);Pt(B,1,()=>{var Z;return((Z=c(s))==null?void 0:Z.polygons)||[]},tn,(Z,ae)=>{var ne=SU();let ie;he(()=>ie=ki(ne,ie,{...c(ae)},void 0,!0)),R(Z,ne)});var L=H(B);{var z=Z=>{wU(Z,{get data(){return c(s)},set data(ae){S(s,ae)},$$legacy:!0})};te(L,Z=>{var ae;(ae=c(s))!=null&&ae.raw&&Z(z)})}R(_,N)}),R(D,M)},$$slots:{default:!0}})),Te()}var OU=X('<div role=\"checkbox\" tabindex=\"-1\" class=\"jse-boolean-toggle svelte-1ryp01u\"><!></div>');function AU(n,e){Ee(e,!1);let t=x(e,\"path\",9),r=x(e,\"value\",9),i=x(e,\"readOnly\",9),o=x(e,\"onPatch\",9),s=x(e,\"focus\",9);function a(d){d.stopPropagation(),!i()&&(o()([{op:\"replace\",path:ht(t()),value:!r()}]),s()())}ft(!0);var l=OU(),u=j(l);const f=Me(()=>r()===!0?GA:YA);jt(u,{get data(){return c(f)}}),he(()=>{ke(l,\"aria-checked\",r()===!0),ke(l,\"title\",i()?`Boolean value ${r()}`:\"Click to toggle this boolean value\"),Re(l,\"jse-readonly\",i())}),we(\"mousedown\",l,a),R(n,l),Te()}const EU=\"modulepreload\",TU=function(n){return\"/\"+n},u_={},MU=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName(\"link\");const o=document.querySelector(\"meta[property=csp-nonce]\"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute(\"nonce\"));i=Promise.allSettled(t.map(a=>{if(a=TU(a),a in u_)return;u_[a]=!0;const l=a.endsWith(\".css\"),u=l?'[rel=\"stylesheet\"]':\"\";if(document.querySelector(`link[href=\"${a}\"]${u}`))return;const f=document.createElement(\"link\");if(f.rel=l?\"stylesheet\":EU,l||(f.as=\"script\"),f.crossOrigin=\"\",f.href=a,s&&f.setAttribute(\"nonce\",s),document.head.appendChild(f),l)return new Promise((d,h)=>{f.addEventListener(\"load\",d),f.addEventListener(\"error\",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(o=>{for(const s of o||[]){if(s.status!==\"rejected\")continue;const a=new Event(\"vite:preloadError\",{cancelable:!0});if(a.payload=s.reason,window.dispatchEvent(a),!a.defaultPrevented)throw s.reason}return e()})};var PU=X('<div class=\"jse-color-picker-popup svelte-s1wu8v\"></div>');function IU(n,e){Ee(e,!1);let t=x(e,\"color\",8),r=x(e,\"onChange\",8),i=x(e,\"showOnTop\",8),o=Q(),s=()=>{};dr(async()=>{var f;const l=(f=await MU(async()=>{const{default:d}=await Promise.resolve().then(()=>xle);return{default:d}},__VITE_PRELOAD__))==null?void 0:f.default,u=new l({parent:c(o),color:t(),popup:i()?\"top\":\"bottom\",onDone(d){const g=d.rgba[3]===1?d.hex.substring(0,7):d.hex;r()(g)}});u.show(),s=()=>{u.destroy()}}),zr(()=>{s()}),ft();var a=PU();yn(a,l=>S(o,l),()=>c(o)),R(n,a),Te()}var RU=X('<button type=\"button\" class=\"jse-color-picker-button svelte-xeg9n6\"></button>');function DU(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),{openAbsolutePopup:i}=Yi(\"absolute-popup\");let o=x(e,\"path\",9),s=x(e,\"value\",9),a=x(e,\"readOnly\",9),l=x(e,\"onPatch\",9),u=x(e,\"focus\",9);function f(p){l()([{op:\"replace\",path:ht(o()),value:p}]),d()}function d(){u()()}function h(p){var w;if(a())return;const m=300,y=p.target,v=y.getBoundingClientRect().top,k=(((w=ch(y))==null?void 0:w.innerHeight)??0)-v<m&&v>m,b={color:s(),onChange:f,showOnTop:k};i(IU,b,{anchor:y,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:m})}le(()=>J(s()),()=>{S(t,iA(s()))}),le(()=>(J(a()),J(s())),()=>{S(r,a()?`Color ${s()}`:\"Click to open a color picker\")}),Xt(),ft(!0);var g=RU();he(()=>{ke(g,\"style\",`background: ${c(t)??\"\"}`),ke(g,\"title\",c(r)),ke(g,\"aria-label\",c(r)),Re(g,\"jse-readonly\",a())}),we(\"click\",g,h),R(n,g),Te()}const v1=300,y1=300,f_=300,d_=50,NU=200,LU=400,BU=1200,Gh=1e3,Cd=100,O0=100,b1=2e4,FU=50,jU=50,au=[{start:0,end:Cd}],zU=100*1024*1024,VU=1024*1024,h_=10*1024*1024,HU=10*1024,A0=\"Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value\",Lw=\"Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)\",yf=\"hover-insert-inside\",E0=\"hover-insert-after\",g_=\"hover-collection\",T0=\"valid\",p_=\"repairable\",qU=\"invalid\",Xs=42*8,Gs=260,Rf=100,m_={[Lo.asc]:\"ascending\",[Lo.desc]:\"descending\"};function WU(n,e){const t={start:n,end:Math.min(w1(n),e)},r=Math.max(Hp((n+e)/2),n),i={start:r,end:Math.min(w1(r),e)},o=Hp(e),s=o===e?o-Cd:o,a={start:Math.max(s,n),end:e},l=[t],u=i.start>=t.end&&i.end<=a.start;return u&&l.push(i),a.start>=(u?i.end:t.end)&&l.push(a),l}function QA(n){const e=hW(n,r=>r.start),t=[e[0]];for(let r=0;r<e.length;r++){const i=t.length-1,o=t[i],s=e[r];s.start<=o.end?t[i]={start:Math.min(o.start,s.start),end:Math.max(o.end,s.end)}:t.push(s)}return t}function UU(n,e){return n.some(t=>e>=t.start&&e<t.end)}function w1(n){return Hp(n)+Cd}function Hp(n){return Math.floor(n/Cd)*Cd}function ZA(n){return n?n.type===\"space\"||n.space===!0:!1}function Jg(n){return n?n.type===\"separator\"||n.separator===!0:!1}function KU(n){return n?n.type===\"label\"&&typeof n.text==\"string\":!1}function Xf(n){return n?typeof n.onClick==\"function\":!1}function M0(n){return n?n.type===\"dropdown-button\"&&Xf(n.main)&&Array.isArray(n.items):!1}function JU(n){return n?n.type===\"row\"&&Array.isArray(n.items):!1}function XU(n){return n?n.type===\"column\"&&Array.isArray(n.items):!1}function v_(n){return ln(n)&&ln(n.parseError)}function GU(n){return ln(n)&&Array.isArray(n.validationErrors)}function YU(n){return ln(n)&&Array.isArray(n.path)&&typeof n.message==\"string\"&&\"severity\"in n}function QU(n){return ln(n)&&YU(n)&&typeof n.isChildError==\"boolean\"}function ZU(n){return ln(n)&&typeof n.action==\"function\"&&ln(n.props)}function Ho(n){return n!==void 0&&n.type===\"object\"}function Gr(n){return n!==void 0&&n.type===\"array\"}function Bw(n){return n!==void 0&&n.type===\"value\"}function Yl(n){return Ho(n)||Gr(n)}function $A(n){return n!==void 0&&Array.isArray(n.searchResults)}function qp(n){return n?n.type===\"tree\":!1}function y_(n){return n?n.type===\"text\":!1}function b_(n){return n?n.type===\"mode\":!1}function $U({json:n,factory:e}){return Array.isArray(n)?e.createArrayDocumentState():ln(n)?e.createObjectDocumentState():n!==void 0?e.createValueDocumentState():void 0}function x1({json:n,expand:e}){const t=$U({json:n,factory:zw});return e&&t?Po(n,t,[],e):t}function Fw({expanded:n}={expanded:!1}){return{type:\"array\",expanded:n,visibleSections:au,items:[]}}function jw({expanded:n}={expanded:!1}){return{type:\"object\",expanded:n,properties:{}}}function eK(){return{type:\"value\"}}const zw={createObjectDocumentState:jw,createArrayDocumentState:Fw,createValueDocumentState:eK};function eE(n,e,t,{createObjectDocumentState:r,createArrayDocumentState:i,createValueDocumentState:o}){function s(a,l,u){if(Array.isArray(a)){const f=Gr(l)?l:i();if(u.length===0)return f;const d=jr(u[0]),h=s(a[d],f.items[d],u.slice(1));return Oi(f,[\"items\",u[0]],h)}if(ln(a)){const f=Ho(l)?l:r();if(u.length===0)return f;const d=u[0],h=s(a[d],f.properties[d],u.slice(1));return Oi(f,[\"properties\",d],h)}return Bw(l)?l:o()}return s(n,e,t)}function qi(n,e,t=[]){return _d(n,e,t,(r,i)=>{if(!(r===void 0||i===void 0)){if(Array.isArray(r)){if(Gr(i))return i;const o=Yl(i)?i.expanded:!1;return Fw({expanded:o})}if(ln(r)){if(Ho(i))return i;const o=Yl(i)?i.expanded:!1;return jw({expanded:o})}if(Bw(i))return i}},()=>!0)}function _d(n,e,t,r,i){const o=r(n,e,t);if(Array.isArray(n)&&Gr(o)&&i(o)){const s=[];return Vw(n,o.visibleSections,l=>{const u=t.concat(String(l)),f=n[l],d=o.items[l],h=_d(f,d,u,r,i);h!==void 0&&(s[l]=h)}),!r_(s,o.items)?{...o,items:s}:o}if(ln(n)&&Ho(o)&&i(o)){const s={};return Object.keys(n).forEach(l=>{const u=t.concat(l),f=n[l],d=o.properties[l],h=_d(f,d,u,r,i);h!==void 0&&(s[l]=h)}),!r_(Object.values(s),Object.values(o.properties))?{...o,properties:s}:o}return o}function Vw(n,e,t){e.forEach(({start:r,end:i})=>{RA(r,Math.min(n.length,i),t)})}function tK(n,e){if(UU(n.visibleSections,e))return n;const t=Hp(e),r=w1(t),i={start:t,end:r};return{...n,visibleSections:QA(n.visibleSections.concat(i))}}function Sd(n,e){let t=n;const r=[];let i=0;for(;i<e.length;){if(Array.isArray(t)){const o=e[i];r.push(\"items\",o),t=t[jr(o)]}else if(ln(t)){const o=e[i];r.push(\"properties\",o),t=t[o]}else throw new Error(`Cannot convert path: Object or Array expected at index ${i}`);i++}return r}function Po(n,e,t,r){let i=e;for(let o=0;o<t.length;o++){const s=t.slice(0,o);i=Iu(n,i,s,(a,l)=>{const u=Yl(l)&&!l.expanded?{...l,expanded:!0}:l;if(Gr(u)){const f=jr(t[o]);return tK(u,f)}return u})}return Iu(n,i,t,(o,s)=>nK(o,s,[],r))}function nK(n,e,t,r){return _d(n,e,t,(i,o,s)=>Array.isArray(i)&&r(s)?Gr(o)?o.expanded?o:{...o,expanded:!0}:Fw({expanded:!0}):ln(i)&&r(s)?Ho(o)?o.expanded?o:{...o,expanded:!0}:jw({expanded:!0}):o,i=>Yl(i)&&i.expanded)}function tE(n,e,t,r){return Iu(n,e,t,(i,o)=>r?rK(i,o,t):nE(o))}function nE(n){return Gr(n)&&n.expanded?{...n,expanded:!1,visibleSections:au}:Ho(n)&&n.expanded?{...n,expanded:!1}:n}function rK(n,e,t){return _d(n,e,t,(r,i)=>nE(i),()=>!0)}function iK(n,e,t,r){return Iu(n,e,t,(i,o)=>{if(!Gr(o))return o;const s=QA(o.visibleSections.concat(r));return{...o,visibleSections:s}})}function rE(n,e,t){const r={json:n,documentState:e},i=t.reduce((o,s)=>({json:Fo(o.json,[s]),documentState:oK(o.json,o.documentState,s)}),r);return{json:i.json,documentState:qi(i.json,i.documentState)}}function oK(n,e,t){if(UO(t))return iE(n,e,t,void 0);if(KO(t))return oE(n,e,t);if(gw(t)){const r=jo(n,t.path),i=ua(n,e,r);return i?yv(n,e,r,{type:\"value\",enforceString:i}):e}return t1(t)||Eu(t)?lK(n,e,t):e}function jl(n,e,t){try{return Qe(e,Sd(n,t))}catch{return}}function sK(n,e,t,r,i){const o=eE(n,e,t,i);return Oi(o,Sd(n,t),r)}function Hw(n,e,t,r,i){const o=eE(n,e,t,i);return vw(o,Sd(n,t),s=>{const a=Qe(n,t);return r(a,s)})}function yv(n,e,t,r){return sK(n,e,t,r,zw)}function Iu(n,e,t,r){return Hw(n,e,t,r,zw)}function aK(n,e,t){const r=Sd(n,t);return co(e,r)?iv(e,Sd(n,t)):e}function iE(n,e,t,r){const i=jo(n,t.path),o=Jt(i);let s=e;return s=Iu(n,s,o,(a,l)=>{if(!Gr(l))return l;const u=jr(Nt(i)),{items:f,visibleSections:d}=l;return{...l,items:u<f.length?wW(f,u,r!==void 0?[r]:Array(1)):f,visibleSections:sE(d,u,1)}}),yv(n,s,i,r)}function oE(n,e,t){const r=jo(n,t.path),i=Jt(r),o=Qe(n,i);return Array.isArray(o)?Iu(n,e,i,(s,a)=>{if(!Gr(a))return a;const l=jr(Nt(r)),{items:u,visibleSections:f}=a;return{...a,items:u.slice(0,l).concat(u.slice(l+1)),visibleSections:sE(f,l,-1)}}):aK(n,e,r)}function lK(n,e,t){if(Eu(t)&&t.from===t.path)return e;let r=e;const i=jo(n,t.from),o=jl(n,r,i);return Eu(t)&&(r=oE(n,r,{path:t.from})),r=iE(n,r,{path:t.path},o),r}function sE(n,e,t){const r=n.map(i=>({start:i.start>e?i.start+t:i.start,end:i.end>e?i.end+t:i.end}));return cK(r)}function cK(n){const e=n.slice(0);let t=1;for(;t<e.length;)e[t-1].end===e[t].start&&(e[t-1]={start:e[t-1].start,end:e[t].end},e.splice(t)),t++;return e}function ua(n,e,t){const r=Qe(n,t),i=jl(n,e,t),o=Bw(i)?i.enforceString:void 0;return typeof o==\"boolean\"?o:JF(r)}function dh(n,e,t=!1){const r=n.indexOf(e);return r!==-1?t?n.slice(r):n.slice(r+1):[]}function qw(n,e){const t=[];function r(i,o,s){t.push(s),Jn(i)&&Gr(o)&&o.expanded&&Vw(i,o.visibleSections,a=>{r(i[a],o.items[a],s.concat(String(a)))}),rr(i)&&Ho(o)&&o.expanded&&Object.keys(i).forEach(a=>{r(i[a],o.properties[a],s.concat(a))})}return r(n,e,[]),t}function aE(n,e,t=!0){const r=[];function i(o,s){r.push({path:s,type:Do.value});const a=jl(n,e,s);if(o&&Yl(a)&&a.expanded){if(t&&r.push({path:s,type:Do.inside}),Jn(o)){const l=Gr(a)?a.visibleSections:au;Vw(o,l,u=>{const f=s.concat(String(u));i(o[u],f),t&&r.push({path:f,type:Do.after})})}rr(o)&&Object.keys(o).forEach(u=>{const f=s.concat(u);r.push({path:f,type:Do.key}),i(o[u],f),t&&r.push({path:f,type:Do.after})})}}return i(n,[]),r}function uK(n,e,t){const r=qw(n,e),i=r.map(ht),o=ht(t),s=i.indexOf(o);if(s!==-1&&s>0)return r[s-1]}function C1(n,e,t){const r=qw(n,e),o=r.map(ht).indexOf(ht(t));if(o!==-1&&o<r.length-1)return r[o+1]}function Ql(n,e,t,r=HU){const i=Qe(n,t),o=AW({json:i},r)?Df:Ww;return Po(n,e,t,o)}function P0(n,e,t){const r=jl(n,e,t);return(Yl(r)?r.expanded:!1)?e:Ql(n,e,t)}function Df(n){return n.length===0?!0:n.length===1&&n[0]===\"0\"}function w_(n){return n.length===0}function Ww(){return!0}function Xg(){return!1}function uo(n){return n&&n.type===vn.after||!1}function Kr(n){return n&&n.type===vn.inside||!1}function Ar(n){return n&&n.type===vn.key||!1}function hn(n){return n&&n.type===vn.value||!1}function In(n){return n&&n.type===vn.multi||!1}function bv(n){return In(n)&&Ft(n.focusPath,n.anchorPath)}function kd(n){return In(n)||uo(n)||Kr(n)||Ar(n)||hn(n)}function I0(n){return n&&n.type===vn.text||!1}function Ya(n,e){const t=[];return fK(n,e,r=>{t.push(r)}),t}function fK(n,e,t){if(!e)return;const r=Zl(e),i=it(e);if(Ft(r,i))return t(r);{if(n===void 0)return;const o=uE(r,i);if(r.length===o.length||i.length===o.length)return t(o);const s=ri(r,i),a=fa(n,s),l=fl(n,s),u=ta(n,s,a),f=ta(n,s,l);if(u===-1||f===-1)return;const d=Qe(n,o);if(rr(d)){const h=Object.keys(d);for(let g=u;g<=f;g++){const p=t(o.concat(h[g]));if(p!==void 0)return p}return}if(Jn(d)){for(let h=u;h<=f;h++){const g=t(o.concat(String(h)));if(g!==void 0)return g}return}}throw new Error(\"Failed to create selection\")}function lE(n){return Kr(n)?n.path:Jt(it(n))}function fa(n,e){if(!In(e))return e.path;const t=ta(n,e,e.anchorPath);return ta(n,e,e.focusPath)<t?e.focusPath:e.anchorPath}function fl(n,e){if(!In(e))return e.path;const t=ta(n,e,e.anchorPath);return ta(n,e,e.focusPath)>t?e.focusPath:e.anchorPath}function dK(n,e){return da(it(n),e)&&(it(n).length>e.length||Kr(n))}function x_(n,e,t,r=!1){if(!t)return;const i=r?it(t):fa(n,t),o=uK(n,e,i);if(r)return Kr(t)||uo(t)?o!==void 0?ri(i,i):void 0:o!==void 0?ri(Zl(t),o):void 0;if(uo(t)||Kr(t))return Dt(i);if(Ar(t)){if(o===void 0||o.length===0)return;const s=Jt(o),a=Qe(n,s);return Array.isArray(a)||mn(o)?Dt(o):ha(o)}if(hn(t))return o!==void 0?Dt(o):void 0;if(o!==void 0)return Dt(o)}function hK(n,e,t,r=!1){if(!t)return;const i=r?it(t):fl(n,t),o=nr(Qe(n,i))?tE(n,e,i,!0):e,s=C1(n,e,i),a=C1(n,o,i);if(r)return Kr(t)?s!==void 0?ri(s,s):void 0:uo(t)?a!==void 0?ri(a,a):void 0:a!==void 0?ri(Zl(t),a):void 0;if(uo(t))return a!==void 0?Dt(a):void 0;if(Kr(t)||hn(t))return s!==void 0?Dt(s):void 0;if(Ar(t)){if(s===void 0||s.length===0)return;const l=Jt(s),u=Qe(n,l);return Array.isArray(u)?Dt(s):ha(s)}if(In(t))return a!==void 0?Dt(a):s!==void 0?Dt(s):void 0}function gK(n,e,t){const r=Jt(t),i=[Nt(t)],o=Qe(n,r),s=o?C1(o,e,i):void 0;return s?Dt(r.concat(s)):pa(t)}function cE(n,e,t,r){if(!t)return{caret:void 0,previous:void 0,next:void 0};const i=aE(n,e,r),o=i.findIndex(s=>Ft(s.path,it(t))&&String(s.type)===String(t.type));return{caret:o!==-1?i[o]:void 0,previous:o!==-1&&o>0?i[o-1]:void 0,next:o!==-1&&o<i.length-1?i[o+1]:void 0}}function pK(n,e,t,r=!1,i=!0){if(!t)return;const{caret:o,previous:s}=cE(n,e,t,i);if(r)return In(t)?void 0:ri(t.path,t.path);if(o&&s)return Kw(s);const a=Jt(it(t)),l=Qe(n,a);if(hn(t)&&Array.isArray(l))return ri(t.path,t.path);if(In(t)&&!Array.isArray(l))return ha(t.focusPath)}function mK(n,e,t,r=!1,i=!0){if(!t)return;const{caret:o,next:s}=cE(n,e,t,i);if(r)return In(t)?void 0:ri(t.path,t.path);if(o&&s)return Kw(s);if(In(t))return Dt(t.focusPath)}function Pc(n,e){const t=qw(n,e);let r=0;for(;r<t.length-1&&t[r+1].length>t[r].length;)r++;const i=t[r];return i===void 0||i.length===0||Array.isArray(Qe(n,Jt(i)))?Dt(i):ha(i)}function Ru(n,e){if(e.length===1){const r=ea(e);if(r.op===\"replace\"){const i=jo(n,r.path);return Dt(i)}}if(!mn(e)&&e.every(r=>r.op===\"move\")){const r=ea(e),i=e.slice(1);if((t1(r)||Eu(r))&&r.from!==r.path&&i.every(o=>(t1(o)||Eu(o))&&o.from===o.path)){const o=jo(n,r.path);return ha(o)}}const t=e.filter(r=>r.op!==\"test\"&&r.op!==\"remove\"&&(r.op!==\"move\"||r.from!==r.path)&&typeof r.path==\"string\").map(r=>jo(n,r.path));if(!mn(t))return{type:vn.multi,anchorPath:ea(t),focusPath:Nt(t)}}function uE(n,e){let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function Wp(n){return Ar(n)||hn(n)||bv(n)}function C_(n,e){return Wp(e)&&nr(Qe(n,it(e)))?it(e):Jt(it(e))}function da(n,e){if(n.length<e.length)return!1;for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function ls(n){if(vi(n)){const{type:e,path:t}=n;return{type:e,path:t}}return n}function ha(n){return{type:vn.key,path:n}}function Uw(n,e){return{type:vn.key,path:n,edit:!0,initialValue:e}}function Dt(n){return{type:vn.value,path:n}}function Up(n,e){return{type:vn.value,path:n,edit:!0,initialValue:e}}function ga(n){return{type:vn.inside,path:n}}function pa(n){return{type:vn.after,path:n}}function ri(n,e){const t=uE(n,e),r=n.length>t.length&&e.length>t.length;return{type:vn.multi,anchorPath:r?t.concat(n[t.length]):t,focusPath:r?t.concat(e[t.length]):t}}function fE(n,e,t,r){if(Ar(e))return String(Nt(e.path));if(hn(e)){const i=Qe(n,e.path);return typeof i==\"string\"?i:r.stringify(i,null,t)}if(In(e)){if(mn(e.focusPath))return r.stringify(n,null,t);const i=lE(e),o=Qe(n,i);if(Array.isArray(o))if(bv(e)){const s=Qe(n,e.focusPath);return r.stringify(s,null,t)}else return Ya(n,e).map(s=>{const a=Qe(n,s);return`${r.stringify(a,null,t)},`}).join(`\n`);else return Ya(n,e).map(s=>{const a=Nt(s),l=Qe(n,s);return`${r.stringify(a)}: ${r.stringify(l,null,t)},`}).join(`\n`)}}function vi(n){return(Ar(n)||hn(n))&&n.edit===!0}function vK(){return Dt([])}function Zu(n){return Ar(n)||hn(n)||In(n)}function Gg(n){return Ar(n)||hn(n)||bv(n)}function Kw(n){switch(n.type){case Do.key:return ha(n.path);case Do.value:return Dt(n.path);case Do.after:return pa(n.path);case Do.inside:return ga(n.path)}}function __(n,e){switch(n){case vn.key:return ha(e);case vn.value:return Dt(e);case vn.after:return pa(e);case vn.inside:return ga(e);case vn.multi:case vn.text:return ri(e,e)}}function S_(n,e,t){if(!e)return;if(Od(n,e,t))return e;const r=In(e)?Jt(e.focusPath):e.path;if(da(r,t))return e}function Od(n,e,t){if(n===void 0||!e)return!1;if(Ar(e)||Kr(e)||uo(e))return Ft(e.path,t);if(hn(e))return da(t,e.path);if(In(e)){const r=fa(n,e),i=fl(n,e),o=Jt(e.focusPath);if(!da(t,o)||t.length<=o.length)return!1;const s=ta(n,e,r),a=ta(n,e,i),l=ta(n,e,t);return l!==-1&&l>=s&&l<=a}return!1}function ta(n,e,t){const r=Jt(e.focusPath);if(!da(t,r)||t.length<=r.length)return-1;const i=t[r.length],o=Qe(n,r);if(rr(o))return Object.keys(o).indexOf(i);if(Jn(o)){const s=jr(i);if(s<o.length)return s}return-1}function it(n){return In(n)?n.focusPath:n.path}function Zl(n){return In(n)?n.anchorPath:n.path}function $u(...n){const e=[];for(const t of n)if(typeof t==\"string\"&&e.push(t),t&&typeof t==\"object\")for(const r in t)Object.hasOwnProperty.call(t,r)&&t[r]&&e.push(r);return e.join(\" \")}function dE(n,e,t){const r=ww(n,t);return $u(\"jse-value\",\"jse-\"+r,{\"jse-url\":sv(n),\"jse-empty\":typeof n==\"string\"&&n.length===0,\"jse-table-cell\":e===_r.table})}var yK=X('<div role=\"textbox\" tabindex=\"0\" contenteditable=\"true\" spellcheck=\"false\"></div>');function hE(n,e){Ee(e,!1);const t=Er(\"jsoneditor:EditableDiv\");let r=x(e,\"value\",9),i=x(e,\"initialValue\",9),o=x(e,\"shortText\",9,!1),s=x(e,\"label\",9),a=x(e,\"onChange\",9),l=x(e,\"onCancel\",9),u=x(e,\"onFind\",9),f=x(e,\"onPaste\",9,cr),d=x(e,\"onValueClass\",9,()=>\"\"),h=Q(void 0,!0),g=Q(void 0,!0),p=!1;dr(()=>{t(\"onMount\",{value:r(),initialValue:i()}),y(i()!==void 0?i():r()),c(h)&&HW(c(h))}),zr(()=>{const O=m();t(\"onDestroy\",{closed:p,value:r(),newValue:O}),!p&&O!==r()&&a()(O,Ka.no)});function m(){return c(h)?jW(c(h).innerText):\"\"}function y(O){c(h)&&Wi(h,c(h).innerText=mv(O))}function v(){const O=m();O===\"\"&&y(\"\"),S(g,d()(O))}function C(){p=!0,l()()}function k(O){O.stopPropagation();const T=ca(O);if(T===\"Escape\"&&(O.preventDefault(),C()),T===\"Enter\"||T===\"Tab\"){O.preventDefault(),p=!0;const I=m();a()(I,Ka.nextInside)}T===\"Ctrl+F\"&&(O.preventDefault(),u()(!1)),T===\"Ctrl+H\"&&(O.preventDefault(),u()(!0))}function b(O){if(O.stopPropagation(),!f()||!O.clipboardData)return;const T=O.clipboardData.getData(\"text/plain\");f()(T)}function w(){const O=document.hasFocus(),T=m();t(\"handleBlur\",{hasFocus:O,closed:p,value:r(),newValue:T}),document.hasFocus()&&!p&&(p=!0,T!==r()&&a()(T,Ka.self))}le(()=>(J(d()),J(r())),()=>{S(g,d()(r()))}),Xt(),ft(!0);var E=yK();yn(E,O=>S(h,O),()=>c(h)),he(O=>{ke(E,\"aria-label\",s()),Nr(E,Lr(O),\"svelte-f9kmxj\")},[()=>$u(\"jse-editable-div\",c(g),{\"jse-short-text\":o()})],Me),we(\"input\",E,v),we(\"keydown\",E,k),we(\"paste\",E,b),we(\"blur\",E,w),R(n,E),Te()}function bK(n,e){Ee(e,!1);let t=x(e,\"path\",9),r=x(e,\"value\",9),i=x(e,\"selection\",9),o=x(e,\"mode\",9),s=x(e,\"parser\",9),a=x(e,\"normalization\",9),l=x(e,\"enforceString\",9),u=x(e,\"onPatch\",9),f=x(e,\"onPasteJson\",9),d=x(e,\"onSelect\",9),h=x(e,\"onFind\",9),g=x(e,\"focus\",9),p=x(e,\"findNextInside\",9);function m(E){return l()?E:Gu(E,s())}function y(E,O){u()([{op:\"replace\",path:ht(t()),value:m(a().unescapeValue(E))}],(T,I,D)=>{if(D&&!Ft(t(),it(D)))return;const A=O===Ka.nextInside?p()(t()):Dt(t());return{state:I,selection:A}}),g()()}function v(){d()(Dt(t())),g()()}function C(E){try{const O=s().parse(E);nr(O)&&f()({path:t(),contents:O,onPasteAsJson:()=>{v();const T=[{op:\"replace\",path:ht(t()),value:O}];u()(T,(I,D)=>({state:Ql(I,D,t())}))}})}catch{}}function k(E){return dE(m(a().unescapeValue(E)),o(),s())}ft(!0);const b=Me(()=>a().escapeValue(r())),w=Me(()=>vi(i())?i().initialValue:void 0);hE(n,{get value(){return c(b)},get initialValue(){return c(w)},label:\"Edit value\",onChange:y,onCancel:v,onPaste:C,get onFind(){return h()},onValueClass:k}),Te()}function Xc(n,e,t){const r=Jt(e),i=Qe(n,r);if(Jn(i)){const o=jr(Nt(e));return t.map((s,a)=>({op:\"add\",path:ht(r.concat(String(o+a))),value:s.value}))}else if(rr(i)){const o=Nt(e),s=Object.keys(i),a=o!==void 0?dh(s,o,!0):[];return[...t.map(l=>{const u=uh(l.key,s);return{op:\"add\",path:ht(r.concat(u)),value:l.value}}),...a.map(l=>$l(r,l))]}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}function _1(n,e,t){const r=Qe(n,e);if(Array.isArray(r)){const i=r.length;return t.map((o,s)=>({op:\"add\",path:ht(e.concat(String(i+s))),value:o.value}))}else return t.map(i=>{const o=uh(i.key,Object.keys(r));return{op:\"add\",path:ht(e.concat(o)),value:i.value}})}function hh(n,e,t,r){const i=e.filter(a=>a!==t),o=uh(r,i),s=dh(e,t,!1);return[{op:\"move\",from:ht(n.concat(t)),path:ht(n.concat(o))},...s.map(a=>$l(n,a))]}function wK(n,e,t){const r=ea(e),i=Jt(r),o=Qe(n,i);if(Jn(o)){const s=ea(e),a=s?jr(Nt(s)):0;return[...Kp(e),...t.map((l,u)=>({op:\"add\",path:ht(i.concat(String(u+a))),value:l.value}))]}else if(rr(o)){const s=Nt(e),a=Jt(s),l=Nt(s),u=Object.keys(o),f=l!==void 0?dh(u,l,!1):[],d=new Set(e.map(g=>Nt(g))),h=u.filter(g=>!d.has(g));return[...Kp(e),...t.map(g=>{const p=uh(g.key,h);return{op:\"add\",path:ht(a.concat(p)),value:g.value}}),...f.map(g=>$l(a,g))]}else throw new Error(\"Cannot create replace operations: parent must be an Object or Array\")}function gE(n,e){const t=Nt(e);if(mn(t))throw new Error(\"Cannot duplicate root object\");const r=Jt(t),i=Nt(t),o=Qe(n,r);if(Jn(o)){const s=Nt(e),a=s?jr(Nt(s))+1:0;return[...e.map((l,u)=>({op:\"copy\",from:ht(l),path:ht(r.concat(String(u+a)))}))]}else if(rr(o)){const s=Object.keys(o),a=i!==void 0?dh(s,i,!1):[];return[...e.map(l=>{const u=Nt(l),f=uh(u,s);return{op:\"copy\",from:ht(l),path:ht(r.concat(f))}}),...a.map(l=>$l(r,l))]}else throw new Error(\"Cannot create duplicate operations: parent must be an Object or Array\")}function xK(n,e){if(hn(e))return[{op:\"move\",from:ht(e.path),path:\"\"}];if(In(e)){const t=Jt(e.focusPath),r=Qe(n,t);if(Jn(r))return[{op:\"replace\",path:\"\",value:Ya(n,e).map(o=>{const s=jr(Nt(o));return r[s]})}];if(rr(r)){const i={};return Ya(n,e).forEach(o=>{const s=String(Nt(o));i[s]=r[s]}),[{op:\"replace\",path:\"\",value:i}]}}else throw new Error(\"Cannot create extract operations: parent must be an Object or Array\");throw new Error(\"Cannot extract: unsupported type of selection \"+JSON.stringify(e))}function pE(n,e,t,r){if(Ar(e)){const i=NA(t,r),o=Jt(e.path),s=Qe(n,o),a=Object.keys(s),l=Nt(e.path);return hh(o,a,l,typeof i==\"string\"?i:t)}if(hn(e)||In(e)&&mn(e.focusPath))try{return[{op:\"replace\",path:ht(it(e)),value:pv(t,i=>lh(i,r))}]}catch{return[{op:\"replace\",path:ht(it(e)),value:t}]}if(In(e)){const i=R0(t,r);return wK(n,Ya(n,e),i)}if(uo(e)){const i=R0(t,r),o=e.path,s=Jt(o),a=Qe(n,s);if(Jn(a)){const l=jr(Nt(o)),u=s.concat(String(l+1));return Xc(n,u,i)}else if(rr(a)){const l=String(Nt(o)),u=Object.keys(a);if(mn(u)||Nt(u)===l)return _1(n,s,i);{const f=u.indexOf(l),d=u[f+1],h=s.concat(d);return Xc(n,h,i)}}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}if(Kr(e)){const i=R0(t,r),o=e.path,s=Qe(n,o);if(Jn(s)){const a=o.concat(\"0\");return Xc(n,a,i)}else if(rr(s)){const a=Object.keys(s);if(mn(a))return _1(n,o,i);{const l=ea(a),u=o.concat(l);return Xc(n,u,i)}}else throw new Error(\"Cannot create insert operations: parent must be an Object or Array\")}throw new Error(\"Cannot insert: unsupported type of selection \"+JSON.stringify(e))}function CK(n,e,t){if(!e)return[];const r=\"beforePath\"in t?t.beforePath:void 0,i=\"append\"in t?t.append:void 0,o=Jt(it(e)),s=Qe(n,o);if(!i&&!(r&&da(r,o)&&r.length>o.length))return[];const a=fa(n,e),l=fl(n,e),u=Nt(a),f=Nt(l),d=r?r[o.length]:void 0;if(rr(s)){const h=Object.keys(s),g=h.indexOf(u),p=h.indexOf(f),m=i?h.length:d!==void 0?h.indexOf(d):-1;if(g!==-1&&p!==-1&&m!==-1)return m>g?[...h.slice(g,p+1),...h.slice(m,h.length)].map(y=>$l(o,y)):[...h.slice(m,g),...h.slice(p+1,h.length)].map(y=>$l(o,y))}else if(Jn(s)){const h=jr(u),g=jr(f),p=d!==void 0?jr(d):s.length,m=g-h+1;return p<h?n_(m,y=>({op:\"move\",from:ht(o.concat(String(h+y))),path:ht(o.concat(String(p+y)))})):n_(m,()=>({op:\"move\",from:ht(o.concat(String(h))),path:ht(o.concat(String(p)))}))}else throw new Error(\"Cannot create move operations: parent must be an Object or Array\");return[]}function _K(n,e,t){if(t===\"object\")return{};if(t===\"array\")return[];if(t===\"structure\"&&n!==void 0){const r=e?lE(e):[],i=Qe(n,r);if(Array.isArray(i)&&!mn(i)){const o=ea(i);return nr(o)?UH(o,s=>Array.isArray(s)?[]:ln(s)?void 0:\"\"):\"\"}}return\"\"}function Kp(n){return n.map(e=>({op:\"remove\",path:ht(e)})).reverse()}function $l(n,e){return{op:\"move\",from:ht(n.concat(e)),path:ht(n.concat(e))}}function R0(n,e){const t=/^\\s*{/.test(n),r=/^\\s*\\[/.test(n),i=NA(n,e),o=i!==void 0?i:pv(n,s=>lh(s,e));return t&&ln(o)||r&&Array.isArray(o)?[{key:\"New item\",value:o}]:Array.isArray(o)?o.map((s,a)=>({key:\"New item \"+a,value:s})):ln(o)?Object.keys(o).map(s=>({key:s,value:o[s]})):[{key:\"New item\",value:o}]}function mE(n,e){if(Ar(e)){const t=Jt(e.path),r=Qe(n,t),i=Object.keys(r),o=Nt(e.path),a=hh(t,i,o,\"\"),l=Ru(n,a);return{operations:a,newSelection:l}}if(hn(e))return{operations:[{op:\"replace\",path:ht(e.path),value:\"\"}],newSelection:e};if(In(e)){const t=Ya(n,e),r=Kp(t),i=Nt(t);if(mn(i)){const a=[{op:\"replace\",path:\"\",value:\"\"}],l=Dt([]);return{operations:a,newSelection:l}}const o=Jt(i),s=Qe(n,o);if(Jn(s)){const a=ea(t),l=jr(Nt(a)),u=l===0?ga(o):pa(o.concat(String(l-1)));return{operations:r,newSelection:u}}else if(rr(s)){const a=Object.keys(s),l=ea(t),u=Nt(l),f=a.indexOf(u),d=a[f-1],h=f===0?ga(o):pa(o.concat(d));return{operations:r,newSelection:h}}else throw new Error(\"Cannot create remove operations: parent must be an Object or Array\")}throw new Error(\"Cannot remove: unsupported type of selection \"+JSON.stringify(e))}function vE(n,e){return xW(YO(n,e,{before:(t,r,i)=>{if(KO(r)){const o=yo(r.path);return{revertOperations:[...i,...D0(t,o)]}}if(Eu(r)){const o=yo(r.from);return{revertOperations:r.from===r.path?[r,...D0(t,o)]:[...i,...D0(t,o)]}}return{document:t}}}))}function D0(n,e){const t=Jt(e),r=Nt(e),i=Qe(n,t);if(rr(i)){const o=Object.keys(i);return dh(o,r,!1).map(a=>$l(t,a))}return[]}function SK(n,e){return n.flatMap(t=>{if(gw(t)){const r=yo(t.path);if(r.length>0){const i=[t];let o=Jt(r);for(;o.length>0&&!co(e,o);)i.unshift({op:\"add\",path:ht(o),value:{}}),o=Jt(o);return i}}return t})}function kK(n,e){const t=e!=null&&e.activeItem?E_(e.activeItem):void 0,r=n.findIndex(a=>Ft(t,E_(a))),i=r!==-1?r:(e==null?void 0:e.activeIndex)!==void 0&&(e==null?void 0:e.activeIndex)<n.length?e==null?void 0:e.activeIndex:n.length>0?0:-1,o=n.map((a,l)=>({...a,active:l===i})),s=o[i];return{items:o,activeItem:s,activeIndex:i}}function k_(n){const e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],r=n.items.map((i,o)=>({...i,active:o===e}));return{...n,items:r,activeItem:t,activeIndex:e}}function OK(n){const e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],r=n.items.map((i,o)=>({...i,active:o===e}));return{...n,items:r,activeItem:t,activeIndex:e}}function yE(n,e,t={}){const r=n.toLowerCase(),i=(t==null?void 0:t.maxResults)??1/0,o=t==null?void 0:t.columns,s=[],a=[];function l(f){s.length>=i||s.push(f)}function u(f,d){if(Jn(d)){const h=a.length;a.push(\"0\");for(let g=0;g<d.length;g++)if(a[h]=String(g),u(f,d[g]),s.length>=i)return;a.pop()}else if(rr(d)){const h=Object.keys(d),g=a.length;a.push(\"\");for(const p of h)if(a[g]=p,O_(p,f,a,Vo.key,l),u(f,d[p]),s.length>=i)return;a.pop()}else O_(String(d),f,a,Vo.value,l)}if(n===\"\")return[];if(o){if(!Array.isArray(e))throw new Error(\"json must be an Array when option columns is defined\");for(let f=0;f<e.length;f++){a[0]=String(f);const d=e[f];for(let h=0;h<o.length;h++){const g=o[h];if(g.length===1)a[1]=g[0];else for(let m=0;m<g.length;m++)a[m+1]=g[m];for(;a.length>g.length+1;)a.pop();const p=Qe(d,g);u(r,p)}if(s.length>=i)break}return s}else return u(r,e),s}function O_(n,e,t,r,i){const o=n.toLowerCase();let s=0,a=-1,l=-1;do l=o.indexOf(e,a),l!==-1&&(a=l+e.length,i({path:t.slice(0),field:r,fieldIndex:s,start:l,end:a}),s++);while(l!==-1)}function S1(n,e,t,r){return n.substring(0,t)+e+n.substring(r)}function A_(n,e,t){let r=n;return Kq(t,i=>{r=S1(r,e,i.start,i.end)}),r}function AK(n,e,t,r,i){const{field:o,path:s,start:a,end:l}=r;if(o===Vo.key){const u=Jt(s),f=Qe(n,u),d=Nt(s),h=Object.keys(f),g=S1(d,t,a,l),p=hh(u,h,d,g);return{newSelection:Ru(n,p),operations:p}}else if(o===Vo.value){const u=Qe(n,s);if(u===void 0)throw new Error(`Cannot replace: path not found ${ht(s)}`);const f=typeof u==\"string\"?u:String(u),d=ua(n,e,s),h=S1(f,t,a,l),g=[{op:\"replace\",path:ht(s),value:d?h:Gu(h,i)}];return{newSelection:Ru(n,g),operations:g}}else throw new Error(`Cannot replace: unknown type of search result field ${o}`)}function EK(n,e,t,r,i){const o=yE(t,n,{maxResults:1/0}),s=[];for(let u=0;u<o.length;u++){const f=o[u-1],d=o[u];u===0||d.field!==f.field||!Ft(d.path,f.path)?s.push({path:d.path,field:d.field,items:[d]}):Nt(s).items.push(d)}s.sort((u,f)=>u.field!==f.field?u.field===Vo.key?1:-1:f.path.length-u.path.length);let a=[],l;return s.forEach(u=>{const{field:f,path:d,items:h}=u;if(f===Vo.key){const g=Jt(d),p=Qe(n,g),m=Nt(d),y=Object.keys(p),v=A_(m,r,h),C=hh(g,y,m,v);a=a.concat(C),l=Ru(n,C)}else if(f===Vo.value){const g=Qe(n,d);if(g===void 0)throw new Error(`Cannot replace: path not found ${ht(d)}`);const p=typeof g==\"string\"?g:String(g),m=ua(n,e,d),y=A_(p,r,h),v=[{op:\"replace\",path:ht(d),value:m?y:Gu(y,i)}];a=a.concat(v),l=Ru(n,v)}else throw new Error(`Cannot replace: unknown type of search result field ${f}`)}),{operations:a,newSelection:l}}function TK(n,e){const t=[];let r=0;for(const o of e){const s=n.slice(r,o.start);s!==\"\"&&t.push({type:\"normal\",text:s,active:!1});const a=n.slice(o.start,o.end);t.push({type:\"highlight\",text:a,active:o.active}),r=o.end}const i=Nt(e);return i&&i.end<n.length&&t.push({type:\"normal\",text:n.slice(i.end),active:!1}),t}function E_(n){return n.path.concat(n.field,String(n.fieldIndex))}function MK(n){const e=$A(n)?n.searchResults.filter(t=>t.field===Vo.key):void 0;return e&&e.length>0?e:void 0}function PK(n){const e=$A(n)?n.searchResults.filter(t=>t.field===Vo.value):void 0;return e&&e.length>0?e:void 0}const IK={createObjectDocumentState:()=>({type:\"object\",properties:{}}),createArrayDocumentState:()=>({type:\"array\",items:[]}),createValueDocumentState:()=>({type:\"value\"})};function RK(n,e,t,r){return Hw(n,e,t,r,IK)}function bE(n,e){return e.reduce((t,r)=>RK(n,t,r.path,(i,o)=>({...o,searchResults:o.searchResults?o.searchResults.concat(r):[r]})),void 0)}function k1(n){const e=(n==null?void 0:n.searchResults)??[],t=Ho(n)?Object.values(n.properties).flatMap(k1):Gr(n)?n.items.flatMap(k1):[];return e.concat(t)}var DK=X('<span class=\"jse-highlight svelte-5fb7bl\"> </span>');function wE(n,e){Ee(e,!1);const t=Q();let r=x(e,\"text\",8),i=x(e,\"searchResultItems\",8);le(()=>(J(r()),J(i())),()=>{S(t,TK(String(r()),i()))}),Xt(),ft();var o=De(),s=ye(o);Pt(s,1,()=>c(t),tn,(a,l)=>{var u=De(),f=ye(u);{var d=g=>{var p=Or();he(()=>He(p,c(l).text)),R(g,p)},h=g=>{var p=DK(),m=j(p);he(y=>{Re(p,\"jse-active\",c(l).active),He(m,y)},[()=>mv(c(l).text)],Me),R(g,p)};te(f,g=>{c(l).type===\"normal\"?g(d):g(h,!1)})}R(a,u)}),R(n,o),Te()}var NK=X('<div role=\"button\" tabindex=\"-1\" data-type=\"selectable-value\"><!></div>');function LK(n,e){Ee(e,!1);const t=Q(void 0,!0);let r=x(e,\"path\",9),i=x(e,\"value\",9),o=x(e,\"mode\",9),s=x(e,\"readOnly\",9),a=x(e,\"normalization\",9),l=x(e,\"parser\",9),u=x(e,\"onSelect\",9),f=x(e,\"searchResultItems\",9);function d(v){typeof i()==\"string\"&&c(t)&&Dw(v)&&(v.preventDefault(),v.stopPropagation(),window.open(i(),\"_blank\"))}function h(v){s()||(v.preventDefault(),u()(Up(r())))}le(()=>J(i()),()=>{S(t,sv(i()))}),Xt(),ft(!0);var g=NK(),p=j(g);{var m=v=>{const C=Me(()=>a().escapeValue(i()));wE(v,{get text(){return c(C)},get searchResultItems(){return f()}})},y=v=>{var C=Or();he(k=>He(C,k),[()=>mv(a().escapeValue(i()))],Me),R(v,C)};te(p,v=>{f()?v(m):v(y,!1)})}he(v=>{Nr(g,Lr(v),\"svelte-c0g9qz\"),ke(g,\"title\",c(t)?\"Ctrl+Click or Ctrl+Enter to open url in new window\":void 0)},[()=>dE(i(),o(),l())],Me),we(\"click\",g,d),we(\"dblclick\",g,h),R(n,g),Te()}var BK=X('<div class=\"jse-tooltip svelte-14y3y8t\"> </div>');function FK(n,e){let t=x(e,\"text\",8);var r=BK(),i=j(r);he(()=>He(i,t())),R(n,r)}function na(n,{text:e,openAbsolutePopup:t,closeAbsolutePopup:r}){let i;function o(){i=t(FK,{text:e},{position:\"top\",width:10*e.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function s(){r(i)}return n.addEventListener(\"mouseenter\",o),n.addEventListener(\"mouseleave\",s),{destroy(){n.removeEventListener(\"mouseenter\",o),n.removeEventListener(\"mouseleave\",s)}}}var jK=X('<div class=\"jse-timestamp svelte-1jla5ec\"><!></div>');function zK(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Yi(\"absolute-popup\");let i=x(e,\"value\",9);le(()=>J(i()),()=>{S(t,`Time: ${new Date(i()).toString()}`)}),Xt(),ft(!0);var o=jK(),s=j(o);jt(s,{data:yU}),Ut(o,(a,l)=>na==null?void 0:na(a,l),()=>({text:c(t),...r})),R(n,o),Te()}function VK(n){const e=[];return!n.isEditing&&WF(n.value)&&e.push({component:AU,props:n}),!n.isEditing&&UF(n.value)&&e.push({component:DU,props:n}),n.isEditing&&e.push({component:bK,props:n}),n.isEditing||e.push({component:LK,props:n}),!n.isEditing&&o1(n.value)&&e.push({component:zK,props:n}),e}/*!\n * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n * Copyright 2024 Fonticons, Inc.\n */const O1={prefix:\"fas\",iconName:\"trash-can\",icon:[448,512,[61460,\"trash-alt\"],\"f2ed\",\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z\"]},HK={prefix:\"fas\",iconName:\"down-left-and-up-right-to-center\",icon:[512,512,[\"compress-alt\"],\"f422\",\"M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8l-144 0c-13.3 0-24-10.7-24-24l0-144c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272l144 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z\"]},Ad={prefix:\"fas\",iconName:\"caret-right\",icon:[256,512,[],\"f0da\",\"M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z\"]},xE={prefix:\"fas\",iconName:\"paste\",icon:[512,512,[\"file-clipboard\"],\"f0ea\",\"M160 0c-23.7 0-44.4 12.9-55.4 32L48 32C21.5 32 0 53.5 0 80L0 400c0 26.5 21.5 48 48 48l144 0 0-272c0-44.2 35.8-80 80-80l48 0 0-16c0-26.5-21.5-48-48-48l-56.6 0C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48l0 272 0 16c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-220.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L320 128l-48 0zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"]},qK={prefix:\"fas\",iconName:\"circle-notch\",icon:[512,512,[],\"f1ce\",\"M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z\"]},WK={prefix:\"fas\",iconName:\"scissors\",icon:[512,512,[9984,9986,9988,\"cut\"],\"f0c4\",\"M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z\"]},lu=WK,UK={prefix:\"fas\",iconName:\"square-caret-down\",icon:[448,512,[\"caret-square-down\"],\"f150\",\"M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z\"]},KK=UK,JK={prefix:\"fas\",iconName:\"caret-left\",icon:[256,512,[],\"f0d9\",\"M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z\"]},XK={prefix:\"fas\",iconName:\"square-check\",icon:[448,512,[9745,9989,61510,\"check-square\"],\"f14a\",\"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z\"]},CE=XK,GK={prefix:\"fas\",iconName:\"pen-to-square\",icon:[512,512,[\"edit\"],\"f044\",\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z\"]},YK=GK,QK={prefix:\"fas\",iconName:\"chevron-up\",icon:[512,512,[],\"f077\",\"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z\"]},_E={prefix:\"fas\",iconName:\"angle-right\",icon:[320,512,[8250],\"f105\",\"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z\"]},ZK={prefix:\"fas\",iconName:\"square-caret-up\",icon:[448,512,[\"caret-square-up\"],\"f151\",\"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4l-208 0c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z\"]},$K=ZK,eJ={prefix:\"fas\",iconName:\"caret-up\",icon:[320,512,[],\"f0d8\",\"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8l256 0c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z\"]},SE={prefix:\"fas\",iconName:\"square\",icon:[448,512,[9632,9723,9724,61590],\"f0c8\",\"M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z\"]},wv={prefix:\"fas\",iconName:\"filter\",icon:[512,512,[],\"f0b0\",\"M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z\"]},Jp={prefix:\"fas\",iconName:\"code\",icon:[640,512,[],\"f121\",\"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z\"]},Du={prefix:\"fas\",iconName:\"wrench\",icon:[512,512,[128295],\"f0ad\",\"M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\"]},tJ={prefix:\"fas\",iconName:\"eye\",icon:[576,512,[128065],\"f06e\",\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\"]},cu={prefix:\"fas\",iconName:\"pen\",icon:[512,512,[128394],\"f304\",\"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z\"]},nJ={prefix:\"fas\",iconName:\"arrow-rotate-right\",icon:[512,512,[8635,\"arrow-right-rotate\",\"arrow-rotate-forward\",\"redo\"],\"f01e\",\"M386.3 160L336 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z\"]},Jw=nJ,rJ={prefix:\"fas\",iconName:\"arrow-rotate-left\",icon:[512,512,[8634,\"arrow-left-rotate\",\"arrow-rotate-back\",\"arrow-rotate-backward\",\"undo\"],\"f0e2\",\"M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z\"]},Xw=rJ,iJ={prefix:\"fas\",iconName:\"crop-simple\",icon:[512,512,[\"crop-alt\"],\"f565\",\"M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32l0 32L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l32 0 0 256c0 35.3 28.7 64 64 64l224 0 0-64-224 0 0-352zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-256c0-35.3-28.7-64-64-64L160 64l0 64 224 0 0 352z\"]},oJ=iJ,sJ={prefix:\"fas\",iconName:\"gear\",icon:[512,512,[9881,\"cog\"],\"f013\",\"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z\"]},aJ=sJ,Qa={prefix:\"fas\",iconName:\"caret-down\",icon:[320,512,[],\"f0d7\",\"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z\"]},lJ={prefix:\"fas\",iconName:\"ellipsis-vertical\",icon:[128,512,[\"ellipsis-v\"],\"f142\",\"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z\"]},kE=lJ,Yh={prefix:\"fas\",iconName:\"arrow-right-arrow-left\",icon:[448,512,[8644,\"exchange\"],\"f0ec\",\"M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z\"]},cJ={prefix:\"fas\",iconName:\"arrow-down-short-wide\",icon:[576,512,[\"sort-amount-desc\",\"sort-amount-down-alt\"],\"f884\",\"M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7 96 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 301.7 32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"]},xv=cJ,uJ={prefix:\"fas\",iconName:\"angle-down\",icon:[448,512,[8964],\"f107\",\"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"]},T_={prefix:\"fas\",iconName:\"arrow-down\",icon:[384,512,[8595],\"f063\",\"M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\"]},fJ={prefix:\"fas\",iconName:\"magnifying-glass\",icon:[512,512,[128269,\"search\"],\"f002\",\"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z\"]},Cv=fJ,dJ={prefix:\"fas\",iconName:\"chevron-down\",icon:[512,512,[],\"f078\",\"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z\"]},Ja={prefix:\"fas\",iconName:\"copy\",icon:[448,512,[],\"f0c5\",\"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z\"]},Gc={prefix:\"fas\",iconName:\"plus\",icon:[448,512,[10133,61543,\"add\"],\"2b\",\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z\"]},OE={prefix:\"fas\",iconName:\"xmark\",icon:[384,512,[128473,10005,10006,10060,215,\"close\",\"multiply\",\"remove\",\"times\"],\"f00d\",\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"]},hJ=OE,_v=OE,gJ={prefix:\"fas\",iconName:\"rotate\",icon:[512,512,[128260,\"sync-alt\"],\"f2f1\",\"M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z\"]},pJ={prefix:\"fas\",iconName:\"up-right-and-down-left-from-center\",icon:[512,512,[\"expand-alt\"],\"f424\",\"M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z\"]},AE={prefix:\"fas\",iconName:\"clone\",icon:[512,512,[],\"f24d\",\"M288 448L64 448l0-224 64 0 0-64-64 0c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l224 0c35.3 0 64-28.7 64-64l0-64-64 0 0 64zm-64-96l224 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L224 0c-35.3 0-64 28.7-64 64l0 224c0 35.3 28.7 64 64 64z\"]},Gw={prefix:\"fas\",iconName:\"check\",icon:[448,512,[10003,10004],\"f00c\",\"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"]},mJ={prefix:\"fas\",iconName:\"triangle-exclamation\",icon:[512,512,[9888,\"exclamation-triangle\",\"warning\"],\"f071\",\"M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z\"]},ec=mJ;function Wo(n){return n.map((e,t)=>bJ.test(e)?\"[\"+e+\"]\":/[.[\\]]/.test(e)||e===\"\"?'[\"'+vJ(e)+'\"]':(t>0?\".\":\"\")+e).join(\"\")}function vJ(n){return n.replace(/\"/g,'\\\\\"')}function yJ(n){const e=[];let t=0;for(;t<n.length;)n[t]===\".\"&&t++,n[t]===\"[\"?(t++,n[t]==='\"'?(t++,e.push(r(o=>o==='\"',!0)),i('\"')):e.push(r(o=>o===\"]\")),i(\"]\")):e.push(r(o=>o===\".\"||o===\"[\"));function r(o,s=!1){let a=\"\";for(;t<n.length&&!o(n[t]);)s&&n[t]===\"\\\\\"&&n[t+1]==='\"'?(a+='\"',t+=2):(a+=n[t],t++);return a}function i(o){if(n[t]!==o)throw new SyntaxError(`Invalid JSON path: ${o} expected at position ${t}`);t++}return e}function Ea(n){return{value:n,label:mn(n)?\"(item root)\":Wo(n)}}const bJ=/^\\d+$/,wJ={},xJ={showWizard:!0,showOriginal:!0},Xp=Math.min,zl=Math.max,Gp=Math.round,Qh=Math.floor,bs=n=>({x:n,y:n}),CJ={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"},_J={start:\"end\",end:\"start\"};function M_(n,e,t){return zl(n,Xp(e,t))}function Sv(n,e){return typeof n==\"function\"?n(e):n}function tc(n){return n.split(\"-\")[0]}function kv(n){return n.split(\"-\")[1]}function EE(n){return n===\"x\"?\"y\":\"x\"}function TE(n){return n===\"y\"?\"height\":\"width\"}function Nu(n){return[\"top\",\"bottom\"].includes(tc(n))?\"y\":\"x\"}function ME(n){return EE(Nu(n))}function SJ(n,e,t){t===void 0&&(t=!1);const r=kv(n),i=ME(n),o=TE(i);let s=i===\"x\"?r===(t?\"end\":\"start\")?\"right\":\"left\":r===\"start\"?\"bottom\":\"top\";return e.reference[o]>e.floating[o]&&(s=Yp(s)),[s,Yp(s)]}function kJ(n){const e=Yp(n);return[A1(n),e,A1(e)]}function A1(n){return n.replace(/start|end/g,e=>_J[e])}function OJ(n,e,t){const r=[\"left\",\"right\"],i=[\"right\",\"left\"],o=[\"top\",\"bottom\"],s=[\"bottom\",\"top\"];switch(n){case\"top\":case\"bottom\":return t?e?i:r:e?r:i;case\"left\":case\"right\":return e?o:s;default:return[]}}function AJ(n,e,t,r){const i=kv(n);let o=OJ(tc(n),t===\"start\",r);return i&&(o=o.map(s=>s+\"-\"+i),e&&(o=o.concat(o.map(A1)))),o}function Yp(n){return n.replace(/left|right|bottom|top/g,e=>CJ[e])}function EJ(n){return{top:0,right:0,bottom:0,left:0,...n}}function TJ(n){return typeof n!=\"number\"?EJ(n):{top:n,right:n,bottom:n,left:n}}function Qp(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function P_(n,e,t){let{reference:r,floating:i}=n;const o=Nu(e),s=ME(e),a=TE(s),l=tc(e),u=o===\"y\",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case\"top\":g={x:f,y:r.y-i.height};break;case\"bottom\":g={x:f,y:r.y+r.height};break;case\"right\":g={x:r.x+r.width,y:d};break;case\"left\":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(kv(e)){case\"start\":g[s]-=h*(t&&u?-1:1);break;case\"end\":g[s]+=h*(t&&u?-1:1);break}return g}const MJ=async(n,e,t)=>{const{placement:r=\"bottom\",strategy:i=\"absolute\",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:d}=P_(u,r,l),h=r,g={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:C,y:k,data:b,reset:w}=await v({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:n,floating:e}});f=C??f,d=k??d,g={...g,[y]:{...g[y],...b}},w&&p<=50&&(p++,typeof w==\"object\"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):w.rects),{x:f,y:d}=P_(u,h,l)),m=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:g}};async function PE(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:u=\"clippingAncestors\",rootBoundary:f=\"viewport\",elementContext:d=\"floating\",altBoundary:h=!1,padding:g=0}=Sv(e,n),p=TJ(g),y=a[h?d===\"floating\"?\"reference\":\"floating\":d],v=Qp(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(y)))==null||t?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),C=d===\"floating\"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},w=Qp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:k,strategy:l}):C);return{top:(v.top-w.top+p.top)/b.y,bottom:(w.bottom-v.bottom+p.bottom)/b.y,left:(v.left-w.left+p.left)/b.x,right:(w.right-v.right+p.right)/b.x}}const PJ=function(n){return n===void 0&&(n={}),{name:\"flip\",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g=\"bestFit\",fallbackAxisSideDirection:p=\"none\",flipAlignment:m=!0,...y}=Sv(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const v=tc(i),C=Nu(a),k=tc(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=h||(k||!m?[Yp(a)]:kJ(a)),E=p!==\"none\";!h&&E&&w.push(...AJ(a,m,p,b));const O=[a,...w],T=await PE(e,y),I=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&I.push(T[v]),d){const _=SJ(i,s,b);I.push(T[_[0]],T[_[1]])}if(D=[...D,{placement:i,overflows:I}],!I.every(_=>_<=0)){var A,M;const _=(((A=o.flip)==null?void 0:A.index)||0)+1,N=O[_];if(N)return{data:{index:_,overflows:D},reset:{placement:N}};let F=(M=D.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!F)switch(g){case\"bestFit\":{var P;const B=(P=D.filter(L=>{if(E){const z=Nu(L.placement);return z===C||z===\"y\"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,Z)=>z+Z,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:P[0];B&&(F=B);break}case\"initialPlacement\":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function IJ(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=tc(t),a=kv(t),l=Nu(t)===\"y\",u=[\"left\",\"top\"].includes(s)?-1:1,f=o&&l?-1:1,d=Sv(e,n);let{mainAxis:h,crossAxis:g,alignmentAxis:p}=typeof d==\"number\"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p==\"number\"&&(g=a===\"end\"?p*-1:p),l?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const RJ=function(n){return n===void 0&&(n=0),{name:\"offset\",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await IJ(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},DJ=function(n){return n===void 0&&(n={}),{name:\"shift\",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:v,y:C}=y;return{x:v,y:C}}},...l}=Sv(n,e),u={x:t,y:r},f=await PE(e,l),d=Nu(tc(i)),h=EE(d);let g=u[h],p=u[d];if(o){const y=h===\"y\"?\"top\":\"left\",v=h===\"y\"?\"bottom\":\"right\",C=g+f[y],k=g-f[v];g=M_(C,g,k)}if(s){const y=d===\"y\"?\"top\":\"left\",v=d===\"y\"?\"bottom\":\"right\",C=p+f[y],k=p-f[v];p=M_(C,p,k)}const m=a.fn({...e,[h]:g,[d]:p});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[h]:o,[d]:s}}}}}};function Ov(){return typeof window<\"u\"}function ef(n){return IE(n)?(n.nodeName||\"\").toLowerCase():\"#document\"}function Gi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(n){var e;return(e=(IE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function IE(n){return Ov()?n instanceof Node||n instanceof Gi(n).Node:!1}function Uo(n){return Ov()?n instanceof Element||n instanceof Gi(n).Element:!1}function Ss(n){return Ov()?n instanceof HTMLElement||n instanceof Gi(n).HTMLElement:!1}function I_(n){return!Ov()||typeof ShadowRoot>\"u\"?!1:n instanceof ShadowRoot||n instanceof Gi(n).ShadowRoot}function gh(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ko(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&![\"inline\",\"contents\"].includes(i)}function NJ(n){return[\"table\",\"td\",\"th\"].includes(ef(n))}function Av(n){return[\":popover-open\",\":modal\"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Yw(n){const e=Qw(),t=Uo(n)?Ko(n):n;return[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\"].some(r=>t[r]?t[r]!==\"none\":!1)||(t.containerType?t.containerType!==\"normal\":!1)||!e&&(t.backdropFilter?t.backdropFilter!==\"none\":!1)||!e&&(t.filter?t.filter!==\"none\":!1)||[\"transform\",\"translate\",\"scale\",\"rotate\",\"perspective\",\"filter\"].some(r=>(t.willChange||\"\").includes(r))||[\"paint\",\"layout\",\"strict\",\"content\"].some(r=>(t.contain||\"\").includes(r))}function LJ(n){let e=Za(n);for(;Ss(e)&&!Lu(e);){if(Yw(e))return e;if(Av(e))return null;e=Za(e)}return null}function Qw(){return typeof CSS>\"u\"||!CSS.supports?!1:CSS.supports(\"-webkit-backdrop-filter\",\"none\")}function Lu(n){return[\"html\",\"body\",\"#document\"].includes(ef(n))}function Ko(n){return Gi(n).getComputedStyle(n)}function Ev(n){return Uo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Za(n){if(ef(n)===\"html\")return n;const e=n.assignedSlot||n.parentNode||I_(n)&&n.host||Ts(n);return I_(e)?e.host:e}function RE(n){const e=Za(n);return Lu(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ss(e)&&gh(e)?e:RE(e)}function Ed(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=RE(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Gi(i);if(o){const a=E1(s);return e.concat(s,s.visualViewport||[],gh(i)?i:[],a&&t?Ed(a):[])}return e.concat(i,Ed(i,[],t))}function E1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function DE(n){const e=Ko(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ss(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=Gp(t)!==o||Gp(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function Zw(n){return Uo(n)?n:n.contextElement}function uu(n){const e=Zw(n);if(!Ss(e))return bs(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=DE(e);let s=(o?Gp(t.width):t.width)/r,a=(o?Gp(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const BJ=bs(0);function NE(n){const e=Gi(n);return!Qw()||!e.visualViewport?BJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FJ(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Gi(n)?!1:e}function nc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Zw(n);let s=bs(1);e&&(r?Uo(r)&&(s=uu(r)):s=uu(n));const a=FJ(o,t,r)?NE(o):bs(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,d=i.height/s.y;if(o){const h=Gi(o),g=r&&Uo(r)?Gi(r):r;let p=h,m=E1(p);for(;m&&r&&g!==p;){const y=uu(m),v=m.getBoundingClientRect(),C=Ko(m),k=v.left+(m.clientLeft+parseFloat(C.paddingLeft))*y.x,b=v.top+(m.clientTop+parseFloat(C.paddingTop))*y.y;l*=y.x,u*=y.y,f*=y.x,d*=y.y,l+=k,u+=b,p=Gi(m),m=E1(p)}}return Qp({width:f,height:d,x:l,y:u})}function $w(n,e){const t=Ev(n).scrollLeft;return e?e.left+t:nc(Ts(n)).left+t}function LE(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:$w(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function jJ(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i===\"fixed\",s=Ts(r),a=e?Av(e.floating):!1;if(r===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},u=bs(1);const f=bs(0),d=Ss(r);if((d||!d&&!o)&&((ef(r)!==\"body\"||gh(s))&&(l=Ev(r)),Ss(r))){const g=nc(r);u=uu(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const h=s&&!d&&!o?LE(s,l,!0):bs(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:t.y*u.y-l.scrollTop*u.y+f.y+h.y}}function zJ(n){return Array.from(n.getClientRects())}function VJ(n){const e=Ts(n),t=Ev(n),r=n.ownerDocument.body,i=zl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=zl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+$w(n);const a=-t.scrollTop;return Ko(r).direction===\"rtl\"&&(s+=zl(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function HJ(n,e){const t=Gi(n),r=Ts(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=Qw();(!u||u&&e===\"fixed\")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function qJ(n,e){const t=nc(n,!0,e===\"fixed\"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Ss(n)?uu(n):bs(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function R_(n,e,t){let r;if(e===\"viewport\")r=HJ(n,t);else if(e===\"document\")r=VJ(Ts(n));else if(Uo(e))r=qJ(e,t);else{const i=NE(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qp(r)}function BE(n,e){const t=Za(n);return t===e||!Uo(t)||Lu(t)?!1:Ko(t).position===\"fixed\"||BE(t,e)}function WJ(n,e){const t=e.get(n);if(t)return t;let r=Ed(n,[],!1).filter(a=>Uo(a)&&ef(a)!==\"body\"),i=null;const o=Ko(n).position===\"fixed\";let s=o?Za(n):n;for(;Uo(s)&&!Lu(s);){const a=Ko(s),l=Yw(s);!l&&a.position===\"fixed\"&&(i=null),(o?!l&&!i:!l&&a.position===\"static\"&&!!i&&[\"absolute\",\"fixed\"].includes(i.position)||gh(s)&&!l&&BE(n,s))?r=r.filter(f=>f!==s):i=a,s=Za(s)}return e.set(n,r),r}function UJ(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t===\"clippingAncestors\"?Av(e)?[]:WJ(e,this._c):[].concat(t),r],a=s[0],l=s.reduce((u,f)=>{const d=R_(e,f,i);return u.top=zl(d.top,u.top),u.right=Xp(d.right,u.right),u.bottom=Xp(d.bottom,u.bottom),u.left=zl(d.left,u.left),u},R_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KJ(n){const{width:e,height:t}=DE(n);return{width:e,height:t}}function JJ(n,e,t){const r=Ss(e),i=Ts(e),o=t===\"fixed\",s=nc(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=bs(0);if(r||!r&&!o)if((ef(e)!==\"body\"||gh(i))&&(a=Ev(e)),r){const h=nc(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=$w(i));const u=i&&!r&&!o?LE(i,a):bs(0),f=s.left+a.scrollLeft-l.x-u.x,d=s.top+a.scrollTop-l.y-u.y;return{x:f,y:d,width:s.width,height:s.height}}function N0(n){return Ko(n).position===\"static\"}function D_(n,e){if(!Ss(n)||Ko(n).position===\"fixed\")return null;if(e)return e(n);let t=n.offsetParent;return Ts(n)===t&&(t=t.ownerDocument.body),t}function FE(n,e){const t=Gi(n);if(Av(n))return t;if(!Ss(n)){let i=Za(n);for(;i&&!Lu(i);){if(Uo(i)&&!N0(i))return i;i=Za(i)}return t}let r=D_(n,e);for(;r&&NJ(r)&&N0(r);)r=D_(r,e);return r&&Lu(r)&&N0(r)&&!Yw(r)?t:r||LJ(n)||t}const XJ=async function(n){const e=this.getOffsetParent||FE,t=this.getDimensions,r=await t(n.floating);return{reference:JJ(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GJ(n){return Ko(n).direction===\"rtl\"}const YJ={convertOffsetParentRelativeRectToViewportRelativeRect:jJ,getDocumentElement:Ts,getClippingRect:UJ,getOffsetParent:FE,getElementRects:XJ,getClientRects:zJ,getDimensions:KJ,getScale:uu,isElement:Uo,isRTL:GJ};function jE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function QJ(n,e){let t=null,r;const i=Ts(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=n.getBoundingClientRect(),{left:f,top:d,width:h,height:g}=u;if(a||e(),!h||!g)return;const p=Qh(d),m=Qh(i.clientWidth-(f+h)),y=Qh(i.clientHeight-(d+g)),v=Qh(f),k={rootMargin:-p+\"px \"+-m+\"px \"+-y+\"px \"+-v+\"px\",threshold:zl(0,Xp(1,l))||1};let b=!0;function w(E){const O=E[0].intersectionRatio;if(O!==l){if(!b)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!jE(u,n.getBoundingClientRect())&&s(),b=!1}try{t=new IntersectionObserver(w,{...k,root:i.ownerDocument})}catch{t=new IntersectionObserver(w,k)}t.observe(n)}return s(!0),o}function ZJ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver==\"function\",layoutShift:a=typeof IntersectionObserver==\"function\",animationFrame:l=!1}=r,u=Zw(n),f=i||o?[...u?Ed(u):[],...Ed(e)]:[];f.forEach(v=>{i&&v.addEventListener(\"scroll\",t,{passive:!0}),o&&v.addEventListener(\"resize\",t)});const d=u&&a?QJ(u,t):null;let h=-1,g=null;s&&(g=new ResizeObserver(v=>{let[C]=v;C&&C.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=g)==null||k.observe(e)})),t()}),u&&!l&&g.observe(u),g.observe(e));let p,m=l?nc(n):null;l&&y();function y(){const v=nc(n);m&&!jE(m,v)&&t(),m=v,p=requestAnimationFrame(y)}return t(),()=>{var v;f.forEach(C=>{i&&C.removeEventListener(\"scroll\",t),o&&C.removeEventListener(\"resize\",t)}),d==null||d(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(p)}}const $J=RJ,eX=DJ,tX=PJ,nX=(n,e,t)=>{const r=new Map,i={platform:YJ,...t},o={...i.platform,_c:r};return MJ(n,e,{...i,platform:o})};function rX(n){let e,t;const r={autoUpdate:!0};let i=n;const o=f=>({...r,...n||{},...f||{}}),s=f=>{e&&t&&(i=o(f),nX(e,t,i).then(d=>{Object.assign(t.style,{position:d.strategy,left:`${d.x}px`,top:`${d.y}px`}),i!=null&&i.onComputed&&i.onComputed(d)}))},a=f=>{if(\"subscribe\"in f)return u(f),{};e=f,s()},l=(f,d)=>{let h;t=f,i=o(d),setTimeout(()=>s(d),0),s(d);const g=()=>{h&&(h(),h=void 0)},p=({autoUpdate:m}=i||{})=>{g(),m!==!1&&Sn().then(()=>ZJ(e,t,()=>s(i),m===!0?{}:m))};return h=p(),{update(m){s(m),h=p(m)},destroy(){g()}}},u=f=>{const d=f.subscribe(h=>{e===void 0?(e=h,s()):(Object.assign(e,h),s())});zr(d)};return[a,l,s]}function iX({loadOptions:n,filterText:e,items:t,multiple:r,value:i,itemId:o,groupBy:s,filterSelectedItems:a,itemFilter:l,convertStringItemsToObjects:u,filterGroupedItems:f,label:d}){if(t&&n)return t;if(!t)return[];t&&t.length>0&&typeof t[0]!=\"object\"&&(t=u(t));let h=t.filter(g=>{let p=l(g[d],e,g);return p&&r&&(i!=null&&i.length)&&(p=!i.some(m=>a?m[o]===g[o]:!1)),p});return s&&(h=f(h)),h}async function oX({dispatch:n,loadOptions:e,convertStringItemsToObjects:t,filterText:r}){let i=await e(r).catch(o=>{console.warn(\"svelte-select loadOptions error :>> \",o),n(\"error\",{type:\"loadOptions\",details:o})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!=\"object\"&&(i=t(i)),n(\"loaded\",{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}}var sX=It(`<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 20 20\" focusable=\"false\" aria-hidden=\"true\" class=\"svelte-qbd276\"><path fill=\"currentColor\" d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path></svg>`);function aX(n){var e=sX();R(n,e)}var lX=It(`<svg width=\"100%\" height=\"100%\" viewBox=\"-2 -2 50 50\" focusable=\"false\" aria-hidden=\"true\" role=\"presentation\" class=\"svelte-whdbu1\"><path fill=\"currentColor\" d=\"M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z\"></path></svg>`);function L0(n){var e=lX();R(n,e)}var cX=It('<svg class=\"loading svelte-1p3nqvd\" viewBox=\"25 25 50 50\"><circle class=\"circle_path svelte-1p3nqvd\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"5\" stroke-miterlimit=\"10\"></circle></svg>');function uX(n){var e=cX();R(n,e)}var fX=X('<div class=\"list-item svelte-82qwg8\" tabindex=\"-1\" role=\"none\"><div class=\"item svelte-82qwg8\"><!></div></div>'),dX=X('<div class=\"empty svelte-82qwg8\">No options</div>'),hX=X('<div class=\"svelte-select-list svelte-82qwg8\" role=\"none\"><!> <!> <!></div>'),gX=X('<span id=\"aria-selection\" class=\"svelte-82qwg8\"> </span> <span id=\"aria-context\" class=\"svelte-82qwg8\"> </span>',1),pX=X('<div class=\"multi-item-clear svelte-82qwg8\"><!></div>'),mX=X('<div class=\"multi-item svelte-82qwg8\" role=\"none\"><span class=\"multi-item-text svelte-82qwg8\"><!></span> <!></div>'),vX=X('<div class=\"selected-item svelte-82qwg8\"><!></div>'),yX=X('<div class=\"icon loading svelte-82qwg8\" aria-hidden=\"true\"><!></div>'),bX=X('<button type=\"button\" class=\"icon clear-select svelte-82qwg8\"><!></button>'),wX=X('<div class=\"icon chevron svelte-82qwg8\" aria-hidden=\"true\"><!></div>'),xX=X('<input type=\"hidden\" class=\"svelte-82qwg8\">'),CX=X('<select class=\"required svelte-82qwg8\" required tabindex=\"-1\" aria-hidden=\"true\"></select>'),_X=X('<div role=\"none\"><!> <span aria-live=\"polite\" aria-atomic=\"false\" aria-relevant=\"additions text\" class=\"a11y-text svelte-82qwg8\"><!></span> <div class=\"prepend svelte-82qwg8\"><!></div> <div class=\"value-container svelte-82qwg8\"><!> <input></div> <div class=\"indicators svelte-82qwg8\"><!> <!> <!></div> <!> <!></div>');function Ol(n,e){const t=G8(e);Ee(e,!1);const r=Q(),i=Q(),o=Q(),s=Q(),a=Q(),l=Q(),u=Q(),f=Q(),d=Q(),h=Jm();let g=x(e,\"justValue\",12,null),p=x(e,\"filter\",8,iX),m=x(e,\"getItems\",8,oX),y=x(e,\"id\",8,null),v=x(e,\"name\",8,null),C=x(e,\"container\",12,void 0),k=x(e,\"input\",12,void 0),b=x(e,\"multiple\",8,!1),w=x(e,\"multiFullItemClearable\",8,!1),E=x(e,\"disabled\",8,!1),O=x(e,\"focused\",12,!1),T=x(e,\"value\",12,null),I=x(e,\"filterText\",12,\"\"),D=x(e,\"placeholder\",8,\"Please select\"),A=x(e,\"placeholderAlwaysShow\",8,!1),M=x(e,\"items\",12,null),P=x(e,\"label\",8,\"label\"),_=x(e,\"itemFilter\",8,(de,_e,St)=>`${de}`.toLowerCase().includes(_e.toLowerCase())),N=x(e,\"groupBy\",8,void 0),F=x(e,\"groupFilter\",8,de=>de),B=x(e,\"groupHeaderSelectable\",8,!1),L=x(e,\"itemId\",8,\"value\"),z=x(e,\"loadOptions\",8,void 0),Z=x(e,\"containerStyles\",8,\"\"),ae=x(e,\"hasError\",8,!1),ne=x(e,\"filterSelectedItems\",8,!0),ie=x(e,\"required\",8,!1),U=x(e,\"closeListOnChange\",8,!0),ue=x(e,\"clearFilterTextOnBlur\",8,!0),ce=x(e,\"createGroupHeaderItem\",8,(de,_e)=>({value:de,[P()]:de}));const q=()=>c(u);let se=x(e,\"searchable\",8,!0),fe=x(e,\"inputStyles\",8,\"\"),G=x(e,\"clearable\",8,!0),oe=x(e,\"loading\",12,!1),$=x(e,\"listOpen\",12,!1),Y,ee=x(e,\"debounce\",8,(de,_e=1)=>{clearTimeout(Y),Y=setTimeout(de,_e)}),K=x(e,\"debounceWait\",8,300),je=x(e,\"hideEmptyState\",8,!1),Ze=x(e,\"inputAttributes\",24,()=>({})),Ce=x(e,\"listAutoWidth\",8,!0),be=x(e,\"showChevron\",8,!1),Ae=x(e,\"listOffset\",8,5),Ie=x(e,\"hoverItemIndex\",12,0),Ne=x(e,\"floatingConfig\",24,()=>({})),gt=x(e,\"class\",8,\"\"),Xe=Q(),dt=Q(),ve=Q(),Je=Q();function _t(){if(typeof T()==\"string\"){let de=(M()||[]).find(_e=>_e[L()]===T());T(de||{[L()]:T(),label:T()})}else b()&&Array.isArray(T())&&T().length>0&&T(T().map(de=>typeof de==\"string\"?{value:de,label:de}:de))}let $e=Q();function mt(){S($e,Object.assign({autocapitalize:\"none\",autocomplete:\"off\",autocorrect:\"off\",spellcheck:!1,tabindex:0,type:\"text\",\"aria-autocomplete\":\"list\"},Ze())),y()&&Wi($e,c($e).id=y()),se()||Wi($e,c($e).readonly=!0)}function lt(de){return de.map((_e,St)=>({index:St,value:_e,label:`${_e}`}))}function Ue(de){const _e=[],St={};de.forEach(wr=>{const Gn=N()(wr);_e.includes(Gn)||(_e.push(Gn),St[Gn]=[],Gn&&St[Gn].push(Object.assign(ce()(Gn,wr),{id:Gn,groupHeader:!0,selectable:B()}))),St[Gn].push(Object.assign({groupItem:!!Gn},wr))});const fn=[];return F()(_e).forEach(wr=>{St[wr]&&fn.push(...St[wr])}),fn}function Le(){if(b()){JSON.stringify(T())!==JSON.stringify(c(dt))&&Xn()&&h(\"input\",T());return}(!c(dt)||JSON.stringify(T()[L()])!==JSON.stringify(c(dt)[L()]))&&h(\"input\",T())}function pe(){T()&&(Array.isArray(T())?T([...T()]):T([T()]))}function wt(){T()&&T(null)}function vt(){const de=c(u).findIndex(_e=>_e[L()]===T()[L()]);ct(de,!0)}function On(de){h(\"hoverItem\",de)}function ct(de=0,_e){Ie(de<0?0:de),!_e&&N()&&c(u)[Ie()]&&!c(u)[Ie()].selectable&&Hr(1)}function Gt(){!z()&&I().length===0||(z()?ee()(async function(){oe(!0);let de=await m()({dispatch:h,loadOptions:z(),convertStringItemsToObjects:lt,filterText:I()});de?(oe(de.loading),$($()?de.listOpen:I().length>0),O($()&&de.focused),M(N()?Ue(de.filteredItems):de.filteredItems)):(oe(!1),O(!0),$(!0))},K()):($(!0),b()&&S(Xe,void 0)))}function zn(de){$()&&h(\"filter\",de)}sP(async()=>{S(dt,T()),S(ve,I()),S(Je,b())});function Vn(){return b()?T()?T().map(de=>de[L()]):null:T()?T()[L()]:T()}function Xn(){let de=!0;if(T()){const _e=[],St=[];T().forEach(fn=>{_e.includes(fn[L()])?de=!1:(_e.push(fn[L()]),St.push(fn))}),de||T(St)}return de}function pt(de){let _e=de?de[L()]:T()[L()];return M().find(St=>St[L()]===_e)}function nn(de){!de||de.length===0||de.some(_e=>typeof _e!=\"object\")||!T()||(b()?T().some(_e=>!_e||!_e[L()]):!T()[L()])||(Array.isArray(T())?T(T().map(_e=>pt(_e)||_e)):T(pt()||T()))}async function on(de){const _e=T()[de];T().length===1?T(void 0):T(T().filter(St=>St!==_e)),h(\"clear\",_e)}function Tn(de){if(O())switch(de.stopPropagation(),de.key){case\"Escape\":de.preventDefault(),sn();break;case\"Enter\":if(de.preventDefault(),$()){if(c(u).length===0)break;const _e=c(u)[Ie()];if(T()&&!b()&&T()[L()]===_e[L()]){sn();break}else ut(c(u)[Ie()])}break;case\"ArrowDown\":de.preventDefault(),$()?Hr(1):($(!0),S(Xe,void 0));break;case\"ArrowUp\":de.preventDefault(),$()?Hr(-1):($(!0),S(Xe,void 0));break;case\"Tab\":if($()&&O()){if(c(u).length===0||T()&&T()[L()]===c(u)[Ie()][L()])return sn();de.preventDefault(),ut(c(u)[Ie()]),sn()}break;case\"Backspace\":if(!b()||I().length>0)return;if(b()&&T()&&T().length>0){if(on(c(Xe)!==void 0?c(Xe):T().length-1),c(Xe)===0||c(Xe)===void 0)break;S(Xe,T().length>c(Xe)?c(Xe)-1:void 0)}break;case\"ArrowLeft\":if(!T()||!b()||I().length>0)return;c(Xe)===void 0?S(Xe,T().length-1):T().length>c(Xe)&&c(Xe)!==0&&S(Xe,c(Xe)-1);break;case\"ArrowRight\":if(!T()||!b()||I().length>0||c(Xe)===void 0)return;c(Xe)===T().length-1?S(Xe,void 0):c(Xe)<T().length-1&&S(Xe,c(Xe)+1);break}}function kt(de){var _e;O()&&k()===(document==null?void 0:document.activeElement)||(de&&h(\"focus\",de),(_e=k())==null||_e.focus(),O(!0))}async function Lt(de){var _e;Vt||($()||O())&&(h(\"blur\",de),sn(),O(!1),S(Xe,void 0),(_e=k())==null||_e.blur())}function yr(){if(!E()){if(I().length>0)return $(!0);$(!$())}}function Rt(){h(\"clear\",T()),T(void 0),sn(),kt()}dr(()=>{$()&&O(!0),O()&&k()&&k().focus()});function Yt(de){if(de){I(\"\");const _e=Object.assign({},de);if(_e.groupHeader&&!_e.selectable)return;T(b()?T()?T().concat([_e]):[_e]:T(_e)),setTimeout(()=>{U()&&sn(),S(Xe,void 0),h(\"change\",T()),h(\"select\",de)})}}function sn(){ue()&&I(\"\"),$(!1)}let un=x(e,\"ariaValues\",8,de=>`Option ${de}, selected.`),Mn=x(e,\"ariaListOpen\",8,(de,_e)=>`You are currently focused on option ${de}. There are ${_e} results available.`),gn=x(e,\"ariaFocused\",8,()=>\"Select is focused, type to refine list, press down to open the menu.\");function bn(de){let _e;return de&&T().length>0?_e=T().map(St=>St[P()]).join(\", \"):_e=T()[P()],un()(_e)}function hr(){if(!c(u)||c(u).length===0)return\"\";let de=c(u)[Ie()];if($()&&de){let _e=c(u)?c(u).length:0;return Mn()(de[P()],_e)}else return gn()()}let cn=Q(null),or;function Oe(){clearTimeout(or),or=setTimeout(()=>{Vt=!1},100)}function At(de){var _e;!$()&&!O()&&C()&&!C().contains(de.target)&&!((_e=c(cn))!=null&&_e.contains(de.target))&&Lt()}zr(()=>{var de;(de=c(cn))==null||de.remove()});let Vt=!1;function ut(de){!de||de.selectable===!1||Yt(de)}function gr(de){Vt||Ie(de)}function Tr(de){const{item:_e,i:St}=de;if((_e==null?void 0:_e.selectable)!==!1){if(T()&&!b()&&T()[L()]===_e[L()])return sn();So(_e)&&(Ie(St),ut(_e))}}function Hr(de){if(c(u).filter(fn=>!Object.hasOwn(fn,\"selectable\")||fn.selectable===!0).length===0)return Ie(0);de>0&&Ie()===c(u).length-1?Ie(0):de<0&&Ie()===0?Ie(c(u).length-1):Ie(Ie()+de);const St=c(u)[Ie()];if(St&&St.selectable===!1){(de===1||de===-1)&&Hr(de);return}}function Mr(de,_e,St){if(!b())return _e&&_e[St]===de[St]}function Di(de){return de===0}function So(de){return de.groupHeader&&de.selectable||de.selectable||!de.hasOwnProperty(\"selectable\")}const Zi=br,Qn=br;function br(de){return{update(_e){_e.scroll&&(Oe(),de.scrollIntoView({behavior:\"auto\",block:\"nearest\"}))}}}function $i(){const{width:de}=C().getBoundingClientRect();Wi(cn,c(cn).style.width=Ce()?de+\"px\":\"auto\")}let me=Q({strategy:\"absolute\",placement:\"bottom-start\",middleware:[$J(Ae()),tX(),eX()],autoUpdate:!1});const[Ke,xt,Qt]=rX(c(me));let Et=Q(!0);function rn(de,_e){if(!de||!_e)return S(Et,!0);setTimeout(()=>{S(Et,!1)},0)}le(()=>(J(M()),J(T())),()=>{M(),T()&&_t()}),le(()=>(J(Ze()),J(se())),()=>{(Ze()||!se())&&mt()}),le(()=>J(b()),()=>{b()&&pe()}),le(()=>(c(Je),J(b())),()=>{c(Je)&&!b()&&wt()}),le(()=>(J(b()),J(T())),()=>{b()&&T()&&T().length>1&&Xn()}),le(()=>J(T()),()=>{T()&&Le()}),le(()=>(J(T()),J(b()),c(dt)),()=>{!T()&&b()&&c(dt)&&h(\"input\",T())}),le(()=>(J(O()),J(k())),()=>{!O()&&k()&&sn()}),le(()=>(J(I()),c(ve)),()=>{I()!==c(ve)&&Gt()}),le(()=>(J(p()),J(z()),J(I()),J(M()),J(b()),J(T()),J(L()),J(N()),J(P()),J(ne()),J(_())),()=>{S(u,p()({loadOptions:z(),filterText:I(),items:M(),multiple:b(),value:T(),itemId:L(),groupBy:N(),label:P(),filterSelectedItems:ne(),itemFilter:_(),convertStringItemsToObjects:lt,filterGroupedItems:Ue}))}),le(()=>(J(b()),J($()),J(T()),c(u)),()=>{!b()&&$()&&T()&&c(u)&&vt()}),le(()=>(J($()),J(b())),()=>{$()&&b()&&Ie(0)}),le(()=>J(I()),()=>{I()&&Ie(0)}),le(()=>J(Ie()),()=>{On(Ie())}),le(()=>(J(b()),J(T())),()=>{S(r,b()?T()&&T().length>0:T())}),le(()=>(c(r),J(I())),()=>{S(i,c(r)&&I().length>0)}),le(()=>(c(r),J(G()),J(E()),J(oe())),()=>{S(o,c(r)&&G()&&!E()&&!oe())}),le(()=>(J(A()),J(b()),J(D()),J(T())),()=>{var de;S(s,A()&&b()||b()&&((de=T())==null?void 0:de.length)===0?D():T()?\"\":D())}),le(()=>(J(T()),J(b())),()=>{S(a,T()?bn(b()):\"\")}),le(()=>(c(u),J(Ie()),J(O()),J($())),()=>{S(l,hr({filteredItems:c(u),hoverItemIndex:Ie(),focused:O(),listOpen:$()}))}),le(()=>J(M()),()=>{nn(M())}),le(()=>(J(b()),J(T()),J(L())),()=>{g(Vn(b(),T(),L()))}),le(()=>(J(b()),c(dt),J(T())),()=>{!b()&&c(dt)&&!T()&&h(\"input\",T())}),le(()=>(J($()),c(u),J(b()),J(T())),()=>{$()&&c(u)&&!b()&&!T()&&ct()}),le(()=>c(u),()=>{zn(c(u))}),le(()=>(J(C()),J(Ne()),c(me)),()=>{C()&&Ne()&&Qt(Object.assign(c(me),Ne()))}),le(()=>c(cn),()=>{S(f,!!c(cn))}),le(()=>(c(cn),J($())),()=>{rn(c(cn),$())}),le(()=>(J($()),J(C()),c(cn)),()=>{$()&&C()&&c(cn)&&$i()}),le(()=>J(Ie()),()=>{S(d,Ie())}),le(()=>(J(k()),J($()),J(O())),()=>{k()&&$()&&!O()&&kt()}),le(()=>(J(C()),J(Ne())),()=>{var de;C()&&((de=Ne())==null?void 0:de.autoUpdate)===void 0&&Wi(me,c(me).autoUpdate=!0)}),Xt(),ft();var Bt=_X();we(\"click\",ur,At),we(\"keydown\",ur,Tn);var Rn=j(Bt);{var sr=de=>{var _e=hX(),St=j(_e);{var fn=Pe=>{var ot=De(),Ge=ye(ot);qn(Ge,e,\"list-prepend\",{},null),R(Pe,ot)};te(St,Pe=>{t[\"list-prepend\"]&&Pe(fn)})}var wr=H(St,2);{var Gn=Pe=>{var ot=De(),Ge=ye(ot);qn(Ge,e,\"list\",{get filteredItems(){return c(u)}},null),R(Pe,ot)},W=Pe=>{var ot=De(),Ge=ye(ot);{var lr=Cn=>{var V=De(),ge=ye(V);Pt(ge,1,()=>c(u),tn,(Be,Ye,Ve)=>{var nt=fX(),pn=j(nt),dn=j(pn);qn(dn,e,\"item\",{get item(){return c(Ye)},index:Ve},xr=>{var qr=Or();he(()=>{var Li;return He(qr,(Li=c(Ye))==null?void 0:Li[P()])}),R(xr,qr)}),Ut(pn,(xr,qr)=>Zi==null?void 0:Zi(xr),()=>({scroll:Mr(c(Ye),T(),L()),listDom:c(f)})),Ut(pn,(xr,qr)=>Qn==null?void 0:Qn(xr),()=>({scroll:c(d)===Ve,listDom:c(f)})),he((xr,qr)=>{var Li;Re(pn,\"list-group-title\",c(Ye).groupHeader),Re(pn,\"active\",xr),Re(pn,\"first\",qr),Re(pn,\"hover\",Ie()===Ve),Re(pn,\"group-item\",c(Ye).groupItem),Re(pn,\"not-selectable\",((Li=c(Ye))==null?void 0:Li.selectable)===!1)},[()=>Mr(c(Ye),T(),L()),()=>Di(Ve)],Me),we(\"mouseover\",nt,()=>gr(Ve)),we(\"focus\",nt,()=>gr(Ve)),we(\"click\",nt,Io(()=>Tr({item:c(Ye),i:Ve}))),we(\"keydown\",nt,Sa(Io(function(xr){Ba.call(this,e,xr)}))),R(Be,nt)}),R(Cn,V)},Ht=Cn=>{var V=De(),ge=ye(V);{var Be=Ye=>{var Ve=De(),nt=ye(Ve);qn(nt,e,\"empty\",{},pn=>{var dn=dX();R(pn,dn)}),R(Ye,Ve)};te(ge,Ye=>{je()||Ye(Be)},!0)}R(Cn,V)};te(Ge,Cn=>{c(u).length>0?Cn(lr):Cn(Ht,!1)},!0)}R(Pe,ot)};te(wr,Pe=>{t.list?Pe(Gn):Pe(W,!1)})}var xe=H(wr,2);{var qe=Pe=>{var ot=De(),Ge=ye(ot);qn(Ge,e,\"list-append\",{},null),R(Pe,ot)};te(xe,Pe=>{t[\"list-append\"]&&Pe(qe)})}Ut(_e,Pe=>xt==null?void 0:xt(Pe)),yn(_e,Pe=>S(cn,Pe),()=>c(cn)),fr(()=>we(\"scroll\",_e,Oe)),fr(()=>we(\"pointerup\",_e,Sa(Io(function(Pe){Ba.call(this,e,Pe)})))),fr(()=>we(\"mousedown\",_e,Sa(Io(function(Pe){Ba.call(this,e,Pe)})))),he(()=>Re(_e,\"prefloat\",c(Et))),R(de,_e)};te(Rn,de=>{$()&&de(sr)})}var Qr=H(Rn,2),Ci=j(Qr);{var Ps=de=>{var _e=gX(),St=ye(_e),fn=j(St),wr=H(St,2),Gn=j(wr);he(()=>{He(fn,c(a)),He(Gn,c(l))}),R(de,_e)};te(Ci,de=>{O()&&de(Ps)})}var ko=H(Qr,2),Oo=j(ko);qn(Oo,e,\"prepend\",{},null);var Ni=H(ko,2),eo=j(Ni);{var pl=de=>{var _e=De(),St=ye(_e);{var fn=Gn=>{var W=De(),xe=ye(W);Pt(xe,1,T,tn,(qe,Pe,ot)=>{var Ge=mX(),lr=j(Ge),Ht=j(lr);qn(Ht,e,\"selection\",{get selection(){return c(Pe)},index:ot},ge=>{var Be=Or();he(()=>He(Be,c(Pe)[P()])),R(ge,Be)});var Cn=H(lr,2);{var V=ge=>{var Be=pX(),Ye=j(Be);qn(Ye,e,\"multi-clear-icon\",{},Ve=>{L0(Ve)}),we(\"pointerup\",Be,Sa(Io(()=>on(ot)))),R(ge,Be)};te(Cn,ge=>{!E()&&!w()&&L0&&ge(V)})}he(()=>{Re(Ge,\"active\",c(Xe)===ot),Re(Ge,\"disabled\",E())}),we(\"click\",Ge,Sa(()=>w()?on(ot):{})),we(\"keydown\",Ge,Sa(Io(function(ge){Ba.call(this,e,ge)}))),R(qe,Ge)}),R(Gn,W)},wr=Gn=>{var W=vX(),xe=j(W);qn(xe,e,\"selection\",{get selection(){return T()}},qe=>{var Pe=Or();he(()=>He(Pe,T()[P()])),R(qe,Pe)}),he(()=>Re(W,\"hide-selected-item\",c(i))),R(Gn,W)};te(St,Gn=>{b()?Gn(fn):Gn(wr,!1)})}R(de,_e)};te(eo,de=>{c(r)&&de(pl)})}var ar=H(eo,2);let es;yn(ar,de=>k(de),()=>k());var Ao=H(Ni,2),ml=j(Ao);{var bc=de=>{var _e=yX(),St=j(_e);qn(St,e,\"loading-icon\",{},fn=>{uX(fn)}),R(de,_e)};te(ml,de=>{oe()&&de(bc)})}var wc=H(ml,2);{var xc=de=>{var _e=bX(),St=j(_e);qn(St,e,\"clear-icon\",{},fn=>{L0(fn)}),we(\"click\",_e,Rt),R(de,_e)};te(wc,de=>{c(o)&&de(xc)})}var Cc=H(wc,2);{var xn=de=>{var _e=wX(),St=j(_e);qn(St,e,\"chevron-icon\",{get listOpen(){return $()}},fn=>{aX(fn)}),R(de,_e)};te(Cc,de=>{be()&&de(xn)})}var vl=H(Ao,2);qn(vl,e,\"input-hidden\",{get value(){return T()}},de=>{var _e=xX();he(St=>{ke(_e,\"name\",v()),sa(_e,St)},[()=>T()?JSON.stringify(T()):null],Me),R(de,_e)});var of=H(vl,2);{var sf=de=>{var _e=De(),St=ye(_e);qn(St,e,\"required\",{get value(){return T()}},fn=>{var wr=CX();R(fn,wr)}),R(de,_e)};te(of,de=>{ie()&&(!T()||T().length===0)&&de(sf)})}return fr(()=>we(\"pointerup\",Bt,Sa(yr))),yn(Bt,de=>C(de),()=>C()),Ut(Bt,de=>Ke==null?void 0:Ke(de)),he(()=>{Nr(Bt,`svelte-select ${gt()??\"\"} svelte-82qwg8`),ke(Bt,\"style\",Z()),Re(Bt,\"multi\",b()),Re(Bt,\"disabled\",E()),Re(Bt,\"focused\",O()),Re(Bt,\"list-open\",$()),Re(Bt,\"show-chevron\",be()),Re(Bt,\"error\",ae()),es=ki(ar,es,{readOnly:!se(),...c($e),placeholder:c(s),style:fe(),disabled:E()},\"svelte-82qwg8\")}),we(\"keydown\",ar,Tn),we(\"blur\",ar,Lt),we(\"focus\",ar,kt),pi(ar,I),R(n,Bt),bt(e,\"getFilteredItems\",q),bt(e,\"handleClear\",Rt),Te({getFilteredItems:q,handleClear:Rt})}var SX=X('<table class=\"jse-transform-wizard svelte-qbze6z\"><tbody><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Filter</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!> <!> <input class=\"jse-filter-value svelte-qbze6z\"></div></td></tr><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Sort</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!> <!></div></td></tr><tr class=\"svelte-qbze6z\"><th class=\"svelte-qbze6z\">Pick</th><td class=\"svelte-qbze6z\"><div class=\"jse-horizontal svelte-qbze6z\"><!></div></td></tr></tbody></table>');function kX(n,e){var ce,q,se,fe,G,oe;Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0),s=Q(void 0,!0),a=Q(void 0,!0),l=Er(\"jsoneditor:TransformWizard\");let u=x(e,\"json\",9),f=x(e,\"queryOptions\",29,()=>({})),d=x(e,\"onChange\",9);const h=[\"==\",\"!=\",\"<\",\"<=\",\">\",\">=\"].map($=>({value:$,label:$})),g=[{value:\"asc\",label:\"ascending\"},{value:\"desc\",label:\"descending\"}];let p=Q((q=(ce=f())==null?void 0:ce.filter)!=null&&q.path?Ea(f().filter.path):void 0,!0),m=Q(h.find($=>{var Y;return $.value===((Y=f().filter)==null?void 0:Y.relation)})??h[0],!0),y=Q(((fe=(se=f())==null?void 0:se.filter)==null?void 0:fe.value)||\"\",!0),v=Q((oe=(G=f())==null?void 0:G.sort)!=null&&oe.path?Ea(f().sort.path):void 0,!0),C=Q(g.find($=>{var Y;return $.value===((Y=f().sort)==null?void 0:Y.direction)})??g[0],!0);function k($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.filter)==null?void 0:ee.path,$)||(l(\"changeFilterPath\",$),f(Oi(f(),[\"filter\",\"path\"],$,!0)),d()(f()))}function b($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.filter)==null?void 0:ee.relation,$)||(l(\"changeFilterRelation\",$),f(Oi(f(),[\"filter\",\"relation\"],$,!0)),d()(f()))}function w($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.filter)==null?void 0:ee.value,$)||(l(\"changeFilterValue\",$),f(Oi(f(),[\"filter\",\"value\"],$,!0)),d()(f()))}function E($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.sort)==null?void 0:ee.path,$)||(l(\"changeSortPath\",$),f(Oi(f(),[\"sort\",\"path\"],$,!0)),d()(f()))}function O($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.sort)==null?void 0:ee.direction,$)||(l(\"changeSortDirection\",$),f(Oi(f(),[\"sort\",\"direction\"],$,!0)),d()(f()))}function T($){var Y,ee;Ft((ee=(Y=f())==null?void 0:Y.projection)==null?void 0:ee.paths,$)||(l(\"changeProjectionPaths\",$),f(Oi(f(),[\"projection\",\"paths\"],$,!0)),d()(f()))}le(()=>J(u()),()=>{S(t,Array.isArray(u()))}),le(()=>(c(t),J(u())),()=>{S(r,c(t)?g1(u()):[])}),le(()=>(c(t),J(u())),()=>{S(i,c(t)?g1(u(),!0):[])}),le(()=>(c(r),Ea),()=>{S(o,c(r).map(Ea))}),le(()=>(c(i),Ea),()=>{S(s,c(i)?c(i).map(Ea):[])}),le(()=>(J(f()),c(s),Ft),()=>{var $,Y;S(a,(Y=($=f())==null?void 0:$.projection)!=null&&Y.paths&&c(s)?f().projection.paths.map(ee=>c(s).find(K=>Ft(K.value,ee))).filter(ee=>!!ee):void 0)}),le(()=>c(p),()=>{var $;k(($=c(p))==null?void 0:$.value)}),le(()=>c(m),()=>{var $;b(($=c(m))==null?void 0:$.value)}),le(()=>c(y),()=>{w(c(y))}),le(()=>c(v),()=>{var $;E(($=c(v))==null?void 0:$.value)}),le(()=>c(C),()=>{var $;O(($=c(C))==null?void 0:$.value)}),le(()=>c(a),()=>{T(c(a)?c(a).map($=>$.value):void 0)}),Xt(),ft(!0);var I=SX(),D=j(I),A=j(D),M=H(j(A)),P=j(M),_=j(P);Ol(_,{class:\"jse-filter-path\",showChevron:!0,get items(){return c(o)},get value(){return c(p)},set value($){S(p,$)},$$legacy:!0});var N=H(_,2);Ol(N,{class:\"jse-filter-relation\",showChevron:!0,clearable:!1,items:h,get value(){return c(m)},set value($){S(m,$)},$$legacy:!0});var F=H(N,2),B=H(A),L=H(j(B)),z=j(L),Z=j(z);Ol(Z,{class:\"jse-sort-path\",showChevron:!0,get items(){return c(o)},get value(){return c(v)},set value($){S(v,$)},$$legacy:!0});var ae=H(Z,2);Ol(ae,{class:\"jse-sort-direction\",showChevron:!0,clearable:!1,items:g,get value(){return c(C)},set value($){S(C,$)},$$legacy:!0});var ne=H(B),ie=H(j(ne)),U=j(ie),ue=j(U);Ol(ue,{class:\"jse-projection-paths\",multiple:!0,showChevron:!0,get items(){return c(s)},get value(){return c(a)},set value($){S(a,$)},$$legacy:!0}),pi(F,()=>c(y),$=>S(y,$)),R(n,I),Te()}var OX=X('<button type=\"button\" class=\"jse-query-language svelte-atm4um\"><!> </button>'),AX=X('<div class=\"jse-select-query-language svelte-atm4um\"><div class=\"jse-select-query-language-container svelte-atm4um\"></div></div>');function EX(n,e){Ee(e,!1);let t=x(e,\"queryLanguages\",8),r=x(e,\"queryLanguageId\",12),i=x(e,\"onChangeQueryLanguage\",8);function o(l){r(l),i()(l)}ft();var s=AX(),a=j(s);Pt(a,5,t,tn,(l,u)=>{var f=OX(),d=j(f);{var h=m=>{jt(m,{data:GA})},g=m=>{jt(m,{data:YA})};te(d,m=>{c(u).id===r()?m(h):m(g,!1)})}var p=H(d);he(()=>{ke(f,\"title\",`Select ${c(u).name} as query language`),Re(f,\"selected\",c(u).id===r()),He(p,` ${c(u).name??\"\"}`)}),we(\"click\",f,()=>o(c(u).id)),R(l,f)}),R(n,s),Te()}var TX=X('<button type=\"button\" class=\"jse-fullscreen svelte-1y24war\" title=\"Toggle full screen\"><!></button>'),MX=X('<div class=\"jse-header svelte-1y24war\"><div class=\"jse-title svelte-1y24war\"> </div> <!> <!> <button type=\"button\" class=\"jse-close svelte-1y24war\"><!></button></div>');function Tv(n,e){Ee(e,!1);let t=x(e,\"title\",9,\"Modal\"),r=x(e,\"fullScreenButton\",9,!1),i=x(e,\"fullscreen\",13,!1),o=x(e,\"onClose\",9,void 0);ft(!0);var s=MX(),a=j(s),l=j(a),u=H(a,2);qn(u,e,\"actions\",{},null);var f=H(u,2);{var d=p=>{var m=TX(),y=j(m);const v=Me(()=>i()?HK:pJ);jt(y,{get data(){return c(v)}}),we(\"click\",m,()=>i(!i())),R(p,m)};te(f,p=>{r()&&p(d)})}var h=H(f,2),g=j(h);jt(g,{data:_v}),he(()=>He(l,t())),we(\"click\",h,()=>{var p;return(p=o())==null?void 0:p()}),R(n,s),Te()}var PX=X('<button slot=\"actions\" type=\"button\" class=\"jse-config svelte-1kpylsp\" title=\"Select a query language\"><!></button>');function IX(n,e){Ee(e,!1);let t=x(e,\"queryLanguages\",9),r=x(e,\"queryLanguageId\",9),i=x(e,\"fullscreen\",13),o=x(e,\"onChangeQueryLanguage\",9),s=x(e,\"onClose\",9),a=Q(void 0,!0),l;const{openAbsolutePopup:u,closeAbsolutePopup:f}=Yi(\"absolute-popup\");function d(){const h={queryLanguages:t(),queryLanguageId:r(),onChangeQueryLanguage:g=>{f(l),o()(g)}};l=u(EX,h,{offsetTop:-2,offsetLeft:0,anchor:c(a),closeOnOuterClick:!0})}ft(!0),Tv(n,{title:\"Transform\",fullScreenButton:!0,get onClose(){return s()},get fullscreen(){return i()},set fullscreen(h){i(h)},$$slots:{actions:(h,g)=>{var p=PX(),m=j(p);jt(m,{data:aJ}),yn(p,y=>S(a,y),()=>c(a)),he(()=>Re(p,\"hide\",t().length<=1)),we(\"click\",p,d),R(h,p)}},$$legacy:!0}),Te()}const B0=Er(\"jsoneditor:AutoScrollHandler\");function N_(n){B0(\"createAutoScrollHandler\",n);let e,t;function r(u){return u<20?NU:u<50?LU:BU}function i(){if(n){const u=(e||0)*(d_/1e3);n.scrollTop+=u}}function o(u){(!t||u!==e)&&(s(),B0(\"startAutoScroll\",u),e=u,t=setInterval(i,d_))}function s(){t&&(B0(\"stopAutoScroll\"),clearInterval(t),t=void 0,e=void 0)}function a(u){if(n){const f=u.clientY,{top:d,bottom:h}=n.getBoundingClientRect();if(f<d){const g=r(d-f);o(-g)}else if(f>h){const g=r(f-h);o(g)}else s()}}function l(){s()}return{onDrag:a,onDragEnd:l}}const RX=(n,e,t,r)=>(n/=r/2,n<1?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)),zE=()=>{let n,e,t,r,i,o,s,a,l,u,f,d,h,g;function p(){return n.scrollTop}function m(b){const w=b.getBoundingClientRect().top,E=n.getBoundingClientRect?n.getBoundingClientRect().top:0;return w-E+t}function y(b){n.scrollTo?n.scrollTo(n.scrollLeft,b):n.scrollTop=b}function v(b){u||(u=b),f=b-u,d=o(f,t,a,l),y(d),g=!0,f<l?requestAnimationFrame(v):C()}function C(){y(t+a),e&&s&&(e.setAttribute(\"tabindex\",\"-1\"),e.focus()),typeof h==\"function\"&&h(),u=0,g=!1}function k(b,w={}){switch(l=1e3,i=w.offset||0,h=w.callback,o=w.easing||RX,s=w.a11y||!1,typeof w.container){case\"object\":n=w.container;break;case\"string\":n=document.querySelector(w.container);break;default:n=window.document.documentElement}switch(t=p(),typeof b){case\"number\":e=void 0,s=!1,r=t+b;break;case\"object\":e=b,r=m(e);break;case\"string\":e=document.querySelector(b),r=m(e);break}switch(a=r-t+i,typeof w.duration){case\"number\":l=w.duration;break;case\"function\":l=w.duration(a);break}g?u=0:requestAnimationFrame(v)}return k};function Yc(n,e){const t=Date.now(),r=n(),i=Date.now();return e(i-t),r}const zc=Er(\"validation\"),DX={createObjectDocumentState:()=>({type:\"object\",properties:{}}),createArrayDocumentState:()=>({type:\"array\",items:[]}),createValueDocumentState:()=>({type:\"value\"})};function L_(n,e,t,r){return Hw(n,e,t,r,DX)}function NX(n,e){let t;return e.forEach(r=>{t=L_(n,t,r.path,(i,o)=>({...o,validationError:r}))}),e.forEach(r=>{let i=r.path;for(;i.length>0;)i=Jt(i),t=L_(n,t,i,(o,s)=>s.validationError?s:{...s,validationError:{isChildError:!0,path:i,message:\"Contains invalid data\",severity:zo.warning}})}),t}function VE(n,e,t,r){if(zc(\"validateJSON\"),!e)return[];if(t!==r){const i=t.stringify(n),o=i!==void 0?r.parse(i):void 0;return e(o)}else return e(n)}function LX(n,e,t,r){if(zc(\"validateText\"),n.length>zU)return{validationErrors:[{path:[],message:\"Validation turned off: the document is too large\",severity:zo.info}]};if(n.length!==0)try{const i=Yc(()=>t.parse(n),a=>zc(`validate: parsed json in ${a} ms`));if(!e)return;const o=t===r?i:Yc(()=>r.parse(n),a=>zc(`validate: parsed json with the validationParser in ${a} ms`)),s=Yc(()=>e(o),a=>zc(`validate: validated json in ${a} ms`));return mn(s)?void 0:{validationErrors:s}}catch(i){const o=Yc(()=>BX(n,t),a=>zc(`validate: checked whether repairable in ${a} ms`));return{parseError:Pu(n,i.message||i.toString()),isRepairable:o}}}function BX(n,e){if(n.length>VU)return!1;try{return e.parse(vs(n)),!0}catch{return!1}}const Zh=Er(\"jsoneditor:FocusTracker\");function e2({onMount:n,onDestroy:e,getWindow:t,hasFocus:r,onFocus:i,onBlur:o}){let s,a=!1;function l(){const f=r();f&&(clearTimeout(s),a||(Zh(\"focus\"),i(),a=f))}function u(){a&&(clearTimeout(s),s=setTimeout(()=>{r()||(Zh(\"blur\"),a=!1,o())}))}n(()=>{Zh(\"mount FocusTracker\");const f=t();f&&(f.addEventListener(\"focusin\",l,!0),f.addEventListener(\"focusout\",u,!0))}),e(()=>{Zh(\"destroy FocusTracker\");const f=t();f&&(f.removeEventListener(\"focusin\",l,!0),f.removeEventListener(\"focusout\",u,!0))})}var FX=X('<button type=\"button\" class=\"jse-button jse-action jse-primary svelte-czprfx\"><!> </button>'),jX=X('<div><div role=\"button\" tabindex=\"-1\" class=\"jse-text svelte-czprfx\"><div class=\"jse-text-centered\"><!> </div></div> <div class=\"jse-actions svelte-czprfx\"></div></div>');function qo(n,e){Ee(e,!1);let t=x(e,\"type\",9,\"success\"),r=x(e,\"icon\",9,void 0),i=x(e,\"message\",9,void 0),o=x(e,\"actions\",25,()=>[]),s=x(e,\"onClick\",9,void 0),a=x(e,\"onClose\",9,void 0);a()&&zr(a());function l(){s()&&s()()}ft(!0);var u=jX(),f=j(u),d=j(f),h=j(d);{var g=y=>{jt(y,{get data(){return r()}})};te(h,y=>{r()&&y(g)})}var p=H(h),m=H(f,2);Pt(m,5,o,tn,(y,v)=>{var C=FX(),k=j(C);{var b=E=>{jt(E,{get data(){return c(v).icon}})};te(k,E=>{c(v).icon&&E(b)})}var w=H(k);he(()=>{ke(C,\"title\",c(v).title),C.disabled=c(v).disabled,He(w,` ${c(v).text??\"\"}`)}),we(\"click\",C,()=>{c(v).onClick&&c(v).onClick()}),we(\"mousedown\",C,()=>{c(v).onMouseDown&&c(v).onMouseDown()}),R(y,C)}),he(()=>{Nr(u,`jse-message jse-${t()??\"\"} svelte-czprfx`),Re(f,\"jse-clickable\",!!s()),He(p,` ${i()??\"\"}`)}),we(\"click\",f,l),R(n,u),Te()}var zX=X('<button type=\"button\" class=\"jse-validation-errors-collapse svelte-1uindol\" title=\"Collapse validation errors\"><!></button>'),VX=X('<tr tabindex=\"0\"><td class=\"jse-validation-error-icon svelte-1uindol\"><!></td><td class=\"jse-validation-error-path svelte-1uindol\"> </td><td class=\"jse-validation-error-message svelte-1uindol\"> </td><td class=\"jse-validation-error-action svelte-1uindol\"><!></td></tr>'),HX=X('<tr class=\"jse-validation-error svelte-1uindol\"><td class=\"svelte-1uindol\"></td><td class=\"svelte-1uindol\"></td><td class=\"svelte-1uindol\"> </td><td class=\"svelte-1uindol\"></td></tr>'),qX=X('<table class=\"jse-validation-errors-overview-expanded svelte-1uindol\"><tbody><!><!></tbody></table>'),WX=X('<table class=\"jse-validation-errors-overview-collapsed svelte-1uindol\"><tbody><tr><td class=\"jse-validation-error-icon svelte-1uindol\"><!></td><td class=\"jse-validation-error-count svelte-1uindol\"> <div class=\"jse-validation-errors-expand svelte-1uindol\"><!></div></td></tr></tbody></table>'),UX=X('<div class=\"jse-validation-errors-overview svelte-1uindol\"><!></div>');function t2(n,e){Ee(e,!1);const t=Q(void 0,!0);let r=x(e,\"validationErrors\",9),i=x(e,\"selectError\",9),o=Q(!0,!0);function s(){S(o,!1)}function a(){S(o,!0)}function l(h){return[zo.error,zo.warning,zo.info].find(p=>h.some(m=>m.severity===p))}le(()=>J(r()),()=>{S(t,r().length)}),Xt(),ft(!0);var u=De(),f=ye(u);{var d=h=>{var g=UX(),p=j(g);{var m=v=>{var C=qX(),k=j(C),b=j(k);Pt(b,1,()=>DA(r(),O0),tn,(O,T,I)=>{var D=VX(),A=j(D),M=j(A);jt(M,{data:ec});var P=H(A),_=j(P),N=H(P),F=j(N),B=H(N),L=j(B);{var z=Z=>{var ae=zX(),ne=j(ae);jt(ne,{data:uJ}),we(\"click\",ae,Io(s)),R(Z,ae)};te(L,Z=>{I===0&&r().length>1&&Z(z)})}he(Z=>{Nr(D,`jse-validation-${c(T).severity??\"\"} svelte-1uindol`),He(_,Z),He(F,c(T).message)},[()=>Wo(c(T).path)],Me),we(\"click\",D,()=>{setTimeout(()=>i()(c(T)))}),R(O,D)});var w=H(b);{var E=O=>{var T=HX(),I=H(j(T),2),D=j(I);he(()=>He(D,`(and ${c(t)-O0} more errors)`)),R(O,T)};te(w,O=>{c(t)>O0&&O(E)})}R(v,C)},y=v=>{var C=WX(),k=j(C),b=j(k),w=j(b),E=j(w);jt(E,{data:ec});var O=H(w),T=j(O),I=H(T),D=j(I);jt(D,{data:_E}),he(A=>{Nr(b,`jse-validation-${A??\"\"} svelte-1uindol`),He(T,`${c(t)??\"\"} validation errors `)},[()=>l(r())],Me),we(\"click\",b,a),R(v,C)};te(p,v=>{c(o)||c(t)===1?v(m):v(y,!1)})}R(h,g)};te(f,h=>{mn(r())||h(d)})}R(n,u),Te()}function fu(n,e){if(!n)return;function t(r){r.key===\"Escape\"&&(r.preventDefault(),r.stopPropagation(),e())}return n.addEventListener(\"keydown\",t),{destroy(){n.removeEventListener(\"keydown\",t)}}}var KX=X('<dialog><div class=\"jse-modal-inner svelte-1s9c2ql\"><!></div></dialog>');function ph(n,e){Ee(e,!1);let t=x(e,\"className\",8,void 0),r=x(e,\"fullscreen\",8,!1),i=x(e,\"onClose\",8),o=Q();dr(()=>c(o).showModal()),zr(()=>c(o).close());function s(){i()()}ft();var a=KX(),l=j(a),u=j(l);qn(u,e,\"default\",{},null),yn(a,f=>S(o,f),()=>c(o)),fr(()=>we(\"close\",a,s)),fr(()=>we(\"pointerdown\",a,iP(s))),fr(()=>we(\"cancel\",a,Sa(function(f){Ba.call(this,e,f)}))),Ut(a,(f,d)=>fu==null?void 0:fu(f,d),()=>s),he(f=>{Nr(a,Lr(f),\"svelte-1s9c2ql\"),Re(a,\"jse-fullscreen\",r())},[()=>$u(\"jse-modal\",t())],Me),R(n,a),Te()}var JX=X('<!> <div class=\"jse-modal-contents svelte-189qksl\"><div>Clipboard permission is disabled by your browser. You can use:</div> <div class=\"jse-shortcuts svelte-189qksl\"><div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for copy</div> <div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for cut</div> <div class=\"jse-shortcut svelte-189qksl\"><div class=\"jse-key svelte-189qksl\"></div> for paste</div></div> <div class=\"jse-actions svelte-189qksl\"><button type=\"button\" class=\"jse-primary svelte-189qksl\">Close</button></div></div>',1);function HE(n,e){Ee(e,!1);let t=x(e,\"onClose\",9);const r=Rw()?\"\":\"Ctrl\";ft(!0),ph(n,{get onClose(){return t()},className:\"jse-copy-paste\",children:(i,o)=>{var s=JX(),a=ye(s);Tv(a,{title:\"Copying and pasting\",get onClose(){return t()}});var l=H(a,2),u=H(j(l),2),f=j(u),d=j(f);d.textContent=`${r??\"\"}+C`;var h=H(f,2),g=j(h);g.textContent=`${r??\"\"}+X`;var p=H(h,2),m=j(p);m.textContent=`${r??\"\"}+V`;var y=H(u,2),v=j(y);we(\"click\",v,function(...C){var k;(k=t())==null||k.apply(this,C)}),R(i,s)},$$slots:{default:!0}}),Te()}var XX=X('<div class=\"jse-separator svelte-pf7s2l\"></div>'),GX=X('<div class=\"jse-space svelte-pf7s2l\"></div>'),YX=X('<button type=\"button\"><!> <!></button>'),QX=X('<div class=\"jse-menu svelte-pf7s2l\"><!> <!> <!></div>');function Mv(n,e){Ee(e,!1);let t=x(e,\"items\",25,()=>[]);function r(l){return console.error(\"Unknown type of menu item\",l),\"???\"}ft(!0);var i=QX(),o=j(i);qn(o,e,\"left\",{},null);var s=H(o,2);Pt(s,1,t,tn,(l,u)=>{var f=De(),d=ye(f);{var h=p=>{var m=XX();R(p,m)},g=p=>{var m=De(),y=ye(m);{var v=k=>{var b=GX();R(k,b)},C=k=>{var b=De(),w=ye(b);{var E=T=>{var I=YX(),D=j(I);{var A=_=>{jt(_,{get data(){return c(u).icon}})};te(D,_=>{c(u).icon&&_(A)})}var M=H(D,2);{var P=_=>{var N=Or();he(()=>He(N,c(u).text)),R(_,N)};te(M,_=>{c(u).text&&_(P)})}he(()=>{Nr(I,`jse-button ${c(u).className??\"\"} svelte-pf7s2l`),ke(I,\"title\",c(u).title),I.disabled=c(u).disabled||!1}),we(\"click\",I,function(..._){var N;(N=c(u).onClick)==null||N.apply(this,_)}),R(T,I)},O=T=>{var I=Or();he(D=>He(I,D),[()=>r(c(u))],Me),R(T,I)};te(w,T=>{Xf(c(u))?T(E):T(O,!1)},!0)}R(k,b)};te(y,k=>{ZA(c(u))?k(v):k(C,!1)},!0)}R(p,m)};te(d,p=>{Jg(c(u))?p(h):p(g,!1)})}R(l,f)});var a=H(s,2);qn(a,e,\"right\",{},null),R(n,i),Te()}var ZX=X('<div slot=\"left\" class=\"jse-info svelte-3golau\">Repair invalid JSON, then click apply</div>'),$X=X('<div class=\"jse-json-repair-component svelte-3golau\"><!> <!> <textarea class=\"jse-json-text svelte-3golau\" autocomplete=\"off\" autocapitalize=\"off\" spellcheck=\"false\"></textarea></div>');function eG(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0),s=Q(void 0,!0),a=Q(void 0,!0);let l=x(e,\"text\",13,\"\"),u=x(e,\"readOnly\",9,!1),f=x(e,\"onParse\",9),d=x(e,\"onRepair\",9),h=x(e,\"onChange\",9,void 0),g=x(e,\"onApply\",9),p=x(e,\"onCancel\",9);const m=Er(\"jsoneditor:JSONRepair\");let y=Q(void 0,!0);function v(_){try{f()(_);return}catch(N){return Pu(_,N.message)}}function C(_){try{return d()(_),!0}catch{return!1}}function k(){if(c(y)&&c(t)){const _=c(t).position!==void 0?c(t).position:0;c(y).setSelectionRange(_,_),c(y).focus()}}function b(_){m(\"handleChange\");const N=_.target.value;l()!==N&&(l(N),h()&&h()(l()))}function w(){g()(l())}function E(){try{l(d()(l())),h()&&h()(l())}catch{}}let O=Q(void 0,!0);le(()=>J(l()),()=>{S(t,v(l()))}),le(()=>J(l()),()=>{S(r,C(l()))}),le(()=>c(t),()=>{m(\"error\",c(t))}),le(()=>J(p()),()=>{S(O,[{type:\"space\"},{type:\"button\",icon:_v,title:\"Cancel repair\",className:\"jse-cancel\",onClick:p()}])}),le(()=>T_,()=>{S(i,{icon:T_,text:\"Show me\",title:\"Scroll to the error location\",onClick:k})}),le(()=>Du,()=>{S(o,{icon:Du,text:\"Auto repair\",title:\"Automatically repair JSON\",onClick:E})}),le(()=>(c(r),c(i),c(o)),()=>{S(s,c(r)?[c(i),c(o)]:[c(i)])}),le(()=>J(u()),()=>{S(a,[{icon:Gw,text:\"Apply\",title:\"Apply fixed JSON\",disabled:u(),onClick:w}])}),Xt(),ft(!0);var T=$X(),I=j(T);Mv(I,{get items(){return c(O)},$$slots:{left:(_,N)=>{var F=ZX();R(_,F)}}});var D=H(I,2);{var A=_=>{const N=Me(()=>`Cannot parse JSON: ${c(t).message}`);qo(_,{type:\"error\",icon:ec,get message(){return c(N)},get actions(){return c(s)}})},M=_=>{qo(_,{type:\"success\",message:\"JSON is valid now and can be parsed.\",get actions(){return c(a)}})};te(D,_=>{c(t)?_(A):_(M,!1)})}var P=H(D,2);yn(P,_=>S(y,_),()=>c(y)),he(()=>{P.readOnly=u(),sa(P,l())}),we(\"input\",P,b),R(n,T),Te()}function qE(n,e){Ee(e,!1);let t=x(e,\"text\",13),r=x(e,\"onParse\",9),i=x(e,\"onRepair\",9),o=x(e,\"onApply\",9),s=x(e,\"onClose\",9);function a(u){o()(u),s()()}function l(){s()()}ft(!0),ph(n,{get onClose(){return s()},className:\"jse-repair-modal\",children:(u,f)=>{eG(u,{get onParse(){return r()},get onRepair(){return i()},onApply:a,onCancel:l,get text(){return t()},set text(d){t(d)},$$legacy:!0})},$$slots:{default:!0}}),Te()}var tG=X('<button type=\"button\" class=\"jse-expand-items svelte-1h6hzoq\"> </button>'),nG=X('<div role=\"none\" class=\"jse-collapsed-items svelte-1h6hzoq\"><div><div class=\"jse-text svelte-1h6hzoq\"> </div> <!></div></div>');function rG(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0),s=Q(void 0,!0);let a=x(e,\"visibleSections\",9),l=x(e,\"sectionIndex\",9),u=x(e,\"total\",9),f=x(e,\"path\",9),d=x(e,\"selection\",9),h=x(e,\"onExpandSection\",9),g=x(e,\"context\",9);function p(b){b.stopPropagation()}le(()=>(J(a()),J(l())),()=>{S(t,a()[l()])}),le(()=>c(t),()=>{S(r,c(t).end)}),le(()=>(J(a()),J(l()),J(u())),()=>{S(i,a()[l()+1]?a()[l()+1].start:u())}),le(()=>(J(g()),J(d()),J(f()),c(r)),()=>{S(o,Od(g().getJson(),d(),f().concat(String(c(r)))))}),le(()=>(c(r),c(i)),()=>{S(s,WU(c(r),c(i)))}),Xt(),ft(!0);var m=nG(),y=j(m),v=j(y),C=j(v),k=H(v,2);Pt(k,1,()=>c(s),tn,(b,w)=>{var E=tG(),O=j(E);he(()=>He(O,`show ${c(w).start??\"\"}-${c(w).end??\"\"}`)),we(\"click\",E,()=>h()(f(),c(w))),R(b,E)}),he(()=>{Re(m,\"jse-selected\",c(o)),Nn(m,\"--level\",f().length+2),He(C,`Items ${c(r)??\"\"}-${c(i)??\"\"}`)}),we(\"mousemove\",m,p),R(n,m),Te()}var iG=X('<button type=\"button\" class=\"jse-context-menu-pointer svelte-137iwnw\"><!></button>');function Ta(n,e){Ee(e,!1);let t=x(e,\"root\",9,!1),r=x(e,\"insert\",9,!1),i=x(e,\"selected\",9),o=x(e,\"onContextMenu\",9);function s(u){let f=u.target;for(;f&&f.nodeName!==\"BUTTON\";)f=f.parentNode;f&&o()({anchor:f,left:0,top:0,width:Gs,height:Xs,offsetTop:2,offsetLeft:0,showTip:!0})}ft(!0);var a=iG();ke(a,\"title\",Lw);var l=j(a);jt(l,{data:Qa}),he(()=>{Re(a,\"jse-root\",t()),Re(a,\"jse-insert\",r()),Re(a,\"jse-selected\",i())}),we(\"click\",a,s),R(n,a),Te()}var oG=X('<div role=\"none\" data-type=\"selectable-key\" class=\"jse-key svelte-2iqnqn\"><!></div>'),sG=X(\"<!> <!>\",1);function aG(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0);let i=x(e,\"pointer\",9),o=x(e,\"key\",9),s=x(e,\"selection\",9),a=x(e,\"searchResultItems\",9),l=x(e,\"onUpdateKey\",9),u=x(e,\"context\",9),f=Q(void 0,!0);function d(b){!c(r)&&!u().readOnly&&(b.preventDefault(),u().onSelect(Uw(c(f))))}function h(b,w){const E=l()(o(),u().normalization.unescapeValue(b)),O=Jt(c(f)).concat(E);u().onSelect(w===Ka.nextInside?Dt(O):ha(O)),w!==Ka.self&&u().focus()}function g(){u().onSelect(ha(c(f))),u().focus()}le(()=>J(i()),()=>{S(f,yo(i()))}),le(()=>(J(s()),c(f)),()=>{S(t,Ar(s())&&Ft(s().path,c(f)))}),le(()=>(c(t),J(s())),()=>{S(r,c(t)&&vi(s()))}),Xt(),ft(!0);var p=sG(),m=ye(p);{var y=b=>{const w=Me(()=>u().normalization.escapeValue(o())),E=Me(()=>vi(s())?s().initialValue:void 0);hE(b,{get value(){return c(w)},get initialValue(){return c(E)},label:\"Edit key\",shortText:!0,onChange:h,onCancel:g,get onFind(){return u().onFind}})},v=b=>{var w=oG(),E=j(w);{var O=I=>{const D=Me(()=>u().normalization.escapeValue(o()));wE(I,{get text(){return c(D)},get searchResultItems(){return a()}})},T=I=>{var D=Or();he(A=>He(D,A),[()=>mv(u().normalization.escapeValue(o()))],Me),R(I,D)};te(E,I=>{a()?I(O):I(T,!1)})}he(()=>Re(w,\"jse-empty\",o()===\"\")),we(\"dblclick\",w,d),R(b,w)};te(m,b=>{!u().readOnly&&c(r)?b(y):b(v,!1)})}var C=H(m,2);{var k=b=>{Ta(b,{selected:!0,get onContextMenu(){return u().onContextMenu}})};te(C,b=>{!u().readOnly&&c(t)&&!c(r)&&b(k)})}R(n,p),Te()}var lG=X('<div role=\"button\" tabindex=\"-1\" class=\"jse-value\" data-type=\"selectable-value\"></div>');function WE(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0);let i=x(e,\"path\",9),o=x(e,\"value\",9),s=x(e,\"context\",9),a=x(e,\"enforceString\",9),l=x(e,\"selection\",9),u=x(e,\"searchResultItems\",9);le(()=>(J(l()),vi),()=>{S(t,hn(l())&&vi(l()))}),le(()=>(J(s()),J(i()),J(o()),J(a()),c(t),J(l()),J(u())),()=>{S(r,s().onRenderValue({path:i(),value:o(),mode:s().mode,readOnly:s().readOnly,enforceString:a(),isEditing:c(t),parser:s().parser,normalization:s().normalization,selection:l(),searchResultItems:u(),onPatch:s().onPatch,onPasteJson:s().onPasteJson,onSelect:s().onSelect,onFind:s().onFind,findNextInside:s().findNextInside,focus:s().focus}))}),Xt(),ft(!0);var f=De(),d=ye(f);Pt(d,1,()=>c(r),tn,(h,g)=>{var p=De(),m=ye(p);{var y=C=>{var k=lG();const b=Me(()=>c(g).action);Ut(k,(w,E)=>{var O;return(O=c(b))==null?void 0:O(w,E)},()=>c(g).props),R(C,k)},v=C=>{var k=De(),b=ye(k);Wl(b,()=>c(g).component,(w,E)=>{E(w,Xr(()=>c(g).props))}),R(C,k)};te(m,C=>{ZU(c(g))?C(y):C(v,!1)})}R(h,p)}),R(n,f),Te()}const cG={selecting:!1,selectionAnchor:void 0,selectionAnchorType:void 0,selectionFocus:void 0,dragging:!1};function F0({json:n,selection:e,deltaY:t,items:r}){if(!e)return{operations:void 0,updatedSelection:void 0,offset:0};const i=t<0?uG({json:n,selection:e,deltaY:t,items:r}):fG({json:n,selection:e,deltaY:t,items:r});if(!i||i.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};const o=CK(n,e,i),s=Jt(fa(n,e)),a=Qe(n,s);if(Array.isArray(a)){const l=dG({items:r,json:n,selection:e,offset:i.offset});return{operations:o,updatedSelection:l,offset:i.offset}}else return{operations:o,updatedSelection:void 0,offset:i.offset}}function uG({json:n,items:e,selection:t,deltaY:r}){const i=fa(n,t),o=e.findIndex(d=>Ft(d.path,i)),s=()=>{var d;return(d=e[a-1])==null?void 0:d.height};let a=o,l=0;for(;s()!==void 0&&Math.abs(r)>l+s()/2;)l+=s(),a-=1;const u=e[a].path,f=a-o;return a!==o&&e[a]!==void 0?{beforePath:u,offset:f}:void 0}function fG({json:n,items:e,selection:t,deltaY:r}){var m;const i=fl(n,t),o=e.findIndex(y=>Ft(y.path,i));let s=0,a=o;const l=()=>{var y;return(y=e[a+1])==null?void 0:y.height};for(;l()!==void 0&&Math.abs(r)>s+l()/2;)s+=l(),a+=1;const u=Jt(i),f=Qe(n,u),h=Array.isArray(f)?a:a+1,g=(m=e[h])==null?void 0:m.path,p=a-o;return g?{beforePath:g,offset:p}:{append:!0,offset:p}}function dG({items:n,json:e,selection:t,offset:r}){var f,d;const i=fa(e,t),o=fl(e,t),s=n.findIndex(h=>Ft(h.path,i)),a=n.findIndex(h=>Ft(h.path,o)),l=(f=n[s+r])==null?void 0:f.path,u=(d=n[a+r])==null?void 0:d.path;return ri(l,u)}var hG=X('<button type=\"button\"><!></button>');function du(n,e){Ee(e,!1);const t=Q(),r=Yi(\"absolute-popup\");let i=x(e,\"validationError\",8),o=x(e,\"onExpand\",8);le(()=>J(i()),()=>{S(t,QU(i())&&i().isChildError?\"Contains invalid data\":i().message)}),Xt(),ft();var s=hG(),a=j(s);jt(a,{data:ec}),fr(()=>we(\"click\",s,function(...l){var u;(u=o())==null||u.apply(this,l)})),Ut(s,(l,u)=>na==null?void 0:na(l,u),()=>({text:c(t),...r})),he(()=>Nr(s,`jse-validation-${i().severity??\"\"} svelte-1a8aobl`)),R(n,s),Te()}var Pn=Km(()=>cG),gG=X('<div class=\"jse-separator svelte-wovgt4\">:</div>'),pG=X('<div class=\"jse-bracket svelte-wovgt4\">[</div> <span class=\"jse-tag jse-expanded svelte-wovgt4\"> </span> &nbsp;',1),mG=X('<div class=\"jse-bracket svelte-wovgt4\">[</div> <button type=\"button\" class=\"jse-tag svelte-wovgt4\"> </button> <div class=\"jse-bracket svelte-wovgt4\">]</div>',1),vG=X('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),yG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"></div>'),bG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),wG=X('<div class=\"jse-insert-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"><!></div>'),xG=X('<div slot=\"identifier\" class=\"jse-identifier svelte-wovgt4\"><div class=\"jse-index svelte-wovgt4\"> </div></div>'),CG=X(\"<!> <!>\",1),_G=X('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),SG=X('<div class=\"jse-items svelte-wovgt4\"><!> <!></div> <div class=\"jse-footer-outer svelte-wovgt4\"><div data-type=\"selectable-value\" class=\"jse-footer svelte-wovgt4\"><span class=\"jse-bracket svelte-wovgt4\">]</span></div> <!></div>',1),kG=X('<div class=\"jse-header-outer svelte-wovgt4\"><div class=\"jse-header svelte-wovgt4\"><button type=\"button\" class=\"jse-expand svelte-wovgt4\" title=\"Expand or collapse this array (Ctrl+Click to expand/collapse recursively)\"><!></button> <!> <!> <div class=\"jse-meta svelte-wovgt4\"><div class=\"jse-meta-inner svelte-wovgt4\" data-type=\"selectable-value\"><!></div></div> <!></div> <!> <!></div> <!>',1),OG=X('<div class=\"jse-separator svelte-wovgt4\">:</div>'),AG=X('<div class=\"jse-bracket jse-expanded svelte-wovgt4\">&lbrace;</div>'),EG=X('<div class=\"jse-bracket svelte-wovgt4\">&lbrace;</div> <button type=\"button\" class=\"jse-tag svelte-wovgt4\"> </button> <div class=\"jse-bracket svelte-wovgt4\">&rbrace;</div>',1),TG=X('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),MG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"></div>'),PG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),IG=X('<div class=\"jse-insert-area jse-inside svelte-wovgt4\" data-type=\"insert-selection-area-inside\"><!></div>'),RG=X('<div slot=\"identifier\" class=\"jse-key-outer svelte-wovgt4\"><!></div>'),DG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),NG=X('<div class=\"jse-props svelte-wovgt4\"><!> <!></div> <div class=\"jse-footer-outer svelte-wovgt4\"><div data-type=\"selectable-value\" class=\"jse-footer svelte-wovgt4\"><div class=\"jse-bracket svelte-wovgt4\">&rbrace;</div></div> <!></div>',1),LG=X('<div class=\"jse-header-outer svelte-wovgt4\"><div class=\"jse-header svelte-wovgt4\"><button type=\"button\" class=\"jse-expand svelte-wovgt4\" title=\"Expand or collapse this object (Ctrl+Click to expand/collapse recursively)\"><!></button> <!> <!> <div class=\"jse-meta svelte-wovgt4\" data-type=\"selectable-value\"><div class=\"jse-meta-inner svelte-wovgt4\"><!></div></div> <!></div> <!> <!></div> <!>',1),BG=X('<div class=\"jse-separator svelte-wovgt4\">:</div>'),FG=X('<div class=\"jse-context-menu-pointer-anchor svelte-wovgt4\"><!></div>'),jG=X('<div role=\"none\" class=\"jse-insert-selection-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"></div>'),zG=X('<div class=\"jse-contents-outer svelte-wovgt4\"><div class=\"jse-contents svelte-wovgt4\"><!> <!> <div class=\"jse-value-outer svelte-wovgt4\"><!></div> <!></div> <!> <!></div>'),VG=X('<div class=\"jse-insert-area jse-after svelte-wovgt4\" data-type=\"insert-selection-area-after\"><!></div>'),HG=X('<div role=\"treeitem\" tabindex=\"-1\"><!> <!></div>');function T1(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0);let i=x(e,\"pointer\",9),o=x(e,\"value\",9),s=x(e,\"state\",9),a=x(e,\"validationErrors\",9),l=x(e,\"searchResults\",9),u=x(e,\"selection\",9),f=x(e,\"context\",9),d=x(e,\"onDragSelectionStart\",9);const h=Er(\"jsoneditor:JSONNode\");let g=Q(void 0,!0),p,m=Q(void 0,!0),y=Q(void 0,!0),v=Q(void 0,!0),C=Q(void 0,!0),k=Q(void 0,!0),b=Q(void 0,!0),w=Q(void 0,!0);function E(Y,ee){const K=Object.keys(Y);return ee&&ee.offset!==0?s_(K,ee.selectionStartIndex,ee.selectionItemsCount,ee.offset):K}function O(Y,ee,K){const je=ee.start,Ze=Math.min(ee.end,Y.length),Ce=IA(je,Ze);return K&&K.offset!==0?s_(Ce,K.selectionStartIndex,K.selectionItemsCount,K.offset).map((be,Ae)=>({index:be,gutterIndex:Ae})):Ce.map(be=>({index:be,gutterIndex:be}))}function T(Y){Y.stopPropagation();const ee=Dw(Y);f().onExpand(c(y),!c(v),ee)}function I(Y){Y.stopPropagation(),f().onExpand(c(y),!0)}function D(Y,ee){const K=hh(c(y),Object.keys(o()),Y,ee);return f().onPatch(K),Nt(yo(K[0].path))}function A(Y){if(Y.buttons!==1&&Y.buttons!==2||zW(Y.target)||Y.buttons===1&&qA(Y.target,\"BUTTON\"))return;Y.stopPropagation(),Y.preventDefault(),f().focus(),document.addEventListener(\"mousemove\",P,!0),document.addEventListener(\"mouseup\",_);const ee=k0(Y.target),K=f().getJson(),je=f().getDocumentState();if(u()&&ee!==vn.after&&ee!==vn.inside&&(u().type===ee||u().type===vn.multi)&&Od(K,u(),c(y))){Y.button===0&&d()(Y);return}if(Pn(Pn().selecting=!0),Pn(Pn().selectionAnchor=c(y)),Pn(Pn().selectionAnchorType=ee),Pn(Pn().selectionFocus=c(y)),Y.shiftKey){const Ze=f().getSelection();Ze&&f().onSelect(ri(Zl(Ze),c(y)))}else if(ee===vn.multi)if(c(r)&&Y.target.hasAttribute(\"data-path\")){const Ze=Nt(aE(o(),je));f().onSelect(Kw(Ze))}else f().onSelect(ri(c(y),c(y)));else K!==void 0&&f().onSelect(__(ee,c(y)))}function M(Y){if(Pn().selecting){Y.preventDefault(),Y.stopPropagation(),Pn().selectionFocus===void 0&&window.getSelection&&window.getSelection().empty();const ee=k0(Y.target);(!Ft(c(y),Pn().selectionFocus)||ee!==Pn().selectionAnchorType)&&(Pn(Pn().selectionFocus=c(y)),Pn(Pn().selectionAnchorType=ee),f().onSelect(ri(Pn().selectionAnchor||Pn().selectionFocus,Pn().selectionFocus)))}}function P(Y){f().onDrag(Y)}function _(Y){Pn().selecting&&(Pn(Pn().selecting=!1),Y.stopPropagation()),f().onDragEnd(),document.removeEventListener(\"mousemove\",P,!0),document.removeEventListener(\"mouseup\",_)}function N(){var Y,ee;return((ee=(Y=f().findElement([]))==null?void 0:Y.getBoundingClientRect())==null?void 0:ee.top)||0}function F(Y,ee){const je=N()-Y.initialContentTop;return ee.clientY-Y.initialClientY-je}function B(Y){if(f().readOnly||!u())return;const ee=Jt(it(u()));if(!Ft(c(y),ee)){d()(Y);return}const K=Z(u(),c(k)||au);if(h(\"dragSelectionStart\",{selection:u(),items:K}),!K){h(\"Cannot drag the current selection (probably spread over multiple sections)\");return}const je=f().getJson();if(je===void 0)return;const Ze=fa(je,u()),Ce=K.findIndex(Ae=>Ft(Ae.path,Ze)),{offset:be}=F0({json:je,selection:f().getSelection(),deltaY:0,items:K});S(m,{initialTarget:Y.target,initialClientY:Y.clientY,initialContentTop:N(),selectionStartIndex:Ce,selectionItemsCount:Ya(je,u()).length,items:K,offset:be,didMoveItems:!1}),Pn(Pn().dragging=!0),document.addEventListener(\"mousemove\",L,!0),document.addEventListener(\"mouseup\",z)}function L(Y){if(c(m)){const ee=f().getJson();if(ee===void 0)return;const K=F(c(m),Y),{offset:je}=F0({json:ee,selection:f().getSelection(),deltaY:K,items:c(m).items});je!==c(m).offset&&(h(\"drag selection\",je,K),S(m,{...c(m),offset:je,didMoveItems:!0}))}}function z(Y){if(c(m)){const ee=f().getJson();if(ee===void 0)return;const K=F(c(m),Y),{operations:je,updatedSelection:Ze}=F0({json:ee,selection:f().getSelection(),deltaY:K,items:c(m).items});if(je)f().onPatch(je,(Ce,be)=>({state:be,selection:Ze??u()}));else if(Y.target===c(m).initialTarget&&!c(m).didMoveItems){const Ce=k0(Y.target),be=UA(Y.target);be&&f().onSelect(__(Ce,be))}S(m,void 0),Pn(Pn().dragging=!1),document.removeEventListener(\"mousemove\",L,!0),document.removeEventListener(\"mouseup\",z)}}function Z(Y,ee){const K=[];function je(Ze){const Ce=c(y).concat(Ze),be=f().findElement(Ce);be!==void 0&&K.push({path:Ce,height:be.clientHeight})}if(Array.isArray(o())){const Ze=f().getJson();if(Ze===void 0)return;const Ce=fa(Ze,Y),be=fl(Ze,Y),Ae=parseInt(Nt(Ce),10),Ie=parseInt(Nt(be),10),Ne=ee.find(dt=>Ae>=dt.start&&Ie<=dt.end);if(!Ne)return;const{start:gt,end:Xe}=Ne;RA(gt,Math.min(o().length,Xe),dt=>je(String(dt)))}else Object.keys(o()).forEach(je);return K}function ae(Y){Pn().selecting||Pn().dragging||(Y.stopPropagation(),ja(Y.target,\"data-type\",\"selectable-value\")?S(g,g_):ja(Y.target,\"data-type\",\"selectable-key\")?S(g,void 0):ja(Y.target,\"data-type\",\"insert-selection-area-inside\")?S(g,yf):ja(Y.target,\"data-type\",\"insert-selection-area-after\")&&S(g,E0),clearTimeout(p))}function ne(Y){Y.stopPropagation(),p=window.setTimeout(()=>S(g,void 0))}function ie(Y){Y.shiftKey||(Y.stopPropagation(),Y.preventDefault(),f().onSelect(ga(c(y))))}function U(Y){Y.shiftKey||(Y.stopPropagation(),Y.preventDefault(),f().onSelect(pa(c(y))))}function ue(Y){f().onSelect(ga(c(y))),f().onContextMenu(Y)}function ce(Y){f().onSelect(pa(c(y))),f().onContextMenu(Y)}le(()=>J(i()),()=>{S(y,yo(i()))}),le(()=>J(i()),()=>{S(t,encodeURIComponent(i()))}),le(()=>J(s()),()=>{S(v,Yl(s())?s().expanded:!1)}),le(()=>(J(o()),J(s())),()=>{S(C,ua(o(),s(),[]))}),le(()=>J(s()),()=>{S(k,Gr(s())?s().visibleSections:void 0)}),le(()=>J(a()),()=>{var Y;S(b,(Y=a())==null?void 0:Y.validationError)}),le(()=>(J(f()),J(u()),c(y)),()=>{S(w,Od(f().getJson(),u(),c(y)))}),le(()=>c(y),()=>{S(r,c(y).length===0)}),Xt(),ft(!0);var q=HG(),se=j(q);{var fe=Y=>{var ee=kG(),K=ye(ee),je=j(K),Ze=j(je),Ce=j(Ze);{var be=ct=>{jt(ct,{data:Qa})},Ae=ct=>{jt(ct,{data:Ad})};te(Ce,ct=>{c(v)?ct(be):ct(Ae,!1)})}var Ie=H(Ze,2);qn(Ie,e,\"identifier\",{},null);var Ne=H(Ie,2);{var gt=ct=>{var Gt=gG();R(ct,Gt)};te(Ne,ct=>{c(r)||ct(gt)})}var Xe=H(Ne,2),dt=j(Xe),ve=j(dt);{var Je=ct=>{var Gt=pG(),zn=H(ye(Gt),2),Vn=j(zn);he(()=>He(Vn,`${o().length??\"\"}\n                ${(o().length===1?\"item\":\"items\")??\"\"}`)),R(ct,Gt)},_t=ct=>{var Gt=mG(),zn=H(ye(Gt),2),Vn=j(zn);he(()=>He(Vn,`${o().length??\"\"}\n                ${(o().length===1?\"item\":\"items\")??\"\"}`)),we(\"click\",zn,I),R(ct,Gt)};te(ve,ct=>{c(v)?ct(Je):ct(_t,!1)})}var $e=H(Xe,2);{var mt=ct=>{var Gt=vG(),zn=j(Gt);Ta(zn,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),R(ct,Gt)};te($e,ct=>{!f().readOnly&&c(w)&&u()&&(hn(u())||In(u()))&&!vi(u())&&Ft(it(u()),c(y))&&ct(mt)})}var lt=H(je,2);{var Ue=ct=>{du(ct,{get validationError(){return c(b)},onExpand:I})};te(lt,ct=>{c(b)&&(!c(v)||!c(b).isChildError)&&ct(Ue)})}var Le=H(lt,2);{var pe=ct=>{var Gt=yG();we(\"click\",Gt,ie),R(ct,Gt)},wt=ct=>{var Gt=bG();we(\"click\",Gt,U),R(ct,Gt)};te(Le,ct=>{c(v)?ct(pe):ct(wt,!1)})}var vt=H(K,2);{var On=ct=>{var Gt=SG(),zn=ye(Gt),Vn=j(zn);{var Xn=kt=>{var Lt=wG();ke(Lt,\"title\",A0);var yr=j(Lt);const Rt=Me(()=>c(w)&&Kr(u()));Ta(yr,{insert:!0,get selected(){return c(Rt)},onContextMenu:ue}),he(Yt=>{Re(Lt,\"jse-hovered\",c(g)===yf),Re(Lt,\"jse-selected\",Yt),Nn(Lt,\"--level\",c(y).length+1)},[()=>c(w)&&Kr(u())],Me),R(kt,Lt)};te(Vn,kt=>{!f().readOnly&&(c(g)===yf||c(w)&&Kr(u()))&&kt(Xn)})}var pt=H(Vn,2);Pt(pt,1,()=>c(k)||au,tn,(kt,Lt,yr)=>{var Rt=CG(),Yt=ye(Rt);Pt(Yt,1,()=>O(o(),c(Lt),c(m)),Mn=>Mn.index,(Mn,gn)=>{var bn=De();const hr=Me(()=>Gr(a())?a().items[c(gn).index]:void 0),cn=Me(()=>S_(f().getJson(),u(),c(y).concat(String(c(gn).index))));var or=ye(bn);const Oe=Me(()=>yC(i(),c(gn).index)),At=Me(()=>Gr(s())?s().items[c(gn).index]:void 0),Vt=Me(()=>Gr(l())?l().items[c(gn).index]:void 0);T1(or,{get value(){return o()[c(gn).index]},get pointer(){return c(Oe)},get state(){return c(At)},get validationErrors(){return c(hr)},get searchResults(){return c(Vt)},get selection(){return c(cn)},get context(){return f()},onDragSelectionStart:B,$$slots:{identifier:(ut,gr)=>{var Tr=xG(),Hr=j(Tr),Mr=j(Hr);he(()=>He(Mr,c(gn).gutterIndex)),R(ut,Tr)}}}),R(Mn,bn)});var sn=H(Yt,2);{var un=Mn=>{const gn=Me(()=>c(k)||au);rG(Mn,{get visibleSections(){return c(gn)},sectionIndex:yr,get total(){return o().length},get path(){return c(y)},get onExpandSection(){return f().onExpandSection},get selection(){return u()},get context(){return f()}})};te(sn,Mn=>{c(Lt).end<o().length&&Mn(un)})}R(kt,Rt)});var nn=H(zn,2),on=H(j(nn),2);{var Tn=kt=>{var Lt=_G();we(\"click\",Lt,U),R(kt,Lt)};te(on,kt=>{c(r)||kt(Tn)})}R(ct,Gt)};te(vt,ct=>{c(v)&&ct(On)})}we(\"click\",Ze,T),R(Y,ee)},G=Y=>{var ee=De(),K=ye(ee);{var je=Ce=>{var be=LG(),Ae=ye(be),Ie=j(Ae),Ne=j(Ie),gt=j(Ne);{var Xe=pt=>{jt(pt,{data:Qa})},dt=pt=>{jt(pt,{data:Ad})};te(gt,pt=>{c(v)?pt(Xe):pt(dt,!1)})}var ve=H(Ne,2);qn(ve,e,\"identifier\",{},null);var Je=H(ve,2);{var _t=pt=>{var nn=OG();R(pt,nn)};te(Je,pt=>{c(r)||pt(_t)})}var $e=H(Je,2),mt=j($e),lt=j(mt);{var Ue=pt=>{var nn=AG();R(pt,nn)},Le=pt=>{var nn=EG(),on=H(ye(nn),2),Tn=j(on);he((kt,Lt)=>He(Tn,`${kt??\"\"}\n                ${Lt??\"\"}`),[()=>Object.keys(o()).length,()=>Object.keys(o()).length===1?\"prop\":\"props\"],Me),we(\"click\",on,I),R(pt,nn)};te(lt,pt=>{c(v)?pt(Ue):pt(Le,!1)})}var pe=H($e,2);{var wt=pt=>{var nn=TG(),on=j(nn);Ta(on,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),R(pt,nn)};te(pe,pt=>{!f().readOnly&&c(w)&&u()&&(hn(u())||In(u()))&&!vi(u())&&Ft(it(u()),c(y))&&pt(wt)})}var vt=H(Ie,2);{var On=pt=>{du(pt,{get validationError(){return c(b)},onExpand:I})};te(vt,pt=>{c(b)&&(!c(v)||!c(b).isChildError)&&pt(On)})}var ct=H(vt,2);{var Gt=pt=>{var nn=MG();we(\"click\",nn,ie),R(pt,nn)},zn=pt=>{var nn=De(),on=ye(nn);{var Tn=kt=>{var Lt=PG();we(\"click\",Lt,U),R(kt,Lt)};te(on,kt=>{c(r)||kt(Tn)},!0)}R(pt,nn)};te(ct,pt=>{c(v)?pt(Gt):pt(zn,!1)})}var Vn=H(Ae,2);{var Xn=pt=>{var nn=NG(),on=ye(nn),Tn=j(on);{var kt=sn=>{var un=IG();ke(un,\"title\",A0);var Mn=j(un);const gn=Me(()=>c(w)&&Kr(u()));Ta(Mn,{insert:!0,get selected(){return c(gn)},onContextMenu:ue}),he(bn=>{Re(un,\"jse-hovered\",c(g)===yf),Re(un,\"jse-selected\",bn),Nn(un,\"--level\",c(y).length+1)},[()=>c(w)&&Kr(u())],Me),R(sn,un)};te(Tn,sn=>{!f().readOnly&&(c(g)===yf||c(w)&&Kr(u()))&&sn(kt)})}var Lt=H(Tn,2);Pt(Lt,1,()=>E(o(),c(m)),tn,(sn,un)=>{var Mn=De();const gn=Me(()=>yC(i(),c(un))),bn=Me(()=>Ho(l())?l().properties[c(un)]:void 0),hr=Me(()=>Ho(a())?a().properties[c(un)]:void 0),cn=Me(()=>c(y).concat(c(un))),or=Me(()=>S_(f().getJson(),u(),c(cn)));var Oe=ye(Mn);const At=Me(()=>Ho(s())?s().properties[c(un)]:void 0);T1(Oe,{get value(){return o()[c(un)]},get pointer(){return c(gn)},get state(){return c(At)},get validationErrors(){return c(hr)},get searchResults(){return c(bn)},get selection(){return c(or)},get context(){return f()},onDragSelectionStart:B,$$slots:{identifier:(Vt,ut)=>{var gr=RG(),Tr=j(gr);const Hr=Me(()=>MK(c(bn)));aG(Tr,{get pointer(){return c(gn)},get key(){return c(un)},get selection(){return c(or)},get searchResultItems(){return c(Hr)},get context(){return f()},onUpdateKey:D}),he(Mr=>Re(gr,\"jse-selected-key\",Mr),[()=>Ar(c(or))&&Ft(c(or).path,c(cn))],Me),R(Vt,gr)}}}),R(sn,Mn)});var yr=H(on,2),Rt=H(j(yr),2);{var Yt=sn=>{var un=DG();we(\"click\",un,U),R(sn,un)};te(Rt,sn=>{c(r)||sn(Yt)})}R(pt,nn)};te(Vn,pt=>{c(v)&&pt(Xn)})}we(\"click\",Ne,T),R(Ce,be)},Ze=Ce=>{var be=zG(),Ae=j(be),Ie=j(Ae);qn(Ie,e,\"identifier\",{},null);var Ne=H(Ie,2);{var gt=pe=>{var wt=BG();R(pe,wt)};te(Ne,pe=>{c(r)||pe(gt)})}var Xe=H(Ne,2),dt=j(Xe);const ve=Me(()=>c(w)?u():void 0),Je=Me(()=>PK(l()));WE(dt,{get path(){return c(y)},get value(){return o()},get enforceString(){return c(C)},get selection(){return c(ve)},get searchResultItems(){return c(Je)},get context(){return f()}});var _t=H(Xe,2);{var $e=pe=>{var wt=FG(),vt=j(wt);Ta(vt,{get root(){return c(r)},selected:!0,get onContextMenu(){return f().onContextMenu}}),R(pe,wt)};te(_t,pe=>{!f().readOnly&&c(w)&&u()&&(hn(u())||In(u()))&&!vi(u())&&Ft(it(u()),c(y))&&pe($e)})}var mt=H(Ae,2);{var lt=pe=>{du(pe,{get validationError(){return c(b)},onExpand:I})};te(mt,pe=>{c(b)&&pe(lt)})}var Ue=H(mt,2);{var Le=pe=>{var wt=jG();we(\"click\",wt,U),R(pe,wt)};te(Ue,pe=>{c(r)||pe(Le)})}R(Ce,be)};te(K,Ce=>{ln(o())?Ce(je):Ce(Ze,!1)},!0)}R(Y,ee)};te(se,Y=>{Array.isArray(o())?Y(fe):Y(G,!1)})}var oe=H(se,2);{var $=Y=>{var ee=VG();ke(ee,\"title\",A0);var K=j(ee);const je=Me(()=>c(w)&&uo(u()));Ta(K,{insert:!0,get selected(){return c(je)},onContextMenu:ce}),he(Ze=>{Re(ee,\"jse-hovered\",c(g)===E0),Re(ee,\"jse-selected\",Ze)},[()=>c(w)&&uo(u())],Me),R(Y,ee)};te(oe,Y=>{!f().readOnly&&(c(g)===E0||c(w)&&uo(u()))&&Y($)})}he((Y,ee,K)=>{Nr(q,Lr(Y),\"svelte-wovgt4\"),ke(q,\"data-path\",c(t)),ke(q,\"aria-selected\",c(w)),Re(q,\"jse-root\",c(r)),Re(q,\"jse-selected\",ee),Re(q,\"jse-selected-value\",K),Re(q,\"jse-readonly\",f().readOnly),Re(q,\"jse-hovered\",c(g)===g_),Nn(q,\"--level\",c(y).length)},[()=>$u(\"jse-json-node\",{\"jse-expanded\":c(v)},f().onClassName(c(y),o())),()=>c(w)&&In(u()),()=>c(w)&&hn(u())],Me),we(\"mousedown\",q,A),we(\"mousemove\",q,M),we(\"mouseover\",q,ae),we(\"mouseout\",q,ne),R(n,q),Te()}const qG={prefix:\"fas\",iconName:\"jsoneditor-expand\",icon:[512,512,[],\"\",\"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z\"]},WG={prefix:\"fas\",iconName:\"jsoneditor-collapse\",icon:[512,512,[],\"\",\"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z\"]},UE={prefix:\"fas\",iconName:\"jsoneditor-format\",icon:[512,512,[],\"\",\"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z\"]},UG={prefix:\"fas\",iconName:\"jsoneditor-compact\",icon:[512,512,[],\"\",\"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z\"]};function KG(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0);let o=x(e,\"json\",9),s=x(e,\"selection\",9),a=x(e,\"readOnly\",9),l=x(e,\"showSearch\",13,!1),u=x(e,\"history\",9),f=x(e,\"onExpandAll\",9),d=x(e,\"onCollapseAll\",9),h=x(e,\"onUndo\",9),g=x(e,\"onRedo\",9),p=x(e,\"onSort\",9),m=x(e,\"onTransform\",9),y=x(e,\"onContextMenu\",9),v=x(e,\"onCopy\",9),C=x(e,\"onRenderMenu\",9);function k(){l(!l())}let b=Q(void 0,!0),w=Q(void 0,!0),E=Q(void 0,!0),O=Q(void 0,!0);le(()=>J(o()),()=>{S(t,o()!==void 0)}),le(()=>(c(t),J(s()),hn),()=>{S(r,c(t)&&(In(s())||Ar(s())||hn(s())))}),le(()=>(J(f()),J(o())),()=>{S(b,{type:\"button\",icon:qG,title:\"Expand all\",className:\"jse-expand-all\",onClick:f(),disabled:!nr(o())})}),le(()=>(J(d()),J(o())),()=>{S(w,{type:\"button\",icon:WG,title:\"Collapse all\",className:\"jse-collapse-all\",onClick:d(),disabled:!nr(o())})}),le(()=>J(o()),()=>{S(E,{type:\"button\",icon:Cv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:k,disabled:o()===void 0})}),le(()=>(J(a()),c(b),c(w),J(p()),J(o()),J(m()),c(E),J(y()),J(h()),J(u()),J(g()),J(v()),c(r)),()=>{S(O,a()?[c(b),c(w),{type:\"separator\"},{type:\"button\",icon:Ja,title:\"Copy (Ctrl+C)\",className:\"jse-copy\",onClick:v(),disabled:!c(r)},{type:\"separator\"},c(E),{type:\"space\"}]:[c(b),c(w),{type:\"separator\"},{type:\"button\",icon:xv,title:\"Sort\",className:\"jse-sort\",onClick:p(),disabled:a()||o()===void 0},{type:\"button\",icon:wv,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:m(),disabled:a()||o()===void 0},c(E),{type:\"button\",icon:kE,title:Lw,className:\"jse-contextmenu\",onClick:y()},{type:\"separator\"},{type:\"button\",icon:Xw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:h(),disabled:!u().canUndo},{type:\"button\",icon:Jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:g(),disabled:!u().canRedo},{type:\"space\"}])}),le(()=>(J(C()),c(O)),()=>{S(i,C()(c(O))||c(O))}),Xt(),ft(!0),Mv(n,{get items(){return c(i)}}),Te()}var JG=X('<div class=\"jse-welcome-info svelte-1eamlhk\">You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:</div> <button class=\"svelte-1eamlhk\">Create object</button> <button class=\"svelte-1eamlhk\">Create array</button>',1),XG=X('<div class=\"jse-welcome svelte-1eamlhk\" role=\"none\"><div class=\"jse-space jse-before svelte-1eamlhk\"></div> <div class=\"jse-contents svelte-1eamlhk\"><div class=\"jse-welcome-title\">Empty document</div> <!></div> <div class=\"jse-space jse-after svelte-1eamlhk\"></div></div>');function GG(n,e){Ee(e,!1);let t=x(e,\"readOnly\",9),r=x(e,\"onCreateArray\",9),i=x(e,\"onCreateObject\",9),o=x(e,\"onClick\",9);ft(!0);var s=XG(),a=H(j(s),2),l=H(j(a),2);{var u=f=>{var d=JG(),h=H(ye(d),2);ke(h,\"title\",\"Create an empty JSON object (press '{')\");var g=H(h,2);ke(g,\"title\",\"Create an empty JSON array (press '[')\"),we(\"click\",h,Io(()=>i()())),we(\"click\",g,Io(()=>r()())),R(f,d)};te(l,f=>{t()||f(u)})}we(\"click\",s,()=>o()()),R(n,s),Te()}var KE={exports:{}};/*\n * @version    1.4.0\n * @date       2015-10-26\n * @stability  3 - Stable\n * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)\n * @license    MIT License\n */var B_=function(n,e){var t,r,i=1,o=0,s=0,a=String.alphabet;function l(u,f,d){if(d){for(t=f;d=l(u,t),d<76&&d>65;)++t;return+u.slice(f-1,t)}return d=a&&a.indexOf(u.charAt(f)),d>-1?d+76:(d=u.charCodeAt(f)||0,d<45||d>127?d:d<46?65:d<48?d-1:d<58?d+18:d<65?d-11:d<91?d+11:d<97?d-37:d<123?d+5:d-63)}if((n+=\"\")!=(e+=\"\")){for(;i;)if(r=l(n,o++),i=l(e,s++),r<76&&i<76&&r>66&&i>66&&(r=l(n,o,o),i=l(e,s,o=t),s=t),r!=i)return r<i?-1:1}return 0};try{KE.exports=B_}catch{String.naturalCompare=B_}var YG=KE.exports;const QG=DN(YG);function n2(n,e){const t=typeof n==\"string\"?n.toLowerCase():n,r=typeof e==\"string\"?e.toLowerCase():e;return QG(t,r)}function JE(n,e=[],t=[],r=1){const i=Qe(n,e);if(Jn(i)){if(t===void 0)throw new Error(\"Cannot sort: no property selected by which to sort the array\");return $G(n,e,t,r)}if(ln(i))return ZG(n,e,r);throw new Error(\"Cannot sort: no array or object\")}function ZG(n,e=[],t=1){const r=Qe(n,e),o=Object.keys(r).slice();o.sort((a,l)=>t*n2(a,l));const s={};return o.forEach(a=>s[a]=r[a]),[{op:\"replace\",path:ht(e),value:s}]}function $G(n,e=[],t=[],r=1){const i=eY(t,r),o=Qe(n,e);return[{op:\"replace\",path:ht(e),value:o.slice(0).sort(i)}]}function eY(n,e){return function(r,i){const o=Qe(r,n),s=Qe(i,n);return o===void 0?e:s===void 0?-e:typeof o!=\"string\"&&typeof s!=\"string\"?o>s?e:o<s?-e:0:e*n2(o,s)}}var tY=X('<button type=\"button\" class=\"jse-navigation-bar-dropdown-item svelte-2nnd2m\"> </button>'),nY=X('<button type=\"button\" class=\"jse-navigation-bar-dropdown-item svelte-2nnd2m\">...</button>'),rY=X('<div class=\"jse-navigation-bar-dropdown svelte-2nnd2m\"><!> <!></div>');function iY(n,e){Ee(e,!1);let t=x(e,\"items\",9),r=x(e,\"selectedItem\",9),i=x(e,\"onSelect\",9);const o=100,s=30;ft(!0);var a=rY(),l=j(a);Pt(l,1,()=>DA(t(),o),d=>d,(d,h)=>{var g=tY(),p=j(g);he((m,y)=>{ke(g,\"title\",m),Re(g,\"jse-selected\",c(h)===r()),He(p,y)},[()=>c(h).toString(),()=>fh(c(h).toString(),s)],Me),we(\"click\",g,Io(()=>i()(c(h)))),R(d,g)});var u=H(l,2);{var f=d=>{var h=nY();ke(h,\"title\",`Limited to ${o} items`),R(d,h)};te(u,d=>{t().length>o&&d(f)})}R(n,a),Te()}var oY=X('<button type=\"button\" class=\"jse-navigation-bar-button svelte-752ro1\"> </button>'),sY=X('<div class=\"jse-navigation-bar-item svelte-752ro1\"><button type=\"button\" class=\"jse-navigation-bar-button jse-navigation-bar-arrow svelte-752ro1\"><!></button> <!></div>');function F_(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),{openAbsolutePopup:i,closeAbsolutePopup:o}=Yi(\"absolute-popup\");let s=x(e,\"path\",9),a=x(e,\"index\",9),l=x(e,\"onSelect\",9),u=x(e,\"getItems\",9),f=Q(void 0,!0),d=Q(!1,!0),h;function g(b){o(h),l()(c(t).concat(b))}function p(){if(c(f)){S(d,!0);const b={items:u()(c(t)),selectedItem:c(r),onSelect:g};h=i(iY,b,{anchor:c(f),closeOnOuterClick:!0,onClose:()=>{S(d,!1)}})}}le(()=>(J(s()),J(a())),()=>{S(t,s().slice(0,a()))}),le(()=>(J(s()),J(a())),()=>{S(r,s()[a()])}),Xt(),ft(!0);var m=sY(),y=j(m),v=j(y);jt(v,{data:_E});var C=H(y,2);{var k=b=>{var w=oY(),E=j(w);he(()=>He(E,c(r))),we(\"click\",w,()=>g(c(r))),R(b,w)};te(C,b=>{c(r)!==void 0&&b(k)})}yn(m,b=>S(f,b),()=>c(f)),he(()=>Re(y,\"jse-open\",c(d))),we(\"click\",y,p),R(n,m),Te()}function r2(n){var e;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=document.queryCommandSupported)!=null&&e.call(document,\"copy\")){const t=document.createElement(\"textarea\");t.value=n,t.style.position=\"fixed\",t.style.opacity=\"0\",document.body.appendChild(t),t.select();try{document.execCommand(\"copy\")}catch(r){console.error(r)}finally{document.body.removeChild(t)}return Promise.resolve()}else return console.error(\"Copy failed.\"),Promise.resolve()}var aY=X('<button type=\"button\" class=\"jse-navigation-bar-validation-error svelte-zc2wx7\"><!></button>'),lY=X('<div class=\"jse-copied-text svelte-zc2wx7\">Copied!</div>'),cY=X('<div class=\"jse-navigation-bar-path-editor svelte-zc2wx7\"><input type=\"text\" class=\"jse-navigation-bar-text svelte-zc2wx7\"> <!> <!> <button type=\"button\" class=\"jse-navigation-bar-copy svelte-zc2wx7\" title=\"Copy selected path to the clipboard\"><!></button></div>');function uY(n,e){Ee(e,!1);const t=Q(),r=Yi(\"absolute-popup\");let i=x(e,\"path\",8),o=x(e,\"pathParser\",8),s=x(e,\"onChange\",8),a=x(e,\"onClose\",8),l=x(e,\"onError\",8),u=x(e,\"pathExists\",8),f=Q(),d=Q(),h=Q(!1),g,p=Q(!1);const m=1e3;dr(()=>{y()}),zr(()=>{clearTimeout(g)});function y(){c(f).focus()}function v(_){try{const N=o().parse(_);return C(N),{path:N,error:void 0}}catch(N){return{path:void 0,error:N}}}function C(_){if(!u()(_))throw new Error(\"Path does not exist in current document\")}function k(_){S(d,_.currentTarget.value)}function b(_){const N=ca(_);if(N===\"Escape\"&&(_.preventDefault(),a()()),N===\"Enter\"){_.preventDefault(),S(h,!0);const F=v(c(d));F.path!==void 0?s()(F.path):l()(F.error)}}function w(){r2(c(d)),S(p,!0),g=window.setTimeout(()=>S(p,!1),m),y()}le(()=>(J(o()),J(i())),()=>{S(d,o().stringify(i()))}),le(()=>(c(h),c(d)),()=>{S(t,c(h)?v(c(d)).error:void 0)}),Xt(),ft();var E=cY(),O=j(E);yn(O,_=>S(f,_),()=>c(f));var T=H(O,2);{var I=_=>{var N=aY(),F=j(N);jt(F,{data:ec}),Ut(N,(B,L)=>na==null?void 0:na(B,L),()=>({text:String(c(t)||\"\"),...r})),R(_,N)};te(T,_=>{c(t)&&_(I)})}var D=H(T,2);{var A=_=>{var N=lY();R(_,N)};te(D,_=>{c(p)&&_(A)})}var M=H(D,2),P=j(M);jt(P,{data:Ja}),he(()=>{Re(E,\"error\",c(t)),sa(O,c(d)),Re(M,\"copied\",c(p))}),we(\"keydown\",O,Io(b)),we(\"input\",O,k),we(\"click\",M,w),R(n,E),Te()}var fY=X(\"<!> <!>\",1),dY=X('<div class=\"jse-navigation-bar svelte-xs03gj\"><!> <button type=\"button\" class=\"jse-navigation-bar-edit svelte-xs03gj\"><span class=\"jse-navigation-bar-space svelte-xs03gj\"> </span> <!></button></div>');function hY(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Er(\"jsoneditor:NavigationBar\");let o=x(e,\"json\",9),s=x(e,\"selection\",9),a=x(e,\"onSelect\",9),l=x(e,\"onError\",9),u=x(e,\"pathParser\",9),f=Q(void 0,!0),d=Q(!1,!0);function h(M){setTimeout(()=>{if(c(f)&&c(f).scrollTo){const P=c(f).scrollWidth-c(f).clientWidth;P>0&&(i(\"scrollTo \",P),c(f).scrollTo({left:P,behavior:\"smooth\"}))}})}function g(M){i(\"get items for path\",M);const P=Qe(o(),M);if(Array.isArray(P))return IA(0,P.length).map(String);if(ln(P)){const N=Object.keys(P).slice(0);return N.sort(n2),N}else return[]}function p(M){return co(o(),M)}function m(M){i(\"select path\",JSON.stringify(M)),a()(ri(M,M))}function y(){S(d,!c(d))}function v(){S(d,!1)}function C(M){v(),m(M)}le(()=>(J(s()),it),()=>{S(t,s()?it(s()):[])}),le(()=>(J(o()),c(t)),()=>{S(r,nr(Qe(o(),c(t))))}),le(()=>c(t),()=>{h(c(t))}),Xt(),ft(!0);var k=dY(),b=j(k);{var w=M=>{var P=fY(),_=ye(P);Pt(_,1,()=>c(t),tn,(B,L,z)=>{F_(B,{getItems:g,get path(){return c(t)},index:z,onSelect:m})});var N=H(_,2);{var F=B=>{F_(B,{getItems:g,get path(){return c(t)},get index(){return c(t).length},onSelect:m})};te(N,B=>{c(r)&&B(F)})}R(M,P)},E=M=>{uY(M,{get path(){return c(t)},onClose:v,onChange:C,get onError(){return l()},pathExists:p,get pathParser(){return u()}})};te(b,M=>{c(d)?M(E,!1):M(w)})}var O=H(b,2),T=j(O),I=j(T),D=H(T,2);const A=Me(()=>c(d)?hJ:YK);jt(D,{get data(){return c(A)}}),yn(k,M=>S(f,M),()=>c(f)),he(M=>{ke(O,\"title\",c(d)?\"Cancel editing the selected path\":\"Edit the selected path\"),Re(O,\"flex\",!c(d)),Re(O,\"editing\",c(d)),He(I,M)},[()=>!nr(o())&&!c(d)?\"Navigation bar\":\"\"],Me),we(\"click\",O,y),R(n,k),Te()}var gY=X('<button type=\"button\" class=\"jse-replace-toggle svelte-1mxl2uo\" title=\"Toggle visibility of replace options (Ctrl+H)\"><!></button>'),pY=X('<div class=\"jse-replace-section svelte-1mxl2uo\"><input class=\"jse-replace-input svelte-1mxl2uo\" title=\"Enter replacement text\" type=\"text\" placeholder=\"Replace\"> <button type=\"button\" title=\"Replace current occurrence (Ctrl+Enter)\" class=\"svelte-1mxl2uo\">Replace</button> <button type=\"button\" title=\"Replace all occurrences\" class=\"svelte-1mxl2uo\">All</button></div>'),mY=X('<div class=\"jse-search-box svelte-1mxl2uo\"><form class=\"jse-search-form svelte-1mxl2uo\"><!> <div class=\"jse-search-contents svelte-1mxl2uo\"><div class=\"jse-search-section svelte-1mxl2uo\"><div class=\"jse-search-icon svelte-1mxl2uo\"><!></div> <label class=\"jse-search-input-label svelte-1mxl2uo\" about=\"jse-search input\"><input class=\"jse-search-input svelte-1mxl2uo\" title=\"Enter text to search\" type=\"text\" placeholder=\"Find\"></label> <div class=\"jse-search-count svelte-1mxl2uo\"> </div> <button type=\"button\" class=\"jse-search-next svelte-1mxl2uo\" title=\"Go to next search result (Enter)\"><!></button> <button type=\"button\" class=\"jse-search-previous svelte-1mxl2uo\" title=\"Go to previous search result (Shift+Enter)\"><!></button> <button type=\"button\" class=\"jse-search-clear svelte-1mxl2uo\" title=\"Close search box (Esc)\"><!></button></div> <!></div></form></div>');function XE(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Er(\"jsoneditor:SearchBox\");let s=x(e,\"json\",9),a=x(e,\"documentState\",9),l=x(e,\"parser\",9),u=x(e,\"showSearch\",9),f=x(e,\"showReplace\",13),d=x(e,\"readOnly\",9),h=x(e,\"columns\",9),g=x(e,\"onSearch\",9),p=x(e,\"onFocus\",9),m=x(e,\"onPatch\",9),y=x(e,\"onClose\",9),v=Q(\"\",!0),C=\"\",k=Q(\"\",!0),b=Q(!1,!0),w=Q(void 0,!0);const E=Vp(z,y1),O=Vp(Z,y1);function T(){f(!f()&&!d())}function I(ce){ce.stopPropagation();const q=ca(ce);q===\"Enter\"&&(ce.preventDefault(),c(v)!==C?E.flush():N()),q===\"Shift+Enter\"&&(ce.preventDefault(),F()),q===\"Ctrl+Enter\"&&(ce.preventDefault(),f()?M():N()),q===\"Ctrl+H\"&&(ce.preventDefault(),T()),q===\"Escape\"&&(ce.preventDefault(),ne())}function D(ce){ca(ce)===\"Enter\"&&(ce.preventDefault(),ce.stopPropagation(),M())}async function A(){await Sn(),setTimeout(()=>E.flush())}async function M(){var fe;if(d())return;const ce=(fe=c(w))==null?void 0:fe.activeItem;if(o(\"handleReplace\",{replaceText:c(k),activeItem:ce}),!c(w)||!ce||s()===void 0)return;S(w,{...k_(c(w)),activeIndex:c(r)});const{operations:q,newSelection:se}=AK(s(),a(),c(k),ce,l());m()(q,(G,oe)=>({state:oe,selection:se})),await Sn(),await O.flush(),await B()}async function P(){if(d())return;o(\"handleReplaceAll\",{text:c(v),replaceText:c(k)});const{operations:ce,newSelection:q}=EK(s(),a(),c(v),c(k),l());m()(ce,(se,fe)=>({state:fe,selection:q})),await B()}function _(ce){ce.select()}async function N(){S(w,c(w)?k_(c(w)):void 0),await B()}async function F(){S(w,c(w)?OK(c(w)):void 0),await B()}async function B(){var q;o(\"handleFocus\",c(w));const ce=(q=c(w))==null?void 0:q.activeItem;ce&&s()!==void 0&&await p()(ce.path)}async function L(ce){await ae(ce,c(v),s())}async function z(ce){await ae(u(),ce,s()),await B()}async function Z(ce){await ae(u(),c(v),ce)}async function ae(ce,q,se){return ce?(o(\"applySearch\",{showSearch:ce,text:q}),q===\"\"?(o(\"clearing search result\"),c(w)!==void 0&&S(w,void 0),Promise.resolve()):(C=q,S(b,!0),new Promise(fe=>{setTimeout(()=>{const G=yE(q,se,{maxResults:Gh,columns:h()});S(w,kK(G,c(w))),S(b,!1),fe()})}))):(c(w)&&S(w,void 0),Promise.resolve())}function ne(){o(\"handleClose\"),E.cancel(),O.cancel(),ae(!1,c(v),s()),y()()}le(()=>c(w),()=>{var ce,q;S(t,((q=(ce=c(w))==null?void 0:ce.items)==null?void 0:q.length)||0)}),le(()=>c(w),()=>{var ce;S(r,((ce=c(w))==null?void 0:ce.activeIndex)||0)}),le(()=>(c(t),Gh),()=>{S(i,c(t)>=Gh?`${Gh-1}+`:String(c(t)))}),le(()=>(J(g()),c(w)),()=>{g()(c(w))}),le(()=>J(u()),()=>{L(u())}),le(()=>c(v),()=>{E(c(v))}),le(()=>J(s()),()=>{O(s())}),Xt(),ft(!0);var ie=De(),U=ye(ie);{var ue=ce=>{var q=mY(),se=j(q),fe=j(se);{var G=$e=>{var mt=gY(),lt=j(mt);const Ue=Me(()=>f()?Qa:Ad);jt(lt,{get data(){return c(Ue)}}),we(\"click\",mt,T),R($e,mt)};te(fe,$e=>{d()||$e(G)})}var oe=H(fe,2),$=j(oe),Y=j($),ee=j(Y);{var K=$e=>{jt($e,{data:qK,spin:!0})},je=$e=>{jt($e,{data:Cv})};te(ee,$e=>{c(b)?$e(K):$e(je,!1)})}var Ze=H(Y,2),Ce=j(Ze);fr(()=>pi(Ce,()=>c(v),$e=>S(v,$e))),Ut(Ce,$e=>_==null?void 0:_($e)),fr(()=>we(\"paste\",Ce,A));var be=H(Ze,2),Ae=j(be),Ie=H(be,2),Ne=j(Ie);jt(Ne,{data:dJ});var gt=H(Ie,2),Xe=j(gt);jt(Xe,{data:QK});var dt=H(gt,2),ve=j(dt);jt(ve,{data:_v});var Je=H($,2);{var _t=$e=>{var mt=pY(),lt=j(mt),Ue=H(lt,2),Le=H(Ue,2);pi(lt,()=>c(k),pe=>S(k,pe)),we(\"keydown\",lt,D),we(\"click\",Ue,M),we(\"click\",Le,P),R($e,mt)};te(Je,$e=>{f()&&!d()&&$e(_t)})}he(()=>{Re(be,\"jse-visible\",c(v)!==\"\"),He(Ae,`${(c(r)!==-1&&c(r)<c(t)?`${c(r)+1}/`:\"\")??\"\"}${c(i)??\"\"}`)}),we(\"click\",Ie,N),we(\"click\",gt,F),we(\"click\",dt,ne),we(\"keydown\",se,I),R(ce,q)};te(U,ce=>{u()&&ce(ue)})}R(n,ie),Te()}var j_=Number.isNaN||function(e){return typeof e==\"number\"&&e!==e};function vY(n,e){return!!(n===e||j_(n)&&j_(e))}function yY(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!vY(n[t],e[t]))return!1;return!0}function mh(n,e){e===void 0&&(e=yY);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}const Td=Symbol(\"path\");function bY(n,e,t=1/0){const r={};Array.isArray(n)&&bW(n,t,o=>{ln(o)?GE(o,r,e):r[Td]=!0});const i=[];return Td in r&&i.push([]),YE(r,[],i,e),i}function GE(n,e,t){for(const r in n){const i=n[r],o=e[r]||(e[r]={});ln(i)&&t?GE(i,o,t):o[Td]===void 0&&(o[Td]=!0)}}function YE(n,e,t,r){for(const i in n){const o=e.concat(i),s=n[i];s&&s[Td]===!0&&t.push(o),rr(s)&&r&&YE(s,o,t,r)}}function wY(n,e){const t=new Set(e.map(ht)),r=new Set(n.map(ht));for(const i of t)r.has(i)||t.delete(i);for(const i of r)t.has(i)||t.add(i);return[...t].map(yo)}function xY(n,e,t,r,i,o,s=80){const a=Jn(t)?t.length:0,l=CY(r,i),u=n-s,f=e+2*s,d=C=>r[C]||i;let h=0,g=o;for(;g<u&&h<a;)g+=d(h),h++;h>0&&(h--,g-=d(h));let p=h,m=0;for(;m<f&&p<a;)m+=d(p),p++;let y=0;for(let C=p;C<a;C++)y+=d(C);const v=Jn(t)?t.slice(h,p):[];return{startIndex:h,endIndex:p,startHeight:g,endHeight:y,averageItemHeight:l,visibleHeight:m,visibleItems:v}}function z_(n,e,t,r){const{rowIndex:i}=Co(n,e);let o=0;for(let s=0;s<i;s++)o+=t[s]||r;return o}function CY(n,e){const t=Object.values(n);if(mn(t))return e;const r=(o,s)=>o+s;return t.reduce(r)/t.length}function _Y(n,e){const{rowIndex:t,columnIndex:r}=Co(it(e),n);if(t>0){const i={rowIndex:t-1,columnIndex:r},o=mc(i,n);return Dt(o)}return e}function SY(n,e,t){const{rowIndex:r,columnIndex:i}=Co(it(t),e);if(r<n.length-1){const o={rowIndex:r+1,columnIndex:i},s=mc(o,e);return Dt(s)}return t}function kY(n,e){const{rowIndex:t,columnIndex:r}=Co(it(e),n);if(r>0){const i={rowIndex:t,columnIndex:r-1},o=mc(i,n);return Dt(o)}return e}function OY(n,e){const{rowIndex:t,columnIndex:r}=Co(it(e),n);if(r<n.length-1){const i={rowIndex:t,columnIndex:r+1},o=mc(i,n);return Dt(o)}return e}function Co(n,e){const[t,...r]=n,i=parseInt(t,10);return{rowIndex:isNaN(i)?-1:i,columnIndex:e.findIndex(o=>da(r,o))}}function mc(n,e){const{rowIndex:t,columnIndex:r}=n;return[String(t),...e[r]]}function AY(n,e){const[t,r]=lW(n,s=>bw(s.path[0])),i=Yq(t,EY),o=nW(i,s=>{const a={row:[],columns:{}};return s.forEach(l=>{const u=TY(l,e);u!==-1?(a.columns[u]===void 0&&(a.columns[u]=[]),a.columns[u].push(l)):a.row.push(l)}),a});return{root:r,rows:o}}function j0(n,e){if(!(!e||e.length===0))return e.length===1?e[0]:{path:n,message:\"Multiple validation issues: \"+e.map(t=>Wo(t.path)+\" \"+t.message).join(\", \"),severity:zo.warning}}function EY(n){return parseInt(n.path[0],10)}function TY(n,e){const t=Co(n.path,e);return t.columnIndex!==-1?t.columnIndex:-1}function MY(n,e,t){return e.some(i=>PY(n,i,t))?void 0:n}function PY(n,e,t){if(!n)return!1;if(e.op===\"replace\"){const r=yo(e.path),{rowIndex:i,columnIndex:o}=Co(r,t),s=t.findIndex(a=>Ft(a,n.path));if(i!==-1&&o!==-1&&o!==s)return!1}return!0}function V_(n,e=2){const t=[];function r(i,o){rr(i)&&o.length<e&&Object.keys(i).forEach(s=>{r(i[s],o.concat(s))}),Jn(i)&&t.push(o)}return r(n,[]),t}const ii=Er(\"jsoneditor:actions\");async function QE({json:n,selection:e,indentation:t,readOnly:r,parser:i,onPatch:o}){if(r||n===void 0||!e||!Zu(e))return;const s=fE(n,e,t,i);if(s===void 0)return;ii(\"cut\",{selection:e,clipboard:s,indentation:t}),await r2(s);const{operations:a,newSelection:l}=mE(n,e);o(a,(u,f)=>({state:f,selection:l}))}async function ZE({json:n,selection:e,indentation:t,parser:r}){const i=fE(n,e,t,r);i!==void 0&&(ii(\"copy\",{clipboard:i,indentation:t}),await r2(i))}function $E({clipboardText:n,json:e,selection:t,readOnly:r,parser:i,onPatch:o,onChangeText:s,openRepairModal:a}){if(r)return;function l(u){if(e!==void 0){const f=t||Dt([]),d=pE(e,f,u,i);ii(\"paste\",{pastedText:u,operations:d,ensureSelection:f}),o(d,(h,g)=>{let p=g;return d.filter(m=>(UO(m)||gw(m))&&nr(m.value)).forEach(m=>{const y=jo(e,m.path);p=Ql(h,p,y)}),{state:p}})}else ii(\"paste text\",{pastedText:u}),s(n,(f,d)=>{if(f)return{state:Ql(f,d,[])}})}try{l(n)}catch{a(n,u=>{ii(\"repaired pasted text: \",u),l(u)})}}function e6({json:n,text:e,selection:t,keepSelection:r,readOnly:i,onChange:o,onPatch:s}){if(i||!t)return;const a=n!==void 0&&(Ar(t)||hn(t))?ri(t.path,t.path):t;if(mn(it(t)))ii(\"remove root\",{selection:t}),o&&o({text:\"\",json:void 0},n!==void 0?{text:void 0,json:n}:{text:e||\"\",json:n},{contentErrors:void 0,patchResult:void 0});else if(n!==void 0){const{operations:l,newSelection:u}=mE(n,a);ii(\"remove\",{operations:l,selection:t,newSelection:u}),s(l,(f,d)=>({state:d,selection:r?t:u}))}}function IY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Zu(e))return;const{rowIndex:o,columnIndex:s}=Co(it(e),t);ii(\"duplicate row\",{rowIndex:o});const a=[String(o)],l=gE(n,[a]);i(l,(u,f)=>{const d=o<n.length?o+1:o,h=mc({rowIndex:d,columnIndex:s},t),g=Dt(h);return{state:f,selection:g}})}function RY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Zu(e))return;const{rowIndex:o}=Co(it(e),t);ii(\"insert before row\",{rowIndex:o});const s=[String(o)],l=[{key:\"\",value:rr(n[0])?{}:\"\"}],u=Xc(n,s,l);i(u)}function DY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Zu(e))return;const{rowIndex:o,columnIndex:s}=Co(it(e),t);ii(\"insert after row\",{rowIndex:o});const a=o+1,l=[String(a)],f=[{key:\"\",value:rr(n[0])?{}:\"\"}],d=a<n.length?Xc(n,l,f):_1(n,[],f);i(d,(h,g)=>{const p=mc({rowIndex:a,columnIndex:s},t),m=Dt(p);return{state:g,selection:m}})}function NY({json:n,selection:e,columns:t,readOnly:r,onPatch:i}){if(r||n===void 0||!e||!Zu(e))return;const{rowIndex:o,columnIndex:s}=Co(it(e),t);ii(\"remove row\",{rowIndex:o});const a=[String(o)],l=Kp([a]);i(l,(u,f)=>{const d=o<u.length?o:o>0?o-1:void 0,h=d!==void 0?Dt(mc({rowIndex:d,columnIndex:s},t)):void 0;return ii(\"remove row new selection\",{rowIndex:o,newRowIndex:d,newSelection:h}),{state:f,selection:h}})}function Zp({insertType:n,selectInside:e,initialValue:t,json:r,selection:i,readOnly:o,parser:s,onPatch:a,onReplaceJson:l}){if(o)return;const u=_K(r,i,n);if(r!==void 0){const f=s.stringify(u),d=pE(r,i,f,s);ii(\"onInsert\",{insertType:n,operations:d,newValue:u,data:f});const h=Nt(d.filter(g=>g.op===\"add\"||g.op===\"replace\"));a(d,(g,p,m)=>{if(h){const y=jo(g,h.path);if(nr(u))return{state:Po(g,p,y,Ww),selection:e?ga(y):m};if(u===\"\"){const v=mn(y)?void 0:Qe(g,Jt(y));return{state:Po(g,p,y,Xg),selection:ln(v)?Uw(y,t):Up(y,t)}}}}),ii(\"after patch\")}else{ii(\"onInsert\",{insertType:n,newValue:u});const f=[];l(u,(d,h)=>({state:Ql(d,h,f),selection:nr(u)?ga(f):Up(f)}))}}async function t6({char:n,selectInside:e,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a,onSelect:l}){if(!i){if(Ar(r)){l({...r,edit:!0,initialValue:n});return}n===\"{\"?Zp({insertType:\"object\",selectInside:e,initialValue:void 0,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a}):n===\"[\"?Zp({insertType:\"array\",selectInside:e,initialValue:void 0,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a}):hn(r)&&t!==void 0?nr(Qe(t,r.path))||l({...r,edit:!0,initialValue:n}):(ii(\"onInsertValueWithCharacter\",{char:n}),await LY({char:n,json:t,selection:r,readOnly:i,parser:o,onPatch:s,onReplaceJson:a}))}}async function LY({char:n,json:e,selection:t,readOnly:r,parser:i,onPatch:o,onReplaceJson:s}){r||Zp({insertType:\"value\",selectInside:!1,initialValue:n,json:e,selection:t,readOnly:r,parser:i,onPatch:o,onReplaceJson:s})}var BY=X('<div class=\"jse-json-preview svelte-1vjn89h\"> </div>');function n6(n,e){Ee(e,!1);const t=Q(),r=Q();let i=x(e,\"text\",8),o=x(e,\"json\",8),s=x(e,\"indentation\",8),a=x(e,\"parser\",8);le(()=>(J(o()),J(i())),()=>{S(t,o()!==void 0?{json:o()}:{text:i()||\"\"})}),le(()=>(c(t),J(s()),J(a()),b1),()=>{S(r,fh(p1(c(t),s(),a()),b1))}),Xt(),ft();var l=BY(),u=j(l);he(()=>He(u,c(r))),R(n,l),Te()}var FY=X('<button type=\"button\"><!> <!></button>');function z0(n,e){Ee(e,!1);let t=x(e,\"item\",8),r=x(e,\"className\",8,void 0),i=x(e,\"onRequestClose\",8);ft();var o=FY(),s=j(o);{var a=f=>{jt(f,{get data(){return t().icon}})};te(s,f=>{t().icon&&f(a)})}var l=H(s,2);{var u=f=>{var d=Or();he(()=>He(d,t().text)),R(f,d)};te(l,f=>{t().text&&f(u)})}he(f=>{Nr(o,Lr(f),\"svelte-1idfykj\"),ke(o,\"title\",t().title),o.disabled=t().disabled||!1},[()=>$u(\"jse-context-menu-button\",r(),t().className)],Me),we(\"click\",o,f=>{i()(),t().onClick(f)}),R(n,o),Te()}var jY=X('<li class=\"svelte-11rxb2m\"><button type=\"button\"><!> </button></li>'),zY=X('<div role=\"button\" tabindex=\"0\" class=\"jse-dropdown-button svelte-11rxb2m\"><!> <button type=\"button\" class=\"jse-open-dropdown svelte-11rxb2m\" data-type=\"jse-open-dropdown\"><!></button> <div class=\"jse-dropdown-items svelte-11rxb2m\"><ul class=\"svelte-11rxb2m\"></ul></div></div>');function VY(n,e){Ee(e,!1);const t=Q(void 0,!0);let r=x(e,\"items\",25,()=>[]),i=x(e,\"title\",9,void 0),o=x(e,\"width\",9,\"120px\"),s=Q(!1,!0);function a(){const y=c(s);setTimeout(()=>S(s,!y))}function l(){S(s,!1)}function u(y){ca(y)===\"Escape\"&&(y.preventDefault(),S(s,!1))}dr(()=>{document.addEventListener(\"click\",l),document.addEventListener(\"keydown\",u)}),zr(()=>{document.removeEventListener(\"click\",l),document.removeEventListener(\"keydown\",u)}),le(()=>J(r()),()=>{S(t,r().every(y=>y.disabled===!0))}),Xt(),ft(!0);var f=zY(),d=j(f);qn(d,e,\"defaultItem\",{},null);var h=H(d,2),g=j(h);jt(g,{data:Qa});var p=H(h,2),m=j(p);Pt(m,5,r,tn,(y,v)=>{var C=jY(),k=j(C),b=j(k);{var w=O=>{jt(O,{get data(){return c(v).icon}})};te(b,O=>{c(v).icon&&O(w)})}var E=H(b);he(()=>{ke(k,\"title\",c(v).title),k.disabled=c(v).disabled,Nr(k,Lr(c(v).className),\"svelte-11rxb2m\"),He(E,` ${c(v).text??\"\"}`)}),we(\"click\",k,O=>c(v).onClick(O)),R(y,C)}),he(()=>{ke(f,\"title\",i()),h.disabled=c(t),Re(h,\"jse-visible\",c(s)),ke(p,\"style\",`width: ${o()??\"\"};`),Re(p,\"jse-visible\",c(s))}),we(\"click\",h,a),we(\"click\",f,l),R(n,f),Te()}var HY=X('<button type=\"button\" slot=\"defaultItem\"><!> </button>');function V0(n,e){Ee(e,!1);const t=Q();let r=x(e,\"item\",8),i=x(e,\"className\",8,void 0),o=x(e,\"onRequestClose\",8);le(()=>(J(r()),J(o())),()=>{S(t,r().items.map(s=>({...s,onClick:a=>{o()(),s.onClick(a)}})))}),Xt(),ft(),VY(n,{get width(){return r().width},get items(){return c(t)},$$slots:{defaultItem:(s,a)=>{var l=HY(),u=j(l);{var f=h=>{jt(h,{get data(){return r().main.icon}})};te(u,h=>{r().main.icon&&h(f)})}var d=H(u);he(h=>{Nr(l,Lr(h),\"svelte-1idfykj\"),ke(l,\"title\",r().main.title),l.disabled=r().main.disabled||!1,He(d,` ${r().main.text??\"\"}`)},[()=>$u(\"jse-context-menu-button\",i(),r().main.className)],Me),we(\"click\",l,h=>{o()(),r().main.onClick(h)}),R(s,l)}}}),Te()}var qY=X('<div class=\"jse-separator svelte-12z7bz1\"></div>'),WY=X('<div class=\"jse-label svelte-12z7bz1\"> </div>'),UY=X('<div class=\"jse-column svelte-12z7bz1\"></div>'),KY=X('<div class=\"jse-separator svelte-12z7bz1\"></div>'),JY=X('<div class=\"jse-row svelte-12z7bz1\"></div>'),XY=X('<div class=\"jse-separator svelte-12z7bz1\"></div>'),GY=X('<div class=\"jse-row svelte-12z7bz1\"><div class=\"jse-tip svelte-12z7bz1\"><div class=\"jse-tip-icon svelte-12z7bz1\"><!></div> <div class=\"jse-tip-text\"> </div></div></div>'),YY=X('<div role=\"menu\" tabindex=\"-1\" class=\"jse-contextmenu svelte-12z7bz1\"><!> <!></div>');function r6(n,e){Ee(e,!1);let t=x(e,\"items\",9),r=x(e,\"onRequestClose\",9),i=x(e,\"tip\",9),o=Q(void 0,!0);dr(()=>{const g=Array.from(c(o).querySelectorAll(\"button\")).find(p=>!p.disabled);g&&g.focus()});const s={ArrowUp:\"Up\",ArrowDown:\"Down\",ArrowLeft:\"Left\",ArrowRight:\"Right\"};function a(g){const p=ca(g),m=s[p];if(m&&g.target){g.preventDefault();const y=Array.from(c(o).querySelectorAll(\"button:not([disabled])\")),v=WW({allElements:y,currentElement:g.target,direction:m,hasPrio:C=>C.getAttribute(\"data-type\")!==\"jse-open-dropdown\"});v&&v.focus()}}function l(g){return console.error(\"Unknown type of context menu item\",g),\"???\"}ft(!0);var u=YY(),f=j(u);Pt(f,1,t,tn,(g,p)=>{var m=De(),y=ye(m);{var v=k=>{z0(k,{get item(){return c(p)},get onRequestClose(){return r()}})},C=k=>{var b=De(),w=ye(b);{var E=T=>{V0(T,{get item(){return c(p)},get onRequestClose(){return r()}})},O=T=>{var I=De(),D=ye(I);{var A=P=>{var _=JY();Pt(_,5,()=>c(p).items,tn,(N,F)=>{var B=De(),L=ye(B);{var z=ae=>{z0(ae,{get item(){return c(F)},get onRequestClose(){return r()}})},Z=ae=>{var ne=De(),ie=ye(ne);{var U=ce=>{V0(ce,{get item(){return c(F)},get onRequestClose(){return r()}})},ue=ce=>{var q=De(),se=ye(q);{var fe=oe=>{var $=UY();Pt($,5,()=>c(F).items,tn,(Y,ee)=>{var K=De(),je=ye(K);{var Ze=be=>{z0(be,{className:\"left\",get item(){return c(ee)},get onRequestClose(){return r()}})},Ce=be=>{var Ae=De(),Ie=ye(Ae);{var Ne=Xe=>{V0(Xe,{className:\"left\",get item(){return c(ee)},get onRequestClose(){return r()}})},gt=Xe=>{var dt=De(),ve=ye(dt);{var Je=$e=>{var mt=qY();R($e,mt)},_t=$e=>{var mt=De(),lt=ye(mt);{var Ue=pe=>{var wt=WY(),vt=j(wt);he(()=>He(vt,c(ee).text)),R(pe,wt)},Le=pe=>{var wt=Or();he(vt=>He(wt,vt),[()=>l(c(ee))],Me),R(pe,wt)};te(lt,pe=>{KU(c(ee))?pe(Ue):pe(Le,!1)},!0)}R($e,mt)};te(ve,$e=>{Jg(c(ee))?$e(Je):$e(_t,!1)},!0)}R(Xe,dt)};te(Ie,Xe=>{M0(c(ee))?Xe(Ne):Xe(gt,!1)},!0)}R(be,Ae)};te(je,be=>{Xf(c(ee))?be(Ze):be(Ce,!1)})}R(Y,K)}),R(oe,$)},G=oe=>{var $=De(),Y=ye($);{var ee=je=>{var Ze=KY();R(je,Ze)},K=je=>{var Ze=Or();he(Ce=>He(Ze,Ce),[()=>l(c(F))],Me),R(je,Ze)};te(Y,je=>{Jg(c(F))?je(ee):je(K,!1)},!0)}R(oe,$)};te(se,oe=>{XU(c(F))?oe(fe):oe(G,!1)},!0)}R(ce,q)};te(ie,ce=>{M0(c(F))?ce(U):ce(ue,!1)},!0)}R(ae,ne)};te(L,ae=>{Xf(c(F))?ae(z):ae(Z,!1)})}R(N,B)}),R(P,_)},M=P=>{var _=De(),N=ye(_);{var F=L=>{var z=XY();R(L,z)},B=L=>{var z=Or();he(Z=>He(z,Z),[()=>l(c(p))],Me),R(L,z)};te(N,L=>{Jg(c(p))?L(F):L(B,!1)},!0)}R(P,_)};te(D,P=>{JU(c(p))?P(A):P(M,!1)},!0)}R(T,I)};te(w,T=>{M0(c(p))?T(E):T(O,!1)},!0)}R(k,b)};te(y,k=>{Xf(c(p))?k(v):k(C,!1)})}R(g,m)});var d=H(f,2);{var h=g=>{var p=GY(),m=j(p),y=j(m),v=j(y);jt(v,{data:mU});var C=H(y,2),k=j(C);he(()=>He(k,i())),R(g,p)};te(d,g=>{i()&&g(h)})}yn(u,g=>S(o,g),()=>c(o)),we(\"keydown\",u,a),R(n,u),Te()}function QY({json:n,documentState:e,selection:t,readOnly:r,onEditKey:i,onEditValue:o,onToggleEnforceString:s,onCut:a,onCopy:l,onPaste:u,onRemove:f,onDuplicate:d,onExtract:h,onInsertBefore:g,onInsert:p,onConvert:m,onInsertAfter:y,onSort:v,onTransform:C}){const k=n!==void 0,b=!!t,w=t?mn(it(t)):!1,E=t?Qe(n,it(t)):void 0,O=Array.isArray(E)?\"Edit array\":ln(E)?\"Edit object\":\"Edit value\",T=k&&(In(t)||Ar(t)||hn(t)),I=t&&!w?Qe(n,Jt(it(t))):void 0,D=!r&&k&&Wp(t)&&!w&&!Array.isArray(I),A=!r&&k&&t!==void 0&&Wp(t),M=A&&!nr(E),P=!r&&T,_=T,N=!r&&b,F=!r&&k&&T&&!w,B=!r&&k&&t!==void 0&&(In(t)||hn(t))&&!w,L=T,z=L?\"Convert to:\":\"Insert:\",Z=!r&&(Kr(t)&&Array.isArray(E)||uo(t)&&Array.isArray(I)),ae=!r&&(L?Gg(t)&&!ln(E):b),ne=!r&&(L?Gg(t)&&!Array.isArray(E):b),ie=!r&&(L?Gg(t)&&nr(E):b),U=t!==void 0?ua(n,e,it(t)):!1;function ue(ce){T?ce!==\"structure\"&&m(ce):p(ce)}return[{type:\"row\",items:[{type:\"button\",onClick:()=>i(),icon:cu,text:\"Edit key\",title:\"Edit the key (Double-click on the key)\",disabled:!D},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>o(),icon:cu,text:O,title:\"Edit the value (Double-click on the value)\",disabled:!A},width:\"11em\",items:[{type:\"button\",icon:cu,text:O,title:\"Edit the value (Double-click on the value)\",onClick:()=>o(),disabled:!A},{type:\"button\",icon:U?CE:SE,text:\"Enforce string\",title:\"Enforce keeping the value as string when it contains a numeric value\",onClick:()=>s(),disabled:!M}]}]},{type:\"separator\"},{type:\"row\",items:[{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>a(!0),icon:lu,text:\"Cut\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",disabled:!P},width:\"10em\",items:[{type:\"button\",icon:lu,text:\"Cut formatted\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",onClick:()=>a(!0),disabled:!P},{type:\"button\",icon:lu,text:\"Cut compacted\",title:\"Cut selected contents, without indentation (Ctrl+Shift+X)\",onClick:()=>a(!1),disabled:!P}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>l(!0),icon:Ja,text:\"Copy\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",disabled:!_},width:\"12em\",items:[{type:\"button\",icon:Ja,text:\"Copy formatted\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",onClick:()=>l(!0),disabled:!_},{type:\"button\",icon:Ja,text:\"Copy compacted\",title:\"Copy selected contents, without indentation (Ctrl+Shift+C)\",onClick:()=>l(!1),disabled:!_}]},{type:\"button\",onClick:()=>u(),icon:xE,text:\"Paste\",title:\"Paste clipboard contents (Ctrl+V)\",disabled:!N}]},{type:\"separator\"},{type:\"row\",items:[{type:\"column\",items:[{type:\"button\",onClick:()=>d(),icon:AE,text:\"Duplicate\",title:\"Duplicate selected contents (Ctrl+D)\",disabled:!F},{type:\"button\",onClick:()=>h(),icon:oJ,text:\"Extract\",title:\"Extract selected contents\",disabled:!B},{type:\"button\",onClick:()=>v(),icon:xv,text:\"Sort\",title:\"Sort array or object contents\",disabled:r||!T},{type:\"button\",onClick:()=>C(),icon:wv,text:\"Transform\",title:\"Transform array or object contents (filter, sort, project)\",disabled:r||!T},{type:\"button\",onClick:()=>f(),icon:O1,text:\"Remove\",title:\"Remove selected contents (Delete)\",disabled:r||!T}]},{type:\"column\",items:[{type:\"label\",text:z},{type:\"button\",onClick:()=>ue(\"structure\"),icon:L?Yh:Gc,text:\"Structure\",title:z+\" structure like the first item in the array\",disabled:!Z},{type:\"button\",onClick:()=>ue(\"object\"),icon:L?Yh:Gc,text:\"Object\",title:z+\" object\",disabled:!ae},{type:\"button\",onClick:()=>ue(\"array\"),icon:L?Yh:Gc,text:\"Array\",title:z+\" array\",disabled:!ne},{type:\"button\",onClick:()=>ue(\"value\"),icon:L?Yh:Gc,text:\"Value\",title:z+\" value\",disabled:!ie}]}]},{type:\"separator\"},{type:\"row\",items:[{type:\"button\",onClick:()=>g(),icon:$K,text:\"Insert before\",title:\"Select area before current entry to insert or paste contents\",disabled:r||!T||w},{type:\"button\",onClick:()=>y(),icon:KK,text:\"Insert after\",title:\"Select area after current entry to insert or paste contents\",disabled:r||!T||w}]}]}var ZY=X(\"<!> <!>\",1),$Y=X('<div class=\"jse-search-box-background svelte-vrx1dr\"></div>'),eQ=X('<div class=\"jse-search-box-container svelte-vrx1dr\"><!></div> <div class=\"jse-contents svelte-vrx1dr\"><!> <!></div> <!> <!> <!>',1),tQ=X('<label class=\"jse-hidden-input-label svelte-vrx1dr\"><input type=\"text\" tabindex=\"-1\" class=\"jse-hidden-input svelte-vrx1dr\"></label> <!>',1),nQ=X('<div class=\"jse-contents svelte-vrx1dr\"><div class=\"jse-loading-space svelte-vrx1dr\"></div> <div class=\"jse-loading svelte-vrx1dr\">loading...</div></div>'),rQ=X('<div role=\"tree\" tabindex=\"-1\" class=\"jse-tree-mode svelte-vrx1dr\"><!> <!> <!></div> <!> <!>',1);function M1(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Er(\"jsoneditor:TreeMode\"),i=typeof window>\"u\";r(\"isSSR:\",i);const o=Mu(),s=Mu(),{openAbsolutePopup:a,closeAbsolutePopup:l}=Yi(\"absolute-popup\");let u=Q(void 0,!0),f=Q(void 0,!0),d=Q(void 0,!0),h=!1;const g=zE();let p=x(e,\"readOnly\",9),m=x(e,\"externalContent\",9),y=x(e,\"externalSelection\",9),v=x(e,\"history\",9),C=x(e,\"mainMenuBar\",9),k=x(e,\"navigationBar\",9),b=x(e,\"escapeControlCharacters\",9),w=x(e,\"escapeUnicodeCharacters\",9),E=x(e,\"parser\",9),O=x(e,\"parseMemoizeOne\",9),T=x(e,\"validator\",9),I=x(e,\"validationParser\",9),D=x(e,\"pathParser\",9),A=x(e,\"indentation\",9),M=x(e,\"onError\",9),P=x(e,\"onChange\",9),_=x(e,\"onChangeMode\",9),N=x(e,\"onSelect\",9),F=x(e,\"onUndo\",9),B=x(e,\"onRedo\",9),L=x(e,\"onRenderValue\",9),z=x(e,\"onRenderMenu\",9),Z=x(e,\"onRenderContextMenu\",9),ae=x(e,\"onClassName\",9),ne=x(e,\"onFocus\",9),ie=x(e,\"onBlur\",9),U=x(e,\"onSortModal\",9),ue=x(e,\"onTransformModal\",9),ce=x(e,\"onJSONEditorModal\",9),q=!1,se=Q(!1,!0),fe=Q(void 0,!0);e2({onMount:dr,onDestroy:zr,getWindow:()=>ch(c(d)),hasFocus:()=>q&&document.hasFocus()||Iw(c(d)),onFocus:()=>{h=!0,ne()&&ne()()},onBlur:()=>{h=!1,ie()&&ie()()}});let G=Q(void 0,!0),oe=Q(void 0,!0),$,Y=!1,ee=Q(x1({json:c(G)}),!0),K=Q(kd(y())?y():void 0,!0);dr(()=>{if(c(K)){const V=it(c(K));S(ee,Po(c(G),c(ee),V,Xg)),setTimeout(()=>rn(V))}});function je(V){S(K,V)}function Ze(V){Ft(V,y())||(r(\"onSelect\",V),N()(V))}let Ce=Q(void 0,!0),be=Q(void 0,!0),Ae,Ie=Q(void 0,!0),Ne=Q(!1,!0),gt=Q(!1,!0);function Xe(V){c(u)&&V&&c(u).scrollTop===0&&(Wi(u,c(u).style.overflowAnchor=\"none\"),Wi(u,c(u).scrollTop+=Rf),setTimeout(()=>{c(u)&&Wi(u,c(u).style.overflowAnchor=\"\")}))}function dt(V){Ae=V,S(Ie,Ae?bE(c(G),Ae.items):void 0)}async function ve(V){S(ee,Po(c(G),c(ee),V,Xg)),await Qt(V)}function Je(){S(Ne,!1),S(gt,!1),xn()}function _t(V){r(\"select validation error\",V),S(K,Dt(V.path)),Qt(V.path)}function $e(V,ge=w_){r(\"expand\"),S(ee,Po(c(G),c(ee),V,ge))}function mt(V,ge){S(ee,tE(c(G),c(ee),V,ge)),c(K)&&dK(c(K),V)&&S(K,void 0)}let lt=Q(!1,!0),Ue=Q([],!0),Le=Q(void 0,!0);const pe=mh(VE);function wt(V,ge,Be,Ye){Yc(()=>{let Ve;try{Ve=pe(V,ge,Be,Ye)}catch(nt){Ve=[{path:[],message:\"Failed to validate: \"+nt.message,severity:zo.warning}]}Ft(Ve,c(Ue))||(r(\"validationErrors changed:\",Ve),S(Ue,Ve),S(Le,NX(V,c(Ue))))},Ve=>r(`validationErrors updated in ${Ve} ms`))}function vt(){return r(\"validate\"),$?{parseError:$,isRepairable:!1}:(wt(c(G),T(),E(),I()),mn(c(Ue))?void 0:{validationErrors:c(Ue)})}function On(){return c(G)}function ct(){return c(ee)}function Gt(){return c(K)}function zn(V){r(\"applyExternalContent\",{updatedContent:V}),xd(V)?Vn(V.json):wd(V)&&Xn(V.text)}function Vn(V){if(V===void 0)return;const ge=!Ft(c(G),V);if(r(\"update external json\",{isChanged:ge,currentlyText:c(G)===void 0}),!ge)return;const Be={documentState:c(ee),selection:c(K),json:c(G),text:c(oe),textIsRepaired:c(lt)};S(G,V),S(ee,qi(V,c(ee))),nn(c(G)),S(oe,void 0),S(lt,!1),$=void 0,on(c(G)),Tn(Be)}function Xn(V){if(V===void 0||xd(m()))return;const ge=V!==c(oe);if(r(\"update external text\",{isChanged:ge}),!ge)return;const Be={documentState:c(ee),selection:c(K),json:c(G),text:c(oe),textIsRepaired:c(lt)};try{S(G,O()(V)),S(ee,qi(c(G),c(ee))),nn(c(G)),S(oe,V),S(lt,!1),$=void 0}catch(Ye){try{S(G,O()(vs(V))),S(ee,qi(c(G),c(ee))),nn(c(G)),S(oe,V),S(lt,!0),$=void 0,on(c(G))}catch{S(G,void 0),S(ee,void 0),S(oe,m().text),S(lt,!1),$=c(oe)!==void 0&&c(oe)!==\"\"?Pu(c(oe),Ye.message||String(Ye)):void 0}}on(c(G)),Tn(Be)}function pt(V){Ft(c(K),V)||(r(\"applyExternalSelection\",{selection:c(K),externalSelection:V}),kd(V)&&S(K,V))}function nn(V){Y||(Y=!0,S(ee,Ql(V,c(ee),[])))}function on(V){c(K)&&(co(V,Zl(c(K)))&&co(V,it(c(K)))||(r(\"clearing selection: path does not exist anymore\",c(K)),S(K,Pc(V,c(ee)))))}function Tn(V){if(V.json===void 0&&V.text===void 0)return;const ge=c(G)!==void 0&&V.json!==void 0;v().add({type:\"tree\",undo:{patch:ge?[{op:\"replace\",path:\"\",value:V.json}]:void 0,json:V.json,text:V.text,documentState:V.documentState,textIsRepaired:V.textIsRepaired,selection:ls(V.selection),sortedColumn:void 0},redo:{patch:ge?[{op:\"replace\",path:\"\",value:c(G)}]:void 0,json:c(G),text:c(oe),documentState:c(ee),textIsRepaired:c(lt),selection:ls(c(K)),sortedColumn:void 0}})}function kt(){r(\"createDefaultSelection\"),S(K,Dt([]))}function Lt(V,ge){if(r(\"patch\",V,ge),c(G)===void 0)throw new Error(\"Cannot apply patch: no JSON\");const Be=c(G),Ye={json:void 0,text:c(oe),documentState:c(ee),selection:ls(c(K)),textIsRepaired:c(lt),sortedColumn:void 0},Ve=vE(c(G),V),nt=rE(c(G),c(ee),V),pn=Ru(c(G),V)??c(K),dn=typeof ge==\"function\"?ge(nt.json,nt.documentState,pn):void 0;return S(G,(dn==null?void 0:dn.json)!==void 0?dn.json:nt.json),S(ee,(dn==null?void 0:dn.state)!==void 0?dn.state:nt.documentState),S(K,(dn==null?void 0:dn.selection)!==void 0?dn.selection:pn),S(oe,void 0),S(lt,!1),S(be,void 0),$=void 0,on(c(G)),v().add({type:\"tree\",undo:{patch:Ve,...Ye},redo:{patch:V,json:void 0,text:c(oe),documentState:c(ee),selection:ls(c(K)),sortedColumn:void 0,textIsRepaired:c(lt)}}),{json:c(G),previousJson:Be,undo:Ve,redo:V}}function yr(){p()||!c(K)||S(K,Uw(it(c(K))))}function Rt(){if(p()||!c(K))return;const V=it(c(K)),ge=Qe(c(G),V);nr(ge)?xt(V,ge):S(K,Up(V))}function Yt(){if(p()||!hn(c(K)))return;const V=it(c(K)),ge=ht(V),Be=Qe(c(G),V),Ye=!ua(c(G),c(ee),V),Ve=Ye?String(Be):Gu(String(Be),E());r(\"handleToggleEnforceString\",{enforceString:Ye,value:Be,updatedValue:Ve}),Rn([{op:\"replace\",path:ge,value:Ve}],(nt,pn)=>({state:yv(c(G),pn,V,{type:\"value\",enforceString:Ye})}))}function sn(){return c(lt)&&c(G)!==void 0&&sr(c(G)),c(G)!==void 0?{json:c(G)}:{text:c(oe)||\"\"}}async function un(V=!0){await QE({json:c(G),selection:c(K),indentation:V?A():void 0,readOnly:p(),parser:E(),onPatch:Rn})}async function Mn(V=!0){c(G)!==void 0&&await ZE({json:c(G),selection:c(K),indentation:V?A():void 0,parser:E()})}function gn(V){var Be;V.preventDefault();const ge=(Be=V.clipboardData)==null?void 0:Be.getData(\"text/plain\");hr(ge)}async function bn(){try{const V=await navigator.clipboard.readText();hr(V)}catch(V){console.error(V),S(se,!0)}}function hr(V){V!==void 0&&$E({clipboardText:V,json:c(G),selection:c(K),readOnly:p(),parser:E(),onPatch:Rn,onChangeText:Qr,openRepairModal:cn})}function cn(V,ge){S(fe,{text:V,onParse:Be=>pv(Be,Ye=>lh(Ye,E())),onRepair:LA,onApply:ge,onClose:xn})}function or(){e6({json:c(G),text:c(oe),selection:c(K),keepSelection:!1,readOnly:p(),onChange:P(),onPatch:Rn})}function Oe(){if(p()||c(G)===void 0||!c(K)||!Zu||mn(it(c(K))))return;r(\"duplicate\",{selection:c(K)});const V=gE(c(G),Ya(c(G),c(K)));Rn(V)}function At(){if(p()||!c(K)||!In(c(K))&&!hn(c(K))||mn(it(c(K))))return;r(\"extract\",{selection:c(K)});const V=xK(c(G),c(K));Rn(V,(ge,Be)=>{if(nr(ge))return{state:P0(ge,Be,[])}})}function Vt(V){Zp({insertType:V,selectInside:!0,initialValue:void 0,json:c(G),selection:c(K),readOnly:p(),parser:E(),onPatch:Rn,onReplaceJson:sr})}function ut(V){Ar(c(K))&&S(K,Dt(c(K).path)),c(K)||S(K,Pc(c(G),c(ee))),Vt(V)}function gr(V){if(!(p()||!c(K))){if(!Gg(c(K))){M()(new Error(`Cannot convert current selection to ${V}`));return}try{const ge=Zl(c(K)),Be=Qe(c(G),ge),Ye=kW(Be,V,E());if(Ye===Be)return;const Ve=[{op:\"replace\",path:ht(ge),value:Ye}];r(\"handleConvert\",{selection:c(K),path:ge,type:V,operations:Ve}),Rn(Ve,(nt,pn)=>({state:c(K)?Ql(nt,pn,it(c(K))):c(ee)}))}catch(ge){M()(ge)}}}function Tr(){if(!c(K))return;const V=x_(c(G),c(ee),c(K),!1),ge=Jt(it(c(K)));V&&!mn(it(V))&&Ft(ge,Jt(it(V)))?S(K,pa(it(V))):S(K,ga(ge)),r(\"insert before\",{selection:c(K),selectionBefore:V,parentPath:ge}),Sn().then(()=>Ao())}function Hr(){if(!c(K))return;const V=fl(c(G),c(K));r(\"insert after\",V),S(K,pa(V)),Sn().then(()=>Ao())}async function Mr(V){await t6({char:V,selectInside:!0,json:c(G),selection:c(K),readOnly:p(),parser:E(),onPatch:Rn,onReplaceJson:sr,onSelect:je})}function Di(){if(p()||!v().canUndo)return;const V=v().undo();if(!qp(V)){F()(V);return}const ge={json:c(G),text:c(oe)};S(G,V.undo.patch?Fo(c(G),V.undo.patch):V.undo.json),S(ee,V.undo.documentState),S(K,V.undo.selection),S(oe,V.undo.text),S(lt,V.undo.textIsRepaired),$=void 0,r(\"undo\",{item:V,json:c(G),documentState:c(ee),selection:c(K)});const Be=V.undo.patch&&V.redo.patch?{json:c(G),previousJson:ge.json,redo:V.undo.patch,undo:V.redo.patch}:void 0;Bt(ge,Be),xn(),c(K)&&Qt(it(c(K)),!1)}function So(){if(p()||!v().canRedo)return;const V=v().redo();if(!qp(V)){B()(V);return}const ge={json:c(G),text:c(oe)};S(G,V.redo.patch?Fo(c(G),V.redo.patch):V.redo.json),S(ee,V.redo.documentState),S(K,V.redo.selection),S(oe,V.redo.text),S(lt,V.redo.textIsRepaired),$=void 0,r(\"redo\",{item:V,json:c(G),documentState:c(ee),selection:c(K)});const Be=V.undo.patch&&V.redo.patch?{json:c(G),previousJson:ge.json,redo:V.redo.patch,undo:V.undo.patch}:void 0;Bt(ge,Be),xn(),c(K)&&Qt(it(c(K)),!1)}function Zi(V){p()||c(G)===void 0||(q=!0,U()({id:o,json:c(G),rootPath:V,onSort:async({operations:ge})=>{r(\"onSort\",V,ge),Rn(ge,(Be,Ye)=>({state:P0(Be,Ye,V),selection:Dt(V)}))},onClose:()=>{q=!1,setTimeout(xn)}}))}function Qn(){if(!c(K))return;const V=C_(c(G),c(K));Zi(V)}function br(){Zi([])}function $i(V){if(c(G)===void 0)return;const{id:ge,onTransform:Be,onClose:Ye}=V,Ve=V.rootPath||[];q=!0,ue()({id:ge||s,json:c(G),rootPath:Ve,onTransform:nt=>{Be?Be({operations:nt,json:c(G),transformedJson:Fo(c(G),nt)}):(r(\"onTransform\",Ve,nt),Rn(nt,(pn,dn)=>({state:P0(pn,dn,Ve),selection:Dt(Ve)})))},onClose:()=>{q=!1,setTimeout(xn),Ye&&Ye()}})}function me(){if(!c(K))return;const V=C_(c(G),c(K));$i({rootPath:V})}function Ke(){$i({rootPath:[]})}function xt(V,ge){r(\"openJSONEditorModal\",{path:V,value:ge}),q=!0,ce()({content:{json:ge},path:V,onPatch:c(_e).onPatch,onClose:()=>{q=!1,setTimeout(xn)}})}async function Qt(V,ge=!0){S(ee,Po(c(G),c(ee),V,Xg)),await Sn();const Be=Et(V);if(r(\"scrollTo\",{path:V,elem:Be,refContents:c(u)}),!Be||!c(u))return Promise.resolve();const Ye=c(u).getBoundingClientRect(),Ve=Be.getBoundingClientRect();if(!ge&&Ve.bottom>Ye.top&&Ve.top<Ye.bottom)return Promise.resolve();const nt=-(Ye.height/4);return new Promise(pn=>{g(Be,{container:c(u),offset:nt,duration:v1,callback:()=>pn()})})}function Et(V){var ge;return((ge=c(u))==null?void 0:ge.querySelector(`div[data-path=\"${m1(V)}\"]`))??void 0}function rn(V){const ge=Et(V);if(!ge||!c(u))return;const Be=c(u).getBoundingClientRect(),Ye=ge.getBoundingClientRect(),Ve=20,nt=nr(Qe(c(G),V))?Ve:Ye.height;Ye.top<Be.top+Ve?g(ge,{container:c(u),offset:-20,duration:0}):Ye.top+nt>Be.bottom-Ve&&g(ge,{container:c(u),offset:-(Be.height-nt-Ve),duration:0})}function Bt(V,ge){var Be,Ye;if(!(V.json===void 0&&(V==null?void 0:V.text)===void 0)){if(c(oe)!==void 0){const Ve={text:c(oe),json:void 0};(Be=P())==null||Be(Ve,V,{contentErrors:vt(),patchResult:ge})}else if(c(G)!==void 0){const Ve={text:void 0,json:c(G)};(Ye=P())==null||Ye(Ve,V,{contentErrors:vt(),patchResult:ge})}}}function Rn(V,ge){r(\"handlePatch\",V,ge);const Be={json:c(G),text:c(oe)},Ye=Lt(V,ge);return Bt(Be,Ye),Ye}function sr(V,ge){const Be={json:c(G),text:c(oe)},Ye={documentState:c(ee),selection:c(K),json:c(G),text:c(oe),textIsRepaired:c(lt)},Ve=Po(c(G),qi(V,c(ee)),[],Df),nt=typeof ge==\"function\"?ge(V,Ve,c(K)):void 0;S(G,(nt==null?void 0:nt.json)!==void 0?nt.json:V),S(ee,(nt==null?void 0:nt.state)!==void 0?nt.state:Ve),S(K,(nt==null?void 0:nt.selection)!==void 0?nt.selection:c(K)),S(oe,void 0),S(lt,!1),$=void 0,on(c(G)),Tn(Ye),Bt(Be,void 0)}function Qr(V,ge){r(\"handleChangeText\");const Be={json:c(G),text:c(oe)},Ye={documentState:c(ee),selection:c(K),json:c(G),text:c(oe),textIsRepaired:c(lt)};try{S(G,O()(V)),S(ee,Po(c(G),qi(c(G),c(ee)),[],Df)),S(oe,void 0),S(lt,!1),$=void 0}catch(nt){try{S(G,O()(vs(V))),S(ee,Po(c(G),qi(c(G),c(ee)),[],Df)),S(oe,V),S(lt,!0),$=void 0}catch{S(G,void 0),S(ee,x1({json:c(G),expand:Df})),S(oe,V),S(lt,!1),$=c(oe)!==\"\"?Pu(c(oe),nt.message||String(nt)):void 0}}if(typeof ge==\"function\"){const nt=ge(c(G),c(ee),c(K));S(G,(nt==null?void 0:nt.json)!==void 0?nt.json:c(G)),S(ee,(nt==null?void 0:nt.state)!==void 0?nt.state:c(ee)),S(K,(nt==null?void 0:nt.selection)!==void 0?nt.selection:c(K))}on(c(G)),Tn(Ye),Bt(Be,void 0)}function Ci(V,ge,Be=!1){r(\"handleExpand\",{path:V,expanded:ge,recursive:Be}),ge?$e(V,Be?Ww:w_):mt(V,Be),xn()}function Ps(){Ci([],!0,!0)}function ko(){Ci([],!1,!0)}function Oo(V){r(\"openFind\",{findAndReplace:V}),S(Ne,!1),S(gt,!1),Sn().then(()=>{S(Ne,!0),S(gt,V)})}function Ni(V,ge){r(\"handleExpandSection\",V,ge),S(ee,iK(c(G),c(ee),V,ge))}function eo(V){r(\"pasted json as text\",V),S(be,V)}function pl(V){const ge=ca(V),Be=V.shiftKey;if(r(\"keydown\",{combo:ge,key:V.key}),ge===\"Ctrl+X\"&&(V.preventDefault(),un(!0)),ge===\"Ctrl+Shift+X\"&&(V.preventDefault(),un(!1)),ge===\"Ctrl+C\"&&(V.preventDefault(),Mn(!0)),ge===\"Ctrl+Shift+C\"&&(V.preventDefault(),Mn(!1)),ge===\"Ctrl+D\"&&(V.preventDefault(),Oe()),(ge===\"Delete\"||ge===\"Backspace\")&&(V.preventDefault(),or()),ge===\"Insert\"&&(V.preventDefault(),Vt(\"structure\")),ge===\"Ctrl+A\"&&(V.preventDefault(),S(K,vK())),ge===\"Ctrl+Q\"&&Ao(V),ge===\"ArrowUp\"||ge===\"Shift+ArrowUp\"){V.preventDefault();const Ve=c(K)?x_(c(G),c(ee),c(K),Be)||c(K):Pc(c(G),c(ee));S(K,Ve),rn(it(Ve))}if(ge===\"ArrowDown\"||ge===\"Shift+ArrowDown\"){V.preventDefault();const Ve=c(K)?hK(c(G),c(ee),c(K),Be)||c(K):Pc(c(G),c(ee));S(K,Ve),rn(it(Ve))}if(ge===\"ArrowLeft\"||ge===\"Shift+ArrowLeft\"){V.preventDefault();const Ve=c(K)?pK(c(G),c(ee),c(K),Be,!p())||c(K):Pc(c(G),c(ee));S(K,Ve),rn(it(Ve))}if(ge===\"ArrowRight\"||ge===\"Shift+ArrowRight\"){V.preventDefault();const Ve=c(K)&&c(G)!==void 0?mK(c(G),c(ee),c(K),Be,!p())||c(K):Pc(c(G),c(ee));S(K,Ve),rn(it(Ve))}if(ge===\"Enter\"&&c(K)){if(bv(c(K))){const Ve=c(K).focusPath,nt=Qe(c(G),Jt(Ve));Array.isArray(nt)&&(V.preventDefault(),S(K,Dt(Ve)))}if(Ar(c(K))&&(V.preventDefault(),S(K,{...c(K),edit:!0})),hn(c(K))){V.preventDefault();const Ve=Qe(c(G),c(K).path);nr(Ve)?Ci(c(K).path,!0):S(K,{...c(K),edit:!0})}}if(ge.replace(/^Shift\\+/,\"\").length===1&&c(K)){V.preventDefault(),Mr(V.key);return}if(ge===\"Enter\"&&(uo(c(K))||Kr(c(K)))){V.preventDefault(),Mr(\"\");return}if(ge===\"Ctrl+Enter\"&&hn(c(K))){const Ve=Qe(c(G),c(K).path);sv(Ve)&&window.open(String(Ve),\"_blank\")}ge===\"Escape\"&&c(K)&&(V.preventDefault(),S(K,void 0)),ge===\"Ctrl+F\"&&(V.preventDefault(),Oo(!1)),ge===\"Ctrl+H\"&&(V.preventDefault(),Oo(!0)),ge===\"Ctrl+Z\"&&(V.preventDefault(),Di()),ge===\"Ctrl+Shift+Z\"&&(V.preventDefault(),So())}function ar(V){r(\"handleMouseDown\",V);const ge=V.target;!qA(ge,\"BUTTON\")&&!ge.isContentEditable&&(xn(),!c(K)&&c(G)===void 0&&(c(oe)===\"\"||c(oe)===void 0)&&kt())}function es({anchor:V,left:ge,top:Be,width:Ye,height:Ve,offsetTop:nt,offsetLeft:pn,showTip:dn}){const xr=QY({json:c(G),documentState:c(ee),selection:c(K),readOnly:p(),onEditKey:yr,onEditValue:Rt,onToggleEnforceString:Yt,onCut:un,onCopy:Mn,onPaste:bn,onRemove:or,onDuplicate:Oe,onExtract:At,onInsertBefore:Tr,onInsert:ut,onInsertAfter:Hr,onConvert:gr,onSort:Qn,onTransform:me}),qr=Z()(xr)??xr;if(qr===!1)return;const Li={tip:dn?\"Tip: you can open this context menu via right-click or with Ctrl+Q\":void 0,items:qr,onRequestClose:()=>l(ui)},ts={left:ge,top:Be,offsetTop:nt,offsetLeft:pn,width:Ye,height:Ve,anchor:V,closeOnOuterClick:!0,onClose:()=>{q=!1,xn()}};q=!0;const ui=a(r6,Li,ts)}function Ao(V){var ge,Be;if(!vi(c(K)))if(V&&(V.stopPropagation(),V.preventDefault()),V&&V.type===\"contextmenu\"&&V.target!==c(f))es({left:V.clientX,top:V.clientY,width:Gs,height:Xs,showTip:!1});else{const Ye=(ge=c(u))==null?void 0:ge.querySelector(\".jse-context-menu-pointer.jse-selected\");if(Ye)es({anchor:Ye,offsetTop:2,width:Gs,height:Xs,showTip:!1});else{const Ve=(Be=c(u))==null?void 0:Be.getBoundingClientRect();Ve&&es({top:Ve.top+2,left:Ve.left+2,width:Gs,height:Xs,showTip:!1})}}}function ml(V){es({anchor:WA(V.target,\"BUTTON\"),offsetTop:0,width:Gs,height:Xs,showTip:!0})}async function bc(){if(r(\"apply pasted json\",c(be)),!c(be))return;const{onPasteAsJson:V}=c(be);S(be,void 0),V(),setTimeout(xn)}function wc(){r(\"clear pasted json\"),S(be,void 0),xn()}function xc(){_()(_r.text)}function Cc(V){S(K,V),xn(),Qt(it(V))}function xn(){r(\"focus\"),c(f)&&(c(f).focus(),c(f).select())}function vl(V){!Qu(V.target,Be=>Be===c(d))&&vi(c(K))&&(r(\"click outside the editor, exit edit mode\"),S(K,ls(c(K))),h&&c(f)&&(c(f).focus(),c(f).blur()),r(\"blur (outside editor)\"),c(f)&&c(f).blur())}function of(V){return gK(c(G),c(ee),V)}function sf(V){c(t)&&c(t).onDrag(V)}function de(){c(t)&&c(t).onDragEnd()}let _e=Q(void 0,!0);le(()=>c(K),()=>{Ze(c(K))}),le(()=>(J(b()),J(w())),()=>{S(Ce,Mw({escapeControlCharacters:b(),escapeUnicodeCharacters:w()}))}),le(()=>c(Ne),()=>{Xe(c(Ne))}),le(()=>J(m()),()=>{zn(m())}),le(()=>J(y()),()=>{pt(y())}),le(()=>(c(G),J(T()),J(E()),J(I())),()=>{wt(c(G),T(),E(),I())}),le(()=>(c(u),N_),()=>{S(t,c(u)?N_(c(u)):void 0)}),le(()=>(J(p()),J(E()),c(Ce),J(L()),J(ae())),()=>{S(_e,{mode:_r.tree,readOnly:p(),parser:E(),normalization:c(Ce),getJson:On,getDocumentState:ct,getSelection:Gt,findElement:Et,findNextInside:of,focus:xn,onPatch:Rn,onInsert:Vt,onExpand:Ci,onSelect:je,onFind:Oo,onExpandSection:Ni,onPasteJson:eo,onRenderValue:L(),onContextMenu:es,onClassName:ae()||(()=>{}),onDrag:sf,onDragEnd:de})}),le(()=>c(_e),()=>{r(\"context changed\",c(_e))}),Xt(),ft(!0);var St=rQ();we(\"mousedown\",ur,vl);var fn=ye(St),wr=j(fn);{var Gn=V=>{KG(V,{get json(){return c(G)},get selection(){return c(K)},get readOnly(){return p()},get history(){return v()},onExpandAll:Ps,onCollapseAll:ko,onUndo:Di,onRedo:So,onSort:br,onTransform:Ke,onContextMenu:ml,onCopy:Mn,get onRenderMenu(){return z()},get showSearch(){return c(Ne)},set showSearch(ge){S(Ne,ge)},$$legacy:!0})};te(wr,V=>{C()&&V(Gn)})}var W=H(wr,2);{var xe=V=>{hY(V,{get json(){return c(G)},get selection(){return c(K)},onSelect:Cc,get onError(){return M()},get pathParser(){return D()}})};te(W,V=>{k()&&V(xe)})}var qe=H(W,2);{var Pe=V=>{var ge=tQ(),Be=ye(ge),Ye=j(Be);Ye.readOnly=!0,yn(Ye,dn=>S(f,dn),()=>c(f));var Ve=H(Be,2);{var nt=dn=>{var xr=De(),qr=ye(xr);{var Li=ui=>{GG(ui,{get readOnly(){return p()},onCreateObject:()=>{xn(),Mr(\"{\")},onCreateArray:()=>{xn(),Mr(\"[\")},onClick:()=>{xn()}})},ts=ui=>{var yl=ZY(),bl=ye(yl);const _c=Me(()=>p()?[]:[{icon:Jp,text:\"Repair manually\",title:'Open the document in \"code\" mode and repair it manually',onClick:xc}]);qo(bl,{type:\"error\",message:\"The loaded JSON document is invalid and could not be repaired automatically.\",get actions(){return c(_c)}});var Sc=H(bl,2);n6(Sc,{get text(){return c(oe)},get json(){return c(G)},get indentation(){return A()},get parser(){return E()}}),R(ui,yl)};te(qr,ui=>{c(oe)===\"\"||c(oe)===void 0?ui(Li):ui(ts,!1)})}R(dn,xr)},pn=dn=>{var xr=eQ(),qr=ye(xr),Li=j(qr);XE(Li,{get json(){return c(G)},get documentState(){return c(ee)},get parser(){return E()},get showSearch(){return c(Ne)},get showReplace(){return c(gt)},get readOnly(){return p()},columns:void 0,onSearch:dt,onFocus:ve,onPatch:Rn,onClose:Je});var ts=H(qr,2);ke(ts,\"data-jsoneditor-scrollable-contents\",!0);var ui=j(ts);{var yl=fi=>{var wl=$Y();R(fi,wl)};te(ui,fi=>{c(Ne)&&fi(yl)})}var bl=H(ui,2);T1(bl,{get value(){return c(G)},pointer:\"\",get state(){return c(ee)},get validationErrors(){return c(Le)},get searchResults(){return c(Ie)},get selection(){return c(K)},get context(){return c(_e)},onDragSelectionStart:cr}),yn(ts,fi=>S(u,fi),()=>c(u));var _c=H(ts,2);{var Sc=fi=>{const wl=Me(()=>`You pasted a JSON ${Array.isArray(c(be).contents)?\"array\":\"object\"} as text`);qo(fi,{type:\"info\",get message(){return c(wl)},actions:[{icon:Du,text:\"Paste as JSON instead\",title:\"Replace the value with the pasted JSON\",onMouseDown:bc},{text:\"Leave as is\",title:\"Keep the JSON embedded in the value\",onClick:wc}]})};te(_c,fi=>{c(be)&&fi(Sc)})}var af=H(_c,2);{var Uv=fi=>{const wl=Me(()=>p()?[]:[{icon:Gw,text:\"Ok\",title:\"Accept the repaired document\",onClick:sn},{icon:Jp,text:\"Repair manually instead\",title:\"Leave the document unchanged and repair it manually instead\",onClick:xc}]);qo(fi,{type:\"success\",message:\"The loaded JSON document was invalid but is successfully repaired.\",get actions(){return c(wl)},onClose:xn})};te(af,fi=>{c(lt)&&fi(Uv)})}var Sh=H(af,2);t2(Sh,{get validationErrors(){return c(Ue)},selectError:_t}),R(dn,xr)};te(Ve,dn=>{c(G)===void 0?dn(nt):dn(pn,!1)})}we(\"paste\",Ye,gn),R(V,ge)},ot=V=>{var ge=nQ();R(V,ge)};te(qe,V=>{i?V(ot,!1):V(Pe)})}yn(fn,V=>S(d,V),()=>c(d));var Ge=H(fn,2);{var lr=V=>{HE(V,{onClose:()=>S(se,!1)})};te(Ge,V=>{c(se)&&V(lr)})}var Ht=H(Ge,2);{var Cn=V=>{qE(V,Xr(()=>c(fe),{onClose:()=>{var ge;(ge=c(fe))==null||ge.onClose(),S(fe,void 0)}}))};te(Ht,V=>{c(fe)&&V(Cn)})}return he(()=>Re(fn,\"no-main-menu\",!C())),we(\"keydown\",fn,pl),we(\"mousedown\",fn,ar),we(\"contextmenu\",fn,Ao),R(n,St),bt(e,\"expand\",$e),bt(e,\"collapse\",mt),bt(e,\"validate\",vt),bt(e,\"getJson\",On),bt(e,\"patch\",Lt),bt(e,\"acceptAutoRepair\",sn),bt(e,\"openTransformModal\",$i),bt(e,\"scrollTo\",Qt),bt(e,\"findElement\",Et),bt(e,\"focus\",xn),Te({expand:$e,collapse:mt,validate:vt,getJson:On,patch:Lt,acceptAutoRepair:sn,openTransformModal:$i,scrollTo:Qt,findElement:Et,focus:xn})}function i6(n){return iQ(n)?new Proxy(n,{get(e,t,r){const i=Reflect.get(e,t,r);return i6(i)},set(){return!1},deleteProperty(){return!1}}):n}function iQ(n){return typeof n==\"object\"&&n!==null}const oQ=1e3,$h=Er(\"jsoneditor:History\");function o6(n={}){const e=n.maxItems||oQ;let t=[],r=0;function i(){return r<t.length}function o(){return r>0}function s(){return{canUndo:i(),canRedo:o(),items:()=>t.slice().reverse(),add:l,undo:f,redo:d,clear:u}}function a(){n.onChange&&n.onChange(s())}function l(h){$h(\"add\",h),t=[h].concat(t.slice(r)).slice(0,e),r=0,a()}function u(){$h(\"clear\"),t=[],r=0,a()}function f(){if(i()){const h=t[r];return r+=1,$h(\"undo\",h),a(),h}}function d(){if(o())return r-=1,$h(\"redo\",t[r]),a(),t[r]}return{get:s}}var bf=Km(()=>wJ),Ic=Km(()=>xJ),sQ=X('<div class=\"query-error svelte-rrrjnb\"> </div>'),aQ=X(\"<!> <!>\",1),lQ=X('<div class=\"jse-preview jse-error svelte-rrrjnb\"> </div>'),cQ=X('<!> <div class=\"jse-modal-contents svelte-rrrjnb\"><div class=\"jse-main-contents svelte-rrrjnb\"><div class=\"jse-query-contents svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Language</div></div> <div class=\"jse-description svelte-rrrjnb\"><!></div> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Path</div></div> <input class=\"jse-path svelte-rrrjnb\" type=\"text\" readonly=\"\" title=\"Selected path\"> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\"><button type=\"button\" class=\"svelte-rrrjnb\"><!> Wizard</button></div></div> <!> <div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Query</div></div> <textarea class=\"jse-query svelte-rrrjnb\" spellcheck=\"false\"></textarea></div> <div class=\"jse-data-contents svelte-rrrjnb\"><div class=\"jse-original-data svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\"><button type=\"button\" class=\"svelte-rrrjnb\"><!> Original</button></div></div> <!></div> <div class=\"jse-preview-data svelte-rrrjnb\"><div class=\"jse-label svelte-rrrjnb\"><div class=\"jse-label-inner svelte-rrrjnb\">Preview</div></div> <!></div></div></div> <div class=\"jse-actions svelte-rrrjnb\"><button type=\"button\" class=\"jse-primary svelte-rrrjnb\">Transform</button></div></div>',1),uQ=X('<div class=\"jse-transform-modal-inner svelte-rrrjnb\"><!></div>');function fQ(n,e){Ee(e,!1);const t=Er(\"jsoneditor:TransformModal\");let r=x(e,\"id\",25,()=>\"transform-modal-\"+Jc()),i=x(e,\"json\",9),o=x(e,\"rootPath\",25,()=>[]),s=x(e,\"indentation\",9),a=x(e,\"escapeControlCharacters\",9),l=x(e,\"escapeUnicodeCharacters\",9),u=x(e,\"parser\",9),f=x(e,\"parseMemoizeOne\",9),d=x(e,\"validationParser\",9),h=x(e,\"pathParser\",9),g=x(e,\"queryLanguages\",9),p=x(e,\"queryLanguageId\",13),m=x(e,\"onChangeQueryLanguage\",9),y=x(e,\"onRenderValue\",9),v=x(e,\"onRenderMenu\",9),C=x(e,\"onRenderContextMenu\",9),k=x(e,\"onClassName\",9),b=x(e,\"onTransform\",9),w=x(e,\"onClose\",9),E=Q(void 0,!0);const O=o6({onChange:Y=>S(T,Y)});let T=Q(O.get(),!0),I=Q(void 0,!0),D=Q(void 0,!0),A=Q(!1,!0);const M=`${r()}:${ht(o())}`,P=bf()[M]??{};let _=Q(Ic().showWizard!==!1,!0),N=Q(Ic().showOriginal!==!1,!0),F=Q(P.queryOptions??{},!0),B=Q(p()===P.queryLanguageId&&P.query?P.query:\"\",!0),L=Q(P.isManual??!1,!0),z=Q(void 0,!0),Z=Q(void 0,!0),ae=Q({text:\"\"},!0);c(L)||ie(c(F)),dr(()=>{var Y;(Y=c(E))==null||Y.focus()});function ne(Y){return g().find(ee=>ee.id===Y)??g()[0]}function ie(Y){try{S(F,Y),S(B,ne(p()).createQuery(c(I),Y)),S(z,void 0),S(L,!1),t(\"updateQueryByWizard\",{queryOptions:c(F),query:c(B),isManual:c(L)})}catch(ee){S(z,String(ee))}}function U(Y){S(B,Y.target.value),S(L,!0),t(\"handleChangeQuery\",{query:c(B),isManual:c(L)})}function ue(Y,ee){if(Y===void 0){S(ae,{text:\"\"}),S(Z,\"Error: No JSON\");return}if(ee.trim()===\"\"){S(ae,{json:Y});return}try{t(\"previewTransform\",{query:ee});const K=ne(p()).executeQuery(Y,ee,u());S(ae,{json:K}),S(Z,void 0)}catch(K){S(ae,{text:\"\"}),S(Z,String(K))}}const ce=Vp(ue,y1);function q(){if(c(I)===void 0){S(ae,{text:\"\"}),S(Z,\"Error: No JSON\");return}try{t(\"handleTransform\",{query:c(B)});const Y=ne(p()).executeQuery(c(I),c(B),u());b()([{op:\"replace\",path:ht(o()),value:Y}]),w()()}catch(Y){console.error(Y),S(ae,{text:\"\"}),S(Z,String(Y))}}function se(){S(_,!c(_)),Ic(Ic().showWizard=c(_))}function fe(){S(N,!c(N)),Ic(Ic().showOriginal=c(N))}function G(Y){Y.focus()}function oe(Y){t(\"handleChangeQueryLanguage\",Y),p(Y),m()(Y),ie(c(F))}function $(){c(A)?S(A,!c(A)):w()()}le(()=>(J(i()),J(o())),()=>{S(I,i6(Qe(i(),o())))}),le(()=>c(I),()=>{S(D,c(I)?{json:c(I)}:{text:\"\"})}),le(()=>(c(I),c(B)),()=>{ce(c(I),c(B))}),le(()=>(bf(),c(F),c(B),J(p()),c(L)),()=>{bf(bf()[M]={queryOptions:c(F),query:c(B),queryLanguageId:p(),isManual:c(L)}),t(\"store state in memory\",M,bf()[M])}),Xt(),ft(!0),ph(n,{get onClose(){return w()},className:\"jse-transform-modal\",get fullscreen(){return c(A)},children:(Y,ee)=>{var K=uQ(),je=j(K);Nw(je,{children:(Ze,Ce)=>{var be=cQ(),Ae=ye(be);IX(Ae,{get queryLanguages(){return g()},get queryLanguageId(){return p()},onChangeQueryLanguage:oe,get onClose(){return w()},get fullscreen(){return c(A)},set fullscreen(Rt){S(A,Rt)},$$legacy:!0});var Ie=H(Ae,2),Ne=j(Ie),gt=j(Ne),Xe=H(j(gt),2),dt=j(Xe);Wb(dt,()=>ne(p()).description,!1,!1);var ve=H(Xe,4),Je=H(ve,2),_t=j(Je),$e=j(_t),mt=j($e);const lt=Me(()=>c(_)?Qa:Ad);jt(mt,{get data(){return c(lt)}});var Ue=H(Je,2);{var Le=Rt=>{var Yt=De(),sn=ye(Yt);{var un=gn=>{var bn=aQ(),hr=ye(bn);kX(hr,{get queryOptions(){return c(F)},get json(){return c(I)},onChange:ie});var cn=H(hr,2);{var or=Oe=>{var At=sQ(),Vt=j(At);he(()=>He(Vt,c(z))),R(Oe,At)};te(cn,Oe=>{c(z)&&Oe(or)})}R(gn,bn)},Mn=gn=>{var bn=Or(\"(Only available for arrays, not for objects)\");R(gn,bn)};te(sn,gn=>{Array.isArray(c(I))?gn(un):gn(Mn,!1)})}R(Rt,Yt)};te(Ue,Rt=>{c(_)&&Rt(Le)})}var pe=H(Ue,4);yn(pe,Rt=>S(E,Rt),()=>c(E));var wt=H(gt,2),vt=j(wt),On=j(vt),ct=j(On),Gt=j(ct),zn=j(Gt);const Vn=Me(()=>c(N)?Qa:Ad);jt(zn,{get data(){return c(Vn)}});var Xn=H(On,2);{var pt=Rt=>{M1(Rt,{get externalContent(){return c(D)},externalSelection:void 0,get history(){return c(T)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return s()},get escapeControlCharacters(){return a()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return f()},get onRenderValue(){return y()},get onRenderMenu(){return v()},get onRenderContextMenu(){return C()},onError:console.error,onChange:cr,onChangeMode:cr,onSelect:cr,onUndo:cr,onRedo:cr,onFocus:cr,onBlur:cr,onSortModal:cr,onTransformModal:cr,onJSONEditorModal:cr,get onClassName(){return k()},validator:void 0,get validationParser(){return d()},get pathParser(){return h()}})};te(Xn,Rt=>{c(N)&&Rt(pt)})}var nn=H(vt,2),on=H(j(nn),2);{var Tn=Rt=>{M1(Rt,{get externalContent(){return c(ae)},externalSelection:void 0,get history(){return c(T)},readOnly:!0,mainMenuBar:!1,navigationBar:!1,get indentation(){return s()},get escapeControlCharacters(){return a()},get escapeUnicodeCharacters(){return l()},get parser(){return u()},get parseMemoizeOne(){return f()},get onRenderValue(){return y()},get onRenderMenu(){return v()},get onRenderContextMenu(){return C()},onError:console.error,onChange:cr,onChangeMode:cr,onSelect:cr,onUndo:cr,onRedo:cr,onFocus:cr,onBlur:cr,onSortModal:cr,onTransformModal:cr,onJSONEditorModal:cr,get onClassName(){return k()},validator:void 0,get validationParser(){return d()},get pathParser(){return h()}})},kt=Rt=>{var Yt=lQ(),sn=j(Yt);he(()=>He(sn,c(Z))),R(Rt,Yt)};te(on,Rt=>{c(Z)?Rt(kt,!1):Rt(Tn)})}var Lt=H(Ne,2),yr=j(Lt);fr(()=>we(\"click\",yr,q)),Ut(yr,Rt=>G==null?void 0:G(Rt)),he(Rt=>{sa(ve,Rt),sa(pe,c(B)),Re(wt,\"jse-hide-original-data\",!c(N)),Re(vt,\"jse-hide\",!c(N)),yr.disabled=!!c(Z)},[()=>mn(o())?\"(document root)\":Wo(o())],Me),we(\"click\",$e,se),we(\"input\",pe,U),we(\"click\",Gt,fe),R(Ze,be)},$$slots:{default:!0}}),Ut(K,(Ze,Ce)=>fu==null?void 0:fu(Ze,Ce),()=>$),R(Y,K)},$$slots:{default:!0}}),Te()}function to(){}function H_(n,e=1e3){if(n<.9*e)return n.toFixed()+\" B\";const t=n/e;if(t<.9*e)return t.toFixed(1)+\" KB\";const r=t/e;if(r<.9*e)return r.toFixed(1)+\" MB\";const i=r/e;return i<.9*e?i.toFixed(1)+\" GB\":(i/e).toFixed(1)+\" TB\"}function dQ(n,e){Ee(e,!1);const t=Q(void 0,!0);let r=x(e,\"readOnly\",9,!1),i=x(e,\"onFormat\",9),o=x(e,\"onCompact\",9),s=x(e,\"onSort\",9),a=x(e,\"onTransform\",9),l=x(e,\"onToggleSearch\",9),u=x(e,\"onUndo\",9),f=x(e,\"onRedo\",9),d=x(e,\"canUndo\",9),h=x(e,\"canRedo\",9),g=x(e,\"canFormat\",9),p=x(e,\"canCompact\",9),m=x(e,\"canSort\",9),y=x(e,\"canTransform\",9),v=x(e,\"onRenderMenu\",9);const C={type:\"button\",icon:Cv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:l()};let k=Q(void 0,!0);le(()=>(J(r()),J(i()),J(g()),J(o()),J(p()),J(s()),J(m()),J(a()),J(y()),J(u()),J(d()),J(f()),J(h())),()=>{S(k,r()?[C,{type:\"space\"}]:[{type:\"button\",icon:UE,title:\"Format JSON: add proper indentation and new lines (Ctrl+I)\",className:\"jse-format\",onClick:i(),disabled:r()||!g()},{type:\"button\",icon:UG,title:\"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)\",className:\"jse-compact\",onClick:o(),disabled:r()||!p()},{type:\"separator\"},{type:\"button\",icon:xv,title:\"Sort\",className:\"jse-sort\",onClick:s(),disabled:r()||!m()},{type:\"button\",icon:wv,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:a(),disabled:r()||!y()},C,{type:\"separator\"},{type:\"button\",icon:Xw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:u(),disabled:!d()},{type:\"button\",icon:Jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:f(),disabled:!h()},{type:\"space\"}])}),le(()=>(J(v()),c(k)),()=>{S(t,v()(c(k))||c(k))}),Xt(),ft(!0),Mv(n,{get items(){return c(t)}}),Te()}let P1=[],s6=[];(()=>{let n=\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?s6:P1).push(t=t+n[e])})();function hQ(n){if(n<768)return!1;for(let e=0,t=P1.length;;){let r=e+t>>1;if(n<P1[r])t=r;else if(n>=s6[r])e=r+1;else return!0;if(e==t)return!1}}function q_(n){return n>=127462&&n<=127487}const W_=8205;function gQ(n,e,t=!0,r=!0){return(t?a6:pQ)(n,e,r)}function a6(n,e,t){if(e==n.length)return e;e&&l6(n.charCodeAt(e))&&c6(n.charCodeAt(e-1))&&e--;let r=H0(n,e);for(e+=U_(r);e<n.length;){let i=H0(n,e);if(r==W_||i==W_||t&&hQ(i))e+=U_(i),r=i;else if(q_(i)){let o=0,s=e-2;for(;s>=0&&q_(H0(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function pQ(n,e,t){for(;e>0;){let r=a6(n,e-2,t);if(r<e)return r;e--}return 0}function H0(n,e){let t=n.charCodeAt(e);if(!c6(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return l6(r)?(t-55296<<10)+(r-56320)+65536:t}function l6(n){return n>=56320&&n<57344}function c6(n){return n>=55296&&n<56320}function U_(n){return n<65536?1:2}let wn=class u6{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Bu(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),cs.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Bu(this,e,t);let r=[];return this.decompose(e,t,r,0),cs.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Gf(this),o=new Gf(e);for(let s=t,a=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Gf(this,e)}iterRange(e,t=this.length){return new f6(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new d6(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError(\"A document must have at least one line\");return e.length==1&&!e[0]?u6.empty:e.length<=32?new mr(e):cs.from(mr.split(e,[]))}};class mr extends wn{constructor(e,t=mQ(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((t?r:a)>=e)return new vQ(i,a,r,s);i=a+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new mr(K_(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=Yg(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new mr(a,s.length+o.length));else{let l=a.length>>1;r.push(new mr(a.slice(0,l)),new mr(a.slice(l)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof mr))return super.replace(e,t,r);[e,t]=Bu(this,e,t);let i=Yg(this.text,Yg(r.text,K_(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new mr(i,o):cs.from(mr.split(i,[]),o)}sliceString(e,t=this.length,r=`\n`){[e,t]=Bu(this,e,t);let i=\"\";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.slice(Math.max(0,e-o),t-o)),o=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new mr(r,i)),r=[],i=-1);return i>-1&&t.push(new mr(r,i)),t}}class cs extends wn{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((t?l:a)>=e)return s.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&t>=s){let u=i&((s<=e?1:0)|(l>=t?2:0));s>=e&&l<=t&&!u?r.push(a):a.decompose(e-s,t-s,r,u)}s=l+1}}replace(e,t,r){if([e,t]=Bu(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&t<=a){let l=s.replace(e-o,t-o,r),u=this.lines-s.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let f=this.children.slice();return f[i]=l,new cs(f,this.length-(t-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`\n`){[e,t]=Bu(this,e,t);let i=\"\";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.sliceString(e-s,t-s,r)),s=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof cs))return 0;let r=0,[i,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==a)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let g of e)r+=g.lines;if(r<32){let g=[];for(let p of e)p.flatten(g);return new mr(g,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,u=-1,f=[];function d(g){let p;if(g.lines>o&&g instanceof cs)for(let m of g.children)d(m);else g.lines>s&&(l>s||!l)?(h(),a.push(g)):g instanceof mr&&l&&(p=f[f.length-1])instanceof mr&&g.lines+p.lines<=32?(l+=g.lines,u+=g.length+1,f[f.length-1]=new mr(p.text.concat(g.text),p.length+1+g.length)):(l+g.lines>i&&h(),l+=g.lines,u+=g.length+1,f.push(g))}function h(){l!=0&&(a.push(f.length==1?f[0]:cs.from(f,u)),u=-1,l=f.length=0)}for(let g of e)d(g);return h(),a.length==1?a[0]:new cs(a,t)}}wn.empty=new mr([\"\"],0);function mQ(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Yg(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let a=n[o],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function K_(n,e,t){return Yg(n,[\"\"],e,t)}class Gf{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value=\"\",this.nodes=[e],this.offsets=[t>0?1:(e instanceof mr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof mr?i.text.length:i.children.length;if(s==(t>0?a:0)){if(r==0)return this.done=!0,this.value=\"\",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`\n`,this;e--}else if(i instanceof mr){let l=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof mr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class f6{constructor(e,t,r){this.value=\"\",this.done=!1,this.cursor=new Gf(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value=\"\",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=\"\"}}class d6{constructor(e){this.inner=e,this.afterBreak=!0,this.value=\"\",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value=\"\",this.afterBreak=!1):t?(this.done=!0,this.value=\"\"):r?this.afterBreak?this.value=\"\":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<\"u\"&&(wn.prototype[Symbol.iterator]=function(){return this.iter()},Gf.prototype[Symbol.iterator]=f6.prototype[Symbol.iterator]=d6.prototype[Symbol.iterator]=function(){return this});class vQ{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Bu(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function Yr(n,e,t=!0,r=!0){return gQ(n,e,t,r)}function yQ(n){return n>=56320&&n<57344}function bQ(n){return n>=55296&&n<56320}function Ai(n,e){let t=n.charCodeAt(e);if(!bQ(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return yQ(r)?(t-55296<<10)+(r-56320)+65536:t}function i2(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function us(n){return n<65536?1:2}const I1=/\\r\\n?|\\n/;var mi=function(n){return n[n.Simple=0]=\"Simple\",n[n.TrackDel=1]=\"TrackDel\",n[n.TrackBefore=2]=\"TrackBefore\",n[n.TrackAfter=3]=\"TrackAfter\",n}(mi||(mi={}));class ra{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){R1(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new ra(e)}composeDesc(e){return this.empty?e:e.empty?this:h6(this,e)}mapDesc(e,t=!1){return e.empty?this:D1(this,e,t)}mapPos(e,t=-1,r=mi.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],u=i+a;if(l<0){if(u>e)return o+(e-i);o+=a}else{if(r!=mi.Simple&&u>=e&&(r==mi.TrackDel&&i<e&&u>e||r==mi.TrackBefore&&i<e||r==mi.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!a)return e==i||t<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=t&&a>=e)return i<e&&a>t?\"cover\":!0;i=a}return!1}toString(){let e=\"\";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?\" \":\"\")+r+(i>=0?\":\"+i:\"\")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!=\"number\"))throw new RangeError(\"Invalid JSON representation of ChangeDesc\");return new ra(e)}static create(e){return new ra(e)}}class Sr extends ra{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError(\"Applying change set to a document with the wrong length\");return R1(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return D1(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(wn.empty);r.push(s?e.slice(o,o+s):wn.empty)}o+=s}return new Sr(t,r)}compose(e){return this.empty?e:e.empty?this:h6(this,e,!0)}map(e,t=!1){return e.empty?this:D1(this,e,t,!0)}iterChanges(e,t=!1){R1(this,e,t)}get desc(){return ra.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Md(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,l-a);ei(i,f,-1);let d=o.ins==-1?-1:o.off==0?o.ins:0;ei(t,f,d),d>0&&za(r,t,o.text),o.forward(f),a+=f}let u=e[s++];for(;a<u;){if(o.done)break e;let f=Math.min(o.len,u-a);ei(t,f,-1),ei(i,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),a+=f}}return{changes:new Sr(t,r),filtered:ra.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,a=null;function l(f=!1){if(!f&&!i.length)return;s<t&&ei(i,t-s,-1);let d=new Sr(i,o);a=a?a.compose(d.map(a)):d,i=[],o=[],s=0}function u(f){if(Array.isArray(f))for(let d of f)u(d);else if(f instanceof Sr){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);l(),a=a?a.compose(f.map(a)):f}else{let{from:d,to:h=d,insert:g}=f;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let p=g?typeof g==\"string\"?wn.of(g.split(r||I1)):g:wn.empty,m=p.length;if(d==h&&m==0)return;d<s&&l(),d>s&&ei(i,d-s,-1),ei(i,h-d,m),za(o,i,p),s=h}}return u(e),l(!a),a}static empty(e){return new Sr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError(\"Invalid JSON representation of ChangeSet\");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o==\"number\")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!=\"number\"||o.some((s,a)=>a&&typeof s!=\"string\"))throw new RangeError(\"Invalid JSON representation of ChangeSet\");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(wn.empty);r[i]=wn.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Sr(t,r)}static createSet(e,t){return new Sr(e,t)}}function ei(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function za(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(wn.empty);n.push(t)}}function R1(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],l=n.sections[s++];if(l<0)i+=a,o+=a;else{let u=i,f=o,d=wn.empty;for(;u+=a,f+=l,l&&r&&(d=d.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],l=n.sections[s++];e(i,u,o,f,d),i=u,o=f}}}function D1(n,e,t,r=!1){let i=[],o=r?[]:null,s=new Md(n),a=new Md(e);for(let l=-1;;){if(s.done&&a.len||a.done&&s.len)throw new Error(\"Mismatched change set lengths\");if(s.ins==-1&&a.ins==-1){let u=Math.min(s.len,a.len);ei(i,u,-1),s.forward(u),a.forward(u)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let u=a.len;for(ei(i,a.ins,-1);u;){let f=Math.min(s.len,u);s.ins>=0&&l<s.i&&s.len<=f&&(ei(i,0,s.ins),o&&za(o,i,s.text),l=s.i),s.forward(f),u-=f}a.next()}else if(s.ins>=0){let u=0,f=s.len;for(;f;)if(a.ins==-1){let d=Math.min(f,a.len);u+=d,f-=d,a.forward(d)}else if(a.ins==0&&a.len<f)f-=a.len,a.next();else break;ei(i,u,l<s.i?s.ins:0),o&&l<s.i&&za(o,i,s.text),l=s.i,s.forward(s.len-f)}else{if(s.done&&a.done)return o?Sr.createSet(i,o):ra.create(i);throw new Error(\"Mismatched change set lengths\")}}}function h6(n,e,t=!1){let r=[],i=t?[]:null,o=new Md(n),s=new Md(e);for(let a=!1;;){if(o.done&&s.done)return i?Sr.createSet(r,i):ra.create(r);if(o.ins==0)ei(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)ei(r,0,s.ins,a),i&&za(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error(\"Mismatched change set lengths\");{let l=Math.min(o.len2,s.len),u=r.length;if(o.ins==-1){let f=s.ins==-1?-1:s.off?0:s.ins;ei(r,l,f,a),i&&f&&za(i,r,s.text)}else s.ins==-1?(ei(r,o.off?0:o.len,l,a),i&&za(i,r,o.textBit(l))):(ei(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&za(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>u),o.forward2(l),s.forward(l)}}}}class Md{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?wn.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?wn.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Dl{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Dl(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Se.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Se.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!=\"number\"||typeof e.head!=\"number\")throw new RangeError(\"Invalid JSON representation for SelectionRange\");return Se.range(e.anchor,e.head)}static create(e,t,r){return new Dl(e,t,r)}}class Se{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Se.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Se([this.main],0)}addRange(e,t=!0){return Se.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Se.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!=\"number\"||e.main>=e.ranges.length)throw new RangeError(\"Invalid JSON representation for EditorSelection\");return new Se(e.ranges.map(t=>Dl.fromJSON(t)),e.main)}static single(e,t=e){return new Se([Se.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError(\"A selection needs at least one range\");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Se.normalized(e.slice(),t);r=o.to}return new Se(e,t)}static cursor(e,t=0,r,i){return Dl.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Dl.create(t,e,48|o):Dl.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?Se.range(l,a):Se.range(a,l))}}return new Se(e,t)}}function g6(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError(\"Selection points outside of document\")}let o2=0;class rt{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=o2++,this.default=e([]),this.extensions=typeof o==\"function\"?o(this):o}get reader(){return this}static define(e={}){return new rt(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:s2),!!e.static,e.enables)}of(e){return new Qg([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error(\"Can't compute a static facet\");return new Qg(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error(\"Can't compute a static facet\");return new Qg(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function s2(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Qg{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=o2++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,u=!1,f=[];for(let d of this.dependencies)d==\"doc\"?l=!0:d==\"selection\"?u=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||f.push(e[d.id]);return{create(d){return d.values[s]=r(d),1},update(d,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||N1(d,f)){let g=r(d);if(a?!J_(g,d.values[s],i):!i(g,d.values[s]))return d.values[s]=g,1}return 0},reconfigure:(d,h)=>{let g,p=h.config.address[o];if(p!=null){let m=em(h,p);if(this.dependencies.every(y=>y instanceof rt?h.facet(y)===d.facet(y):y instanceof Vr?h.field(y,!1)==d.field(y,!1):!0)||(a?J_(g=r(d),m,i):i(g=r(d),m)))return d.values[s]=m,0}else g=r(d);return d.values[s]=g,1}}}}function J_(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function N1(n,e){let t=!1;for(let r of e)Yf(n,r)&1&&(t=!0);return t}function wQ(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),o=r.filter(l=>!(l&1)),s=n[e.id]>>1;function a(l){let u=[];for(let f=0;f<r.length;f++){let d=em(l,r[f]);if(i[f]==2)for(let h of d)u.push(h);else u.push(d)}return e.combine(u)}return{create(l){for(let u of r)Yf(l,u);return l.values[s]=a(l),1},update(l,u){if(!N1(l,o))return 0;let f=a(l);return e.compare(f,l.values[s])?0:(l.values[s]=f,1)},reconfigure(l,u){let f=N1(l,r),d=u.config.facets[e.id],h=u.facet(e);if(d&&!f&&s2(t,d))return l.values[s]=h,0;let g=a(l);return e.compare(g,h)?(l.values[s]=h,0):(l.values[s]=g,1)}}}const eg=rt.define({static:!0});class Vr{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Vr(o2++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(eg).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>{let o=r.facet(eg),s=i.facet(eg),a;return(a=o.find(l=>l.field==this))&&a!=s.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,eg.of({field:this,create:e})]}get extension(){return this}}const Al={lowest:4,low:3,default:2,high:1,highest:0};function wf(n){return e=>new p6(e,n)}const vc={highest:wf(Al.highest),high:wf(Al.high),default:wf(Al.default),low:wf(Al.low),lowest:wf(Al.lowest)};class p6{constructor(e,t){this.inner=e,this.prec=t}}class qs{of(e){return new L1(this,e)}reconfigure(e){return qs.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class L1{constructor(e,t){this.compartment=e,this.inner=t}}class $p{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let h of xQ(e,t,s))h instanceof Vr?i.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],u=[];for(let h of i)a[h.id]=u.length<<1,u.push(g=>h.slot(g));let f=r==null?void 0:r.config.facets;for(let h in o){let g=o[h],p=g[0].facet,m=f&&f[h]||[];if(g.every(y=>y.type==0))if(a[p.id]=l.length<<1|1,s2(m,g))l.push(r.facet(p));else{let y=p.combine(g.map(v=>v.value));l.push(r&&p.compare(y,r.facet(p))?r.facet(p):y)}else{for(let y of g)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=u.length<<1,u.push(v=>y.dynamicSlot(v)));a[p.id]=u.length<<1,u.push(y=>wQ(y,p,g))}}let d=u.map(h=>h(a));return new $p(e,s,d,a,l,o)}}function xQ(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let u=r[l].indexOf(s);u>-1&&r[l].splice(u,1),s instanceof L1&&t.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let u of s)o(u,a);else if(s instanceof L1){if(t.has(s.compartment))throw new RangeError(\"Duplicate use of compartment in extensions\");let u=e.get(s.compartment)||s.inner;t.set(s.compartment,u),o(u,a)}else if(s instanceof p6)o(s.inner,s.prec);else if(s instanceof Vr)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Qg)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Al.default);else{let u=s.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,a)}}return o(n,Al.default),r.reduce((s,a)=>s.concat(a))}function Yf(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error(\"Cyclic dependency between fields and/or facets\");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function em(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const m6=rt.define(),B1=rt.define({combine:n=>n.some(e=>e),static:!0}),v6=rt.define({combine:n=>n.length?n[0]:void 0,static:!0}),y6=rt.define(),b6=rt.define(),w6=rt.define(),x6=rt.define({combine:n=>n.length?n[0]:!1});class dl{constructor(e,t){this.type=e,this.value=t}static define(){return new CQ}}class CQ{of(e){return new dl(this,e)}}class _Q{constructor(e){this.map=e}of(e){return new zt(this,e)}}class zt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new zt(this.type,t)}is(e){return this.type==e}static define(e={}){return new _Q(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}zt.reconfigure=zt.define();zt.appendConfig=zt.define();class ni{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&g6(r,t.newLength),o.some(a=>a.type==ni.time)||(this.annotations=o.concat(ni.time.of(Date.now())))}static create(e,t,r,i,o,s){return new ni(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ni.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]==\".\"))}}ni.time=dl.define();ni.userEvent=dl.define();ni.addToHistory=dl.define();ni.remote=dl.define();function SQ(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else if(i<e.length)o=e[i++],s=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function C6(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=Sr.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:zt.mapEffects(n.effects,i).concat(zt.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function F1(n,e,t){let r=e.selection,i=hu(e.annotations);return e.userEvent&&(i=i.concat(ni.userEvent.of(e.userEvent))),{changes:e.changes instanceof Sr?e.changes:Sr.of(e.changes||[],t,n.facet(v6)),selection:r&&(r instanceof Se?r:Se.single(r.anchor,r.head)),effects:hu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function _6(n,e,t){let r=F1(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=C6(r,F1(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=ni.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return OQ(t?kQ(i):i)}function kQ(n){let e=n.startState,t=!0;for(let i of e.facet(y6)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:SQ(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=Sr.empty(e.doc.length);else{let s=n.changes.filter(t);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=ni.create(e,i,n.selection&&n.selection.map(o),zt.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(b6);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof ni?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof ni?n=o[0]:n=_6(e,hu(o),!1)}return n}function OQ(n){let e=n.startState,t=e.facet(w6),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=C6(r,F1(e,o,n.changes.newLength),!0))}return r==n?n:ni.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const AQ=[];function hu(n){return n==null?AQ:Array.isArray(n)?n:[n]}var Yn=function(n){return n[n.Word=0]=\"Word\",n[n.Space=1]=\"Space\",n[n.Other=2]=\"Other\",n}(Yn||(Yn={}));const EQ=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;let j1;try{j1=new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\",\"u\")}catch{}function TQ(n){if(j1)return j1.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\\w/.test(t)||t>\"\"&&(t.toUpperCase()!=t.toLowerCase()||EQ.test(t)))return!0}return!1}function MQ(n){return e=>{if(!/\\S/.test(e))return Yn.Space;if(TQ(e))return Yn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Yn.Word;return Yn.Other}}class en{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Yf(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError(\"Field is not present in this state\");return}return Yf(this,r),em(this,r)}update(...e){return _6(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(qs.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,u)=>i.set(u,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(zt.reconfigure)?(t=null,r=a.value):a.is(zt.appendConfig)&&(t=null,r=hu(r).concat(a.value));let o;t?o=e.startState.values.slice():(t=$p.resolve(r,i,this),o=new en(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let s=e.startState.facet(B1)?e.newSelection:e.newSelection.asSingle();new en(t,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e==\"string\"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Se.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=hu(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),u=this.changes(l.changes),f=u.map(i);for(let h=0;h<a;h++)o[h]=o[h].map(f);let d=i.mapDesc(u,!0);o.push(l.range.map(d)),i=i.compose(f),s=zt.mapEffects(s,f).concat(zt.mapEffects(hu(l.effects),d))}return{changes:i,selection:Se.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Sr?e:Sr.of(e,this.doc.length,this.facet(en.lineSeparator))}toText(e){return wn.of(e.split(this.facet(en.lineSeparator)||I1))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Yf(this,t),em(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Vr&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!=\"string\")throw new RangeError(\"Invalid JSON representation for EditorState\");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return en.create({doc:e.doc,selection:Se.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=$p.resolve(e.extensions||[],new Map),r=e.doc instanceof wn?e.doc:wn.of((e.doc||\"\").split(t.staticFacet(en.lineSeparator)||I1)),i=e.selection?e.selection instanceof Se?e.selection:Se.single(e.selection.anchor,e.selection.head):Se.single(0);return g6(i,r.length),t.staticFacet(B1)||(i=i.asSingle()),new en(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(en.tabSize)}get lineBreak(){return this.facet(en.lineSeparator)||`\n`}get readOnly(){return this.facet(x6)}phrase(e,...t){for(let r of this.facet(en.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\\$(\\$|\\d*)/g,(r,i)=>{if(i==\"$\")return\"$\";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(m6))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return MQ(this.languageDataAt(\"wordChars\",e).join(\"\"))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=Yr(t,s,!1);if(o(t.slice(l,s))!=Yn.Word)break;s=l}for(;a<i;){let l=Yr(t,a);if(o(t.slice(a,l))!=Yn.Word)break;a=l}return s==a?null:Se.range(s+r,a+r)}}en.allowMultipleSelections=B1;en.tabSize=rt.define({combine:n=>n.length?n[0]:4});en.lineSeparator=v6;en.readOnly=x6;en.phrases=rt.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});en.languageData=m6;en.changeFilter=y6;en.transactionFilter=b6;en.transactionExtender=w6;qs.reconfigure=zt.define();function Zo(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](a,s);else throw new Error(\"Config merge conflict for field \"+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class rc{eq(e){return this==e}range(e,t=e){return z1.create(e,t,this)}}rc.prototype.startSide=rc.prototype.endSide=0;rc.prototype.point=!1;rc.prototype.mapMode=mi.TrackDel;let z1=class S6{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new S6(e,t,r)}};function V1(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class a2{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==s)return u>=0?s:a;u>=0?a=l:s=l+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],f=this.from[l]+e,d=this.to[l]+e,h,g;if(f==d){let p=t.mapPos(f,u.startSide,u.mapMode);if(p==null||(h=g=p,u.startSide!=u.endSide&&(g=t.mapPos(f,u.endSide),g<h)))continue}else if(h=t.mapPos(f,u.startSide),g=t.mapPos(d,u.endSide),h>g||h==g&&u.startSide>0&&u.endSide<=0)continue;(g-h||u.endSide-u.startSide)<0||(s<0&&(s=h),u.point&&(a=Math.max(a,g-h)),r.push(u),i.push(h-s),o.push(g-s))}return{mapped:r.length?new a2(i,o,r,a):null,pos:s}}}class an{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new an(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(V1)),this.isEmpty)return t.length?an.of(t):this;let a=new k6(this,null,-1).goto(0),l=0,u=[],f=new Jo;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let d=t[l++];f.addInner(d.from,d.to,d.value)||u.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&f.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(f.addInner(a.from,a.to,a.value)||u.push(z1.create(a.from,a.to,a.value))),a.next());return f.finishInner(this.nextLayer.isEmpty&&!u.length?an.empty:this.nextLayer.update({add:u,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:f,pos:d}=l.map(a,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),r.push(d))}}let o=this.nextLayer.map(e);return t.length==0?o:new an(r,t,o||an.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Pd.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Pd.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=o),l=X_(s,a,r),u=new xf(s,l,o),f=new xf(a,l,o);r.iterGaps((d,h,g)=>G_(u,d,f,h,g,i)),r.empty&&r.length==0&&G_(u,0,f,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),s=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=X_(o,s),l=new xf(o,a,0).goto(r),u=new xf(s,a,0).goto(r);for(;;){if(l.to!=u.to||!H1(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,t,r,i,o=-1){let s=new xf(e,null,o).goto(t),a=t,l=s.openStart;for(;;){let u=Math.min(s.to,r);if(s.point){let f=s.activeForPoint(s.to),d=s.pointFrom<t?f.length+1:s.point.startSide<0?f.length:Math.min(f.length,l);i.point(a,u,s.point,f,d,s.pointRank),l=Math.min(s.openEnd(u),f.length)}else u>a&&(i.span(a,u,s.active,l),l=s.openEnd(u));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,t=!1){let r=new Jo;for(let i of e instanceof z1?[e]:t?PQ(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return an.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=an.empty;i=i.nextLayer)t=new an(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}an.empty=new an([],[],null,-1);function PQ(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(V1(e,r)>0)return n.slice().sort(V1);e=r}return n}an.empty.nextLayer=an.empty;class Jo{finishChunk(e){this.chunks.push(new a2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Jo)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(an.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=an.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function X_(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class k6{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Pd{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new k6(s,t,r,o));return i.length==1?i[0]:new Pd(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)q0(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)q0(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),q0(this.heap,0)}}}function q0(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class xf{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Pd.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){tg(this.active,e),tg(this.activeTo,e),tg(this.activeRank,e),this.minActive=Y_(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;ng(this.active,t,r),ng(this.activeTo,t,i),ng(this.activeRank,t,o),e&&ng(e,t,this.cursor.from),this.minActive=Y_(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&tg(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function G_(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,a=r,l=r-e;for(;;){let u=n.to+l-t.to,f=u||n.endSide-t.endSide,d=f<0?n.to+l:t.to,h=Math.min(d,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&H1(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,h,n.point,t.point):h>a&&!H1(n.active,t.active)&&o.compareRange(a,h,n.active,t.active),d>s)break;(u||n.openEnd!=t.openEnd)&&o.boundChange&&o.boundChange(d),a=d,f<=0&&n.next(),f>=0&&t.next()}}function H1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function tg(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function ng(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Y_(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function tf(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Yr(n,i));return r}function q1(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=Yr(n,i)}return r===!0?-1:n.length}const W1=\"\",Q_=typeof Symbol>\"u\"?\"__\"+W1:Symbol.for(W1),U1=typeof Symbol>\"u\"?\"__styleSet\"+Math.floor(Math.random()*1e8):Symbol(\"styleSet\"),Z_=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:{};class $a{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\\s*/)}function o(s,a,l,u){let f=[],d=/^@(\\w+)\\b/.exec(s[0]),h=d&&d[1]==\"keyframes\";if(d&&a==null)return l.push(s[0]+\";\");for(let g in a){let p=a[g];if(/&/.test(g))o(g.split(/,\\s*/).map(m=>s.map(y=>m.replace(/&/,y))).reduce((m,y)=>m.concat(y)),p,l);else if(p&&typeof p==\"object\"){if(!d)throw new RangeError(\"The value of a property (\"+g+\") should be a primitive value.\");o(i(g),p,f,h)}else p!=null&&f.push(g.replace(/_.*/,\"\").replace(/[A-Z]/g,m=>\"-\"+m.toLowerCase())+\": \"+p+\";\")}(f.length||h)&&l.push((r&&!d&&!u?s.map(r):s).join(\", \")+\" {\"+f.join(\" \")+\"}\")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`\n`)}static newName(){let e=Z_[Q_]||1;return Z_[Q_]=e+1,W1+e.toString(36)}static mount(e,t,r){let i=e[U1],o=r&&r.nonce;i?o&&i.setNonce(o):i=new IQ(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let $_=new Map;class IQ{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=$_.get(r);if(o)return e[U1]=o;this.sheet=new i.CSSStyleSheet,$_.set(r,this)}else this.styleTag=r.createElement(\"style\"),t&&this.styleTag.setAttribute(\"nonce\",t);this.modules=[],e[U1]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s=\"\";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`\n`;this.styleTag.textContent=s;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute(\"nonce\")!=e&&this.styleTag.setAttribute(\"nonce\",e)}}var el={8:\"Backspace\",9:\"Tab\",10:\"Enter\",12:\"NumLock\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",44:\"PrintScreen\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Meta\",92:\"Meta\",106:\"*\",107:\"+\",108:\",\",109:\"-\",110:\".\",111:\"/\",144:\"NumLock\",145:\"ScrollLock\",160:\"Shift\",161:\"Shift\",162:\"Control\",163:\"Control\",164:\"Alt\",165:\"Alt\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\"},Id={48:\")\",49:\"!\",50:\"@\",51:\"#\",52:\"$\",53:\"%\",54:\"^\",55:\"&\",56:\"*\",57:\"(\",59:\":\",61:\"+\",173:\"_\",186:\":\",187:\"+\",188:\"<\",189:\"_\",190:\">\",191:\"?\",192:\"~\",219:\"{\",220:\"|\",221:\"}\",222:'\"'},RQ=typeof navigator<\"u\"&&/Mac/.test(navigator.platform),DQ=typeof navigator<\"u\"&&/MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent);for(var Jr=0;Jr<10;Jr++)el[48+Jr]=el[96+Jr]=String(Jr);for(var Jr=1;Jr<=24;Jr++)el[Jr+111]=\"F\"+Jr;for(var Jr=65;Jr<=90;Jr++)el[Jr]=String.fromCharCode(Jr+32),Id[Jr]=String.fromCharCode(Jr);for(var W0 in el)Id.hasOwnProperty(W0)||(Id[W0]=el[W0]);function NQ(n){var e=RQ&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||DQ&&n.shiftKey&&n.key&&n.key.length==1||n.key==\"Unidentified\",t=!e&&n.key||(n.shiftKey?Id:el)[n.keyCode]||n.key||\"Unidentified\";return t==\"Esc\"&&(t=\"Escape\"),t==\"Del\"&&(t=\"Delete\"),t==\"Left\"&&(t=\"ArrowLeft\"),t==\"Up\"&&(t=\"ArrowUp\"),t==\"Right\"&&(t=\"ArrowRight\"),t==\"Down\"&&(t=\"ArrowDown\"),t}function Rd(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function K1(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Zg(n,e){if(!e.anchorNode)return!1;try{return K1(n,e.anchorNode)}catch{return!1}}function Dd(n){return n.nodeType==3?oc(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Qf(n,e,t,r){return t?e3(n,e,t,r,-1)||e3(n,e,t,r,1):!1}function ic(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function tm(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(n.nodeName)}function e3(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ks(n))){if(n.nodeName==\"DIV\")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=ic(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable==\"false\")return!1;e=i<0?ks(n):0}else return!1}}function ks(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Pv(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function LQ(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function O6(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function BQ(n,e,t,r,i,o,s,a){let l=n.ownerDocument,u=l.defaultView||window;for(let f=n,d=!1;f&&!d;)if(f.nodeType==1){let h,g=f==l.body,p=1,m=1;if(g)h=LQ(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let C=f.getBoundingClientRect();({scaleX:p,scaleY:m}=O6(f,C)),h={left:C.left,right:C.left+f.clientWidth*p,top:C.top,bottom:C.top+f.clientHeight*m}}let y=0,v=0;if(i==\"nearest\")e.top<h.top?(v=-(h.top-e.top+s),t>0&&e.bottom>h.bottom+v&&(v=e.bottom-h.bottom+v+s)):e.bottom>h.bottom&&(v=e.bottom-h.bottom+s,t<0&&e.top-v<h.top&&(v=-(h.top+v-e.top+s)));else{let C=e.bottom-e.top,k=h.bottom-h.top;v=(i==\"center\"&&C<=k?e.top+C/2-k/2:i==\"start\"||i==\"center\"&&t<0?e.top-s:e.bottom-k+s)-h.top}if(r==\"nearest\"?e.left<h.left?(y=-(h.left-e.left+o),t>0&&e.right>h.right+y&&(y=e.right-h.right+y+o)):e.right>h.right&&(y=e.right-h.right+o,t<0&&e.left<h.left+y&&(y=-(h.left+y-e.left+o))):y=(r==\"center\"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r==\"start\"==a?e.left-o:e.right-(h.right-h.left)+o)-h.left,y||v)if(g)u.scrollBy(y,v);else{let C=0,k=0;if(v){let b=f.scrollTop;f.scrollTop+=v/m,k=(f.scrollTop-b)*m}if(y){let b=f.scrollLeft;f.scrollLeft+=y/p,C=(f.scrollLeft-b)*p}e={left:e.left-C,top:e.top-k,right:e.right-C,bottom:e.bottom-k},C&&Math.abs(C-y)<1&&(r=\"nearest\"),k&&Math.abs(k-v)<1&&(i=\"nearest\")}if(g)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function FQ(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class jQ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ks(t):0),r,Math.min(e.focusOffset,r?ks(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Rc=null;function A6(n){if(n.setActive)return n.setActive();if(Rc)return n.focus(Rc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Rc==null?{get preventScroll(){return Rc={preventScroll:!0},!0}}:void 0),!Rc){Rc=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let t3;function oc(n,e,t=e){let r=t3||(t3=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function gu(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent(\"keydown\",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent(\"keyup\",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function zQ(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function E6(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function VQ(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ks(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable==\"false\"?r--:(t=i,r=ks(t))}else{if(t==n)return!0;r=ic(t),t=t.parentNode}}function T6(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function M6(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable==\"false\")return null;t=t.childNodes[r-1],r=ks(t)}else if(t.parentNode&&!tm(t))r=ic(t),t=t.parentNode;else return null}}function P6(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable==\"false\")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!tm(t))r=ic(t)+1,t=t.parentNode;else return null}}class ti{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new ti(e.parentNode,ic(e),t)}static after(e,t){return new ti(e.parentNode,ic(e)+1,t)}}const l2=[];class Ln{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError(\"Invalid child in posBefore\")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=Ln.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=n3(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=n3(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=ks(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ln.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,u=r,f=r;l<this.children.length;l++){let d=this.children[l],h=u+d.length;if(u<e&&h>t)return d.domBoundsAround(e,t,u);if(h>=e&&i==-1&&(i=l,o=u),u>t&&d.dom.parentNode==this.dom){s=l,a=f;break}f=h,u=h+d.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=l2){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new I6(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace(\"View\",\"\");return e+(this.children.length?\"(\"+this.children.join()+\")\":this.length?\"[\"+(e==\"Text\"?this.text:this.length)+\"]\":\"\")+(this.breakAfter?\"#\":\"\")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ln.prototype.breakAfter=0;function n3(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class I6{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function R6(n,e,t,r,i,o,s,a,l){let{children:u}=n,f=u.length?u[e]:null,d=o.length?o[o.length-1]:null,h=d?d.breakAfter:s;if(!(e==r&&f&&!s&&!h&&o.length<2&&f.merge(t,i,o.length?d:null,t==0,a,l))){if(r<u.length){let g=u[r];g&&(i<g.length||g.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(g=g.split(i),i=0),!h&&d&&g.merge(0,i,d,!0,0,l)?o[o.length-1]=g:((i||g.children.length&&!g.children[0].length)&&g.merge(0,i,null,!1,0,l),o.push(g))):g!=null&&g.breakAfter&&(d?d.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,t>0&&(!s&&o.length&&f.merge(t,f.length,o[0],!1,a,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,a,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(u[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function D6(n,e,t,r,i,o){let s=n.childCursor(),{i:a,off:l}=s.findPos(t,1),{i:u,off:f}=s.findPos(e,-1),d=e-t;for(let h of r)d+=h.length;n.length+=d,R6(n,u,f,a,l,r,0,i,o)}let Ei=typeof navigator<\"u\"?navigator:{userAgent:\"\",vendor:\"\",platform:\"\"},J1=typeof document<\"u\"?document:{documentElement:{style:{}}};const X1=/Edge\\/(\\d+)/.exec(Ei.userAgent),N6=/MSIE \\d/.test(Ei.userAgent),G1=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(Ei.userAgent),Iv=!!(N6||G1||X1),r3=!Iv&&/gecko\\/(\\d+)/i.test(Ei.userAgent),U0=!Iv&&/Chrome\\/(\\d+)/.exec(Ei.userAgent),i3=\"webkitFontSmoothing\"in J1.documentElement.style,L6=!Iv&&/Apple Computer/.test(Ei.vendor),o3=L6&&(/Mobile\\/\\w+/.test(Ei.userAgent)||Ei.maxTouchPoints>2);var tt={mac:o3||/Mac/.test(Ei.platform),windows:/Win/.test(Ei.platform),linux:/Linux|X11/.test(Ei.platform),ie:Iv,ie_version:N6?J1.documentMode||6:G1?+G1[1]:X1?+X1[1]:0,gecko:r3,gecko_version:r3?+(/Firefox\\/(\\d+)/.exec(Ei.userAgent)||[0,0])[1]:0,chrome:!!U0,chrome_version:U0?+U0[1]:0,ios:o3,android:/Android\\b/.test(Ei.userAgent),webkit:i3,safari:L6,webkit_version:i3?+(/\\bAppleWebKit\\/(\\d+)/.exec(Ei.userAgent)||[0,0])[1]:0,tabSize:J1.documentElement.style.tabSize!=null?\"tab-size\":\"-moz-tab-size\"};const HQ=256;class Xo extends Ln{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Xo)||this.length-(t-e)+r.length>HQ||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:\"\")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Xo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ti(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return qQ(this.dom,e,t)}}class ma extends Ln{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(E6(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return r&&(!(r instanceof ma&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(D6(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ma(this.mark,t,s)}domAtPos(e){return B6(this,e)}coordsAt(e,t){return j6(this,e,t)}}function qQ(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&t<0||e==r&&t>=0?tt.chrome||tt.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):t<0?i--:o<r&&o++;let a=oc(n,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:t>=0)?0:a.length-1];return tt.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),s?Pv(l,s<0):l||null}class Va extends Ln{static create(e,t,r){return new Va(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Va.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable=\"false\"))}getSide(){return this.side}merge(e,t,r,i,o,s){return r&&(!(r instanceof Va)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Va&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return wn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):wn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ti.before(this.dom):ti.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return Pv(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Fu extends Ln{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Fu&&e.side==this.side}split(){return new Fu(this.side)}sync(){if(!this.dom){let e=document.createElement(\"img\");e.className=\"cm-widgetBuffer\",e.setAttribute(\"aria-hidden\",\"true\"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ti.before(this.dom):ti.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return wn.empty}get isHidden(){return!0}}Xo.prototype.children=Va.prototype.children=Fu.prototype.children=l2;function B6(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new ti(t,0)}function F6(n,e,t){let r,{children:i}=n;t>0&&e instanceof ma&&i.length&&(r=i[i.length-1])instanceof ma&&r.mark.eq(e.mark)?F6(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function j6(n,e,t){let r=null,i=-1,o=null,s=-1;function a(u,f){for(let d=0,h=0;d<u.children.length&&h<=f;d++){let g=u.children[d],p=h+g.length;p>=f&&(g.children.length?a(g,f-h):(!o||o.isHidden&&t>0)&&(p>f||h==p&&g.getSide()>0)?(o=g,s=f-h):(h<f||h==p&&g.getSide()<0&&!g.isHidden)&&(r=g,i=f-h)),h=p}}a(n,e);let l=(t<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),t):WQ(n)}function WQ(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Dd(e);return t[t.length-1]||null}function Y1(n,e){for(let t in n)t==\"class\"&&e.class?e.class+=\" \"+n.class:t==\"style\"&&e.style?e.style+=\";\"+n.style:e[t]=n[t];return e}const s3=Object.create(null);function nm(n,e,t){if(n==e)return!0;n||(n=s3),e||(e=s3);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function Q1(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i==\"style\"?n.style.cssText=\"\":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i==\"style\"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function UQ(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class hl{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var wi=function(n){return n[n.Text=0]=\"Text\",n[n.WidgetBefore=1]=\"WidgetBefore\",n[n.WidgetAfter=2]=\"WidgetAfter\",n[n.WidgetRange=3]=\"WidgetRange\",n}(wi||(wi={}));class Ct extends rc{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new vh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new tl(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=z6(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(s?t?2e8:1:-6e8)+1}return new tl(e,r,i,t,e.widget||null,!0)}static line(e){return new yh(e)}static set(e,t=!1){return an.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ct.none=an.empty;class vh extends Ct{constructor(e){let{start:t,end:r}=z6(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||\"span\",this.class=e.class||\"\",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof vh&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&nm(this.attrs,e.attrs,\"class\")}range(e,t=e){if(e>=t)throw new RangeError(\"Mark decorations may not be empty\");return super.range(e,t)}}vh.prototype.point=!1;class yh extends Ct{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yh&&this.spec.class==e.spec.class&&nm(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError(\"Line decoration ranges must be zero-length\");return super.range(e,t)}}yh.prototype.mapMode=mi.TrackBefore;yh.prototype.point=!0;class tl extends Ct{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?mi.TrackBefore:mi.TrackAfter:mi.TrackDel}get type(){return this.startSide!=this.endSide?wi.WidgetRange:this.startSide<=0?wi.WidgetBefore:wi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof tl&&KQ(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError(\"Invalid range for replacement decoration\");if(!this.isReplace&&t!=e)throw new RangeError(\"Widget decorations can only have zero-length ranges\");return super.range(e,t)}}tl.prototype.point=!0;function z6(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function KQ(n,e){return n==e||!!(n&&e&&n.compare(e))}function $g(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Cr extends Ln{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof Cr))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),D6(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new Cr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){nm(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){F6(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Y1(t,this.attrs||{})),r&&(this.attrs=Y1({class:r},this.attrs||{}))}domAtPos(e){return B6(this,e)}reuseDOM(e){e.nodeName==\"DIV\"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(E6(this.dom),this.dom.className=\"cm-line\",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement(\"div\")),this.dom.className=\"cm-line\",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Q1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add(\"cm-line\"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Ln.get(i)instanceof ma;)i=i.lastChild;if(!i||!this.length||i.nodeName!=\"BR\"&&((r=Ln.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!tt.ios||!this.children.some(o=>o instanceof Xo))){let o=document.createElement(\"BR\");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Xo)||/[^ -~]/.test(r.text))return null;let i=Dd(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=j6(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Cr&&this.children.length==0&&e.children.length==0&&nm(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof Cr)return o;if(s>t)break}i=s+o.breakAfter}return null}}class ia extends Ln{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return r&&(!(r instanceof ia)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?ti.before(this.dom):ti.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new ia(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return l2}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable=\"false\"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):wn.empty}domBoundsAround(){return null}become(e){return e instanceof ia&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof Z1?null:Pv(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class Z1 extends hl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement(\"div\");return e.className=\"cm-gap\",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+\"px\",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Zf{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text=\"\",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ia&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Cr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(rg(new Fu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ia)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error(\"Ran out of text content when drawing inline views\");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(rg(new Xo(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof tl){if(r.block)throw new RangeError(\"Block decorations may not be specified via plugins\");if(t>this.doc.lineAt(this.pos).to)throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\")}let a=t-e;if(r instanceof tl)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ia(r.widget||ju.block,a,r));else{let l=Va.create(r.widget||ju.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<t||r.startSide>0),f=!l.isEditable&&(e<t||o>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(d.append(rg(new Fu(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(rg(l,i),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text=\"\",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new Zf(e,t,r,o);return s.openEnd=an.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function rg(n,e){for(let t of e)n=new ma(t,[n],n.length);return n}class ju extends hl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}ju.inline=new ju(\"span\");ju.block=new ju(\"div\");var Kn=function(n){return n[n.LTR=0]=\"LTR\",n[n.RTL=1]=\"RTL\",n}(Kn||(Kn={}));const sc=Kn.LTR,c2=Kn.RTL;function V6(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const JQ=V6(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\"),XQ=V6(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\"),$1=Object.create(null),rs=[];for(let n of[\"()\",\"[]\",\"{}\"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);$1[e]=t,$1[t]=-e}function H6(n){return n<=247?JQ[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?XQ[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const GQ=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;class Ha{get dir(){return this.level%2?c2:sc}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError(\"Index out of range\");return o}}function q6(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!q6(r.inner,i.inner))return!1}return!0}const Dn=[];function YQ(n,e,t,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:t,l=o?256:i;for(let u=s,f=l,d=l;u<a;u++){let h=H6(n.charCodeAt(u));h==512?h=f:h==8&&d==4&&(h=16),Dn[u]=h==4?2:h,h&7&&(d=h),f=h}for(let u=s,f=l,d=l;u<a;u++){let h=Dn[u];if(h==128)u<a-1&&f==Dn[u+1]&&f&24?h=Dn[u]=f:Dn[u]=256;else if(h==64){let g=u+1;for(;g<a&&Dn[g]==64;)g++;let p=u&&f==8||g<t&&Dn[g]==8?d==1?1:8:256;for(let m=u;m<g;m++)Dn[m]=p;u=g-1}else h==8&&d==1&&(Dn[u]=1);f=h,h&7&&(d=h)}}}function QQ(n,e,t,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let u=s?r[s-1].to:e,f=s<r.length?r[s].from:t;for(let d=u,h,g,p;d<f;d++)if(g=$1[h=n.charCodeAt(d)])if(g<0){for(let m=a-3;m>=0;m-=3)if(rs[m+1]==-g){let y=rs[m+2],v=y&2?i:y&4?y&1?o:i:0;v&&(Dn[d]=Dn[rs[m]]=v),a=m;break}}else{if(rs.length==189)break;rs[a++]=d,rs[a++]=h,rs[a++]=l}else if((p=Dn[d])==2||p==1){let m=p==i;l=m?0:1;for(let y=a-3;y>=0;y-=3){let v=rs[y+2];if(v&2)break;if(m)rs[y+2]|=2;else{if(v&4)break;rs[y+2]|=4}}}}}function ZQ(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let s=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=s;l<a;){let u=Dn[l];if(u==256){let f=l+1;for(;;)if(f==a){if(i==t.length)break;f=t[i++].to,a=i<t.length?t[i].from:e}else if(Dn[f]==256)f++;else break;let d=o==1,h=(f<e?Dn[f]:r)==1,g=d==h?d?1:2:r;for(let p=f,m=i,y=m?t[m-1].to:n;p>l;)p==y&&(p=t[--m].from,y=m?t[m-1].to:n),Dn[--p]=g;l=f}else o=u,l++}}}function eb(n,e,t,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<t;){let f=!0,d=!1;if(u==o.length||l<o[u].from){let m=Dn[l];m!=a&&(f=!1,d=m==16)}let h=!f&&a==1?[]:null,g=f?r:r+1,p=l;e:for(;;)if(u<o.length&&p==o[u].from){if(d)break e;let m=o[u];if(!f)for(let y=m.to,v=u+1;;){if(y==t)break e;if(v<o.length&&o[v].from==y)y=o[v++].to;else{if(Dn[y]==a)break e;break}}if(u++,h)h.push(m);else{m.from>l&&s.push(new Ha(l,m.from,g));let y=m.direction==sc!=!(g%2);tb(n,y?r+1:r,i,m.inner,m.from,m.to,s),l=m.to}p=m.to}else{if(p==t||(f?Dn[p]!=a:Dn[p]==a))break;p++}h?eb(n,l,p,r+1,i,h,s):l<p&&s.push(new Ha(l,p,g)),l=p}else for(let l=t,u=o.length;l>e;){let f=!0,d=!1;if(!u||l>o[u-1].to){let m=Dn[l-1];m!=a&&(f=!1,d=m==16)}let h=!f&&a==1?[]:null,g=f?r:r+1,p=l;e:for(;;)if(u&&p==o[u-1].to){if(d)break e;let m=o[--u];if(!f)for(let y=m.from,v=u;;){if(y==e)break e;if(v&&o[v-1].to==y)y=o[--v].from;else{if(Dn[y-1]==a)break e;break}}if(h)h.push(m);else{m.to<l&&s.push(new Ha(m.to,l,g));let y=m.direction==sc!=!(g%2);tb(n,y?r+1:r,i,m.inner,m.from,m.to,s),l=m.from}p=m.from}else{if(p==e||(f?Dn[p-1]!=a:Dn[p-1]==a))break;p--}h?eb(n,p,l,r+1,i,h,s):p<l&&s.push(new Ha(p,l,g)),l=p}}function tb(n,e,t,r,i,o,s){let a=e%2?2:1;YQ(n,i,o,r,a),QQ(n,i,o,r,a),ZQ(i,o,r,a),eb(n,i,o,e,t,r,s)}function $Q(n,e,t){if(!n)return[new Ha(0,0,e==c2?1:0)];if(e==sc&&!t.length&&!GQ.test(n))return W6(n.length);if(t.length)for(;n.length>Dn.length;)Dn[Dn.length]=256;let r=[],i=e==sc?0:1;return tb(n,i,i,t,0,n.length,r),r}function W6(n){return[new Ha(0,n,0)]}let U6=\"\";function eZ(n,e,t,r,i){var o;let s=r.head-n.from,a=Ha.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],u=l.side(i,t);if(s==u){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],s=l.side(!i,t),u=l.side(i,t)}let f=Yr(n.text,s,l.forward(i,t));(f<l.from||f>l.to)&&(f=u),U6=n.text.slice(Math.min(s,f),Math.max(s,f));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&f==u&&d.level+(i?0:1)<l.level?Se.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):Se.cursor(f+n.from,l.forward(i,t)?-1:1,l.level)}function tZ(n,e,t){for(let r=e;r<t;r++){let i=H6(n.charCodeAt(r));if(i==1)return sc;if(i==2||i==4)return c2}return sc}const K6=rt.define(),J6=rt.define(),X6=rt.define(),G6=rt.define(),nb=rt.define(),Y6=rt.define(),Q6=rt.define(),u2=rt.define(),f2=rt.define(),Z6=rt.define({combine:n=>n.some(e=>e)}),$6=rt.define({combine:n=>n.some(e=>e)}),eT=rt.define();class pu{constructor(e,t=\"nearest\",r=\"nearest\",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new pu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new pu(Se.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ig=zt.define({map:(n,e)=>n.map(e)}),tT=zt.define();function yi(n,e,t){let r=n.facet(G6);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+\":\",e):console.error(e)}const Ws=rt.define({combine:n=>n.length?n[0]:!0});let nZ=0;const Nf=rt.define();class ir{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new ir(nZ++,e,r,i,a=>{let l=[Nf.of(a)];return s&&l.push(Nd.of(u=>{let f=u.plugin(a);return f?s(f):Ct.none})),o&&l.push(o(a)),l})}static fromClass(e,t){return ir.define(r=>new e(r),t)}}class K0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(yi(t.state,r,\"CodeMirror plugin crashed\"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){yi(e.state,t,\"CodeMirror plugin crashed\"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){yi(e.state,r,\"CodeMirror plugin crashed\")}}deactivate(){this.spec=this.value=null}}const nT=rt.define(),d2=rt.define(),Nd=rt.define(),rT=rt.define(),h2=rt.define(),iT=rt.define();function a3(n,e){let t=n.state.facet(iT);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return an.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let u=o-e.from,f=s-e.from,d=i;for(let h=a.length-1;h>=0;h--,l--){let g=a[h].spec.bidiIsolate,p;if(g==null&&(g=tZ(e.text,u,f)),l>0&&d.length&&(p=d[d.length-1]).to==u&&p.direction==g)p.to=f,d=p.inner;else{let m={from:u,to:f,direction:g,inner:[]};d.push(m),d=m.inner}}}}),i}const oT=rt.define();function g2(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(oT)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Lf=rt.define();class fo{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new fo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],u=s-a,f=l?l.fromB:1e9;for(;o<t.length&&t[o]<f;){let d=t[o],h=t[o+1],g=Math.max(a,d),p=Math.min(f,h);if(g<=p&&new fo(g+u,p+u,g,p).addToSet(r),h>f)break;o+=2}if(!l)return r;new fo(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class rm{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Sr.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new fo(o,s,a,l))),this.changedRanges=i}static create(e,t,r){return new rm(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class l3 extends Ln{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ct.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Cr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new fo(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:f})=>f<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!cZ(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?iZ(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:f}=this.hasComposition;r=new fo(u,f,e.changes.mapPos(u,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(tt.ie||tt.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=aZ(s,a,e.changes);return r=fo.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+\"px\",this.dom.style.flexBasis=this.minWidth?this.minWidth+\"px\":\"\";let s=tt.chrome||tt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=\"\"}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ia&&s.widget instanceof Z1&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:u,fromB:f,toB:d}=a,h,g,p,m;if(r&&r.range.fromB<d&&r.range.toB>f){let b=Zf.build(this.view.state.doc,f,r.range.fromB,this.decorations,this.dynamicDecorationMap),w=Zf.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);g=b.breakAtStart,p=b.openStart,m=w.openEnd;let E=this.compositionView(r);w.breakAtStart?E.breakAfter=1:w.content.length&&E.merge(E.length,E.length,w.content[0],!1,w.openStart,0)&&(E.breakAfter=w.content[0].breakAfter,w.content.shift()),b.content.length&&E.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),h=b.content.concat(E).concat(w.content)}else({content:h,breakAtStart:g,openStart:p,openEnd:m}=Zf.build(this.view.state.doc,f,d,this.decorations,this.dynamicDecorationMap));let{i:y,off:v}=o.findPos(u,1),{i:C,off:k}=o.findPos(l,-1);R6(this,C,k,y,v,h,g,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(tT)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Xo(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new ma(i,[t],t.length);let r=new Cr;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=Ln.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet(Ws)||this.dom.tabIndex>-1)&&Zg(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(tt.gecko&&a.empty&&!this.hasComposition&&rZ(l)){let d=document.createTextNode(\"\");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=u=new ti(d,0),s=!0}let f=this.view.observer.selectionRange;(s||!f.focusNode||(!Qf(l.node,l.offset,f.anchorNode,f.anchorOffset)||!Qf(u.node,u.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,a))&&(this.view.observer.ignore(()=>{tt.android&&tt.chrome&&this.dom.contains(f.focusNode)&&lZ(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Rd(this.view.root);if(d)if(a.empty){if(tt.gecko){let h=oZ(l.node,l.offset);if(h&&h!=3){let g=(h==1?M6:P6)(l.node,l.offset);g&&(l=new ti(g.node,g.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(h)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new ti(f.anchorNode,f.anchorOffset),this.impreciseHead=u.precise?null:new ti(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Qf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Rd(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=Cr.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let l=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!l||!u||l.bottom>u.top)return;let f=this.domAtPos(t.head+t.assoc);r.collapse(f.node,f.offset),r.modify(\"move\",t.assoc<0?\"forward\":\"backward\",\"lineboundary\"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=Ln.get(t.childNodes[i]);o instanceof Cr&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Ln.get(t.childNodes[i]);o instanceof Cr&&(r=o.domAtPos(o.length))}return r?new ti(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Ln.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError(\"Trying to find position for a DOM position outside of the document\");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Cr)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Cr&&!(r instanceof Cr&&t>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof ia&&Math.abs(t)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=u}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Cr))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Xo))return null;let o=Yr(i.text,r);if(o==r)return null;let s=oc(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Kn.LTR;for(let u=0,f=0;f<this.children.length;f++){let d=this.children[f],h=u+d.length;if(h>i)break;if(u>=r){let g=d.dom.getBoundingClientRect();if(t.push(g.height),s){let p=d.dom.lastChild,m=p?Dd(p):[];if(m.length){let y=m[m.length-1],v=l?y.right-g.left:g.right-y.left;v>a&&(a=v,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction==\"rtl\"?Kn.RTL:Kn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Cr){let s=o.measureTextSize();if(s)return s}let e=document.createElement(\"div\"),t,r,i;return e.className=\"cm-line\",e.style.width=\"99999px\",e.style.position=\"absolute\",e.textContent=\"abc def ghi jkl mno pqr stu\",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Dd(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new I6(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Ct.replace({widget:new Z1(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return Ct.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Nd).map(o=>(this.dynamicDecorationMap[e++]=typeof o==\"function\")?o(this.view):o),r=!1,i=this.view.state.facet(rT).map((o,s)=>{let a=typeof o==\"function\";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(an.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(eT))try{if(u(this.view,e.range,e))return!0}catch(f){yi(this.view.state,f,\"scroll handler\")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=g2(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;BQ(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Kn.LTR)}}function rZ(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable==\"false\")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable==\"false\")}function sT(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=M6(t.focusNode,t.focusOffset),i=P6(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=Ln.get(i.node);if(!a||a instanceof Xo&&a.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let l=Ln.get(r.node);!l||l instanceof Xo&&l.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function iZ(n,e,t){let r=sT(n,t);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\\n\\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new fo(l.mapPos(o),l.mapPos(s),o,s),f=[];for(let d=i.parentNode;;d=d.parentNode){let h=Ln.get(d);if(h instanceof ma)f.push({node:d,deco:h.mark});else{if(h instanceof Cr||d.nodeName==\"DIV\"&&d.parentNode==n.contentDOM)return{range:u,text:i,marks:f,line:d};if(d!=n.contentDOM)f.push({node:d,deco:new vh({inclusive:!0,attributes:UQ(d),tagName:d.tagName.toLowerCase()})});else return null}}}function oZ(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable==\"false\"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable==\"false\"?2:0)}let sZ=class{constructor(){this.changes=[]}compareRange(e,t){$g(e,t,this.changes)}comparePoint(e,t){$g(e,t,this.changes)}boundChange(e){$g(e,e,this.changes)}};function aZ(n,e,t){let r=new sZ;return an.compare(n,e,t,r),r.changes}function lZ(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable==\"false\")return!0;return!1}function cZ(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function uZ(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return Se.cursor(e);o==0?t=1:o==i.length&&(t=-1);let s=o,a=o;t<0?s=Yr(i.text,o,!1):a=Yr(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let u=Yr(i.text,s,!1);if(r(i.text.slice(u,s))!=l)break;s=u}for(;a<i.length;){let u=Yr(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return Se.range(s+i.from,a+i.from)}function fZ(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function dZ(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function J0(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function c3(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function u3(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function rb(n,e,t){let r,i,o,s,a=!1,l,u,f,d;for(let p=n.firstChild;p;p=p.nextSibling){let m=Dd(p);for(let y=0;y<m.length;y++){let v=m[y];i&&J0(i,v)&&(v=c3(u3(v,i.bottom),i.top));let C=fZ(e,v),k=dZ(t,v);if(C==0&&k==0)return p.nodeType==3?f3(p,e,t):rb(p,e,t);if(!r||s>k||s==k&&o>C){r=p,i=v,o=C,s=k;let b=k?t<v.top?-1:1:C?e<v.left?-1:1:0;a=!b||(b>0?y<m.length-1:y>0)}C==0?t>v.bottom&&(!f||f.bottom<v.bottom)?(l=p,f=v):t<v.top&&(!d||d.top>v.top)&&(u=p,d=v):f&&J0(f,v)?f=u3(f,v.bottom):d&&J0(d,v)&&(d=c3(d,v.top))}}if(f&&f.bottom>=t?(r=l,i=f):d&&d.top<=t&&(r=u,i=d),!r)return{node:n,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return f3(r,h,t);if(a&&r.contentEditable!=\"false\")return rb(r,h,t);let g=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:g}}function f3(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=oc(n,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(f.top==f.bottom)continue;s||(s=e-f.left);let d=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&d<o){let h=e>=(f.left+f.right)/2,g=h;if((tt.chrome||tt.gecko)&&oc(n,a).getBoundingClientRect().left==f.right&&(g=!h),d<=0)return{node:n,offset:a+(g?1:0)};i=a+(g?1:0),o=d}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function aT(n,e,t,r=-1){var i,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,l,{docHeight:u}=n.viewState,{x:f,y:d}=e,h=d-a;if(h<0)return 0;if(h>u)return n.state.doc.length;for(let b=n.viewState.heightOracle.textHeight/2,w=!1;l=n.elementAtHeight(h),l.type!=wi.Text;)for(;h=r>0?l.bottom+b:l.top-b,!(h>=0&&h<=u);){if(w)return t?null:0;w=!0,r=-r}d=a+h;let g=l.from;if(g<n.viewport.from)return n.viewport.from==0?0:t?null:d3(n,s,l,f,d);if(g>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:d3(n,s,l,f,d);let p=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:p,y=m.elementFromPoint(f,d);y&&!n.contentDOM.contains(y)&&(y=null),y||(f=Math.max(s.left+1,Math.min(s.right-1,f)),y=m.elementFromPoint(f,d),y&&!n.contentDOM.contains(y)&&(y=null));let v,C=-1;if(y&&((i=n.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let b=p.caretPositionFromPoint(f,d);b&&({offsetNode:v,offset:C}=b)}else if(p.caretRangeFromPoint){let b=p.caretRangeFromPoint(f,d);b&&({startContainer:v,startOffset:C}=b,(!n.contentDOM.contains(v)||tt.safari&&hZ(v,C,f)||tt.chrome&&gZ(v,C,f))&&(v=void 0))}v&&(C=Math.min(ks(v),C))}if(!v||!n.docView.dom.contains(v)){let b=Cr.find(n.docView,g);if(!b)return h>l.top+l.height/2?l.to:l.from;({node:v,offset:C}=rb(b.dom,f,d))}let k=n.docView.nearest(v);if(!k)return null;if(k.isWidget&&((o=k.dom)===null||o===void 0?void 0:o.nodeType)==1){let b=k.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(v,C)+k.posAtStart}function d3(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+q1(s,o,n.state.tabSize)}function hZ(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!=\"BR\")return!1;return oc(n,r-1,r).getBoundingClientRect().left>t}function gZ(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains(\"cm-line\"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():oc(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function ib(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==wi.Text))return r}return t}function pZ(n,e,t,r){let i=ib(n,e.head),o=!r||i.type!=wi.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==Kn.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Se.cursor(l,t?-1:1)}return Se.cursor(t?i.to:i.from,t?-1:1)}function h3(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let a=e,l=null;;){let u=eZ(i,o,s,a,t),f=U6;if(!u){if(i.number==(t?n.state.doc.lines:1))return a;f=`\n`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(l){if(!l(f))return a}else{if(!r)return u;l=r(f)}a=u}}function mZ(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let s=r(o);return i==Yn.Space&&(i=s),i==s}}function vZ(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return Se.cursor(i,e.assoc);let s=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,e.assoc||-1),f=n.documentTop;if(u)s==null&&(s=u.left-l.left),a=o<0?u.top:u.bottom;else{let g=n.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-g.from))),a=(o<0?g.top:g.bottom)+f}let d=l.left+s,h=r??n.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let p=a+(h+g)*o,m=aT(n,{x:d,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let y=n.docView.coordsForChar(m),v=!y||p<y.top?-1:1;return Se.cursor(m,v,void 0,s)}}}function ep(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||t||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function X0(n,e,t){let r=ep(n.state.facet(h2).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:Se.cursor(r,r<t.from?1:-1)}const Bf=\"\";class yZ{constructor(e,t){this.points=e,this.text=\"\",this.lineSeparator=t.facet(en.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Bf}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let a=Ln.get(i),l=Ln.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:tm(i))||tm(s)&&(i.nodeName!=\"BR\"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\\r\\n?|\\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let t=Ln.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName==\"BR\"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(bZ(e,r.node,r.offset)?t:0))}}function bZ(n,e,t){for(;;){if(!e||t<ks(e))return!1;if(e==n)return!0;t=ic(e)+1,e=e.parentNode}}class g3{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class wZ{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text=\"\",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=o||s?[]:_Z(e),l=new yZ(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=SZ(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!K1(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!K1(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),f=e.viewport;if((tt.ios||tt.chrome)&&e.state.selection.main.empty&&l!=u&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(l,u),h=Math.max(l,u),g=f.from-d,p=f.to-h;(g==0||g==1||d==0)&&(p==0||p==-1||h==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=Se.single(u,l)}}}function lT(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,u=null;(o===8||tt.android&&e.text.length<a-s)&&(l=i.to,u=\"end\");let f=CZ(n.state.doc.sliceString(s,a,Bf),e.text,l-s,u);f&&(tt.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Bf+Bf&&f.toB--,t={from:s+f.from,to:s+f.toA,insert:wn.of(e.text.slice(f.from,f.toB).split(Bf))})}else r&&(!n.hasFocus&&n.state.facet(Ws)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(tt.mac||tt.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute(\"autocorrect\")==\"off\"?(r&&t.insert.length==2&&(r=Se.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:wn.of([t.insert.toString().replace(\".\",\" \")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:tt.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`\n `&&n.lineWrapping&&(r&&(r=Se.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:wn.of([\" \"])}),t)return p2(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,a=\"select\";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin==\"select\"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function p2(n,e,t,r=-1){if(tt.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(tt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==\" \")&&e.insert.length==1&&e.insert.lines==2&&gu(n.contentDOM,\"Enter\",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&gu(n.contentDOM,\"Backspace\",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&gu(n.contentDOM,\"Delete\",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,a=()=>s||(s=xZ(n,e,t));return n.state.facet(Y6).some(l=>l(n,e.from,e.to,o,a))||n.dispatch(a()),!0}function xZ(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):\"\",l=o.to>e.to?i.sliceDoc(e.to,o.to):\"\";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=n.state.sliceDoc(e.from,e.to),f,d=t&&sT(n,t.main.head);if(d){let p=e.insert.length-(e.to-e.from);f={from:d.from,to:d.to-p}}else f=n.state.doc.lineAt(o.head);let h=o.to-e.to,g=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let m=p.to-h,y=m-u.length;if(p.to-p.from!=g||n.state.sliceDoc(y,m)!=u||p.to>=f.from&&p.from<=f.to)return{range:p};let v=i.changes({from:y,to:m,insert:e.insert}),C=p.to-o.to;return{changes:v,range:l?Se.range(Math.max(0,l.anchor+C),Math.max(0,l.head+C)):p.map(v)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s=\"input.type\";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=\".compose\",n.inputState.compositionFirstChange&&(s+=\".start\",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function CZ(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r==\"end\"){let l=Math.max(0,o-Math.min(s,a));t-=s+l-o}if(s<o&&n.length<e.length){let l=t<=o&&t>=s?o-t:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=t<=o&&t>=a?o-t:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function _Z(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new g3(t,r)),(i!=t||o!=r)&&e.push(new g3(i,o))),e}function SZ(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?Se.single(t+e,r+e):null}class kZ{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,tt.safari&&e.contentDOM.addEventListener(\"input\",()=>null),tt.gecko&&VZ(e.contentDOM.ownerDocument)}handleEvent(e){!RZ(this.view,e)||this.ignoreDuringComposition(e)||e.type==\"keydown\"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=OZ(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!=\"scroll\"){let s=!t[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!=\"scroll\"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&uT.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),tt.android&&tt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return tt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=cT.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||AZ.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key==\"Enter\"&&e&&e.from<e.to&&/^\\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,gu(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:tt.safari&&!tt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function p3(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){yi(t.state,i)}}}function OZ(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(p3(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(p3(r.value,s))}}for(let r in Go)t(r).handlers.push(Go[r]);for(let r in wo)t(r).observers.push(wo[r]);return e}const cT=[{key:\"Backspace\",keyCode:8,inputType:\"deleteContentBackward\"},{key:\"Enter\",keyCode:13,inputType:\"insertParagraph\"},{key:\"Enter\",keyCode:13,inputType:\"insertLineBreak\"},{key:\"Delete\",keyCode:46,inputType:\"deleteContentForward\"}],AZ=\"dthko\",uT=[16,17,18,20,91,92,224,225],og=6;function sg(n){return Math.max(0,n)*.7+8}function EZ(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class TZ{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=FQ(e.contentDOM),this.atoms=e.state.facet(h2).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener(\"mousemove\",this.move=this.move.bind(this)),o.addEventListener(\"mouseup\",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(en.allowMultipleSelections)&&MZ(e,t),this.dragging=IZ(e,t)&&hT(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&EZ(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=g2(this.view);e.clientX-l.left<=i+og?t=-sg(i-e.clientX):e.clientX+l.right>=s-og&&(t=sg(e.clientX-s)),e.clientY-l.top<=o+og?r=-sg(o-e.clientY):e.clientY+l.bottom>=a-og&&(r=sg(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener(\"mousemove\",this.move),e.removeEventListener(\"mouseup\",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=ep(this.atoms,i.from,0);s!=i.from&&(o=Se.cursor(s,-1))}else{let s=ep(this.atoms,i.from,-1),a=ep(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Se.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?Se.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:\"select.pointer\"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent(\"input.type\"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function MZ(n,e){let t=n.state.facet(K6);return t.length?t[0](e):tt.mac?e.metaKey:e.ctrlKey}function PZ(n,e){let t=n.state.facet(J6);return t.length?t[0](e):tt.mac?!e.altKey:!e.ctrlKey}function IZ(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Rd(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function RZ(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Ln.get(t))&&r.ignoreEvent(e))return!1;return!0}const Go=Object.create(null),wo=Object.create(null),fT=tt.ie&&tt.ie_version<15||tt.ios&&tt.webkit_version<604;function DZ(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement(\"textarea\"));t.style.cssText=\"position: fixed; left: -10000px; top: 10px\",t.focus(),setTimeout(()=>{n.focus(),t.remove(),dT(n,t.value)},50)}function Rv(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function dT(n,e){e=Rv(n.state,u2,e);let{state:t}=n,r,i=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(ob!=null&&t.selection.ranges.every(l=>l.empty)&&ob==o.toString()){let l=-1;r=t.changeByRange(u=>{let f=t.doc.lineAt(u.from);if(f.from==l)return{range:u};l=f.from;let d=t.toText((s?o.line(i++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:d},range:Se.cursor(u.from+d.length)}})}else s?r=t.changeByRange(l=>{let u=o.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:Se.cursor(l.from+u.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:\"input.paste\",scrollIntoView:!0})}wo.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Go.keydown=(n,e)=>(n.inputState.setSelectionOrigin(\"select\"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);wo.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin(\"select.pointer\")};wo.touchmove=n=>{n.inputState.setSelectionOrigin(\"select.pointer\")};Go.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(X6))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=BZ(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new TZ(n,e,t,r)),r&&n.observer.ignore(()=>{A6(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function m3(n,e,t,r){if(r==1)return Se.cursor(e,t);if(r==2)return uZ(n.state,e,t);{let i=Cr.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,Se.range(s,a)}}let v3=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function NZ(n,e,t,r){let i=Cr.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&v3(t,r,s))return-1;let a=i.coordsAt(o,1);return a&&v3(t,r,a)?1:s&&s.bottom>=r?-1:1}function y3(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:NZ(n,t,e.clientX,e.clientY)}}const LZ=tt.ie&&tt.ie_version<=11;let b3=null,w3=0,x3=0;function hT(n){if(!LZ)return n.detail;let e=b3,t=x3;return b3=n,x3=Date.now(),w3=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(w3+1)%3:1}function BZ(n,e){let t=y3(n,e),r=hT(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,s,a){let l=y3(n,o),u,f=m3(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!s){let d=m3(n,t.pos,t.bias,r),h=Math.min(d.from,f.from),g=Math.max(d.to,f.to);f=h<f.from?Se.range(h,g):Se.range(g,h)}return s?i.replaceRange(i.main.extend(f.from,f.to)):a&&r==1&&i.ranges.length>1&&(u=FZ(i,l.pos))?u:a?i.addRange(f):Se.create([f])}}}function FZ(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return Se.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Go.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=Se.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData(\"Text\",Rv(n.state,f2,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed=\"copyMove\"),!1};Go.dragend=n=>(n.inputState.draggedContent=null,!1);function C3(n,e,t,r){if(t=Rv(n.state,u2,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&PZ(n,e)?{from:o.from,to:o.to}:null,a={from:i,insert:t},l=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?\"move.drop\":\"input.drop\"}),n.inputState.draggedContent=null}Go.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&C3(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData(\"Text\");if(r)return C3(n,e,r,!0),!0}return!1};Go.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=fT?null:e.clipboardData;return t?(dT(n,t.getData(\"text/plain\")||t.getData(\"text/uri-list\")),!0):(DZ(n),!1)};function jZ(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement(\"textarea\"));r.style.cssText=\"position: fixed; left: -10000px; top: 10px\",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function zZ(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>i&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),i=s.number}r=!0}return{text:Rv(n,f2,e.join(n.lineBreak)),ranges:t,linewise:r}}let ob=null;Go.copy=Go.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=zZ(n.state);if(!t&&!i)return!1;ob=i?t:null,e.type==\"cut\"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:\"delete.cut\"});let o=fT?null:e.clipboardData;return o?(o.clearData(),o.setData(\"text/plain\",t),!0):(jZ(n,t),!1)};const gT=dl.define();function pT(n,e){let t=[];for(let r of n.facet(Q6)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:gT.of(!0)}):null}function mT(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=pT(n.state,e);t?n.dispatch(t):n.update([])}},10)}wo.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),mT(n)};wo.blur=n=>{n.observer.clearSelectionRange(),mT(n)};wo.compositionstart=wo.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};wo.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,tt.chrome&&tt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};wo.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Go.beforeinput=(n,e)=>{var t,r;if(e.inputType==\"insertReplacementText\"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData(\"text/plain\"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=n.posAtDOM(a.startContainer,a.startOffset),u=n.posAtDOM(a.endContainer,a.endOffset);return p2(n,{from:l,to:u,insert:n.state.toText(o)},null),!0}}let i;if(tt.chrome&&tt.android&&(i=cT.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key==\"Backspace\"||i.key==\"Delete\")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return tt.ios&&e.inputType==\"deleteContentForward\"&&n.observer.flushSoon(),tt.safari&&e.inputType==\"insertText\"&&n.inputState.composing>=0&&setTimeout(()=>wo.compositionend(n,e),20),!1};const _3=new Set;function VZ(n){_3.has(n)||(_3.add(n),n.addEventListener(\"copy\",()=>{}),n.addEventListener(\"cut\",()=>{}))}const S3=[\"pre-wrap\",\"normal\",\"pre-line\",\"break-spaces\"];let zu=!1;function k3(){zu=!1}class HZ{constructor(e){this.lineWrapping=e,this.doc=wn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return S3.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,s){let a=S3.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<s.length;u++){let f=s[u];f<0?u++:this.heightSamples[Math.floor(f*10)]=!0}}return l}}class qZ{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class fs{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content==\"number\"?wi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof tl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content==\"number\"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fs(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Un=function(n){return n[n.ByPos=0]=\"ByPos\",n[n.ByHeight=1]=\"ByHeight\",n[n.ByPosNoHeight=2]=\"ByPosNoHeight\",n}(Un||(Un={}));const tp=.001;class xi{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>tp&&(zu=!0),this.height=e)}replace(e,t,r){return xi.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:f,toB:d}=i[a],h=o.lineAt(l,Un.ByPosNoHeight,r.setDoc(t),0,0),g=h.to>=u?h:o.lineAt(u,Un.ByPosNoHeight,r,0,0);for(d+=g.to-u,u=g.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,f=i[a-1].fromB,a--,l<h.from&&(h=o.lineAt(l,Un.ByPosNoHeight,r,0,0));f+=h.from-l,l=h.from;let p=m2.build(r.setDoc(s),e,f,d);o=im(o,o.replace(l,u,p))}return o.updateHeight(r,0)}static empty(){return new Vi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new WZ(xi.of(e.slice(0,t)),s,xi.of(e.slice(r)))}}function im(n,e){return n==e?n:(n.constructor!=e.constructor&&(zu=!0),e)}xi.prototype.size=1;class vT extends xi{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new fs(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Vi extends vT{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new fs(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Vi||i instanceof Ur&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Ur?i=new Vi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):xi.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:\"\"}${this.widgetHeight?\":\"+this.widgetHeight:\"\"})`}}class Ur extends xi{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=t.doc.lineAt(u),d=a+f.length*l,h=Math.max(r,e-d/2);return new fs(f.from,f.length,h,d,0)}else{let u=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:f,length:d}=t.doc.line(o+u);return new fs(f,d,r+a*u,a,0)}}lineAt(e,t,r,i,o){if(t==Un.ByHeight)return this.blockAt(e,r,i,o);if(t==Un.ByPosNoHeight){let{from:g,to:p}=r.doc.lineAt(e);return new fs(g,p-g,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),u=r.doc.lineAt(e),f=a+u.length*l,d=u.number-s,h=i+a*d+l*(u.from-o-d);return new fs(u.from,u.length,Math.max(i,Math.min(h,i+this.height-f)),f,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,o);for(let f=e,d=i;f<=t;){let h=r.doc.lineAt(f);if(f==e){let p=h.number-a;d+=l*p+u*(e-o-p)}let g=l+u*h.length;s(new fs(h.from,h.length,d,g,0)),d+=g,f=h.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof Ur?r[r.length-1]=new Ur(o.length+i):r.push(null,new Ur(i-1))}if(e>0){let o=r[0];o instanceof Ur?r[0]=new Ur(e+o.length):r.unshift(new Ur(e-1),null)}return xi.of(r)}decomposeLeft(e,t){t.push(new Ur(e-1),null)}decomposeRight(e,t){t.push(null,new Ur(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&s.push(new Ur(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){let f=e.doc.lineAt(a).length;s.length&&s.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=tp&&(l=-2);let h=new Vi(f,d);h.outdated=!1,s.push(h),a+=f+1}a<=o&&s.push(null,new Ur(o-a).updateHeight(e,a));let u=xi.of(s);return(l<0||Math.abs(u.height-this.height)>=tp||Math.abs(l-this.heightMetrics(e,t).perLine)>=tp)&&(zu=!0),im(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class WZ extends xi{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=t==Un.ByHeight?e<s:e<a,u=l?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,a);if(this.break||(l?u.to<a:u.from>a))return u;let f=t==Un.ByPosNoHeight?Un.ByPosNoHeight:Un.ByPos;return l?u.join(this.right.lineAt(a,f,r,s,a)):this.left.lineAt(a,f,r,i,o).join(u)}forEachLine(e,t,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,o,s),t>=l&&this.right.forEachLine(e,t,r,a,l,s);else{let u=this.lineAt(l,Un.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,s),u.to>=e&&u.from<=t&&s(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,a,l,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&O3(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),O3(o,a)}return xi.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?xi.of(this.break?[e,null,t]:[e,t]):(this.left=im(this.left,e),this.right=im(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,a=t+o.length+this.break,l=null;return i&&i.from<=t+o.length&&i.more?l=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?\" \":\"-\")+this.right}}function O3(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Ur&&(r=n[e+1])instanceof Ur&&n.splice(e-1,3,new Ur(t.length+1+r.length))}const UZ=5;class m2{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Vi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Vi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new vT(s,i,r)):(s||o||i>=UZ)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Vi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Ur(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Vi)return e;let t=new Vi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Vi)&&!this.isCovered?this.nodes.push(new Vi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Vi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new m2(r,e);return an.spans(t,r,i,o,0),o.finish(r)}}function KZ(n,e,t){let r=new JZ;return an.compare(n,e,t,r,0),r.changes}class JZ{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&$g(e,t,this.changes,5)}}function XZ(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let f=u,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!=\"visible\"){let h=f.getBoundingClientRect();o=Math.max(o,h.left),s=Math.min(s,h.right),a=Math.max(a,h.top),l=Math.min(u==n.parentNode?i.innerHeight:l,h.bottom)}u=d.position==\"absolute\"||d.position==\"fixed\"?f.offsetParent:f.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function GZ(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function YZ(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class G0{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return Ct.replace({widget:new QZ(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class QZ extends hl{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement(\"div\");return this.vertical?e.style.height=this.size+\"px\":(e.style.width=this.size+\"px\",e.style.height=\"2px\",e.style.display=\"inline-block\"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class A3{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=E3,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Kn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(d2).some(r=>typeof r!=\"function\"&&r.class==\"cm-lineWrapping\");this.heightOracle=new HZ(t),this.stateDeco=e.facet(Nd).filter(r=>typeof r!=\"function\"),this.heightMap=xi.empty().applyChanges(this.stateDeco,wn.empty,this.heightOracle.setDoc(e.doc),[new fo(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ct.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new ag(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?E3:new v2(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ff(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Nd).filter(f=>typeof f!=\"function\");let i=e.changedRanges,o=fo.extendWithRanges(i,KZ(r,this.stateDeco,e?e.changes:Sr.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);k3(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||zu)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet($6)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction==\"rtl\"?Kn.RTL:Kn.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,f=0;if(a.width&&a.height){let{scaleX:b,scaleY:w}=O6(t,a);(b>.005&&Math.abs(this.scaleX-b)>.005||w>.005&&Math.abs(this.scaleY-w)>.005)&&(this.scaleX=b,this.scaleY=w,u|=16,s=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=T6(e.scrollDOM);let p=(this.printing?YZ:XZ)(t,this.paddingTop),m=p.top-this.pixelViewport.top,y=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!GZ(e.dom))return 0;let C=a.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let b=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(b)&&(s=!0),s||i.lineWrapping&&Math.abs(C-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:E,textHeight:O}=e.docView.measureTextSize();s=w>0&&i.refresh(o,w,E,O,C/E,b),s&&(e.docView.minWidth=0,u|=16)}m>0&&y>0?f=Math.max(m,y):m<0&&y<0&&(f=Math.min(m,y)),k3();for(let w of this.viewports){let E=w.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?xi.empty().applyChanges(this.stateDeco,wn.empty,this.heightOracle,[new fo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new qZ(w.from,E))}zu&&(u|=2)}let k=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),u|=this.updateForViewport()),(u&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new ag(i.lineAt(s-r*1e3,Un.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,Un.ByHeight,o,0,0).to);if(t){let{head:u}=t.range;if(u<l.from||u>l.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,Un.ByPos,o,0,0),h;t.y==\"center\"?h=(d.top+d.bottom)/2-f/2:t.y==\"start\"||t.y==\"nearest\"&&u<l.from?h=d.top:h=d.bottom-f,l=new ag(i.lineAt(h-1e3/2,Un.ByHeight,o,0,0).from,i.lineAt(h+f+1e3/2,Un.ByHeight,o,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new ag(this.heightMap.lineAt(r,Un.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Un.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Un.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Un.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new G0(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=Kn.LTR&&!r)return[];let a=[],l=(f,d,h,g)=>{if(d-f<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>f&&v<d){l(f,v-10,h,g),l(v+10,d,h,g);return}let y=$Z(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-f)<o&&Math.abs(v.to-d)<o&&!m.some(C=>v.from<C&&v.to>C));if(!y){if(d<h.to&&t&&r&&t.visibleRanges.some(k=>k.from<=d&&k.to>=d)){let k=t.moveToLineBoundary(Se.cursor(d),!1,!0).head;k>f&&(d=k)}let v=this.gapSize(h,f,d,g),C=r||v<2e6?v:2e6;y=new G0(f,d,v,C)}a.push(y)},u=f=>{if(f.length<s||f.type!=wi.Text)return;let d=ZZ(f.from,f.to,this.stateDeco);if(d.total<s)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,g,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,v;if(h!=null){let C=cg(d,h),k=((this.visibleBottom-this.visibleTop)/2+m)/f.height;y=C-k,v=C+k}else y=(this.visibleTop-f.top-m)/f.height,v=(this.visibleBottom-f.top+m)/f.height;g=lg(d,y),p=lg(d,v)}else{let m=d.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,v=0;if(m>2e6)for(let E of e)E.from>=f.from&&E.from<f.to&&E.size!=E.displaySize&&E.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=E.size-E.displaySize);let C=this.pixelViewport.left+v,k=this.pixelViewport.right+v,b,w;if(h!=null){let E=cg(d,h),O=((k-C)/2+y)/m;b=E-O,w=E+O}else b=(C-y)/m,w=(k+y)/m;g=lg(d,b),p=lg(d,w)}g>f.from&&l(f.from,g,f,d),p<f.to&&l(p,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(u):u(f);return a}gapSize(e,t,r,i){let o=cg(i,r)-cg(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){G0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ct.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];an.spans(t,this.viewport.from,this.viewport.to,{span(o,s){r.push({from:o,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let s=this.visibleRanges[o],a=r[o];(s.from!=a.from||s.to!=a.to)&&(i|=4,e&&e.mapPos(s.from,-1)==a.from&&e.mapPos(s.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Ff(this.heightMap.lineAt(e,Un.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Ff(this.heightMap.lineAt(this.scaler.fromDOM(e),Un.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Ff(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ag{constructor(e,t){this.from=e,this.to=t}}function ZZ(n,e,t){let r=[],i=n,o=0;return an.spans(t,n,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function lg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function cg(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function $Z(n,e){for(let t of n)if(e(t))return t}const E3={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class v2{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let u=t.lineAt(a,Un.ByPos,e,0,0).top,f=t.lineAt(l,Un.ByPos,e,0,0).bottom;return i+=f-u,{from:a,to:l,top:u,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof v2?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Ff(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new fs(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Ff(i,e)):n._content)}const ug=rt.define({combine:n=>n.join(\" \")}),sb=rt.define({combine:n=>n.indexOf(!0)>-1}),ab=$a.newName(),yT=$a.newName(),bT=$a.newName(),wT={\"&light\":\".\"+yT,\"&dark\":\".\"+bT};function lb(n,e,t){return new $a(e,{finish(r){return/&/.test(r)?r.replace(/&\\w*/,i=>{if(i==\"&\")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+\" \"+r}})}const e$=lb(\".\"+ab,{\"&\":{position:\"relative !important\",boxSizing:\"border-box\",\"&.cm-focused\":{outline:\"1px dotted #212121\"},display:\"flex !important\",flexDirection:\"column\"},\".cm-scroller\":{display:\"flex !important\",alignItems:\"flex-start !important\",fontFamily:\"monospace\",lineHeight:1.4,height:\"100%\",overflowX:\"auto\",position:\"relative\",zIndex:0,overflowAnchor:\"none\"},\".cm-content\":{margin:0,flexGrow:2,flexShrink:0,display:\"block\",whiteSpace:\"pre\",wordWrap:\"normal\",boxSizing:\"border-box\",minHeight:\"100%\",padding:\"4px 0\",outline:\"none\",\"&[contenteditable=true]\":{WebkitUserModify:\"read-write-plaintext-only\"}},\".cm-lineWrapping\":{whiteSpace_fallback:\"pre-wrap\",whiteSpace:\"break-spaces\",wordBreak:\"break-word\",overflowWrap:\"anywhere\",flexShrink:1},\"&light .cm-content\":{caretColor:\"black\"},\"&dark .cm-content\":{caretColor:\"white\"},\".cm-line\":{display:\"block\",padding:\"0 2px 0 6px\"},\".cm-layer\":{position:\"absolute\",left:0,top:0,contain:\"size style\",\"& > *\":{position:\"absolute\"}},\"&light .cm-selectionBackground\":{background:\"#d9d9d9\"},\"&dark .cm-selectionBackground\":{background:\"#222\"},\"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\":{background:\"#d7d4f0\"},\"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\":{background:\"#233\"},\".cm-cursorLayer\":{pointerEvents:\"none\"},\"&.cm-focused > .cm-scroller > .cm-cursorLayer\":{animation:\"steps(1) cm-blink 1.2s infinite\"},\"@keyframes cm-blink\":{\"0%\":{},\"50%\":{opacity:0},\"100%\":{}},\"@keyframes cm-blink2\":{\"0%\":{},\"50%\":{opacity:0},\"100%\":{}},\".cm-cursor, .cm-dropCursor\":{borderLeft:\"1.2px solid black\",marginLeft:\"-0.6px\",pointerEvents:\"none\"},\".cm-cursor\":{display:\"none\"},\"&dark .cm-cursor\":{borderLeftColor:\"#ddd\"},\".cm-dropCursor\":{position:\"absolute\"},\"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor\":{display:\"block\"},\".cm-iso\":{unicodeBidi:\"isolate\"},\".cm-announced\":{position:\"fixed\",top:\"-10000px\"},\"@media print\":{\".cm-announced\":{display:\"none\"}},\"&light .cm-activeLine\":{backgroundColor:\"#cceeff44\"},\"&dark .cm-activeLine\":{backgroundColor:\"#99eeff33\"},\"&light .cm-specialChar\":{color:\"red\"},\"&dark .cm-specialChar\":{color:\"#f78\"},\".cm-gutters\":{flexShrink:0,display:\"flex\",height:\"100%\",boxSizing:\"border-box\",insetInlineStart:0,zIndex:200},\"&light .cm-gutters\":{backgroundColor:\"#f5f5f5\",color:\"#6c6c6c\",borderRight:\"1px solid #ddd\"},\"&dark .cm-gutters\":{backgroundColor:\"#333338\",color:\"#ccc\"},\".cm-gutter\":{display:\"flex !important\",flexDirection:\"column\",flexShrink:0,boxSizing:\"border-box\",minHeight:\"100%\",overflow:\"hidden\"},\".cm-gutterElement\":{boxSizing:\"border-box\"},\".cm-lineNumbers .cm-gutterElement\":{padding:\"0 3px 0 5px\",minWidth:\"20px\",textAlign:\"right\",whiteSpace:\"nowrap\"},\"&light .cm-activeLineGutter\":{backgroundColor:\"#e2f2ff\"},\"&dark .cm-activeLineGutter\":{backgroundColor:\"#222227\"},\".cm-panels\":{boxSizing:\"border-box\",position:\"sticky\",left:0,right:0,zIndex:300},\"&light .cm-panels\":{backgroundColor:\"#f5f5f5\",color:\"black\"},\"&light .cm-panels-top\":{borderBottom:\"1px solid #ddd\"},\"&light .cm-panels-bottom\":{borderTop:\"1px solid #ddd\"},\"&dark .cm-panels\":{backgroundColor:\"#333338\",color:\"white\"},\".cm-tab\":{display:\"inline-block\",overflow:\"hidden\",verticalAlign:\"bottom\"},\".cm-widgetBuffer\":{verticalAlign:\"text-top\",height:\"1em\",width:0,display:\"inline\"},\".cm-placeholder\":{color:\"#888\",display:\"inline-block\",verticalAlign:\"top\"},\".cm-highlightSpace\":{backgroundImage:\"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)\",backgroundPosition:\"center\"},\".cm-highlightTab\":{backgroundImage:`url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"20\"><path stroke=\"%23888\" stroke-width=\"1\" fill=\"none\" d=\"M1 10H196L190 5M190 15L196 10M197 4L197 16\"/></svg>')`,backgroundSize:\"auto 100%\",backgroundPosition:\"right 90%\",backgroundRepeat:\"no-repeat\"},\".cm-trailingSpace\":{backgroundColor:\"#ff332255\"},\".cm-button\":{verticalAlign:\"middle\",color:\"inherit\",fontSize:\"70%\",padding:\".2em 1em\",borderRadius:\"1px\"},\"&light .cm-button\":{backgroundImage:\"linear-gradient(#eff1f5, #d9d9df)\",border:\"1px solid #888\",\"&:active\":{backgroundImage:\"linear-gradient(#b4b4b4, #d0d3d6)\"}},\"&dark .cm-button\":{backgroundImage:\"linear-gradient(#393939, #111)\",border:\"1px solid #888\",\"&:active\":{backgroundImage:\"linear-gradient(#111, #333)\"}},\".cm-textfield\":{verticalAlign:\"middle\",color:\"inherit\",fontSize:\"70%\",border:\"1px solid silver\",padding:\".2em .5em\"},\"&light .cm-textfield\":{backgroundColor:\"white\"},\"&dark .cm-textfield\":{border:\"1px solid #555\",backgroundColor:\"inherit\"}},wT),t$={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Y0=tt.ie&&tt.ie_version<=11;class n${constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new jQ,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(tt.ie&&tt.ie_version<=11||tt.ios&&e.composing)&&t.some(r=>r.type==\"childList\"&&r.removedNodes.length||r.type==\"characterData\"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(tt.chrome&&tt.chrome_version<126)&&(this.editContext=new i$(e),e.state.facet(Ws)&&(e.contentDOM.editContext=this.editContext.editContext)),Y0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:\"characterData\",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia(\"print\")),typeof ResizeObserver==\"function\"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver==\"function\"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent(\"Event\")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent(\"Event\"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers(\"scroll\",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type==\"change\"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ws)?r.root.activeElement!=this.dom:!Zg(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(tt.ie&&tt.ie_version<=11||tt.android&&tt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Qf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Rd(e.root);if(!t)return!1;let r=tt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&r$(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Zg(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&VQ(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener(\"scroll\",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener(\"scroll\",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,t$),Y0&&this.dom.addEventListener(\"DOMCharacterDataModified\",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Y0&&this.dom.removeEventListener(\"DOMCharacterDataModified\",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&gu(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e==\"Enter\")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Zg(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new wZ(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=lT(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type==\"attributes\"),e.type==\"attributes\"&&(t.flags|=4),e.type==\"childList\"){let r=T3(t,e.previousSibling||e.target.previousSibling,-1),i=T3(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type==\"characterData\"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener(\"resize\",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener(\"change\",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener(\"beforeprint\",this.onPrint),e.addEventListener(\"scroll\",this.onScroll),e.document.addEventListener(\"selectionchange\",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener(\"scroll\",this.onScroll),e.removeEventListener(\"resize\",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener(\"change\",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener(\"beforeprint\",this.onPrint),e.document.removeEventListener(\"selectionchange\",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ws)!=e.state.facet(Ws)&&(e.view.contentDOM.editContext=e.state.facet(Ws)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener(\"scroll\",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function T3(n,e,t){for(;e;){let r=Ln.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function M3(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Qf(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function r$(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return M3(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener(\"beforeinput\",r,!0),n.dom.ownerDocument.execCommand(\"indent\"),n.contentDOM.removeEventListener(\"beforeinput\",r,!0),t?M3(n,t):null}class i${constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:s}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u={from:a,to:l,insert:wn.of(r.text.split(`\n`))};if(u.from==this.from&&o<this.from?u.from=o:u.to==this.to&&o>this.to&&(u.to=o),u.from==u.to&&!u.insert.length){let f=Se.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));f.main.eq(i)||e.dispatch({selection:f,userEvent:\"select\"});return}if((tt.mac||tt.android)&&u.from==s-1&&/^\\. ?$/.test(r.text)&&e.contentDOM.getAttribute(\"autocorrect\")==\"off\"&&(u={from:a,to:l,insert:wn.of([r.text.replace(\".\",\" \")])}),this.pendingContextChange=u,!e.state.readOnly){let f=this.to-this.from+(u.to-u.from+u.insert.length);p2(e,u,Se.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!=\"None\"&&a!=\"None\"){let l=this.toEditorPos(o.rangeStart),u=this.toEditorPos(o.rangeEnd);if(l<u){let f=`text-decoration: underline ${s==\"Dashed\"?\"dashed \":s==\"Squiggle\"?\"wavy \":\"\"}${a==\"Thin\"?1:2}px`;i.push(Ct.mark({attributes:{style:f}}).range(l,u))}}}e.dispatch({effects:tT.of(Ct.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Rd(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,u)=>{if(r)return;let f=u.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=f,this.to+=f;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),u.toString()),this.to+=f}t+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(r=>!r.isUserEvent(\"input.type\")&&r.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class et{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement(\"div\"),this.scrollDOM=document.createElement(\"div\"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className=\"cm-scroller\",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement(\"div\"),this.announceDOM.className=\"cm-announced\",this.announceDOM.setAttribute(\"aria-live\",\"polite\"),this.dom=document.createElement(\"div\"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||zQ(e.parent)||document,this.viewState=new A3(e.state||en.create(e)),e.scrollTo&&e.scrollTo.is(ig)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Nf).map(i=>new K0(i));for(let i of this.plugins)i.update(this);this.observer=new n$(this),this.inputState=new kZ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new l3(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ni?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");let t=!1,r=!1,i,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");o=h.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(gT))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=pT(o,s),l||(a=1));let u=this.observer.delayedAndroidKey,f=null;if(u?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(en.phrases)!=this.state.facet(en.phrases))return this.setState(o);i=rm.create(this,o,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:g}=h.state.selection;d=new pu(g.empty?g:Se.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of h.effects)g.is(ig)&&(d=g.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=om.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Lf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent(\"select.pointer\")))}finally{this.updateState=0}if(i.startState.facet(ug)!=i.state.facet(ug)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(nb))try{h(i)}catch(g){yi(this.state,g,\"update listener\")}(l||f)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),f&&!lT(this,f)&&u.force&&gu(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new A3(e),this.plugins=e.facet(Nf).map(r=>new K0(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new l3(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Nf),r=e.state.facet(Nf);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new K0(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){yi(this.state,r,\"doc view update listener\")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(T6(r))o=-1,s=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(i);o=g.from,s=g.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?\"Measure loop restarted more than 5 times\":\"Viewport failed to stabilize\");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(g=>{try{return g.read(this)}catch(p){return yi(this.state,p),P3}}),d=rm.create(this,this.state,[]),h=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),h=this.docView.update(d),h&&this.docViewUpdate());for(let g=0;g<u.length;g++)if(f[g]!=P3)try{let p=u[g];p.write&&p.write(f[g],this)}catch(p){yi(this.state,p)}if(h&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(nb))a(t)}get themeClasses(){return ab+\" \"+(this.state.facet(sb)?bT:yT)+\" \"+this.state.facet(ug)}updateAttrs(){let e=I3(this,nT,{class:\"cm-editor\"+(this.hasFocus?\" cm-focused \":\" \")+this.themeClasses}),t={spellcheck:\"false\",autocorrect:\"off\",autocapitalize:\"off\",writingsuggestions:\"false\",translate:\"no\",contenteditable:this.state.facet(Ws)?\"true\":\"false\",class:\"cm-content\",style:`${tt.tabSize}: ${this.state.tabSize}`,role:\"textbox\",\"aria-multiline\":\"true\"};this.state.readOnly&&(t[\"aria-readonly\"]=\"true\"),I3(this,d2,t);let r=this.observer.ignore(()=>{let i=Q1(this.contentDOM,this.contentAttrs,t),o=Q1(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(et.announce)){t&&(this.announceDOM.textContent=\"\"),t=!1;let o=this.announceDOM.appendChild(document.createElement(\"div\"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Lf);let e=this.state.facet(et.cspNonce);$a.mount(this.root,this.styleModules.concat(e$).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error(\"Reading the editor layout isn't allowed during an update\");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return X0(this,e,h3(this,e,t,r))}moveByGroup(e,t){return X0(this,e,h3(this,e,t,r=>mZ(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return Se.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return pZ(this,e,t,r)}moveVertically(e,t,r){return X0(this,e,vZ(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),aT(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Ha.find(o,e-i.from,-1,t)];return Pv(r,s.dir==Kn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Z6)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>o$)return W6(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||q6(o.isolates,r=a3(this,e))))return o.order;r||(r=a3(this,e));let i=$Q(e.text,t,r);return this.bidiCache.push(new om(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||tt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{A6(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return ig.of(new pu(typeof e==\"number\"?Se.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return ig.of(new pu(Se.cursor(r.from),\"start\",\"start\",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e==\"boolean\"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ir.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ir.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=$a.newName(),i=[ug.of(r),Lf.of(lb(`.${r}`,e))];return t&&t.dark&&i.push(sb.of(!0)),i}static baseTheme(e){return vc.lowest(Lf.of(lb(\".\"+ab,e,wT)))}static findFromDOM(e){var t;let r=e.querySelector(\".cm-content\"),i=r&&Ln.get(r)||Ln.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}et.styleModule=Lf;et.inputHandler=Y6;et.clipboardInputFilter=u2;et.clipboardOutputFilter=f2;et.scrollHandler=eT;et.focusChangeEffect=Q6;et.perLineTextDirection=Z6;et.exceptionSink=G6;et.updateListener=nb;et.editable=Ws;et.mouseSelectionStyle=X6;et.dragMovesSelection=J6;et.clickAddsSelectionRange=K6;et.decorations=Nd;et.outerDecorations=rT;et.atomicRanges=h2;et.bidiIsolatedRanges=iT;et.scrollMargins=oT;et.darkTheme=sb;et.cspNonce=rt.define({combine:n=>n.length?n[0]:\"\"});et.contentAttributes=d2;et.editorAttributes=nT;et.lineWrapping=et.contentAttributes.of({class:\"cm-lineWrapping\"});et.announce=zt.define();const o$=4096,P3={};class om{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Kn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!t.touchesRange(s.from,s.to)&&r.push(new om(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function I3(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o==\"function\"?o(n):o;s&&Y1(s,t)}return t}const s$=tt.mac?\"mac\":tt.windows?\"win\":tt.linux?\"linux\":\"key\";function a$(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r==\"Space\"&&(r=\" \");let i,o,s,a;for(let l=0;l<t.length-1;++l){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))e==\"mac\"?a=!0:o=!0;else throw new Error(\"Unrecognized modifier name: \"+u)}return i&&(r=\"Alt-\"+r),o&&(r=\"Ctrl-\"+r),a&&(r=\"Meta-\"+r),s&&(r=\"Shift-\"+r),r}function fg(n,e,t){return e.altKey&&(n=\"Alt-\"+n),e.ctrlKey&&(n=\"Ctrl-\"+n),e.metaKey&&(n=\"Meta-\"+n),t!==!1&&e.shiftKey&&(n=\"Shift-\"+n),n}const l$=vc.default(et.domEventHandlers({keydown(n,e){return CT(xT(e.state),n,e,\"editor\")}})),sm=rt.define({enables:l$}),R3=new WeakMap;function xT(n){let e=n.facet(sm),t=R3.get(e);return t||R3.set(e,t=f$(e.reduce((r,i)=>r.concat(i),[]))),t}function c$(n,e,t){return CT(xT(n.state),e,n,t)}let Da=null;const u$=4e3;function f$(n,e=s$){let t=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error(\"Key binding \"+s+\" is used both as a regular binding and as a multi-stroke prefix\")},o=(s,a,l,u,f)=>{var d,h;let g=t[s]||(t[s]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>a$(v,e));for(let v=1;v<p.length;v++){let C=p.slice(0,v).join(\" \");i(C,!0),g[C]||(g[C]={preventDefault:!0,stopPropagation:!1,run:[k=>{let b=Da={view:k,prefix:C,scope:s};return setTimeout(()=>{Da==b&&(Da=null)},u$),!0}]})}let m=p.join(\" \");i(m,!1);let y=g[m]||(g[m]={preventDefault:!1,stopPropagation:!1,run:((h=(d=g._any)===null||d===void 0?void 0:d.run)===null||h===void 0?void 0:h.slice())||[]});l&&y.run.push(l),u&&(y.preventDefault=!0),f&&(y.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(\" \"):[\"editor\"];if(s.any)for(let u of a){let f=t[u]||(t[u]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=s;for(let h in f)f[h].run.push(g=>d(g,cb))}let l=s[e]||s.key;if(l)for(let u of a)o(u,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(u,\"Shift-\"+l,s.shift,s.preventDefault,s.stopPropagation)}return t}let cb=null;function CT(n,e,t,r){cb=e;let i=NQ(e),o=Ai(i,0),s=us(o)==i.length&&i!=\" \",a=\"\",l=!1,u=!1,f=!1;Da&&Da.view==t&&Da.scope==r&&(a=Da.prefix+\" \",uT.indexOf(e.keyCode)<0&&(u=!0,Da=null));let d=new Set,h=y=>{if(y){for(let v of y.run)if(!d.has(v)&&(d.add(v),v(t)))return y.stopPropagation&&(f=!0),!0;y.preventDefault&&(y.stopPropagation&&(f=!0),u=!0)}return!1},g=n[r],p,m;return g&&(h(g[a+fg(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(tt.windows&&e.ctrlKey&&e.altKey)&&(p=el[e.keyCode])&&p!=i?(h(g[a+fg(p,e,!0)])||e.shiftKey&&(m=Id[e.keyCode])!=i&&m!=p&&h(g[a+fg(m,e,!1)]))&&(l=!0):s&&e.shiftKey&&h(g[a+fg(i,e,!0)])&&(l=!0),!l&&h(g._any)&&(l=!0)),u&&(l=!0),l&&f&&e.stopPropagation(),cb=null,l}class bh{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement(\"div\");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+\"px\",e.style.top=this.top+\"px\",this.width!=null&&(e.style.width=this.width+\"px\"),e.style.height=this.height+\"px\"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=_T(e);return[new bh(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return d$(e,t,r)}}function _T(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Kn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function D3(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=n.posAtCoords({x:o.left+1,y:s}),l=n.posAtCoords({x:o.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function d$(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==Kn.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),l=_T(n),u=s.querySelector(\".cm-line\"),f=u&&window.getComputedStyle(u),d=a.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),h=a.right-(f?parseInt(f.paddingRight):0),g=ib(n,r),p=ib(n,i),m=g.type==wi.Text?g:null,y=p.type==wi.Text?p:null;if(m&&(n.lineWrapping||g.widgetLineBreaks)&&(m=D3(n,r,1,m)),y&&(n.lineWrapping||p.widgetLineBreaks)&&(y=D3(n,i,-1,y)),m&&y&&m.from==y.from&&m.to==y.to)return C(k(t.from,t.to,m));{let w=m?k(t.from,null,m):b(g,!1),E=y?k(null,t.to,y):b(p,!0),O=[];return(m||g).to<(y||p).from-(m&&y?1:0)||g.widgetLineBreaks>1&&w.bottom+n.defaultLineHeight/2<E.top?O.push(v(d,w.bottom,h,E.top)):w.bottom<E.top&&n.elementAtHeight((w.bottom+E.top)/2).type==wi.Text&&(w.bottom=E.top=(w.bottom+E.top)/2),C(w).concat(O).concat(C(E))}function v(w,E,O,T){return new bh(e,w-l.left,E-l.top,O-w,T-E)}function C({top:w,bottom:E,horizontal:O}){let T=[];for(let I=0;I<O.length;I+=2)T.push(v(O[I],w,O[I+1],E));return T}function k(w,E,O){let T=1e9,I=-1e9,D=[];function A(_,N,F,B,L){let z=n.coordsAtPos(_,_==O.to?-2:2),Z=n.coordsAtPos(F,F==O.from?2:-2);!z||!Z||(T=Math.min(z.top,Z.top,T),I=Math.max(z.bottom,Z.bottom,I),L==Kn.LTR?D.push(o&&N?d:z.left,o&&B?h:Z.right):D.push(!o&&B?d:Z.left,!o&&N?h:z.right))}let M=w??O.from,P=E??O.to;for(let _ of n.visibleRanges)if(_.to>M&&_.from<P)for(let N=Math.max(_.from,M),F=Math.min(_.to,P);;){let B=n.state.doc.lineAt(N);for(let L of n.bidiSpans(B)){let z=L.from+B.from,Z=L.to+B.from;if(z>=F)break;Z>N&&A(Math.max(z,N),w==null&&z<=M,Math.min(Z,F),E==null&&Z>=P,L.dir)}if(N=B.to+1,N>=F)break}return D.length==0&&A(M,w==null,P,E==null,n.textDirection),{top:T,bottom:I,horizontal:D}}function b(w,E){let O=a.top+(E?w.top:w.bottom);return{top:O,bottom:O,horizontal:[]}}}function h$(n,e){return n.constructor==e.constructor&&n.eq(e)}class g${constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement(\"div\")),this.dom.classList.add(\"cm-layer\"),t.above&&this.dom.classList.add(\"cm-layer-above\"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute(\"aria-hidden\",\"true\"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(np)!=e.state.facet(np)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(np);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!h$(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const np=rt.define();function ST(n){return[ir.define(e=>new g$(e,n)),np.of(n)]}const kT=!(tt.ios&&tt.webkit&&tt.webkit_version<534),Ld=rt.define({combine(n){return Zo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function p$(n={}){return[Ld.of(n),m$,v$,y$,$6.of(!0)]}function OT(n){return n.startState.facet(Ld)!=n.state.facet(Ld)}const m$=ST({above:!0,markers(n){let{state:e}=n,t=e.facet(Ld),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||kT:t.drawRangeCursor){let s=o?\"cm-cursor cm-cursor-primary\":\"cm-cursor cm-cursor-secondary\",a=i.empty?i:Se.cursor(i.head,i.head>i.anchor?-1:1);for(let l of bh.forRange(n,s,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName==\"cm-blink\"?\"cm-blink2\":\"cm-blink\");let t=OT(n);return t&&N3(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){N3(e.state,n)},class:\"cm-cursorLayer\"});function N3(n,e){e.style.animationDuration=n.facet(Ld).cursorBlinkRate+\"ms\"}const v$=ST({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:bh.forRange(n,\"cm-selectionBackground\",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||OT(n)},class:\"cm-selectionLayer\"}),ub={\".cm-line\":{\"& ::selection, &::selection\":{backgroundColor:\"transparent !important\"}},\".cm-content\":{\"& :focus\":{caretColor:\"initial !important\",\"&::selection, & ::selection\":{backgroundColor:\"Highlight !important\"}}}};kT&&(ub[\".cm-line\"].caretColor=ub[\".cm-content\"].caretColor=\"transparent !important\");const y$=vc.highest(et.theme(ub)),AT=zt.define({map(n,e){return n==null?null:e.mapPos(n)}}),jf=Vr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(AT)?r.value:t,n)}}),b$=ir.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(jf);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement(\"div\")),this.cursor.className=\"cm-dropCursor\"),(n.startState.field(jf)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(jf),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+\"px\",this.cursor.style.top=n.top/t+\"px\",this.cursor.style.height=n.height/t+\"px\"):this.cursor.style.left=\"-100000px\"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(jf)!=n&&this.view.dispatch({effects:AT.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function w$(){return[jf,b$]}function L3(n,e,t,r,i){e.lastIndex=0;for(let o=n.iterRange(t,r),s=t,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function x$(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class C${constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");if(this.regexp=t,i)this.addMatch=(a,l,u,f)=>i(f,u,u+a[0].length,a,l);else if(typeof r==\"function\")this.addMatch=(a,l,u,f)=>{let d=r(a,l,u);d&&f(u,u+a[0].length,d)};else if(r)this.addMatch=(a,l,u,f)=>f(u,u+a[0].length,r);else throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");this.boundary=o,this.maxLength=s}createDeco(e){let t=new Jo,r=t.add.bind(t);for(let{from:i,to:o}of x$(e,this.maxLength))L3(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=e.state.doc.lineAt(s),u=l.to<a?e.state.doc.lineAt(a):l,f=Math.max(o.from,l.from),d=Math.min(o.to,u.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){f=s;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){d=a;break}}let h=[],g,p=(m,y,v)=>h.push(v.range(m,y));if(l==u)for(this.regexp.lastIndex=f-l.from;(g=this.regexp.exec(l.text))&&g.index<d-l.from;)this.addMatch(g,e,g.index+l.from,p);else L3(e.state.doc,this.regexp,f,d,(m,y)=>this.addMatch(y,e,m,p));t=t.update({filterFrom:f,filterTo:d,filter:(m,y)=>m<f||y>d,add:h})}}return t}}const fb=/x/.unicode!=null?\"gu\":\"g\",_$=new RegExp(`[\\0-\\b\n-\u001f-\\u2028\\u2029\\uFEFF-]`,fb),S$={0:\"null\",7:\"bell\",8:\"backspace\",10:\"newline\",11:\"vertical tab\",13:\"carriage return\",27:\"escape\",8203:\"zero width space\",8204:\"zero width non-joiner\",8205:\"zero width joiner\",8206:\"left-to-right mark\",8207:\"right-to-left mark\",8232:\"line separator\",8237:\"left-to-right override\",8238:\"right-to-left override\",8294:\"left-to-right isolate\",8295:\"right-to-left isolate\",8297:\"pop directional isolate\",8233:\"paragraph separator\",65279:\"zero width no-break space\",65532:\"object replacement\"};let Q0=null;function k$(){var n;if(Q0==null&&typeof document<\"u\"&&document.body){let e=document.body.style;Q0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Q0||!1}const rp=rt.define({combine(n){let e=Zo(n,{render:null,specialChars:_$,addSpecialChars:null});return(e.replaceTabs=!k$())&&(e.specialChars=new RegExp(\"\t|\"+e.specialChars.source,fb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+\"|\"+e.addSpecialChars.source,fb)),e}});function O$(n={}){return[rp.of(n),A$()]}let B3=null;function A$(){return B3||(B3=ir.fromClass(class{constructor(n){this.view=n,this.decorations=Ct.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(rp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new C$({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=Ai(e[0],0);if(o==9){let s=i.lineAt(r),a=t.state.tabSize,l=tf(s.text,a,r-s.from);return Ct.replace({widget:new P$((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Ct.replace({widget:new M$(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(rp);n.startState.facet(rp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const E$=\"\";function T$(n){return n>=32?E$:n==10?\"\":String.fromCharCode(9216+n)}class M$ extends hl{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=T$(this.code),r=e.state.phrase(\"Control character\")+\" \"+(S$[this.code]||\"0x\"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement(\"span\");return o.textContent=t,o.title=r,o.setAttribute(\"aria-label\",r),o.className=\"cm-specialChar\",o}ignoreEvent(){return!1}}class P$ extends hl{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement(\"span\");return e.textContent=\"\t\",e.className=\"cm-tab\",e.style.width=this.width+\"px\",e}ignoreEvent(){return!1}}function I$(){return D$}const R$=Ct.line({class:\"cm-activeLine\"}),D$=ir.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(R$.range(i.from)),e=i.from)}return Ct.set(t)}},{decorations:n=>n.decorations}),db=2e3;function N$(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>db||t.off>db||e.col<0||t.col<0){let s=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let u=n.doc.line(l);u.length<=a&&o.push(Se.range(u.from+s,u.to+a))}}else{let s=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let u=n.doc.line(l),f=q1(u.text,s,n.tabSize,!0);if(f<0)o.push(Se.cursor(u.to));else{let d=q1(u.text,a,n.tabSize);o.push(Se.range(u.from+f,u.from+d))}}}return o}function L$(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function F3(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>db?-1:i==r.length?L$(n,e.clientX):tf(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function B$(n,e){let t=F3(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=F3(n,i);if(!a)return r;let l=N$(n.state,t,a);return l.length?s?Se.create(l.concat(r.ranges)):Se.create(l):r}}:null}function F$(n){let e=t=>t.altKey&&t.button==0;return et.mouseSelectionStyle.of((t,r)=>e(r)?B$(t,r):null)}const j$={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},z$={style:\"cursor: crosshair\"};function V$(n={}){let[e,t]=j$[n.key||\"Alt\"],r=ir.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,et.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?z$:null})]}const Cf=\"-10000px\";class ET{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=t?[]:null;for(let l=0;l<o.length;l++){let u=o[l],f=-1;if(u){for(let d=0;d<this.tooltips.length;d++){let h=this.tooltips[d];h&&h.create==u.create&&(f=d)}if(f<0)s[l]=this.createTooltipView(u,l?s[l-1]:null),a&&(a[l]=!!u.above);else{let d=s[l]=this.tooltipViews[f];a&&(a[l]=t[f]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,u)=>t[u]=l),t.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function H$(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Z0=rt.define({combine:n=>{var e,t,r;return{position:tt.ios?\"absolute\":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||\"fixed\",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||H$}}}),j3=new WeakMap,y2=ir.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Z0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver==\"function\"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new ET(n,Dv,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver==\"function\"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener(\"resize\",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement(\"div\"),this.container.style.position=\"relative\",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(Z0);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add(\"cm-tooltip\"),n.arrow&&!t.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")){let i=document.createElement(\"div\");i.className=\"cm-tooltip-arrow\",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Cf,t.dom.style.left=\"0px\",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener(\"resize\",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position==\"fixed\"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(tt.gecko)t=o.offsetParent!=this.container.ownerDocument.body;else if(o.style.top==Cf&&o.style.left==\"0px\"){let s=o.getBoundingClientRect();t=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}}if(t||this.position==\"absolute\")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(n=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=g2(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,s)=>{let a=this.manager.tooltipViews[s];return a.getCoords?a.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(Z0).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position=\"absolute\";for(let a of this.manager.tooltipViews)a.dom.style.position=\"absolute\"}let{visible:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:f}=u,d=n.pos[a],h=n.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){f.style.top=Cf;continue}let g=l.arrow?u.dom.querySelector(\".cm-tooltip-arrow\"):null,p=g?7:0,m=h.right-h.left,y=(e=j3.get(u))!==null&&e!==void 0?e:h.bottom-h.top,v=u.offset||W$,C=this.view.textDirection==Kn.LTR,k=h.width>r.right-r.left?C?r.left:r.right-h.width:C?Math.max(r.left,Math.min(d.left-(g?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,d.left-m+(g?14:0)-v.x),r.right-m),b=this.above[a];!l.strictSide&&(b?d.top-y-p-v.y<r.top:d.bottom+y+p+v.y>r.bottom)&&b==r.bottom-d.bottom>d.top-r.top&&(b=this.above[a]=!b);let w=(b?d.top-r.top:r.bottom-d.bottom)-p;if(w<y&&u.resize!==!1){if(w<this.view.defaultLineHeight){f.style.top=Cf;continue}j3.set(u,y),f.style.height=(y=w)/o+\"px\"}else f.style.height&&(f.style.height=\"\");let E=b?d.top-y-p-v.y:d.bottom+p+v.y,O=k+m;if(u.overlap!==!0)for(let T of s)T.left<O&&T.right>k&&T.top<E+y&&T.bottom>E&&(E=b?T.top-y-2-p:T.bottom+p+2);if(this.position==\"absolute\"?(f.style.top=(E-n.parent.top)/o+\"px\",z3(f,(k-n.parent.left)/i)):(f.style.top=E/o+\"px\",z3(f,k/i)),g){let T=d.left+(C?v.x:-v.x)-(k+14-7);g.style.left=T/i+\"px\"}u.overlap!==!0&&s.push({left:k,top:E,right:O,bottom:E+y}),f.classList.toggle(\"cm-tooltip-above\",b),f.classList.toggle(\"cm-tooltip-below\",!b),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Cf}},{eventObservers:{scroll(){this.maybeMeasure()}}});function z3(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+\"px\")}const q$=et.baseTheme({\".cm-tooltip\":{zIndex:500,boxSizing:\"border-box\"},\"&light .cm-tooltip\":{border:\"1px solid #bbb\",backgroundColor:\"#f5f5f5\"},\"&light .cm-tooltip-section:not(:first-child)\":{borderTop:\"1px solid #bbb\"},\"&dark .cm-tooltip\":{backgroundColor:\"#333338\",color:\"white\"},\".cm-tooltip-arrow\":{height:\"7px\",width:`${7*2}px`,position:\"absolute\",zIndex:-1,overflow:\"hidden\",\"&:before, &:after\":{content:\"''\",position:\"absolute\",width:0,height:0,borderLeft:\"7px solid transparent\",borderRight:\"7px solid transparent\"},\".cm-tooltip-above &\":{bottom:\"-7px\",\"&:before\":{borderTop:\"7px solid #bbb\"},\"&:after\":{borderTop:\"7px solid #f5f5f5\",bottom:\"1px\"}},\".cm-tooltip-below &\":{top:\"-7px\",\"&:before\":{borderBottom:\"7px solid #bbb\"},\"&:after\":{borderBottom:\"7px solid #f5f5f5\",top:\"1px\"}}},\"&dark .cm-tooltip .cm-tooltip-arrow\":{\"&:before\":{borderTopColor:\"#333338\",borderBottomColor:\"#333338\"},\"&:after\":{borderTopColor:\"transparent\",borderBottomColor:\"transparent\"}}}),W$={x:0,y:0},Dv=rt.define({enables:[y2,q$]}),am=rt.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Nv{static create(e){return new Nv(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement(\"div\"),this.dom.classList.add(\"cm-tooltip-hover\"),this.manager=new ET(e,am,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add(\"cm-tooltip-section\"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp(\"offset\")}get getCoords(){return this.passProp(\"getCoords\")}get overlap(){return this.passProp(\"overlap\")}get resize(){return this.passProp(\"resize\")}}const U$=Dv.compute([am],n=>{let e=n.facet(am);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Nv.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class K${constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener(\"mouseleave\",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener(\"mousemove\",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof Va)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),u=l&&l.dir==Kn.RTL?-1:1;o=t.x<a.left?-u:u}let s=this.source(e,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>yi(e.state,l,\"hover tooltip\"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(y2),t=e?e.manager.tooltips.findIndex(r=>r.create==Nv.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!J$(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!X$(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener(\"mouseleave\",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener(\"mouseleave\",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener(\"mouseleave\",this.mouseleave),this.view.dom.removeEventListener(\"mousemove\",this.mousemove)}}const dg=4;function J$(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),s;if(s=n.querySelector(\".cm-tooltip-arrow\")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=t-dg&&e.clientX<=r+dg&&e.clientY>=i-dg&&e.clientY<=o+dg}function X$(n,e,t,r,i,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function G$(n,e={}){let t=zt.define(),r=Vr.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,mi.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=o.changes.mapPos(u.end)),s.push(u)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(Y$)&&(i=[]);return i},provide:i=>am.from(i)});return{active:r,extension:[r,ir.define(i=>new K$(i,n,r,t,e.hoverTime||300)),U$]}}function TT(n,e){let t=n.plugin(y2);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const Y$=zt.define(),V3=rt.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Bd(n,e){let t=n.plugin(MT),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const MT=ir.fromClass(class{constructor(n){this.input=n.state.facet(Fd),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(V3);this.top=new hg(n,!0,e.topContainer),this.bottom=new hg(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add(\"cm-panel\"),t.mount&&t.mount()}update(n){let e=n.state.facet(V3);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new hg(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new hg(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Fd);if(t!=this.input){let r=t.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let u=this.specs.indexOf(l),f;u<0?(f=l(n.view),a.push(f)):(f=this.panels[u],f.update&&f.update(n)),i.push(f),(f.top?o:s).push(f)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add(\"cm-panel\"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>et.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class hg{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes=\"\",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement(\"div\"),this.dom.className=this.top?\"cm-panels cm-panels-top\":\"cm-panels cm-panels-bottom\",this.dom.style[this.top?\"top\":\"bottom\"]=\"0\";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=H3(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=H3(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(\" \"))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(\" \"))e&&this.container.classList.add(e)}}}function H3(n){let e=n.nextSibling;return n.remove(),e}const Fd=rt.define({enables:MT});class Os extends rc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Os.prototype.elementClass=\"\";Os.prototype.toDOM=void 0;Os.prototype.mapMode=mi.TrackBefore;Os.prototype.startSide=Os.prototype.endSide=-1;Os.prototype.point=!0;const ip=rt.define(),Q$=rt.define(),Z$={class:\"\",renderEmptyElements:!1,elementStyle:\"\",markers:()=>an.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},$f=rt.define();function PT(n){return[IT(),$f.of(Object.assign(Object.assign({},Z$),n))]}const q3=rt.define({combine:n=>n.some(e=>e)});function IT(n){return[$$]}const $$=ir.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutters\",this.dom.setAttribute(\"aria-hidden\",\"true\"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+\"px\",this.gutters=n.state.facet($f).map(e=>new U3(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(q3),this.fixed&&(this.dom.style.position=\"sticky\"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+\"px\"),this.view.state.facet(q3)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?\"sticky\":\"\"),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=an.iter(this.view.state.facet(ip),this.view.viewport.from),r=[],i=this.gutters.map(o=>new eee(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==wi.Text&&s){hb(t,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==wi.Text){hb(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet($f),t=n.state.facet($f),r=n.docChanged||n.heightChanged||n.viewportChanged||!an.eq(n.startState.facet(ip),n.state.facet(ip),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new U3(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>et.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Kn.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function W3(n){return Array.isArray(n)?n:[n]}function hb(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class eee{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=an.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let a=new RT(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];hb(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(Q$)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class U3{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutter\"+(this.config.class?\" \"+this.config.class:\"\");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=W3(t.markers(e)),t.initialSpacer&&(this.spacer=new RT(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+=\"visibility: hidden; pointer-events: none\")}update(e){let t=this.markers;if(this.markers=W3(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!an.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class RT{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement(\"div\"),this.dom.className=\"cm-gutterElement\",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+\"px\"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+\"px\":\"\"),tee(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r=\"cm-gutterElement\",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<t.length?t[o++]:null,u=!1;if(l){let f=l.elementClass;f&&(r+=\" \"+f);for(let d=s;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,u=!0;break}}else a=this.markers.length;for(;s<a;){let f=this.markers[s++];if(f.toDOM){f.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function tee(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const nee=rt.define(),ree=rt.define(),Qc=rt.define({combine(n){return Zo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(a,l,u)=>o(a,l,u)||s(a,l,u):s}return r}})}});class $0 extends Os{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ey(n,e){return n.state.facet(Qc).formatNumber(e,n.state)}const iee=$f.compute([Qc],n=>({class:\"cm-lineNumbers\",renderEmptyElements:!1,markers(e){return e.state.facet(nee)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new $0(ey(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(ree)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Qc)!=e.state.facet(Qc),initialSpacer(e){return new $0(ey(e,K3(e.state.doc.lines)))},updateSpacer(e,t){let r=ey(t.view,K3(t.view.state.doc.lines));return r==e.number?e:new $0(r)},domEventHandlers:n.facet(Qc).domEventHandlers}));function oee(n={}){return[Qc.of(n),IT(),iee]}function K3(n){let e=9;for(;e<n;)e=e*10+9;return e}const see=new class extends Os{constructor(){super(...arguments),this.elementClass=\"cm-activeLineGutter\"}},aee=ip.compute([\"selection\"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(see.range(i)))}return an.of(e)});function lee(){return aee}const DT=1024;let cee=0;class ty{constructor(e,t){this.from=e,this.to=t}}class $t{constructor(e={}){this.id=cee++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error(\"This node type doesn't define a deserialize function\")})}add(e){if(this.perNode)throw new RangeError(\"Can't add per-node props to node types\");return typeof e!=\"function\"&&(e=Ri.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}$t.closedBy=new $t({deserialize:n=>n.split(\" \")});$t.openedBy=new $t({deserialize:n=>n.split(\" \")});$t.group=new $t({deserialize:n=>n.split(\" \")});$t.isolate=new $t({deserialize:n=>{if(n&&n!=\"rtl\"&&n!=\"ltr\"&&n!=\"auto\")throw new RangeError(\"Invalid value for isolate: \"+n);return n||\"auto\"}});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});class lm{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[$t.mounted.id]}}const uee=Object.create(null);class Ri{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):uee,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Ri(e.name||\"\",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError(\"Can't store a per-node prop on a node type\");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e==\"string\"){if(this.name==e)return!0;let t=this.prop($t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(\" \"))t[i]=e[r];return r=>{for(let i=r.prop($t.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}Ri.none=new Ri(\"\",Object.create(null),0,8);class b2{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}t.push(i?new Ri(r.name,i,r.id,r.flags):r)}return new b2(t)}}const gg=new WeakMap,J3=new WeakMap;var Br;(function(n){n[n.ExcludeBuffers=1]=\"ExcludeBuffers\",n[n.IncludeAnonymous=2]=\"IncludeAnonymous\",n[n.IgnoreMounts=4]=\"IgnoreMounts\",n[n.IgnoreOverlays=8]=\"IgnoreOverlays\"})(Br||(Br={}));class kr{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s==\"number\"?s:s.id]=a}}toString(){let e=lm.get(this);if(e&&!e.overlay)return e.tree.toString();let t=\"\";for(let r of this.children){let i=r.toString();i&&(t&&(t+=\",\"),t+=i)}return this.type.name?(/\\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?\"(\"+t+\")\":\"\"):t}cursor(e=0){return new pb(this.topNode,e)}cursorAt(e,t=0,r=0){let i=gg.get(this)||this.topNode,o=new pb(i);return o.moveTo(e,t),gg.set(this,o._tree),o}get topNode(){return new ho(this,0,0,null)}resolve(e,t=0){let r=jd(gg.get(this)||this.topNode,e,t,!1);return gg.set(this,r),r}resolveInner(e,t=0){let r=jd(J3.get(this)||this.topNode,e,t,!0);return J3.set(this,r),r}resolveStack(e,t=0){return hee(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&Br.IncludeAnonymous)>0;for(let l=this.cursor(s|Br.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:C2(Ri.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new kr(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new kr(Ri.none,t,r,i)))}static build(e){return gee(e)}}kr.empty=new kr(Ri.none,[],[],0);class w2{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new w2(this.buffer,this.index)}}class nl{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ri.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(\",\")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+\"(\"+s.join(\",\")+\")\"}findChild(e,t,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=t&&!(NT(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,l=0;a<t;){o[l++]=i[a++],o[l++]=i[a++]-r;let u=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,u)}return new nl(o,s,this.set)}}function NT(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function jd(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof ho&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:Br.IgnoreOverlays;if(r)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof ho&&s.index<0&&((i=a.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class LT{cursor(e=0){return new pb(this,e)}getChild(e,t=null,r=null){let i=X3(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return X3(this,e,t,r)}resolve(e,t=0){return jd(this,e,t,!1)}resolveInner(e,t=0){return jd(this,e,t,!0)}matchContext(e){return gb(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class ho extends LT{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,u=t>0?a.length:-1;e!=u;e+=t){let f=a[e],d=l[e]+s.from;if(NT(i,r,d,d+f.length)){if(f instanceof nl){if(o&Br.ExcludeBuffers)continue;let h=f.findChild(0,f.buffer.length,t,r-d,i);if(h>-1)return new qa(new fee(s,f,e,d),null,h)}else if(o&Br.IncludeAnonymous||!f.type.isAnonymous||x2(f)){let h;if(!(o&Br.IgnoreMounts)&&(h=lm.get(f))&&!h.overlay)return new ho(h.tree,d,e,s);let g=new ho(f,d,e,s);return o&Br.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?f.children.length-1:0,t,r,i)}}}if(o&Br.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Br.IgnoreOverlays)&&(i=lm.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new ho(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function X3(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function gb(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class fee{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class qa extends LT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new qa(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Br.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new qa(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new qa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new qa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new kr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function BT(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof ho&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new dee(i,t)}class dee{constructor(e,t){this.heads=e,this.node=t}get next(){return BT(this.heads)}}function hee(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof ho?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,t)),o=s}else{let s=lm.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new ho(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(jd(a,e,t,!1))}}return i?BT(i):r}class pb{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ho)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof ho?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Br.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Br.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Br.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&Br.IncludeAnonymous||a instanceof nl||!a.type.isAnonymous||x2(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new qa(this.buffer,t,this.stack[i]);return this.bufferNode=new qa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return gb(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return gb(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function x2(n){return n.children.some(e=>e instanceof nl||!e.type.isAnonymous||x2(e))}function gee(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=DT,reused:o=[],minRepeatType:s=r.types.length}=n,a=Array.isArray(t)?new w2(t,t.length):t,l=r.types,u=0,f=0;function d(w,E,O,T,I,D){let{id:A,start:M,end:P,size:_}=a,N=f,F=u;for(;_<0;)if(a.next(),_==-1){let ae=o[A];O.push(ae),T.push(M-w);return}else if(_==-3){u=A;return}else if(_==-4){f=A;return}else throw new RangeError(`Unrecognized record size: ${_}`);let B=l[A],L,z,Z=M-w;if(P-M<=i&&(z=y(a.pos-E,I))){let ae=new Uint16Array(z.size-z.skip),ne=a.pos-z.size,ie=ae.length;for(;a.pos>ne;)ie=v(z.start,ae,ie);L=new nl(ae,P-z.start,r),Z=z.start-w}else{let ae=a.pos-_;a.next();let ne=[],ie=[],U=A>=s?A:-1,ue=0,ce=P;for(;a.pos>ae;)U>=0&&a.id==U&&a.size>=0?(a.end<=ce-i&&(p(ne,ie,M,ue,a.end,ce,U,N,F),ue=ne.length,ce=a.end),a.next()):D>2500?h(M,ae,ne,ie):d(M,ae,ne,ie,U,D+1);if(U>=0&&ue>0&&ue<ne.length&&p(ne,ie,M,ue,M,ce,U,N,F),ne.reverse(),ie.reverse(),U>-1&&ue>0){let q=g(B,F);L=C2(B,ne,ie,0,ne.length,0,P-M,q,q)}else L=m(B,ne,ie,P-M,N-P,F)}O.push(L),T.push(Z)}function h(w,E,O,T){let I=[],D=0,A=-1;for(;a.pos>E;){let{id:M,start:P,end:_,size:N}=a;if(N>4)a.next();else{if(A>-1&&P<A)break;A<0&&(A=_-i),I.push(M,P,_),D++,a.next()}}if(D){let M=new Uint16Array(D*4),P=I[I.length-2];for(let _=I.length-3,N=0;_>=0;_-=3)M[N++]=I[_],M[N++]=I[_+1]-P,M[N++]=I[_+2]-P,M[N++]=N;O.push(new nl(M,I[2]-P,r)),T.push(P-w)}}function g(w,E){return(O,T,I)=>{let D=0,A=O.length-1,M,P;if(A>=0&&(M=O[A])instanceof kr){if(!A&&M.type==w&&M.length==I)return M;(P=M.prop($t.lookAhead))&&(D=T[A]+M.length+P)}return m(w,O,T,I,D,E)}}function p(w,E,O,T,I,D,A,M,P){let _=[],N=[];for(;w.length>T;)_.push(w.pop()),N.push(E.pop()+O-I);w.push(m(r.types[A],_,N,D-I,M-D,P)),E.push(I-O)}function m(w,E,O,T,I,D,A){if(D){let M=[$t.contextHash,D];A=A?[M].concat(A):[M]}if(I>25){let M=[$t.lookAhead,I];A=A?[M].concat(A):[M]}return new kr(w,E,O,T,A)}function y(w,E){let O=a.fork(),T=0,I=0,D=0,A=O.end-i,M={size:0,start:0,skip:0};e:for(let P=O.pos-w;O.pos>P;){let _=O.size;if(O.id==E&&_>=0){M.size=T,M.start=I,M.skip=D,D+=4,T+=4,O.next();continue}let N=O.pos-_;if(_<0||N<P||O.start<A)break;let F=O.id>=s?4:0,B=O.start;for(O.next();O.pos>N;){if(O.size<0)if(O.size==-3)F+=4;else break e;else O.id>=s&&(F+=4);O.next()}I=B,T+=_,D+=F}return(E<0||T==w)&&(M.size=T,M.start=I,M.skip=D),M.size>4?M:void 0}function v(w,E,O){let{id:T,start:I,end:D,size:A}=a;if(a.next(),A>=0&&T<s){let M=O;if(A>4){let P=a.pos-(A-4);for(;a.pos>P;)O=v(w,E,O)}E[--O]=M,E[--O]=D-w,E[--O]=I-w,E[--O]=T}else A==-3?u=T:A==-4&&(f=T);return O}let C=[],k=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,C,k,-1,0);let b=(e=n.length)!==null&&e!==void 0?e:C.length?k[0]+C[0].length:0;return new kr(l[n.topID],C.reverse(),k.reverse(),b)}const G3=new WeakMap;function op(n,e){if(!n.isAnonymous||e instanceof nl||e.type!=n)return 1;let t=G3.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof kr)){t=1;break}t+=op(n,r)}G3.set(e,t)}return t}function C2(n,e,t,r,i,o,s,a,l){let u=0;for(let p=r;p<i;p++)u+=op(n,e[p]);let f=Math.ceil(u*1.5/8),d=[],h=[];function g(p,m,y,v,C){for(let k=y;k<v;){let b=k,w=m[k],E=op(n,p[k]);for(k++;k<v;k++){let O=op(n,p[k]);if(E+O>=f)break;E+=O}if(k==b+1){if(E>f){let O=p[b];g(O.children,O.positions,0,O.children.length,m[b]+C);continue}d.push(p[b])}else{let O=m[k-1]+p[k-1].length-w;d.push(C2(n,p,m,b,k,w,O,null,l))}h.push(w+C-o)}}return g(e,t,r,i,0),(a||l)(d,h,s)}class Vl{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Vl(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let f=a<t.length?t[a]:null,d=f?f.fromA:1e9;if(d-l>=r)for(;s&&s.from<d;){let h=s;if(l>=h.from||d<=h.to||u){let g=Math.max(h.from,l)-u,p=Math.min(h.to,d)-u;h=g>=p?null:new Vl(g,p,h.tree,h.offset+u,a>0,!!f)}if(h&&i.push(h),s.to>d)break;s=o<e.length?e[o++]:null}if(!f)break;l=f.toA,u=f.toA-f.toB}return i}}class FT{startParse(e,t,r){return typeof e==\"string\"&&(e=new pee(e)),r=r?r.length?r.map(i=>new ty(i.from,i.to)):[new ty(0,0)]:[new ty(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class pee{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new $t({perNode:!0});let mee=0;class ro{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=mee++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e==\"string\"?e:\"?\";if(e instanceof ro&&(t=e),t!=null&&t.base)throw new Error(\"Can not derive from a modified tag\");let i=new ro(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new cm(e);return r=>r.modified.indexOf(t)>-1?r:cm.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let vee=0;class cm{constructor(e){this.name=e,this.instances=[],this.id=vee++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&yee(t,a.modified));if(r)return r;let i=[],o=new ro(e.name,i,e,t);for(let a of t)a.instances.push(o);let s=bee(t);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(cm.get(a,l));return o}}function yee(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function bee(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function jT(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(\" \"))if(i){let o=[],s=2,a=i;for(let d=0;;){if(a==\"...\"&&d>0&&d+3==i.length){s=1;break}let h=/^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(a);if(!h)throw new RangeError(\"Invalid path: \"+i);if(o.push(h[0]==\"*\"?\"\":h[0][0]=='\"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==i.length)break;let g=i[d++];if(d==i.length&&g==\"!\"){s=0;break}if(g!=\"/\")throw new RangeError(\"Invalid path: \"+i);a=i.slice(d)}let l=o.length-1,u=o[l];if(!u)throw new RangeError(\"Invalid path: \"+i);let f=new um(r,s,l>0?o.slice(0,l):null);e[u]=f.sort(e[u])}}return zT.add(e)}const zT=new $t;class um{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}um.empty=new um([],2,null);function VT(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let u=t[l.id];if(u){s=s?s+\" \"+u:u;break}}return s},scope:r}}function wee(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+\" \"+i:i)}return t}function xee(n,e,t,r=0,i=n.length){let o=new Cee(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,\"\",o.highlighters),o.flush(i)}class Cee{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=\"\"}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=t)return;s.isTop&&(o=this.highlighters.filter(g=>!g.scope||g.scope(s)));let u=i,f=_ee(e)||um.empty,d=wee(o,f.tags);if(d&&(u&&(u+=\" \"),u+=d,f.mode==1&&(i+=(i?\" \":\"\")+d)),this.startSpan(Math.max(t,a),u),f.opaque)return;let h=e.tree&&e.tree.prop($t.mounted);if(h&&h.overlay){let g=e.node.enter(h.overlay[0].from+a,1),p=this.highlighters.filter(y=>!y.scope||y.scope(h.tree.type)),m=e.firstChild();for(let y=0,v=a;;y++){let C=y<h.overlay.length?h.overlay[y]:null,k=C?C.from+a:l,b=Math.max(t,v),w=Math.min(r,k);if(b<w&&m)for(;e.from<w&&(this.highlightRange(e,b,w,i,o),this.startSpan(Math.min(w,e.to),u),!(e.to>=k||!e.nextSibling())););if(!C||k>r)break;v=C.to+a,v>t&&(this.highlightRange(g.cursor(),Math.max(t,C.from+a),Math.min(r,v),\"\",p),this.startSpan(Math.min(r,v),u))}m&&e.parent()}else if(e.firstChild()){h&&(i=\"\");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function _ee(n){let e=n.type.prop(zT);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const We=ro.define,pg=We(),Ma=We(),Y3=We(Ma),Q3=We(Ma),Pa=We(),mg=We(Pa),ny=We(Pa),as=We(),Cl=We(as),is=We(),os=We(),mb=We(),_f=We(mb),vg=We(),Fe={comment:pg,lineComment:We(pg),blockComment:We(pg),docComment:We(pg),name:Ma,variableName:We(Ma),typeName:Y3,tagName:We(Y3),propertyName:Q3,attributeName:We(Q3),className:We(Ma),labelName:We(Ma),namespace:We(Ma),macroName:We(Ma),literal:Pa,string:mg,docString:We(mg),character:We(mg),attributeValue:We(mg),number:ny,integer:We(ny),float:We(ny),bool:We(Pa),regexp:We(Pa),escape:We(Pa),color:We(Pa),url:We(Pa),keyword:is,self:We(is),null:We(is),atom:We(is),unit:We(is),modifier:We(is),operatorKeyword:We(is),controlKeyword:We(is),definitionKeyword:We(is),moduleKeyword:We(is),operator:os,derefOperator:We(os),arithmeticOperator:We(os),logicOperator:We(os),bitwiseOperator:We(os),compareOperator:We(os),updateOperator:We(os),definitionOperator:We(os),typeOperator:We(os),controlOperator:We(os),punctuation:mb,separator:We(mb),bracket:_f,angleBracket:We(_f),squareBracket:We(_f),paren:We(_f),brace:We(_f),content:as,heading:Cl,heading1:We(Cl),heading2:We(Cl),heading3:We(Cl),heading4:We(Cl),heading5:We(Cl),heading6:We(Cl),contentSeparator:We(as),list:We(as),quote:We(as),emphasis:We(as),strong:We(as),link:We(as),monospace:We(as),strikethrough:We(as),inserted:We(),deleted:We(),changed:We(),invalid:We(),meta:vg,documentMeta:We(vg),annotation:We(vg),processingInstruction:We(vg),definition:ro.defineModifier(\"definition\"),constant:ro.defineModifier(\"constant\"),function:ro.defineModifier(\"function\"),standard:ro.defineModifier(\"standard\"),local:ro.defineModifier(\"local\"),special:ro.defineModifier(\"special\")};for(let n in Fe){let e=Fe[n];e instanceof ro&&(e.name=n)}VT([{tag:Fe.link,class:\"tok-link\"},{tag:Fe.heading,class:\"tok-heading\"},{tag:Fe.emphasis,class:\"tok-emphasis\"},{tag:Fe.strong,class:\"tok-strong\"},{tag:Fe.keyword,class:\"tok-keyword\"},{tag:Fe.atom,class:\"tok-atom\"},{tag:Fe.bool,class:\"tok-bool\"},{tag:Fe.url,class:\"tok-url\"},{tag:Fe.labelName,class:\"tok-labelName\"},{tag:Fe.inserted,class:\"tok-inserted\"},{tag:Fe.deleted,class:\"tok-deleted\"},{tag:Fe.literal,class:\"tok-literal\"},{tag:Fe.string,class:\"tok-string\"},{tag:Fe.number,class:\"tok-number\"},{tag:[Fe.regexp,Fe.escape,Fe.special(Fe.string)],class:\"tok-string2\"},{tag:Fe.variableName,class:\"tok-variableName\"},{tag:Fe.local(Fe.variableName),class:\"tok-variableName tok-local\"},{tag:Fe.definition(Fe.variableName),class:\"tok-variableName tok-definition\"},{tag:Fe.special(Fe.variableName),class:\"tok-variableName2\"},{tag:Fe.definition(Fe.propertyName),class:\"tok-propertyName tok-definition\"},{tag:Fe.typeName,class:\"tok-typeName\"},{tag:Fe.namespace,class:\"tok-namespace\"},{tag:Fe.className,class:\"tok-className\"},{tag:Fe.macroName,class:\"tok-macroName\"},{tag:Fe.propertyName,class:\"tok-propertyName\"},{tag:Fe.operator,class:\"tok-operator\"},{tag:Fe.comment,class:\"tok-comment\"},{tag:Fe.meta,class:\"tok-meta\"},{tag:Fe.invalid,class:\"tok-invalid\"},{tag:Fe.punctuation,class:\"tok-punctuation\"}]);var ry;const Zc=new $t;function See(n){return rt.define({combine:n?e=>e.concat(n):void 0})}const kee=new $t;class Bo{constructor(e,t,r=[],i=\"\"){this.data=e,this.name=i,en.prototype.hasOwnProperty(\"tree\")||Object.defineProperty(en.prototype,\"tree\",{get(){return ai(this)}}),this.parser=t,this.extension=[rl.of(this),en.languageData.of((o,s,a)=>{let l=Z3(o,s,a),u=l.type.prop(Zc);if(!u)return[];let f=o.facet(u),d=l.type.prop(kee);if(d){let h=l.resolve(s-l.from,a);for(let g of d)if(g.test(h,o)){let p=o.facet(g.facet);return g.type==\"replace\"?p:p.concat(f)}}return f})].concat(r)}isActiveAt(e,t,r=-1){return Z3(e,t,r).type.prop(Zc)==this.data}findRegions(e){let t=e.facet(rl);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Zc)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop($t.mounted);if(a){if(a.tree.prop(Zc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof kr&&i(u,o.positions[l]+s)}};return i(ai(e),0),r}get allowsNesting(){return!0}}Bo.setState=zt.define();function Z3(n,e,t){let r=n.facet(rl),i=ai(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Br.ExcludeBuffers))o.type.isTop&&(i=o);return i}class fm extends Bo{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=See(e.languageData);return new fm(t,e.parser.configure({props:[Zc.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new fm(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ai(n){let e=n.field(Bo.state,!1);return e?e.tree:kr.empty}class Oee{constructor(e){this.doc=e,this.cursorPos=0,this.string=\"\",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Sf=null;class dm{constructor(e,t,r=[],i,o,s,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new dm(e,t,[],kr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Oee(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=kr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e==\"number\"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Vl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Vl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Sf;Sf=this;try{return e()}finally{Sf=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=$3(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,f,d,h)=>l.push({fromA:u,toA:f,fromB:d,toB:h})),r=Vl.applyChanges(r,l),i=kr.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let f=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);f<d&&a.push({from:f,to:d})}}}return new dm(this.parser,t,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=$3(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends FT{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Sf;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new kr(Ri.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Sf}}function $3(n,e,t){return Vl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Vu{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Vu(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=dm.create(e.facet(rl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Vu(r)}}Bo.state=Vr.define({create:Vu.init,update(n,e){for(let t of e.effects)if(t.is(Bo.setState))return t.value;return e.startState.facet(rl)!=e.state.facet(rl)?Vu.init(e.state):n.apply(e)}});let HT=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<\"u\"&&(HT=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const iy=typeof navigator<\"u\"&&(!((ry=navigator.scheduling)===null||ry===void 0)&&ry.isInputPending)?()=>navigator.scheduling.isInputPending():null,Aee=ir.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Bo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Bo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=HT(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Bo.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!iy?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>iy&&iy()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Bo.setState.of(new Vu(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>yi(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),rl=rt.define({combine(n){return n.length?n[0]:null},enables:n=>[Bo.state,Aee,et.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{\"data-language\":t.name}:{}})]});class Eee{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Tee=rt.define(),Lv=rt.define({combine:n=>{if(!n.length)return\"  \";let e=n[0];if(!e||/\\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error(\"Invalid indent unit: \"+JSON.stringify(n[0]));return e}});function il(n){let e=n.facet(Lv);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function zd(n,e){let t=\"\",r=n.tabSize,i=n.facet(Lv)[0];if(i==\"\t\"){for(;e>=r;)t+=\"\t\",e-=r;i=\" \"}for(let o=0;o<e;o++)t+=i;return t}function _2(n,e){n instanceof en&&(n=new Bv(n));for(let r of n.state.facet(Tee)){let i=r(n,e);if(i!==void 0)return i}let t=ai(n.state);return t.length>=e?Mee(n,t,e):null}class Bv{constructor(e,t={}){this.state=e,this.options=t,this.unit=il(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:\"\",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return\"\";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\\S|$/))),o}countColumn(e,t=e.length){return tf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const qT=new $t;function Mee(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let s=i;s&&!(s.from==r.node.from&&s.type==r.node.type);s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return WT(r,n,t)}function WT(n,e,t){for(let r=n;r;r=r.next){let i=Iee(r.node);if(i)return i(S2.create(e,t,r))}return 0}function Pee(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Iee(n){let e=n.type.prop(qT);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop($t.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>Lee(s,!0,1,void 0,o&&!Pee(s)?i.from:void 0)}return n.parent==null?Ree:null}function Ree(){return 0}class S2 extends Bv{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new S2(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Dee(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return WT(this.context.next,this.base,this.pos)}}function Dee(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Nee(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=s)return null;let u=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+u}}a=l.to}}function Lee(n,e,t,r,i){let o=n.textAfter,s=o.match(/^\\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==n.pos+s,l=Nee(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}function eS({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Bee=200;function Fee(){return en.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent(\"input.type\")&&!n.isUserEvent(\"input.complete\"))return n;let e=n.startState.languageDataAt(\"indentOnInput\",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+Bee)return n;let o=t.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return n;let{state:s}=n,a=-1,l=[];for(let{head:u}of s.selection.ranges){let f=s.doc.lineAt(u);if(f.from==a)continue;a=f.from;let d=_2(s,f.from);if(d==null)continue;let h=/^\\s*/.exec(f.text)[0],g=zd(s,d);h!=g&&l.push({from:f.from,to:f.from+h.length,insert:g})}return l.length?[n,{changes:l,sequential:!0}]:n})}const jee=rt.define(),UT=new $t;function zee(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function Vee(n,e,t){let r=ai(n);if(r.length<t)return null;let i=r.resolveStack(t,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let l=a.type.prop(UT);if(l&&(a.to<r.length-50||r.length==n.doc.length||!Hee(a))){let u=l(a,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(o=u)}}return o}function Hee(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function hm(n,e,t){for(let r of n.facet(jee)){let i=r(n,e,t);if(i)return i}return Vee(n,e,t)}function KT(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const Fv=zt.define({map:KT}),wh=zt.define({map:KT});function JT(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const ac=Vr.define({create(){return Ct.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Fv)&&!qee(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(YT),i=r?Ct.replace({widget:new Yee(r(e.state,t.value))}):tS;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(wh)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>et.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError(\"Invalid JSON for fold state\");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!=\"number\"||typeof i!=\"number\")throw new RangeError(\"Invalid JSON for fold state\");e.push(tS.range(r,i))}return Ct.set(e,!0)}});function gm(n,e,t){var r;let i=null;return(r=n.field(ac,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function qee(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function XT(n,e){return n.field(ac,!1)?e:e.concat(zt.appendConfig.of(QT()))}const Wee=n=>{for(let e of JT(n)){let t=hm(n.state,e.from,e.to);if(t)return n.dispatch({effects:XT(n.state,[Fv.of(t),GT(n,t)])}),!0}return!1},Uee=n=>{if(!n.state.field(ac,!1))return!1;let e=[];for(let t of JT(n)){let r=gm(n.state,t.from,t.to);r&&e.push(wh.of(r),GT(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function GT(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return et.announce.of(`${n.state.phrase(t?\"Folded lines\":\"Unfolded lines\")} ${r} ${n.state.phrase(\"to\")} ${i}.`)}const Kee=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=hm(e,i.from,i.to);o&&t.push(Fv.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:XT(n.state,t)}),!!t.length},Jee=n=>{let e=n.state.field(ac,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(wh.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},Xee=[{key:\"Ctrl-Shift-[\",mac:\"Cmd-Alt-[\",run:Wee},{key:\"Ctrl-Shift-]\",mac:\"Cmd-Alt-]\",run:Uee},{key:\"Ctrl-Alt-[\",run:Kee},{key:\"Ctrl-Alt-]\",run:Jee}],Gee={placeholderDOM:null,preparePlaceholder:null,placeholderText:\"\"},YT=rt.define({combine(n){return Zo(n,Gee)}});function QT(n){return[ac,$ee]}function ZT(n,e){let{state:t}=n,r=t.facet(YT),i=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),l=gm(n.state,a.from,a.to);l&&n.dispatch({effects:wh.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement(\"span\");return o.textContent=r.placeholderText,o.setAttribute(\"aria-label\",t.phrase(\"folded code\")),o.title=t.phrase(\"unfold\"),o.className=\"cm-foldPlaceholder\",o.onclick=i,o}const tS=Ct.replace({widget:new class extends hl{toDOM(n){return ZT(n,null)}}});class Yee extends hl{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return ZT(e,this.value)}}const Qee={openText:\"\",closedText:\"\",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class oy extends Os{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement(\"span\");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?\"Fold line\":\"Unfold line\"),t}}function Zee(n={}){let e=Object.assign(Object.assign({},Qee),n),t=new oy(e,!0),r=new oy(e,!1),i=ir.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(rl)!=s.state.facet(rl)||s.startState.field(ac,!1)!=s.state.field(ac,!1)||ai(s.startState)!=ai(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Jo;for(let l of s.viewportLineBlocks){let u=gm(s.state,l.from,l.to)?r:hm(s.state,l.from,l.to)?t:null;u&&a.add(l.from,l.from,u)}return a.finish()}}),{domEventHandlers:o}=e;return[i,PT({class:\"cm-foldGutter\",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||an.empty},initialSpacer(){return new oy(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let u=gm(s.state,a.from,a.to);if(u)return s.dispatch({effects:wh.of(u)}),!0;let f=hm(s.state,a.from,a.to);return f?(s.dispatch({effects:Fv.of(f)}),!0):!1}})}),QT()]}const $ee=et.baseTheme({\".cm-foldPlaceholder\":{backgroundColor:\"#eee\",border:\"1px solid #ddd\",color:\"#888\",borderRadius:\".2em\",margin:\"0 1px\",padding:\"0 1px\",cursor:\"pointer\"},\".cm-foldGutter span\":{padding:\"0 1px\",cursor:\"pointer\"}});class xh{constructor(e,t){this.specs=e;let r;function i(a){let l=$a.newName();return(r||(r=Object.create(null)))[\".\"+l]=a,l}const o=typeof t.all==\"string\"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof Bo?a=>a.prop(Zc)==s.data:s?a=>a==s:void 0,this.style=VT(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new $a(r):null,this.themeType=t.themeType}static define(e,t){return new xh(e,t||{})}}const vb=rt.define(),$T=rt.define({combine(n){return n.length?[n[0]]:null}});function sy(n){let e=n.facet(vb);return e.length?e:n.facet($T)}function e5(n,e){let t=[tte],r;return n instanceof xh&&(n.module&&t.push(et.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push($T.of(n)):r?t.push(vb.computeN([et.darkTheme],i=>i.facet(et.darkTheme)==(r==\"dark\")?[n]:[])):t.push(vb.of(n)),t}class ete{constructor(e){this.markCache=Object.create(null),this.tree=ai(e.state),this.decorations=this.buildDeco(e,sy(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=ai(e.state),r=sy(e.state),i=r!=sy(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ct.none;let r=new Jo;for(let{from:i,to:o}of e.visibleRanges)xee(this.tree,t,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=Ct.mark({class:l})))},i,o);return r.finish()}}const tte=vc.high(ir.fromClass(ete,{decorations:n=>n.decorations})),nte=xh.define([{tag:Fe.meta,color:\"#404740\"},{tag:Fe.link,textDecoration:\"underline\"},{tag:Fe.heading,textDecoration:\"underline\",fontWeight:\"bold\"},{tag:Fe.emphasis,fontStyle:\"italic\"},{tag:Fe.strong,fontWeight:\"bold\"},{tag:Fe.strikethrough,textDecoration:\"line-through\"},{tag:Fe.keyword,color:\"#708\"},{tag:[Fe.atom,Fe.bool,Fe.url,Fe.contentSeparator,Fe.labelName],color:\"#219\"},{tag:[Fe.literal,Fe.inserted],color:\"#164\"},{tag:[Fe.string,Fe.deleted],color:\"#a11\"},{tag:[Fe.regexp,Fe.escape,Fe.special(Fe.string)],color:\"#e40\"},{tag:Fe.definition(Fe.variableName),color:\"#00f\"},{tag:Fe.local(Fe.variableName),color:\"#30a\"},{tag:[Fe.typeName,Fe.namespace],color:\"#085\"},{tag:Fe.className,color:\"#167\"},{tag:[Fe.special(Fe.variableName),Fe.macroName],color:\"#256\"},{tag:Fe.definition(Fe.propertyName),color:\"#00c\"},{tag:Fe.comment,color:\"#940\"},{tag:Fe.invalid,color:\"#f00\"}]),rte=et.baseTheme({\"&.cm-focused .cm-matchingBracket\":{backgroundColor:\"#328c8252\"},\"&.cm-focused .cm-nonmatchingBracket\":{backgroundColor:\"#bb555544\"}}),t5=1e4,n5=\"()[]{}\",r5=rt.define({combine(n){return Zo(n,{afterCursor:!0,brackets:n5,maxScanDistance:t5,renderMatch:ste})}}),ite=Ct.mark({class:\"cm-matchingBracket\"}),ote=Ct.mark({class:\"cm-nonmatchingBracket\"});function ste(n){let e=[],t=n.matched?ite:ote;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const ate=Vr.define({create(){return Ct.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(r5);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=ds(e.state,i.head,-1,r)||i.head>0&&ds(e.state,i.head-1,1,r)||r.afterCursor&&(ds(e.state,i.head,1,r)||i.head<e.state.doc.length&&ds(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return Ct.set(t,!0)},provide:n=>et.decorations.from(n)}),lte=[ate,rte];function cte(n={}){return[r5.of(n),lte]}const ute=new $t;function yb(n,e,t){let r=n.prop(e<0?$t.openedBy:$t.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function bb(n){let e=n.type.prop(ute);return e?e(n.node):n}function ds(n,e,t,r={}){let i=r.maxScanDistance||t5,o=r.brackets||n5,s=ai(n),a=s.resolveInner(e,t);for(let l=a;l;l=l.parent){let u=yb(l.type,t,o);if(u&&l.from<l.to){let f=bb(l);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return fte(n,e,t,l,f,u,o)}}return dte(n,e,t,s,a.type,i,o)}function fte(n,e,t,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},u=0,f=a==null?void 0:a.cursor();if(f&&(t<0?f.childBefore(r.from):f.childAfter(r.to)))do if(t<0?f.to<=r.from:f.from>=r.to){if(u==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let d=bb(f);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(yb(f.type,t,s))u++;else if(yb(f.type,-t,s)){if(u==0){let d=bb(f);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(t<0?f.prevSibling():f.nextSibling());return{start:l,matched:!1}}function dte(n,e,t,r,i,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let h=0;!f.next().done&&h<=o;){let g=f.value;t<0&&(h+=g.length);let p=e+h*t;for(let m=t>0?0:g.length-1,y=t>0?g.length:-1;m!=y;m+=t){let v=s.indexOf(g[m]);if(!(v<0||r.resolveInner(p+m,1).type!=i))if(v%2==0==t>0)d++;else{if(d==1)return{start:u,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};d--}}t>0&&(h+=g.length)}return f.done?{start:u,matched:!1}:null}const hte=Object.create(null),nS=[Ri.none],rS=[],iS=Object.create(null),gte=Object.create(null);for(let[n,e]of[[\"variable\",\"variableName\"],[\"variable-2\",\"variableName.special\"],[\"string-2\",\"string.special\"],[\"def\",\"variableName.definition\"],[\"tag\",\"tagName\"],[\"attribute\",\"attributeName\"],[\"type\",\"typeName\"],[\"builtin\",\"variableName.standard\"],[\"qualifier\",\"modifier\"],[\"error\",\"invalid\"],[\"header\",\"heading\"],[\"property\",\"propertyName\"]])gte[n]=pte(hte,e);function ay(n,e){rS.indexOf(n)>-1||(rS.push(n),console.warn(e))}function pte(n,e){let t=[];for(let a of e.split(\" \")){let l=[];for(let u of a.split(\".\")){let f=n[u]||Fe[u];f?typeof f==\"function\"?l.length?l=l.map(f):ay(u,`Modifier ${u} used at start of tag`):l.length?ay(u,`Tag ${u} used as modifier`):l=Array.isArray(f)?f:[f]:ay(u,`Unknown highlighting tag ${u}`)}for(let u of l)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,\"_\"),i=r+\" \"+t.map(a=>a.id),o=iS[i];if(o)return o.id;let s=iS[i]=Ri.define({id:nS.length,name:r,props:[jT({[r]:t})]});return nS.push(s),s.id}Kn.RTL,Kn.LTR;const mte=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=O2(n.state,t.from);return r.line?vte(n):r.block?bte(n):!1};function k2(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const vte=k2(Cte,0),yte=k2(i5,0),bte=k2((n,e)=>i5(n,e,xte(e)),0);function O2(n,e){let t=n.languageDataAt(\"commentTokens\",e);return t.length?t[0]:{}}const kf=50;function wte(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-kf,r),s=n.sliceDoc(i,i+kf),a=/\\s*$/.exec(o)[0].length,l=/^\\s*/.exec(s)[0].length,u=o.length-a;if(o.slice(u-e.length,u)==e&&s.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let f,d;i-r<=2*kf?f=d=n.sliceDoc(r,i):(f=n.sliceDoc(r,r+kf),d=n.sliceDoc(i-kf,i));let h=/^\\s*/.exec(f)[0].length,g=/\\s*$/.exec(d)[0].length,p=d.length-g-t.length;return f.slice(h,h+e.length)==e&&d.slice(p,p+t.length)==t?{open:{pos:r+h+e.length,margin:/\\s/.test(f.charAt(h+e.length))?1:0},close:{pos:i-g-t.length,margin:/\\s/.test(d.charAt(p-1))?1:0}}:null}function xte(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\\s*/.exec(r.text)[0].length,to:i.to})}return e}function i5(n,e,t=e.selection.ranges){let r=t.map(o=>O2(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>wte(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+\" \"},{from:o.to,insert:\" \"+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:u,close:f}=a;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:o}}return null}function Cte(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let a=r.length,l=1e9,u=O2(e,o).line;if(u){for(let f=o;f<=s;){let d=e.doc.lineAt(f);if(d.from>i&&(o==s||s>d.from)){i=d.from;let h=/^\\s*/.exec(d.text)[0].length,g=h==d.length,p=d.text.slice(h,h+u.length)==u?h:-1;h<d.text.length&&h<l&&(l=h),r.push({line:d,comment:p,token:u,indent:h,empty:g,single:!1})}f=d.to+1}if(l<1e9)for(let f=a;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:u,empty:f,single:d}of r)(d||!f)&&o.push({from:a.from+u,insert:l+\" \"});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let u=s.from+a,f=u+l.length;s.text[f-s.from]==\" \"&&f++,o.push({from:u,to:f})}return{changes:o}}return null}function nf(n,e){return Se.create(n.ranges.map(e),n.mainIndex)}function Ms(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:\"select\"})}function $o({state:n,dispatch:e},t){let r=nf(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Ms(n,r)),!0)}function jv(n,e){return Se.cursor(e?n.to:n.from)}function o5(n,e){return $o(n,t=>t.empty?n.moveByChar(t,e):jv(t,e))}function ci(n){return n.textDirectionAt(n.state.selection.main.head)==Kn.LTR}const s5=n=>o5(n,!ci(n)),a5=n=>o5(n,ci(n));function l5(n,e){return $o(n,t=>t.empty?n.moveByGroup(t,e):jv(t,e))}const _te=n=>l5(n,!ci(n)),Ste=n=>l5(n,ci(n));function kte(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function zv(n,e,t){let r=ai(n).resolveInner(e.head),i=t?$t.closedBy:$t.openedBy;for(let l=e.head;;){let u=t?r.childAfter(l):r.childBefore(l);if(!u)break;kte(n,u,i)?r=u:l=t?u.to:u.from}let o=r.type.prop(i),s,a;return o&&(s=t?ds(n,r.from,1):ds(n,r.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?r.to:r.from,Se.cursor(a,t?-1:1)}const Ote=n=>$o(n,e=>zv(n.state,e,!ci(n))),Ate=n=>$o(n,e=>zv(n.state,e,ci(n)));function c5(n,e){return $o(n,t=>{if(!t.empty)return jv(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const u5=n=>c5(n,!1),f5=n=>c5(n,!0);function d5(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(et.scrollMargins)){let s=o(n);s!=null&&s.top&&(t=Math.max(s==null?void 0:s.top,t)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function h5(n,e){let t=d5(n),{state:r}=n,i=nf(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):jv(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,u=a.bottom-t.marginBottom;s&&s.top>l&&s.bottom<u&&(o=et.scrollIntoView(i.main.head,{y:\"start\",yMargin:s.top-l}))}return n.dispatch(Ms(r,i),{effects:o}),!0}const oS=n=>h5(n,!1),wb=n=>h5(n,!0);function gl(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Se.cursor(r.from+o))}return i}const Ete=n=>$o(n,e=>gl(n,e,!0)),Tte=n=>$o(n,e=>gl(n,e,!1)),Mte=n=>$o(n,e=>gl(n,e,!ci(n))),Pte=n=>$o(n,e=>gl(n,e,ci(n))),Ite=n=>$o(n,e=>Se.cursor(n.lineBlockAt(e.head).from,1)),Rte=n=>$o(n,e=>Se.cursor(n.lineBlockAt(e.head).to,-1));function Dte(n,e,t){let r=!1,i=nf(n.selection,o=>{let s=ds(n,o.head,-1)||ds(n,o.head,1)||o.head>0&&ds(n,o.head-1,1)||o.head<n.doc.length&&ds(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return Se.cursor(a)});return r?(e(Ms(n,i)),!0):!1}const Nte=({state:n,dispatch:e})=>Dte(n,e);function _o(n,e){let t=nf(n.state.selection,r=>{let i=e(r);return Se.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ms(n.state,t)),!0)}function g5(n,e){return _o(n,t=>n.moveByChar(t,e))}const p5=n=>g5(n,!ci(n)),m5=n=>g5(n,ci(n));function v5(n,e){return _o(n,t=>n.moveByGroup(t,e))}const Lte=n=>v5(n,!ci(n)),Bte=n=>v5(n,ci(n)),Fte=n=>_o(n,e=>zv(n.state,e,!ci(n))),jte=n=>_o(n,e=>zv(n.state,e,ci(n)));function y5(n,e){return _o(n,t=>n.moveVertically(t,e))}const b5=n=>y5(n,!1),w5=n=>y5(n,!0);function x5(n,e){return _o(n,t=>n.moveVertically(t,e,d5(n).height))}const sS=n=>x5(n,!1),aS=n=>x5(n,!0),zte=n=>_o(n,e=>gl(n,e,!0)),Vte=n=>_o(n,e=>gl(n,e,!1)),Hte=n=>_o(n,e=>gl(n,e,!ci(n))),qte=n=>_o(n,e=>gl(n,e,ci(n))),Wte=n=>_o(n,e=>Se.cursor(n.lineBlockAt(e.head).from)),Ute=n=>_o(n,e=>Se.cursor(n.lineBlockAt(e.head).to)),lS=({state:n,dispatch:e})=>(e(Ms(n,{anchor:0})),!0),cS=({state:n,dispatch:e})=>(e(Ms(n,{anchor:n.doc.length})),!0),uS=({state:n,dispatch:e})=>(e(Ms(n,{anchor:n.selection.main.anchor,head:0})),!0),fS=({state:n,dispatch:e})=>(e(Ms(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Kte=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:\"select\"})),!0),Jte=({state:n,dispatch:e})=>{let t=Vv(n).map(({from:r,to:i})=>Se.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:Se.create(t),userEvent:\"select\"})),!0},Xte=({state:n,dispatch:e})=>{let t=nf(n.selection,r=>{let i=ai(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&s.next)return Se.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(Ms(n,t)),!0)},Gte=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=Se.create([t.main]):t.main.empty||(r=Se.create([Se.cursor(t.main.head)])),r?(e(Ms(n,r)),!0):!1};function Ch(n,e){if(n.state.readOnly)return!1;let t=\"delete.selection\",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(t=\"delete.backward\",l=yg(n,l,!1)):l>s&&(t=\"delete.forward\",l=yg(n,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=yg(n,s,!1),a=yg(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:Se.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t==\"delete.selection\"?et.announce.of(r.phrase(\"Selection deleted\")):void 0})),!0)}function yg(n,e,t){if(n instanceof et)for(let r of n.state.facet(et.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const C5=(n,e,t)=>Ch(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),a,l;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \\t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]==\"\t\")return i-1;let u=tf(a,o.tabSize),f=u%il(o)||il(o);for(let d=0;d<f&&a[a.length-1-d]==\" \";d++)i--;l=i}else l=Yr(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\\ufe00-\\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=Yr(s.text,l-s.from,!1,!1)+s.from);return l}),xb=n=>C5(n,!1,!0),_5=n=>C5(n,!0,!1),S5=(n,e)=>Ch(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Yr(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),f=s(u);if(a!=null&&f!=a)break;(u!=\" \"||r!=t.head)&&(a=f),r=l}return r}),k5=n=>S5(n,!1),Yte=n=>S5(n,!0),Qte=n=>Ch(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Zte=n=>Ch(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),$te=n=>Ch(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ene=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:wn.of([\"\",\"\"])},range:Se.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:\"input\"})),!0},tne=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:Yr(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Yr(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(s,i))},range:Se.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:\"move.character\"})),!0)};function Vv(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function O5(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of Vv(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let l of o.ranges)i.push(Se.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let l of o.ranges)i.push(Se.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:Se.create(i,n.selection.mainIndex),userEvent:\"move.line\"})),!0):!1}const nne=({state:n,dispatch:e})=>O5(n,e,!1),rne=({state:n,dispatch:e})=>O5(n,e,!0);function A5(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of Vv(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:\"input.copyline\"})),!0}const ine=({state:n,dispatch:e})=>A5(n,e,!1),one=({state:n,dispatch:e})=>A5(n,e,!0),sne=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Vv(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=nf(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:\"delete.line\"}),!0};function ane(n,e){if(/\\(\\)|\\[\\]|\\{\\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ai(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop($t.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const dS=E5(!1),lne=E5(!0);function E5(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!n&&o==s&&ane(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let u=new Bv(e,{simulateBreak:o,simulateDoubleBreak:!!l}),f=_2(u,o);for(f==null&&(f=tf(/^\\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\\S/.test(a.text.slice(0,o))&&(o=a.from);let d=[\"\",zd(e,f)];return l&&d.push(zd(e,u.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:wn.of(d)},range:Se.cursor(o+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:\"input\"})),!0}}function A2(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=n.doc.lineAt(s);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),s=a.to+1}let o=n.changes(i);return{changes:i,range:Se.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const cne=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Bv(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=A2(n,(o,s,a)=>{let l=_2(r,o.from);if(l==null)return;/\\S/.test(o.text)||(l=0);let u=/^\\s*/.exec(o.text)[0],f=zd(n,l);(u!=f||a.from<o.from+u.length)&&(t[o.from]=l,s.push({from:o.from,to:o.from+u.length,insert:f}))});return i.changes.empty||e(n.update(i,{userEvent:\"indent\"})),!0},T5=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(A2(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Lv)})}),{userEvent:\"input.indent\"})),!0),M5=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(A2(n,(t,r)=>{let i=/^\\s*/.exec(t.text)[0];if(!i)return;let o=tf(i,n.tabSize),s=0,a=zd(n,Math.max(0,o-il(n)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:\"delete.dedent\"})),!0),une=n=>(n.setTabFocusMode(),!0),fne=[{key:\"Ctrl-b\",run:s5,shift:p5,preventDefault:!0},{key:\"Ctrl-f\",run:a5,shift:m5},{key:\"Ctrl-p\",run:u5,shift:b5},{key:\"Ctrl-n\",run:f5,shift:w5},{key:\"Ctrl-a\",run:Ite,shift:Wte},{key:\"Ctrl-e\",run:Rte,shift:Ute},{key:\"Ctrl-d\",run:_5},{key:\"Ctrl-h\",run:xb},{key:\"Ctrl-k\",run:Qte},{key:\"Ctrl-Alt-h\",run:k5},{key:\"Ctrl-o\",run:ene},{key:\"Ctrl-t\",run:tne},{key:\"Ctrl-v\",run:wb}],dne=[{key:\"ArrowLeft\",run:s5,shift:p5,preventDefault:!0},{key:\"Mod-ArrowLeft\",mac:\"Alt-ArrowLeft\",run:_te,shift:Lte,preventDefault:!0},{mac:\"Cmd-ArrowLeft\",run:Mte,shift:Hte,preventDefault:!0},{key:\"ArrowRight\",run:a5,shift:m5,preventDefault:!0},{key:\"Mod-ArrowRight\",mac:\"Alt-ArrowRight\",run:Ste,shift:Bte,preventDefault:!0},{mac:\"Cmd-ArrowRight\",run:Pte,shift:qte,preventDefault:!0},{key:\"ArrowUp\",run:u5,shift:b5,preventDefault:!0},{mac:\"Cmd-ArrowUp\",run:lS,shift:uS},{mac:\"Ctrl-ArrowUp\",run:oS,shift:sS},{key:\"ArrowDown\",run:f5,shift:w5,preventDefault:!0},{mac:\"Cmd-ArrowDown\",run:cS,shift:fS},{mac:\"Ctrl-ArrowDown\",run:wb,shift:aS},{key:\"PageUp\",run:oS,shift:sS},{key:\"PageDown\",run:wb,shift:aS},{key:\"Home\",run:Tte,shift:Vte,preventDefault:!0},{key:\"Mod-Home\",run:lS,shift:uS},{key:\"End\",run:Ete,shift:zte,preventDefault:!0},{key:\"Mod-End\",run:cS,shift:fS},{key:\"Enter\",run:dS,shift:dS},{key:\"Mod-a\",run:Kte},{key:\"Backspace\",run:xb,shift:xb},{key:\"Delete\",run:_5},{key:\"Mod-Backspace\",mac:\"Alt-Backspace\",run:k5},{key:\"Mod-Delete\",mac:\"Alt-Delete\",run:Yte},{mac:\"Mod-Backspace\",run:Zte},{mac:\"Mod-Delete\",run:$te}].concat(fne.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),hne=[{key:\"Alt-ArrowLeft\",mac:\"Ctrl-ArrowLeft\",run:Ote,shift:Fte},{key:\"Alt-ArrowRight\",mac:\"Ctrl-ArrowRight\",run:Ate,shift:jte},{key:\"Alt-ArrowUp\",run:nne},{key:\"Shift-Alt-ArrowUp\",run:ine},{key:\"Alt-ArrowDown\",run:rne},{key:\"Shift-Alt-ArrowDown\",run:one},{key:\"Escape\",run:Gte},{key:\"Mod-Enter\",run:lne},{key:\"Alt-l\",mac:\"Ctrl-l\",run:Jte},{key:\"Mod-i\",run:Xte,preventDefault:!0},{key:\"Mod-[\",run:M5},{key:\"Mod-]\",run:T5},{key:\"Mod-Alt-\\\\\",run:cne},{key:\"Shift-Mod-k\",run:sne},{key:\"Shift-Mod-\\\\\",run:Nte},{key:\"Mod-/\",run:mte},{key:\"Alt-A\",run:yte},{key:\"Ctrl-m\",mac:\"Shift-Alt-m\",run:une}].concat(dne),gne={key:\"Tab\",run:T5,shift:M5};function Fn(){var n=arguments[0];typeof n==\"string\"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t==\"object\"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i==\"string\"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)P5(n,arguments[e]);return n}function P5(n,e){if(typeof e==\"string\")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)P5(n,e[t]);else throw new RangeError(\"Unsupported child node: \"+e)}class hS{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class El{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(hs).markerFilter;o&&(i=o(i,r));let s=e.slice().sort((d,h)=>d.from-h.from||d.to-h.to),a=new Jo,l=[],u=0;for(let d=0;;){let h=d==s.length?null:s[d];if(!h&&!l.length)break;let g,p;for(l.length?(g=u,p=l.reduce((y,v)=>Math.min(y,v.to),h&&h.from>g?h.from:1e8)):(g=h.from,p=h.to,l.push(h),d++);d<s.length;){let y=s[d];if(y.from==g&&(y.to>y.from||y.to==g))l.push(y),d++,p=Math.min(y.to,p);else{p=Math.min(y.from,p);break}}let m=F5(l);if(l.some(y=>y.from==y.to||y.from==y.to-1&&r.doc.lineAt(y.from).to==y.from))a.add(g,g,Ct.widget({widget:new Sne(m),diagnostics:l.slice()}));else{let y=l.reduce((v,C)=>C.markClass?v+\" \"+C.markClass:v,\"\");a.add(g,p,Ct.mark({class:\"cm-lintRange cm-lintRange-\"+m+y,diagnostics:l.slice(),inclusiveEnd:l.some(v=>v.to>p)}))}u=p;for(let y=0;y<l.length;y++)l[y].to<=u&&l.splice(y--,1)}let f=a.finish();return new El(f,t,Hu(f))}}function Hu(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new hS(i,o,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new hS(r.from,o,r.diagnostic)}}),r}function I5(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(hs).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(Hv))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function R5(n,e){return n.field(Ki,!1)?e:e.concat(zt.appendConfig.of(V5))}function pne(n,e){return{effects:R5(n,[Hv.of(e)])}}const Hv=zt.define(),E2=zt.define(),D5=zt.define(),Ki=Vr.define({create(){return new El(Ct.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=Hu(t,n.selected.diagnostic,o)||Hu(t,null,o)}!t.size&&i&&e.state.facet(hs).autoPanel&&(i=null),n=new El(t,i,r)}for(let t of e.effects)if(t.is(Hv)){let r=e.state.facet(hs).autoPanel?t.value.length?Vd.open:null:n.panel;n=El.init(t.value,r,e.state)}else t.is(E2)?n=new El(n.diagnostics,t.value?Vd.open:null,n.selected):t.is(D5)&&(n=new El(n.diagnostics,n.panel,t.value));return n},provide:n=>[Fd.from(n,e=>e.panel),et.decorations.from(n,e=>e.diagnostics)]}),mne=Ct.mark({class:\"cm-lintRange cm-lintRange-active\"});function vne(n,e,t){let{diagnostics:r}=n.state.field(Ki),i,o=-1,s=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,u,{spec:f})=>{if(e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0)))return i=f.diagnostics,o=l,s=u,!1});let a=n.state.facet(hs).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:N5(n,i)}}}:null}function N5(n,e){return Fn(\"ul\",{class:\"cm-tooltip-lint\"},e.map(t=>B5(n,t,!1)))}const yne=n=>{let e=n.state.field(Ki,!1);(!e||!e.panel)&&n.dispatch({effects:R5(n.state,[E2.of(!0)])});let t=Bd(n,Vd.open);return t&&t.dom.querySelector(\".cm-panel-lint ul\").focus(),!0},gS=n=>{let e=n.state.field(Ki,!1);return!e||!e.panel?!1:(n.dispatch({effects:E2.of(!1)}),!0)},bne=n=>{let e=n.state.field(Ki,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},wne=[{key:\"Mod-Shift-m\",run:yne,preventDefault:!0},{key:\"F8\",run:bne}],xne=ir.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(hs);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(hs);t.length&&Cne(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(pne(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{yi(this.view.state,r)})}}update(n){let e=n.state.facet(hs);(n.docChanged||e!=n.startState.facet(hs)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function Cne(n,e,t){let r=[],i=-1;for(let o of n)o.then(s=>{r.push(s),clearTimeout(i),r.length==n.length?e(r):i=setTimeout(()=>e(r),200)},t)}const hs=rt.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Zo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function _ne(n,e={}){return[hs.of({source:n,config:e}),xne,V5]}function L5(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push(\"\")}return e}function B5(n,e,t){var r;let i=t?L5(e.actions):[];return Fn(\"li\",{class:\"cm-diagnostic cm-diagnostic-\"+e.severity},Fn(\"span\",{class:\"cm-diagnosticText\"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let g=Hu(n.state.field(Ki).diagnostics,e);g&&o.apply(n,g.from,g.to)},{name:u}=o,f=i[s]?u.indexOf(i[s]):-1,d=f<0?u:[u.slice(0,f),Fn(\"u\",u.slice(f,f+1)),u.slice(f+1)];return Fn(\"button\",{type:\"button\",class:\"cm-diagnosticAction\",onclick:l,onmousedown:l,\"aria-label\":` Action: ${u}${f<0?\"\":` (access key \"${i[s]})\"`}.`},d)}),e.source&&Fn(\"div\",{class:\"cm-diagnosticSource\"},e.source))}class Sne extends hl{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Fn(\"span\",{class:\"cm-lintPoint cm-lintPoint-\"+this.sev})}}class pS{constructor(e,t){this.diagnostic=t,this.id=\"item_\"+Math.floor(Math.random()*4294967295).toString(16),this.dom=B5(e,t,!0),this.dom.id=this.id,this.dom.setAttribute(\"role\",\"option\")}}class Vd{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)gS(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=L5(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Hu(this.view.state.field(Ki).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=Fn(\"ul\",{tabIndex:0,role:\"listbox\",\"aria-label\":this.view.state.phrase(\"Diagnostics\"),onkeydown:t,onclick:r}),this.dom=Fn(\"div\",{class:\"cm-panel-lint\"},this.list,Fn(\"button\",{type:\"button\",name:\"close\",\"aria-label\":this.view.state.phrase(\"close\"),onclick:()=>gS(this.view)},\"\")),this.update()}get selectedIndex(){let e=this.view.state.field(Ki).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ki),r=0,i=!1,o=null,s=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let f of u.diagnostics){if(s.has(f))continue;s.add(f);let d=-1,h;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==f){d=g;break}d<0?(h=new pS(this.view,f),this.items.splice(r,0,h),i=!0):(h=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&h.diagnostic==t.diagnostic?h.dom.hasAttribute(\"aria-selected\")||(h.dom.setAttribute(\"aria-selected\",\"true\"),o=h):h.dom.hasAttribute(\"aria-selected\")&&h.dom.removeAttribute(\"aria-selected\"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new pS(this.view,{from:-1,to:-1,severity:\"info\",message:this.view.state.phrase(\"No diagnostics\")})),i=!0),o?(this.list.setAttribute(\"aria-activedescendant\",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute(\"aria-activedescendant\"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ki),r=Hu(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:D5.of(r)})}static open(e){return new Vd(e)}}function sp(n,e='viewBox=\"0 0 40 40\"'){return`url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${e}>${encodeURIComponent(n)}</svg>')`}function bg(n){return sp(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${n}\" fill=\"none\" stroke-width=\".7\"/>`,'width=\"6\" height=\"3\"')}const kne=et.baseTheme({\".cm-diagnostic\":{padding:\"3px 6px 3px 8px\",marginLeft:\"-1px\",display:\"block\",whiteSpace:\"pre-wrap\"},\".cm-diagnostic-error\":{borderLeft:\"5px solid #d11\"},\".cm-diagnostic-warning\":{borderLeft:\"5px solid orange\"},\".cm-diagnostic-info\":{borderLeft:\"5px solid #999\"},\".cm-diagnostic-hint\":{borderLeft:\"5px solid #66d\"},\".cm-diagnosticAction\":{font:\"inherit\",border:\"none\",padding:\"2px 4px\",backgroundColor:\"#444\",color:\"white\",borderRadius:\"3px\",marginLeft:\"8px\",cursor:\"pointer\"},\".cm-diagnosticSource\":{fontSize:\"70%\",opacity:.7},\".cm-lintRange\":{backgroundPosition:\"left bottom\",backgroundRepeat:\"repeat-x\",paddingBottom:\"0.7px\"},\".cm-lintRange-error\":{backgroundImage:bg(\"#d11\")},\".cm-lintRange-warning\":{backgroundImage:bg(\"orange\")},\".cm-lintRange-info\":{backgroundImage:bg(\"#999\")},\".cm-lintRange-hint\":{backgroundImage:bg(\"#66d\")},\".cm-lintRange-active\":{backgroundColor:\"#ffdd9980\"},\".cm-tooltip-lint\":{padding:0,margin:0},\".cm-lintPoint\":{position:\"relative\",\"&:after\":{content:'\"\"',position:\"absolute\",bottom:0,left:\"-2px\",borderLeft:\"3px solid transparent\",borderRight:\"3px solid transparent\",borderBottom:\"4px solid #d11\"}},\".cm-lintPoint-warning\":{\"&:after\":{borderBottomColor:\"orange\"}},\".cm-lintPoint-info\":{\"&:after\":{borderBottomColor:\"#999\"}},\".cm-lintPoint-hint\":{\"&:after\":{borderBottomColor:\"#66d\"}},\".cm-panel.cm-panel-lint\":{position:\"relative\",\"& ul\":{maxHeight:\"100px\",overflowY:\"auto\",\"& [aria-selected]\":{backgroundColor:\"#ddd\",\"& u\":{textDecoration:\"underline\"}},\"&:focus [aria-selected]\":{background_fallback:\"#bdf\",backgroundColor:\"Highlight\",color_fallback:\"white\",color:\"HighlightText\"},\"& u\":{textDecoration:\"none\"},padding:0,margin:0},\"& [name=close]\":{position:\"absolute\",top:\"0\",right:\"2px\",background:\"inherit\",border:\"none\",font:\"inherit\",padding:0,margin:0}}});function One(n){return n==\"error\"?4:n==\"warning\"?3:n==\"info\"?2:1}function F5(n){let e=\"hint\",t=1;for(let r of n){let i=One(r.severity);i>t&&(t=i,e=r.severity)}return e}class j5 extends Os{constructor(e){super(),this.diagnostics=e,this.severity=F5(e)}toDOM(e){let t=document.createElement(\"div\");t.className=\"cm-lint-marker cm-lint-marker-\"+this.severity;let r=this.diagnostics,i=e.state.facet(qv).tooltipFilter;return i&&(r=i(r,e.state)),r.length&&(t.onmouseover=()=>Ene(e,t,r)),t}}function Ane(n,e){let t=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let o=r.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains(\"cm-tooltip-lint\"))return;window.removeEventListener(\"mousemove\",t),n.state.field(z5)&&n.dispatch({effects:T2.of(null)})}};window.addEventListener(\"mousemove\",t)}function Ene(n,e,t){function r(){let s=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(s.from)&&n.dispatch({effects:T2.of({pos:s.from,above:!1,clip:!1,create(){return{dom:N5(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,Ane(n,e)}let{hoverTime:i}=n.state.facet(qv),o=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,i)}}function Tne(n,e){let t=Object.create(null);for(let i of e){let o=n.lineAt(i.from);(t[o.from]||(t[o.from]=[])).push(i)}let r=[];for(let i in t)r.push(new j5(t[i]).range(+i));return an.of(r,!0)}const Mne=PT({class:\"cm-gutter-lint\",markers:n=>n.state.field(Cb),widgetMarker:(n,e,t)=>{let r=[];return n.state.field(Cb).between(t.from,t.to,(i,o,s)=>{i>t.from&&i<t.to&&r.push(...s.diagnostics)}),r.length?new j5(r):null}}),Cb=Vr.define({create(){return an.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(qv).markerFilter;for(let r of e.effects)if(r.is(Hv)){let i=r.value;t&&(i=t(i||[],e.state)),n=Tne(e.state.doc,i.slice(0))}return n}}),T2=zt.define(),z5=Vr.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=I5(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,r)=>r.is(T2)?r.value:t,n)},provide:n=>Dv.from(n)}),Pne=et.baseTheme({\".cm-gutter-lint\":{width:\"1.4em\",\"& .cm-gutterElement\":{padding:\".2em\"}},\".cm-lint-marker\":{width:\"1em\",height:\"1em\"},\".cm-lint-marker-info\":{content:sp('<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>')},\".cm-lint-marker-warning\":{content:sp('<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>')},\".cm-lint-marker-error\":{content:sp('<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>')}}),V5=[Ki,et.decorations.compute([Ki],n=>{let{selected:e,panel:t}=n.field(Ki);return!e||!t||e.from==e.to?Ct.none:Ct.set([mne.range(e.from,e.to)])}),G$(vne,{hideOn:I5}),kne],qv=rt.define({combine(n){return Zo(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function Ine(n={}){return[qv.of(n),Cb,Mne,Pne,z5]}var mS={};class pm{constructor(e,t,r,i,o,s,a,l,u,f=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=f,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?\"!\"+this.score:\"\"}`}static start(e,t,r=0){let i=e.parser.context;return new pm(e,[],t,r,r,0,[],0,i?new vS(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,f=this.reducePos-u;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=f));let d=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-d;if(i<o.minRepeatTerm||e&131072){let g=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,g,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let g=this.stack[l-3];this.state=o.getGoto(g,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(t==r)return;if(s.buffer[a-2]>=t){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,t,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let l=s;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let o=e,{parser:s}=this.p;(i>this.pos||t<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new pm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Rne(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(t[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<t.length;o+=2){let s=t[o+1];i.some((a,l)=>l&1&&a==s)||i.push(t[o],s)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let o=t[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,o)=>{if(!t.includes(i))return t.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new vS(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class vS{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Rne{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class mm{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new mm(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new mm(this.stack,this.pos,this.index)}}function wg(n,e=Uint16Array){if(typeof n!=\"string\")return n;let t=null;for(let r=0,i=0;r<n.length;){let o=0;for(;;){let s=n.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}t?t[i++]=o:t=new e(o)}return t}class ap{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const yS=new ap;class Dne{constructor(e,t){this.input=e,this.ranges=t,this.chunk=\"\",this.chunkOff=0,this.chunk2=\"\",this.chunk2Pos=0,this.next=-1,this.token=yS,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError(\"Token end out of bounds\");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk=\"\",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=yS,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk=\"\",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r=\"\";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class mu{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;Nne(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}mu.prototype.contextual=mu.prototype.fallback=mu.prototype.extend=!1;mu.prototype.fallback=mu.prototype.extend=!1;function Nne(n,e,t,r,i,o){let s=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[s];){let u=n[s+1];for(let g=s+3;g<u;g+=2)if((n[g+1]&a)>0){let p=n[g];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||Lne(p,e.token.value,i,o))){e.acceptToken(p);break}}let f=e.next,d=0,h=n[s+2];if(e.next<0&&h>d&&n[u+h*3-3]==65535){s=n[u+h*3-1];continue e}for(;d<h;){let g=d+h>>1,p=u+g+(g<<1),m=n[p],y=n[p+1]||65536;if(f<m)h=g;else if(f>=y)d=g+1;else{s=n[p+2],e.advance();continue e}}break}}function bS(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function Lne(n,e,t,r){let i=bS(t,r,e);return i<0||bS(t,r,n)<i}const Bi=typeof process<\"u\"&&mS&&/\\bparse\\b/.test(mS.LOG);let ly=null;function wS(n,e,t){let r=n.cursor(Br.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class Bne{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?wS(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?wS(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[t]+r.positions[i];if(s>e)return this.nextStart=s,null;if(o instanceof kr){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop($t.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class Fne{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ap)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,s=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<o.length;u++){if(!(1<<u&s))continue;let f=o[u],d=this.tokens[u];if(!(r&&!f.fallback)&&((f.contextual||d.start!=e.pos||d.mask!=s||d.context!=a)&&(this.updateCachedToken(d,f,e),d.mask=s,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!f.extend&&(r=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ap,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ap,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let l=0;l<2;l++)for(let u=s.stateSlot(o,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Vs(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Vs(a,u+2),t,r,i));break}a[u]==t&&(i=this.putAction(Vs(a,u+1),t,r,i))}return i}}class jne{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Dne(t,i),this.tokens=new Fne(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[pm.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new Bne(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!r.length){let s=i&&Vne(i);if(s)return Bi&&console.log(\"Finish with \"+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Bi&&i&&console.log(\"Stuck with token \"+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):\"none\")),new SyntaxError(\"No parse at \"+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return Bi&&console.log(\"Force-finish \"+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError(\"Can't move stoppedAt forward\");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:o}=this,s=Bi?this.stackID(e)+\" -> \":\"\";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,f=u?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?o.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!u||(d.prop($t.contextHash)||0)==f))return e.useNode(d,h),Bi&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(d.type.id)})`),!0;if(!(d instanceof kr)||d.children.length==0||d.positions[0]>0)break;let g=d.children[0];if(g instanceof kr&&d.positions[0]==0)d=g;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Bi&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let f=l[u++],d=l[u++],h=l[u++],g=u==l.length||!r,p=g?e:e.split(),m=this.tokens.mainToken;if(p.apply(f,d,m?m.start:p.pos,h),Bi&&console.log(s+this.stackID(p)+` (via ${f&65536?`reduce of ${o.getName(f&65535)}`:\"shift\"} for ${o.getName(d)} @ ${i}${p==e?\"\":\", split\"})`),g)return!0;p.pos>i?t.push(p):r.push(p)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return xS(e,t),!0}}runRecovery(e,t,r){let i=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],l=t[s<<1],u=t[(s<<1)+1],f=Bi?this.stackID(a)+\" -> \":\"\";if(a.deadEnd&&(o||(o=!0,a.restart(),Bi&&console.log(f+this.stackID(a)+\" (restarted)\"),this.advanceFully(a,r))))continue;let d=a.split(),h=f;for(let g=0;d.forceReduce()&&g<10&&(Bi&&console.log(h+this.stackID(d)+\" (via force-reduce)\"),!this.advanceFully(d,r));g++)Bi&&(h=this.stackID(d)+\" -> \");for(let g of a.recoverByInsert(l))Bi&&console.log(f+this.stackID(g)+\" (via recover-insert)\"),this.advanceFully(g,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Bi&&console.log(f+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),xS(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),kr.build({buffer:mm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(ly||(ly=new WeakMap)).get(e);return t||ly.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function xS(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class zne{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class vm extends FT{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(\" \");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push(\"\");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function o(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l==\"string\"&&(l=$t[l]);for(let u=1;u<a.length;){let f=a[u++];if(f>=0)o(f,l,a[u++]);else{let d=a[u+-f];for(let h=-f;h>0;h--)o(a[u++],l,d);u++}}}this.nodeSet=new b2(t.map((a,l)=>Ri.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DT;let s=wg(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(CS),this.states=wg(e.states,Uint32Array),this.data=wg(e.stateData),this.goto=wg(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a==\"number\"?new mu(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new jne(this,e,t,r);for(let o of this.wrappers)i=o(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let o=i[t+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&r)return l;for(let u=o+(s>>1);o<u;o++)if(i[o]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=Vs(r,o+2)];else{if(r[o+1]==2)return Vs(r,o+2);break}if(s==t||s==0)return Vs(r,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Vs(this.data,o+2);else break;i=t(Vs(this.data,o+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Vs(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((o,s)=>s&1&&o==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(vm.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return t.specializers[i]=CS(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let o of e.split(\" \")){let s=t.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<t.length;o++)if(!r[o])for(let s=this.dialects[t[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new zne(e,r,i)}static deserialize(e){return new vm(e)}}function Vs(n,e){return n[e]|n[e+1]<<16}function Vne(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function CS(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const Hne=jT({String:Fe.string,Number:Fe.number,\"True False\":Fe.bool,PropertyName:Fe.propertyName,Null:Fe.null,\", :\":Fe.separator,\"[ ]\":Fe.squareBracket,\"{ }\":Fe.brace}),qne=vm.deserialize({version:14,states:\"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l\",stateData:\"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O\",goto:\"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R\",nodeNames:\" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array\",maxTerm:25,nodeProps:[[\"isolate\",-2,6,11,\"\"],[\"openedBy\",7,\"{\",14,\"[\"],[\"closedBy\",8,\"}\",15,\"]\"]],propSources:[Hne],skippedNodes:[0],repeatNodeCount:2,tokenData:\"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~\",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Wne=fm.define({name:\"json\",parser:qne.configure({props:[qT.add({Object:eS({except:/^\\s*\\}/}),Array:eS({except:/^\\s*\\]/})}),UT.add({\"Object Array\":zee})]}),languageData:{closeBrackets:{brackets:[\"[\",\"{\",'\"']},indentOnInput:/^\\s*[\\}\\]]$/}});function Une(){return new Eee(Wne)}const _S=typeof String.prototype.normalize==\"function\"?n=>n.normalize(\"NFKD\"):n=>n;class qu{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer=\"\",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(_S(a)):_S,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ai(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=i2(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=us(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<\"u\"&&(qu.prototype[Symbol.iterator]=function(){return this});const H5={from:-1,to:-1,match:/.*/.exec(\"\")},M2=\"gm\"+(/x/.unicode==null?\"\":\"u\");class q5{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine=\"\",this.done=!1,this.value=H5,/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(t))return new W5(e,t,r,i,o);this.re=new RegExp(t,M2+(r!=null&&r.ignoreCase?\"i\":\"\")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=ym(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine=\"\":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine=\"\":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=ym(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const cy=new WeakMap;class vu{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=cy.get(e);if(!i||i.from>=r||i.to<=t){let a=new vu(t,e.sliceString(t,r));return cy.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),cy.set(e,new vu(s,o)),new vu(t,o.slice(t-s,r-s))}}class W5{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=H5,this.matchPos=ym(e,i),this.re=new RegExp(t,M2+(r!=null&&r.ignoreCase?\"i\":\"\")),this.test=r==null?void 0:r.test,this.flat=vu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=ym(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=vu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<\"u\"&&(q5.prototype[Symbol.iterator]=W5.prototype[Symbol.iterator]=function(){return this});function Kne(n){try{return new RegExp(n,M2),!0}catch{return!1}}function ym(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function _b(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Fn(\"input\",{class:\"cm-textfield\",name:\"line\",value:e}),r=Fn(\"form\",{class:\"cm-gotoLine\",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:bm.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},Fn(\"label\",n.state.phrase(\"Go to line\"),\": \",t),\" \",Fn(\"button\",{class:\"cm-button\",type:\"submit\"},n.state.phrase(\"go\")));function i(){let o=/^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,l,u,f,d]=o,h=f?+f.slice(1):0,g=u?+u:a.number;if(u&&d){let y=g/100;l&&(y=y*(l==\"-\"?-1:1)+a.number/s.doc.lines),g=Math.round(s.doc.lines*y)}else u&&l&&(g=g*(l==\"-\"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,g))),m=Se.cursor(p.from+Math.max(0,Math.min(h,p.length)));n.dispatch({effects:[bm.of(!1),et.scrollIntoView(m.from,{y:\"center\"})],selection:m}),n.focus()}return{dom:r}}const bm=zt.define(),SS=Vr.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(bm)&&(n=t.value);return n},provide:n=>Fd.from(n,e=>e?_b:null)}),Jne=n=>{let e=Bd(n,_b);if(!e){let t=[bm.of(!0)];n.state.field(SS,!1)==null&&t.push(zt.appendConfig.of([SS,Xne])),n.dispatch({effects:t}),e=Bd(n,_b)}return e&&e.dom.querySelector(\"input\").select(),!0},Xne=et.baseTheme({\".cm-panel.cm-gotoLine\":{padding:\"2px 6px 4px\",\"& label\":{fontSize:\"80%\"}}}),Gne={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Yne=rt.define({combine(n){return Zo(n,Gne,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Qne(n){return[nre,tre]}const Zne=Ct.mark({class:\"cm-selectionMatch\"}),$ne=Ct.mark({class:\"cm-selectionMatch cm-selectionMatch-main\"});function kS(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Yn.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Yn.Word)}function ere(n,e,t,r){return n(e.sliceDoc(t,t+1))==Yn.Word&&n(e.sliceDoc(r-1,r))==Yn.Word}const tre=ir.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Yne),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Ct.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Ct.none;let l=t.wordAt(i.head);if(!l)return Ct.none;s=t.charCategorizer(i.head),o=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Ct.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(kS(s,t,i.from,i.to)&&ere(s,t,i.from,i.to)))return Ct.none}else if(o=t.sliceDoc(i.from,i.to),!o)return Ct.none}let a=[];for(let l of n.visibleRanges){let u=new qu(t.doc,o,l.from,l.to);for(;!u.next().done;){let{from:f,to:d}=u.value;if((!s||kS(s,t,f,d))&&(i.empty&&f<=i.from&&d>=i.to?a.push($ne.range(f,d)):(f>=i.to||d<=i.from)&&a.push(Zne.range(f,d)),a.length>e.maxMatches))return Ct.none}}return Ct.set(a)}},{decorations:n=>n.decorations}),nre=et.baseTheme({\".cm-selectionMatch\":{backgroundColor:\"#99ff7780\"},\".cm-searchMatch .cm-selectionMatch\":{backgroundColor:\"transparent\"}}),rre=({state:n,dispatch:e})=>{let{selection:t}=n,r=Se.create(t.ranges.map(i=>n.wordAt(i.head)||Se.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function ire(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,a=new qu(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new qu(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const ore=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return rre({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=ire(n,r);return i?(e(n.update({selection:n.selection.addRange(Se.range(i.from,i.to),!1),effects:et.scrollIntoView(i.to)})),!0):!1},yc=rt.define({combine(n){return Zo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new yre(e),scrollToMatch:e=>et.scrollIntoView(e)})}});function sre(n){return n?[yc.of(n),kb]:kb}class U5{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||\"\",this.valid=!!this.search&&(!this.regexp||Kne(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\\\([nrt\\\\])/g,(t,r)=>r==\"n\"?`\n`:r==\"r\"?\"\\r\":r==\"t\"?\"\t\":\"\\\\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ure(this):new lre(this)}getCursor(e,t=0,r){let i=e.doc?e:en.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Hc(this,i,t,r):Vc(this,i,t,r)}}class K5{constructor(e){this.spec=e}}function Vc(n,e,t,r){return new qu(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?are(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function are(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(wm(i,t-o))!=Yn.Word||e(xm(i,t-o))!=Yn.Word)&&(e(xm(i,r-o))!=Yn.Word||e(wm(i,r-o))!=Yn.Word))}class lre extends K5{constructor(e){super(e)}nextMatch(e,t,r){let i=Vc(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Vc(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=Vc(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Vc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Vc(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Hc(n,e,t,r){return new q5(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?cre(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function wm(n,e){return n.slice(Yr(n,e,!1),e)}function xm(n,e){return n.slice(e,Yr(n,e))}function cre(n){return(e,t,r)=>!r[0].length||(n(wm(r.input,r.index))!=Yn.Word||n(xm(r.input,r.index))!=Yn.Word)&&(n(xm(r.input,r.index+r[0].length))!=Yn.Word||n(wm(r.input,r.index+r[0].length))!=Yn.Word)}class ure extends K5{nextMatch(e,t,r){let i=Hc(this.spec,e,r,e.doc.length).next();return i.done&&(i=Hc(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=Hc(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\\$([$&]|\\d+)/g,(t,r)=>{if(r==\"&\")return e.match[0];if(r==\"$\")return\"$\";for(let i=r.length;i>0;i--){let o=+r.slice(0,i);if(o>0&&o<e.match.length)return e.match[o]+r.slice(i)}return t})}matchAll(e,t){let r=Hc(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Hc(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Hd=zt.define(),P2=zt.define(),Xa=Vr.define({create(n){return new uy(Sb(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Hd)?n=new uy(t.value.create(),n.panel):t.is(P2)&&(n=new uy(n.query,t.value?I2:null));return n},provide:n=>Fd.from(n,e=>e.panel)});class uy{constructor(e,t){this.query=e,this.panel=t}}const fre=Ct.mark({class:\"cm-searchMatch\"}),dre=Ct.mark({class:\"cm-searchMatch cm-searchMatch-selected\"}),hre=ir.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Xa))}update(n){let e=n.state.field(Xa);(e!=n.startState.field(Xa)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ct.none;let{view:t}=this,r=new Jo;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;n.highlight(t.state,a,l,(u,f)=>{let d=t.state.selection.ranges.some(h=>h.from==u&&h.to==f);r.add(u,f,d?dre:fre)})}return r.finish()}},{decorations:n=>n.decorations});function _h(n){return e=>{let t=e.state.field(Xa,!1);return t&&t.query.spec.valid?n(e,t):R2(e)}}const Cm=_h((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=Se.single(r.from,r.to),o=n.state.facet(yc);return n.dispatch({selection:i,effects:[N2(n,r),o.scrollToMatch(i.main,n)],userEvent:\"select.search\"}),X5(n),!0}),_m=_h((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=Se.single(i.from,i.to),s=n.state.facet(yc);return n.dispatch({selection:o,effects:[N2(n,i),s.scrollToMatch(o.main,n)],userEvent:\"select.search\"}),X5(n),!0}),gre=_h((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Se.create(t.map(r=>Se.range(r.from,r.to))),userEvent:\"select.search.matches\"}),!0)}),pre=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let a=new qu(n.doc,n.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(Se.range(a.value.from,a.value.to))}return e(n.update({selection:Se.create(o,s),userEvent:\"select.search.matches\"})),!0},OS=_h((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=o,a=[],l,u,f=[];if(s.from==r&&s.to==i&&(u=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:u}),s=e.nextMatch(t,s.from,s.to),f.push(et.announce.of(t.phrase(\"replaced match on line $\",t.doc.lineAt(r).number)+\".\"))),s){let d=a.length==0||a[0].from>=o.to?0:o.to-o.from-u.length;l=Se.single(s.from-d,s.to-d),f.push(N2(n,s)),f.push(t.facet(yc).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:f,userEvent:\"input.replace\"}),!0}),mre=_h((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase(\"replaced $ matches\",t.length)+\".\";return n.dispatch({changes:t,effects:et.announce.of(r),userEvent:\"input.replace.all\"}),!0});function I2(n){return n.state.facet(yc).createPanel(n)}function Sb(n,e){var t,r,i,o,s;let a=n.selection.main,l=a.empty||a.to>a.from+100?\"\":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=n.facet(yc);return new U5({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?l:l.replace(/\\n/g,\"\\\\n\"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:u.wholeWord})}function J5(n){let e=Bd(n,I2);return e&&e.dom.querySelector(\"[main-field]\")}function X5(n){let e=J5(n);e&&e==n.root.activeElement&&e.select()}const R2=n=>{let e=n.state.field(Xa,!1);if(e&&e.panel){let t=J5(n);if(t&&t!=n.root.activeElement){let r=Sb(n.state,e.query.spec);r.valid&&n.dispatch({effects:Hd.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[P2.of(!0),e?Hd.of(Sb(n.state,e.query.spec)):zt.appendConfig.of(kb)]});return!0},D2=n=>{let e=n.state.field(Xa,!1);if(!e||!e.panel)return!1;let t=Bd(n,I2);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:P2.of(!1)}),!0},vre=[{key:\"Mod-f\",run:R2,scope:\"editor search-panel\"},{key:\"F3\",run:Cm,shift:_m,scope:\"editor search-panel\",preventDefault:!0},{key:\"Mod-g\",run:Cm,shift:_m,scope:\"editor search-panel\",preventDefault:!0},{key:\"Escape\",run:D2,scope:\"editor search-panel\"},{key:\"Mod-Shift-l\",run:pre},{key:\"Mod-Alt-g\",run:Jne},{key:\"Mod-d\",run:ore,preventDefault:!0}];class yre{constructor(e){this.view=e;let t=this.query=e.state.field(Xa).query.spec;this.commit=this.commit.bind(this),this.searchField=Fn(\"input\",{value:t.search,placeholder:Fi(e,\"Find\"),\"aria-label\":Fi(e,\"Find\"),class:\"cm-textfield\",name:\"search\",form:\"\",\"main-field\":\"true\",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Fn(\"input\",{value:t.replace,placeholder:Fi(e,\"Replace\"),\"aria-label\":Fi(e,\"Replace\"),class:\"cm-textfield\",name:\"replace\",form:\"\",onchange:this.commit,onkeyup:this.commit}),this.caseField=Fn(\"input\",{type:\"checkbox\",name:\"case\",form:\"\",checked:t.caseSensitive,onchange:this.commit}),this.reField=Fn(\"input\",{type:\"checkbox\",name:\"re\",form:\"\",checked:t.regexp,onchange:this.commit}),this.wordField=Fn(\"input\",{type:\"checkbox\",name:\"word\",form:\"\",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return Fn(\"button\",{class:\"cm-button\",name:i,onclick:o,type:\"button\"},s)}this.dom=Fn(\"div\",{onkeydown:i=>this.keydown(i),class:\"cm-search\"},[this.searchField,r(\"next\",()=>Cm(e),[Fi(e,\"next\")]),r(\"prev\",()=>_m(e),[Fi(e,\"previous\")]),r(\"select\",()=>gre(e),[Fi(e,\"all\")]),Fn(\"label\",null,[this.caseField,Fi(e,\"match case\")]),Fn(\"label\",null,[this.reField,Fi(e,\"regexp\")]),Fn(\"label\",null,[this.wordField,Fi(e,\"by word\")]),...e.state.readOnly?[]:[Fn(\"br\"),this.replaceField,r(\"replace\",()=>OS(e),[Fi(e,\"replace\")]),r(\"replaceAll\",()=>mre(e),[Fi(e,\"replace all\")])],Fn(\"button\",{name:\"close\",onclick:()=>D2(e),\"aria-label\":Fi(e,\"close\"),type:\"button\"},[\"\"])])}commit(){let e=new U5({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Hd.of(e)}))}keydown(e){c$(this.view,e,\"search-panel\")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?_m:Cm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),OS(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Hd)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(yc).top}}function Fi(n,e){return n.state.phrase(e)}const xg=30,Cg=/[\\s\\.,:;?!]/;function N2(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-xg),s=Math.min(i,t+xg),a=n.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<xg;l++)if(!Cg.test(a[l+1])&&Cg.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-xg;l--)if(!Cg.test(a[l-1])&&Cg.test(a[l])){a=a.slice(0,l);break}}return et.announce.of(`${n.state.phrase(\"current match\")}. ${a} ${n.state.phrase(\"on line\")} ${r.number}.`)}const bre=et.baseTheme({\".cm-panel.cm-search\":{padding:\"2px 6px 4px\",position:\"relative\",\"& [name=close]\":{position:\"absolute\",top:\"0\",right:\"4px\",backgroundColor:\"inherit\",border:\"none\",font:\"inherit\",padding:0,margin:0},\"& input, & button, & label\":{margin:\".2em .6em .2em 0\"},\"& input[type=checkbox]\":{marginRight:\".2em\"},\"& label\":{fontSize:\"80%\",whiteSpace:\"pre\"}},\"&light .cm-searchMatch\":{backgroundColor:\"#ffff0054\"},\"&dark .cm-searchMatch\":{backgroundColor:\"#00ffff8a\"},\"&light .cm-searchMatch-selected\":{backgroundColor:\"#ff6a0054\"},\"&dark .cm-searchMatch-selected\":{backgroundColor:\"#ff00ff8a\"}}),kb=[Xa,vc.low(hre),bre];class G5{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=ai(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(Y5(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e==\"abort\"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function AS(n){let e=Object.keys(n).join(\"\"),t=/\\w/.test(e);return t&&(e=e.replace(/\\w/g,\"\")),`[${t?\"\\\\w\":\"\"}${e.replace(/[^\\w\\s]/g,\"\\\\$&\")}]`}function wre(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=AS(e)+AS(t)+\"*$\";return[new RegExp(\"^\"+r),new RegExp(r)]}function xre(n){let e=n.map(i=>typeof i==\"string\"?{label:i}:i),[t,r]=e.every(i=>/^\\w+$/.test(i.label))?[/\\w*$/,/\\w+$/]:wre(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class ES{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Hl(n){return n.selection.main.from}function Y5(n,e){var t;let{source:r}=n,i=e&&r[0]!=\"^\",o=r[r.length-1]!=\"$\";return!i&&!o?n:new RegExp(`${i?\"^\":\"\"}(?:${r})${o?\"$\":\"\"}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?\"i\":\"\")}const Q5=dl.define();function Cre(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:l},range:Se.cursor(a.from+o+l.length)}})),{scrollIntoView:!0,userEvent:\"input.complete\"})}const TS=new WeakMap;function _re(n){if(!Array.isArray(n))return n;let e=TS.get(n);return e||TS.set(n,e=xre(n)),e}const Sm=zt.define(),qd=zt.define();class Sre{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Ai(e,t),i=us(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(Ai(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let C=Ai(e,0),k=us(C),b=k==e.length?0:-100;if(C!=t[0])if(C==r[0])b+=-200;else return null;return this.ret(b,[0,k])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,u=0;if(a<0){for(let C=0,k=Math.min(e.length,200);C<k&&u<l;){let b=Ai(e,C);(b==t[u]||b==r[u])&&(i[u++]=C),C+=us(b)}if(u<l)return null}let f=0,d=0,h=!1,g=0,p=-1,m=-1,y=/[a-z]/.test(e),v=!0;for(let C=0,k=Math.min(e.length,200),b=0;C<k&&d<l;){let w=Ai(e,C);a<0&&(f<l&&w==t[f]&&(o[f++]=C),g<l&&(w==t[g]||w==r[g]?(g==0&&(p=C),m=C+1,g++):g=0));let E,O=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(E=i2(w))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!C||O==1&&y||b==0&&O!=0)&&(t[d]==w||r[d]==w&&(h=!0)?s[d++]=C:s.length&&(v=!1)),b=O,C+=us(w)}return d==l&&s[0]==0&&v?this.result(-100+(h?-200:0),s,e):g==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):g==l?this.ret(-900-e.length,[p,m]):d==l?this.result(-100+(h?-200:0)+-700+(v?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let a=s+(this.astral?us(Ai(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class kre{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Fr=rt.define({combine(n){return Zo(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>\"\",optionClass:()=>\"\",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ore,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>MS(e(r),t(r)),optionClass:(e,t)=>r=>MS(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function MS(n,e){return n?e?n+\" \"+e:n:e}function Ore(n,e,t,r,i,o){let s=n.textDirection==Kn.RTL,a=s,l=!1,u=\"top\",f,d,h=e.left-i.left,g=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&h<Math.min(p,g)?a=!1:!a&&g<Math.min(p,h)&&(a=!0),p<=(a?h:g))f=Math.max(i.top,Math.min(t.top,i.bottom-m))-e.top,d=Math.min(400,a?h:g);else{l=!0,d=Math.min(400,(s?e.right:i.right-e.left)-30);let C=i.bottom-e.bottom;C>=m||C>e.top?f=t.bottom-e.top:(u=\"bottom\",f=e.bottom-t.top)}let y=(e.bottom-e.top)/o.offsetHeight,v=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${f/y}px; max-width: ${d/v}px`,class:\"cm-completionInfo-\"+(l?s?\"left-narrow\":\"right-narrow\":a?\"left\":\"right\")}}function Are(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement(\"div\");return r.classList.add(\"cm-completionIcon\"),t.type&&r.classList.add(...t.type.split(/\\s+/g).map(i=>\"cm-completionIcon-\"+i)),r.setAttribute(\"aria-hidden\",\"true\"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement(\"span\");s.className=\"cm-completionLabel\";let a=t.displayLabel||t.label,l=0;for(let u=0;u<o.length;){let f=o[u++],d=o[u++];f>l&&s.appendChild(document.createTextNode(a.slice(l,f)));let h=s.appendChild(document.createElement(\"span\"));h.appendChild(document.createTextNode(a.slice(f,d))),h.className=\"cm-completionMatchedText\",l=d}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement(\"span\");return r.className=\"cm-completionDetail\",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function fy(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Ere{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass=\"\";let i=e.state.field(t),{options:o,selected:s}=i.open,a=e.state.facet(Fr);this.optionContent=Are(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=fy(o.length,s,a.maxRenderedOptions),this.dom=document.createElement(\"div\"),this.dom.className=\"cm-tooltip-autocomplete\",this.updateTooltipClass(e.state),this.dom.addEventListener(\"mousedown\",l=>{let{options:u}=e.state.field(t).open;for(let f=l.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName==\"LI\"&&(d=/-(\\d+)$/.exec(f.id))&&+d[1]<u.length){this.applyCompletion(e,u[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener(\"focusout\",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(Fr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:qd.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener(\"scroll\",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=fy(o.length,s,e.state.facet(Fr).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(\" \"))r&&this.dom.classList.remove(r);for(let r of t.split(\" \"))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=fy(t.options.length,t.selected,this.view.state.facet(Fr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i==\"string\"?document.createTextNode(i):i(r);if(!o)return;\"then\"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>yi(this.view.state,s,\"completion info\")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement(\"div\");if(r.className=\"cm-tooltip cm-completionInfo\",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!=\"LI\"||!r.id?i--:i==e?r.hasAttribute(\"aria-selected\")||(r.setAttribute(\"aria-selected\",\"true\"),t=r):r.hasAttribute(\"aria-selected\")&&r.removeAttribute(\"aria-selected\");return t&&Mre(this.list,t),t}measureInfo(){let e=this.dom.querySelector(\"[aria-selected]\");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(Fr).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className=\"cm-tooltip cm-completionInfo \"+(e.class||\"\")):this.info.style.cssText=\"top: -1e6px\")}createListBox(e,t,r){const i=document.createElement(\"ul\");i.id=t,i.setAttribute(\"role\",\"listbox\"),i.setAttribute(\"aria-expanded\",\"true\"),i.setAttribute(\"aria-label\",this.view.state.phrase(\"Completions\")),i.addEventListener(\"mousedown\",s=>{s.target==i&&s.preventDefault()});let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:u}=a;if(u){let h=typeof u==\"string\"?u:u.name;if(h!=o&&(s>r.from||r.from==0))if(o=h,typeof u!=\"string\"&&u.header)i.appendChild(u.header(u));else{let g=i.appendChild(document.createElement(\"completion-section\"));g.textContent=h}}const f=i.appendChild(document.createElement(\"li\"));f.id=t+\"-\"+s,f.setAttribute(\"role\",\"option\");let d=this.optionClass(a);d&&(f.className=d);for(let h of this.optionContent){let g=h(a,this.view.state,this.view,l);g&&f.appendChild(g)}}return r.from&&i.classList.add(\"cm-completionListIncompleteTop\"),r.to<e.length&&i.classList.add(\"cm-completionListIncompleteBottom\"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Tre(n,e){return t=>new Ere(t,n,e)}function Mre(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function PS(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Pre(n,e){let t=[],r=null,i=u=>{t.push(u);let{section:f}=u.completion;if(f){r||(r=[]);let d=typeof f==\"string\"?f:f.name;r.some(h=>h.name==d)||r.push(typeof f==\"string\"?{name:d}:f)}},o=e.facet(Fr);for(let u of n)if(u.hasResult()){let f=u.result.getMatch;if(u.result.filter===!1)for(let d of u.result.options)i(new ES(d,u.source,f?f(d):[],1e9-t.length));else{let d=e.sliceDoc(u.from,u.to),h,g=o.filterStrict?new kre(d):new Sre(d);for(let p of u.result.options)if(h=g.match(p.label)){let m=p.displayLabel?f?f(p,h.matched):[]:h.matched;i(new ES(p,u.source,m,h.score+(p.boost||0)))}}}if(r){let u=Object.create(null),f=0,d=(h,g)=>{var p,m;return((p=h.rank)!==null&&p!==void 0?p:1e9)-((m=g.rank)!==null&&m!==void 0?m:1e9)||(h.name<g.name?-1:1)};for(let h of r.sort(d))f-=1e5,u[h.name]=f;for(let h of t){let{section:g}=h.completion;g&&(h.score+=u[typeof g==\"string\"?g:g.name])}}let s=[],a=null,l=o.compareCompletions;for(let u of t.sort((f,d)=>d.score-f.score||l(f.completion,d.completion))){let f=u.completion;!a||a.label!=f.label||a.detail!=f.detail||a.type!=null&&f.type!=null&&a.type!=f.type||a.apply!=f.apply||a.boost!=f.boost?s.push(u):PS(u.completion)>PS(a)&&(s[s.length-1]=u),a=u.completion}return s}class $c{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new $c(this.options,IS(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(u=>u.isPending))return i.setDisabled();let a=Pre(e,t);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=t.facet(Fr).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let f=0;f<a.length;f++)if(a[f].completion==u){l=f;break}}return new $c(a,IS(r,l),{pos:e.reduce((u,f)=>f.hasResult()?Math.min(u,f.from):u,1e8),create:Bre,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new $c(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new $c(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class km{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new km(Nre,\"cm-ac-\"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Fr),o=(r.override||t.languageDataAt(\"autocomplete\",Hl(t)).map(_re)).map(l=>(this.active.find(f=>f.source==l)||new oo(l,this.active.some(f=>f.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,u)=>l==this.active[u])&&(o=this.active);let s=this.open,a=e.effects.some(l=>l.is(L2));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Ire(o,this.active)||a?s=$c.build(o,t,this.id,s,r,a):s&&s.disabled&&!o.some(l=>l.isPending)&&(s=null),!s&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new oo(l.source,0):l));for(let l of e.effects)l.is($5)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new km(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Rre:Dre}}function Ire(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const Rre={\"aria-autocomplete\":\"list\"},Dre={};function IS(n,e){let t={\"aria-autocomplete\":\"list\",\"aria-haspopup\":\"listbox\",\"aria-controls\":n};return e>-1&&(t[\"aria-activedescendant\"]=n+\"-\"+e),t}const Nre=[];function Z5(n,e){if(n.isUserEvent(\"input.complete\")){let r=n.annotation(Q5);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent(\"input.type\");return t&&e.activateOnTyping?5:t?1:n.isUserEvent(\"delete.backward\")?2:n.selection?8:n.docChanged?16:0}class oo{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=Z5(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new oo(i.source,0)),r&4&&i.state==0&&(i=new oo(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(Sm))i=new oo(i.source,1,o.value);else if(o.is(qd))i=new oo(i.source,0);else if(o.is(L2))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Hl(e.state))}}class yu extends oo{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Hl(e.state);if(a>s||!i||t&2&&(Hl(e.startState)==this.from||a<this.limit))return new oo(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return Lre(i.validFor,e.state,o,s)?new yu(this.source,this.explicit,l,i,o,s):i.update&&(i=i.update(i,o,s,new G5(e.state,a,!1)))?new yu(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Hl(e.state)):new oo(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new yu(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new oo(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Lre(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n==\"function\"?n(i,t,r,e):Y5(n,!0).test(i)}const L2=zt.define({map(n,e){return n.map(t=>t.map(e))}}),$5=zt.define(),Ti=Vr.define({create(){return km.start()},update(n,e){return n.update(e)},provide:n=>[Dv.from(n,e=>e.tooltip),et.contentAttributes.from(n,e=>e.attrs)]});function B2(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Ti).active.find(i=>i.source==e.source);return r instanceof yu?(typeof t==\"string\"?n.dispatch(Object.assign(Object.assign({},Cre(n.state,t,r.from,r.to)),{annotations:Q5.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Bre=Tre(Ti,B2);function _g(n,e=\"option\"){return t=>{let r=t.state.field(Ti,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Fr).interactionDelay)return!1;let i=1,o;e==\"page\"&&(o=TT(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector(\"li\").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return a<0?a=e==\"page\"?0:s-1:a>=s&&(a=e==\"page\"?s-1:0),t.dispatch({effects:$5.of(a)}),!0}}const Fre=n=>{let e=n.state.field(Ti,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Fr).interactionDelay?!1:B2(n,e.open.options[e.open.selected])},RS=n=>n.state.field(Ti,!1)?(n.dispatch({effects:Sm.of(!0)}),!0):!1,jre=n=>{let e=n.state.field(Ti,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:qd.of(null)}),!0)};class zre{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Vre=50,Hre=1e3,qre=ir.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ti).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Ti),t=n.state.facet(Fr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ti)==e)return;let r=n.transactions.some(o=>{let s=Z5(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>Vre&&Date.now()-s.time>Hre){for(let a of s.context.abortListeners)try{a()}catch(l){yi(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(Sm)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent(\"input.type\")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ti);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fr).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Hl(e),r=new G5(e,t,n.explicit,this.view),i=new zre(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:qd.of(null)}),yi(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Fr),r=this.view.state.field(Ti);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let a=Hl(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(a,o.done.from+(o.active.explicit?0:1)),u=new yu(o.active.source,o.active.explicit,l,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:a);for(let f of o.updates)u=u.update(f,t);if(u.hasResult()){e.push(u);continue}}let s=r.active.find(a=>a.source==o.active.source);if(s&&s.isPending)if(o.done==null){let a=new oo(o.active.source,0);for(let l of o.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:L2.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ti,!1);if(e&&e.tooltip&&this.view.state.facet(Fr).closeOnBlur){let t=e.open&&TT(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:qd.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Sm.of(!1)}),20),this.composing=0}}}),Wre=typeof navigator==\"object\"&&/Win/.test(navigator.platform),Ure=vc.highest(et.domEventHandlers({keydown(n,e){let t=e.state.field(Ti,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Wre&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&B2(e,r),!1}})),Kre=et.baseTheme({\".cm-tooltip.cm-tooltip-autocomplete\":{\"& > ul\":{fontFamily:\"monospace\",whiteSpace:\"nowrap\",overflow:\"hidden auto\",maxWidth_fallback:\"700px\",maxWidth:\"min(700px, 95vw)\",minWidth:\"250px\",maxHeight:\"10em\",height:\"100%\",listStyle:\"none\",margin:0,padding:0,\"& > li, & > completion-section\":{padding:\"1px 3px\",lineHeight:1.2},\"& > li\":{overflowX:\"hidden\",textOverflow:\"ellipsis\",cursor:\"pointer\"},\"& > completion-section\":{display:\"list-item\",borderBottom:\"1px solid silver\",paddingLeft:\"0.5em\",opacity:.7}}},\"&light .cm-tooltip-autocomplete ul li[aria-selected]\":{background:\"#17c\",color:\"white\"},\"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\":{background:\"#777\"},\"&dark .cm-tooltip-autocomplete ul li[aria-selected]\":{background:\"#347\",color:\"white\"},\"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\":{background:\"#444\"},\".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\":{content:'\"\"',opacity:.5,display:\"block\",textAlign:\"center\"},\".cm-tooltip.cm-completionInfo\":{position:\"absolute\",padding:\"3px 9px\",width:\"max-content\",maxWidth:\"400px\",boxSizing:\"border-box\",whiteSpace:\"pre-line\"},\".cm-completionInfo.cm-completionInfo-left\":{right:\"100%\"},\".cm-completionInfo.cm-completionInfo-right\":{left:\"100%\"},\".cm-completionInfo.cm-completionInfo-left-narrow\":{right:\"30px\"},\".cm-completionInfo.cm-completionInfo-right-narrow\":{left:\"30px\"},\"&light .cm-snippetField\":{backgroundColor:\"#00000022\"},\"&dark .cm-snippetField\":{backgroundColor:\"#ffffff22\"},\".cm-snippetFieldPosition\":{verticalAlign:\"text-top\",width:0,height:\"1.15em\",display:\"inline-block\",margin:\"0 -0.7px -.7em\",borderLeft:\"1.4px dotted #888\"},\".cm-completionMatchedText\":{textDecoration:\"underline\"},\".cm-completionDetail\":{marginLeft:\"0.5em\",fontStyle:\"italic\"},\".cm-completionIcon\":{fontSize:\"90%\",width:\".8em\",display:\"inline-block\",textAlign:\"center\",paddingRight:\".6em\",opacity:\"0.6\",boxSizing:\"content-box\"},\".cm-completionIcon-function, .cm-completionIcon-method\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-class\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-interface\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-variable\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-constant\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-type\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-enum\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-property\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-keyword\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-namespace\":{\"&:after\":{content:\"''\"}},\".cm-completionIcon-text\":{\"&:after\":{content:\"'abc'\",fontSize:\"50%\",verticalAlign:\"middle\"}}}),Wd={brackets:[\"(\",\"[\",\"{\",\"'\",'\"'],before:\")]}:;>\",stringPrefixes:[]},Nl=zt.define({map(n,e){let t=e.mapPos(n,-1,mi.TrackAfter);return t??void 0}}),F2=new class extends rc{};F2.startSide=1;F2.endSide=-1;const eM=Vr.define({create(){return an.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Nl)&&(n=n.update({add:[F2.range(t.value,t.value+1)]}));return n}});function Jre(){return[Gre,eM]}const dy=\"()[]{}<>\";function tM(n){for(let e=0;e<dy.length;e+=2)if(dy.charCodeAt(e)==n)return dy.charAt(e+1);return i2(n<128?n:n+1)}function nM(n,e){return n.languageDataAt(\"closeBrackets\",e)[0]||Wd}const Xre=typeof navigator==\"object\"&&/Android\\b/.test(navigator.userAgent),Gre=et.inputHandler.of((n,e,t,r)=>{if((Xre?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&us(Ai(r,0))==1||e!=i.from||t!=i.to)return!1;let o=Zre(n.state,r);return o?(n.dispatch(o),!0):!1}),Yre=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=nM(n,n.selection.main.head).brackets||Wd.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let a=$re(n.doc,s.head);for(let l of r)if(l==a&&Wv(n.doc,s.head)==tM(Ai(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:Se.cursor(s.head-l.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:\"delete.backward\"})),!i},Qre=[{key:\"Backspace\",run:Yre}];function Zre(n,e){let t=nM(n,n.selection.main.head),r=t.brackets||Wd.brackets;for(let i of r){let o=tM(Ai(i,0));if(e==i)return o==i?nie(n,i,r.indexOf(i+i+i)>-1,t):eie(n,i,o,t.before||Wd.before);if(e==o&&rM(n,n.selection.main.from))return tie(n,i,o)}return null}function rM(n,e){let t=!1;return n.field(eM).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Wv(n,e){let t=n.sliceString(e,e+2);return t.slice(0,us(Ai(t,0)))}function $re(n,e){let t=n.sliceString(e-2,e);return us(Ai(t,0))==t.length?t:t.slice(1)}function eie(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:Nl.of(s.to+e.length),range:Se.range(s.anchor+e.length,s.head+e.length)};let a=Wv(n.doc,s.head);return!a||/\\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:Nl.of(s.head+e.length),range:Se.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:\"input.type\"})}function tie(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&Wv(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:Se.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:\"input.type\"})}function nie(n,e,t,r){let i=r.stringPrefixes||Wd.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Nl.of(a.to+e.length),range:Se.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Wv(n.doc,l),f;if(u==e){if(DS(n,l))return{changes:{insert:e+e,from:l},effects:Nl.of(l+e.length),range:Se.cursor(l+e.length)};if(rM(n,l)){let h=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:Se.cursor(l+h.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(f=NS(n,l-2*e.length,i))>-1&&DS(n,f))return{changes:{insert:e+e+e+e,from:l},effects:Nl.of(l+e.length),range:Se.cursor(l+e.length)};if(n.charCategorizer(l)(u)!=Yn.Word&&NS(n,l,i)>-1&&!rie(n,l,e,i))return{changes:{insert:e+e,from:l},effects:Nl.of(l+e.length),range:Se.cursor(l+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:\"input.type\"})}function DS(n,e){let t=ai(n).resolveInner(e+1);return t.parent&&t.from==e}function rie(n,e,t,r){let i=ai(n).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>t.length+l;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function NS(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Yn.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=Yn.Word)return o}return-1}function iie(n={}){return[Ure,Ti,Fr.of(n),qre,oie,Kre]}const iM=[{key:\"Ctrl-Space\",run:RS},{mac:\"Alt-`\",run:RS},{key:\"Escape\",run:jre},{key:\"ArrowDown\",run:_g(!0)},{key:\"ArrowUp\",run:_g(!1)},{key:\"PageDown\",run:_g(!0,\"page\")},{key:\"PageUp\",run:_g(!1,\"page\")},{key:\"Enter\",run:Fre}],oie=vc.highest(sm.computeN([Fr],n=>n.facet(Fr).defaultKeymap?[iM]:[]));var sie=X('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),aie=X('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),lie=X('<div class=\"jse-status-bar-info svelte-1ulj7zd\"> </div>'),cie=X('<div class=\"jse-status-bar svelte-1ulj7zd\"><!> <!> <!></div>');function uie(n,e){Ee(e,!1);let t=x(e,\"editorState\",8),r=Q(),i=Q(),o=Q(),s=Q(),a=Q();le(()=>J(t()),()=>{var m,y,v;S(r,(v=(y=(m=t())==null?void 0:m.selection)==null?void 0:y.main)==null?void 0:v.head)}),le(()=>(c(r),J(t())),()=>{var m,y;S(i,c(r)!==void 0?(y=(m=t())==null?void 0:m.doc)==null?void 0:y.lineAt(c(r)):void 0)}),le(()=>c(i),()=>{S(o,c(i)!==void 0?c(i).number:void 0)}),le(()=>(c(i),c(r)),()=>{S(s,c(i)!==void 0&&c(r)!==void 0?c(r)-c(i).from+1:void 0)}),le(()=>J(t()),()=>{var m,y,v;S(a,(v=(y=(m=t())==null?void 0:m.selection)==null?void 0:y.ranges)==null?void 0:v.reduce((C,k)=>C+k.to-k.from,0))}),Xt(),ft();var l=cie(),u=j(l);{var f=m=>{var y=sie(),v=j(y);he(()=>He(v,`Line: ${c(o)??\"\"}`)),R(m,y)};te(u,m=>{c(o)!==void 0&&m(f)})}var d=H(u,2);{var h=m=>{var y=aie(),v=j(y);he(()=>He(v,`Column: ${c(s)??\"\"}`)),R(m,y)};te(d,m=>{c(s)!==void 0&&m(h)})}var g=H(d,2);{var p=m=>{var y=lie(),v=j(y);he(()=>He(v,`Selection: ${c(a)??\"\"} characters`)),R(m,y)};te(g,m=>{c(a)!==void 0&&c(a)>0&&m(p)})}R(n,l),Te()}const j2=xh.define([{tag:Fe.propertyName,color:\"var(--internal-key-color)\"},{tag:Fe.number,color:\"var(--internal-value-color-number)\"},{tag:Fe.bool,color:\"var(--internal-value-color-boolean)\"},{tag:Fe.string,color:\"var(--internal-value-color-string)\"},{tag:Fe.keyword,color:\"var(--internal-value-color-null)\"}]),fie=e5(j2),die=j2.style;j2.style=n=>die(n||[]);function hie(n,e=n.state){const t=new Set;for(const{from:r,to:i}of n.visibleRanges){let o=r;for(;o<=i;){const s=e.doc.lineAt(o);t.has(s)||t.add(s),o=s.to+1}}return t}function Ob(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function LS(n,e){let t=0;e:for(let r=0;r<n.length;r++)switch(n[r]){case\" \":case\"\":{t+=1;continue e}case\"\t\":{t+=e-t%e;continue e}case\"\\r\":continue e;default:break e}return t}const Om=rt.define({combine(n){return Zo(n,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:\"fullScope\",thickness:1})}});class gie{constructor(e,t,r,i){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=r,this.markerType=i;for(const o of this.lines)this.add(o);this.state.facet(Om).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e==\"number\"?e:e.number)}get(e){const t=this.map.get(typeof e==\"number\"?e:e.number);if(!t)throw new Error(\"Line not found in indentation map\");return t}set(e,t,r){const i=!e.text.trim().length,o={line:e,col:t,level:r,empty:i};return this.map.set(o.line.number,o),o}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const s=this.closestNonEmpty(e,-1);return this.set(e,0,s.level)}const i=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return i.level>=o.level&&this.markerType!==\"codeOnly\"?this.set(e,0,i.level):i.empty&&i.level===0&&o.level!==0?this.set(e,0,0):o.level>i.level?this.set(e,0,i.level+1):this.set(e,0,o.level)}const t=LS(e.text,this.state.tabSize),r=Math.floor(t/this.unitWidth);return this.set(e,t,r)}closestNonEmpty(e,t){let r=e.number+t;for(;t===-1?r>=1:r<=this.state.doc.lines;){if(this.has(r)){const s=this.get(r);if(!s.empty)return s}const o=this.state.doc.line(r);if(o.text.trim().length){const s=LS(o.text,this.state.tabSize),a=Math.floor(s/this.unitWidth);return this.set(o,s,a)}r+=t}const i=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(i,0,0)}findAndSetActiveLines(){const e=Ob(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const o=this.get(t.line.number+1);o.level>t.level&&(t=o)}if(this.has(t.line.number-1)){const o=this.get(t.line.number-1);o.level>t.level&&(t=o)}if(t.level===0)return;t.active=t.level;let r,i;for(r=t.line.number;r>1;r--){if(!this.has(r-1))continue;const o=this.get(r-1);if(o.level<t.level)break;o.active=t.level}for(i=t.line.number;i<this.state.doc.lines;i++){if(!this.has(i+1))continue;const o=this.get(i+1);if(o.level<t.level)break;o.active=t.level}}}function pie(n){const e={light:\"#F0F1F2\",dark:\"#2B3245\",activeLight:\"#E4E5E6\",activeDark:\"#3C445C\"};let t=e;return n&&(t=Object.assign(Object.assign({},e),n)),et.baseTheme({\"&light\":{\"--indent-marker-bg-color\":t.light,\"--indent-marker-active-bg-color\":t.activeLight},\"&dark\":{\"--indent-marker-bg-color\":t.dark,\"--indent-marker-active-bg-color\":t.activeDark},\".cm-line\":{position:\"relative\"},\".cm-indent-markers::before\":{content:'\"\"',position:\"absolute\",top:0,left:\"2px\",right:0,bottom:0,background:\"var(--indent-markers)\",pointerEvents:\"none\",zIndex:\"-1\"}})}function Sg(n,e,t,r,i){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${e}px, transparent ${e}px ${t}ch)`} ${r*t}.5ch/calc(${t*i}ch - 1px) no-repeat`}function mie(n,e,t,r,i){const{level:o,active:s}=n;if(i=i??r,t&&o===0)return[];const a=t?1:0,l=[];if(s!==void 0){const u=s-a-1;u>0&&l.push(Sg(\"--indent-marker-bg-color\",r,e,a,u)),l.push(Sg(\"--indent-marker-active-bg-color\",i,e,s-1,1)),s!==o&&l.push(Sg(\"--indent-marker-bg-color\",r,e,s,o-s))}else l.push(Sg(\"--indent-marker-bg-color\",r,e,a,o-a));return l.join(\",\")}class vie{constructor(e){this.view=e,this.unitWidth=il(e.state),this.currentLineNumber=Ob(e.state).number,this.generate(e.state)}update(e){const t=il(e.state),r=t!==this.unitWidth;r&&(this.unitWidth=t);const i=Ob(e.state).number,o=i!==this.currentLineNumber;this.currentLineNumber=i;const s=e.state.facet(Om).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||r||s)&&this.generate(e.state)}generate(e){const t=new Jo,r=hie(this.view,e),{hideFirstIndent:i,markerType:o,thickness:s,activeThickness:a}=e.facet(Om),l=new gie(r,e,this.unitWidth,o);for(const u of r){const f=l.get(u.number);if(!(f!=null&&f.level))continue;const d=mie(f,this.unitWidth,i,s,a);t.add(u.from,u.from,Ct.line({class:\"cm-indent-markers\",attributes:{style:`--indent-markers: ${d}`}}))}this.decorations=t.finish()}}function yie(n={}){return[Om.of(n),pie(n.colors),ir.fromClass(vie,{decorations:e=>e.decorations})]}class bie{constructor(e){this.view=e,this.indentUnit=il(e.state),this.initialPaddingLeft=null,this.isChrome=window==null?void 0:window.navigator.userAgent.includes(\"Chrome\"),this.generate(e.state)}update(e){const t=il(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){const t=new Jo;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:r=>{const i=r.contentDOM.querySelector(\".cm-line\");i&&(this.initialPaddingLeft=window.getComputedStyle(i).getPropertyValue(\"padding-left\"),this.addStyleToBuilder(t,r.state,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,r){const i=this.getVisibleLines(t);for(const o of i){const{numColumns:s,containsTab:a}=this.numColumns(o.text,t.tabSize),l=`calc(${s+this.indentUnit}ch + ${r})`,u=this.isChrome?`calc(-${s+this.indentUnit}ch - ${a?1:0}px)`:`-${s+this.indentUnit}ch`;e.add(o.from,o.from,Ct.line({attributes:{style:`padding-left: ${l}; text-indent: ${u};`}}))}}getVisibleLines(e){const t=new Set;let r=null;for(const{from:i,to:o}of this.view.visibleRanges){let s=i;for(;s<=o;){const a=e.doc.lineAt(s);r!==a&&(t.add(a),r=a),s=a.to+1}}return t}numColumns(e,t){let r=0,i=!1;e:for(let o=0;o<e.length;o++)switch(e[o]){case\" \":{r+=1;continue e}case\"\t\":{r+=t-r%t,i=!0;continue e}case\"\\r\":continue e;default:break e}return{numColumns:r,containsTab:i}}}const wie=[ir.fromClass(bie,{decorations:n=>n.decorations})];var xie=X('<!> <div class=\"jse-contents jse-preview svelte-xt61xw\"> </div>',1),Cie=X(\"<!> <!> <!> <!>\",1),_ie=X('<div class=\"jse-contents svelte-xt61xw\"></div> <!> <!>',1),Sie=X('<div class=\"jse-contents svelte-xt61xw\"><div class=\"jse-loading-space svelte-xt61xw\"></div> <div class=\"jse-loading svelte-xt61xw\">loading...</div></div>'),kie=X('<div class=\"jse-text-mode svelte-xt61xw\"><!> <!></div>');function Oie(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0);let i=x(e,\"readOnly\",9),o=x(e,\"mainMenuBar\",9),s=x(e,\"statusBar\",9),a=x(e,\"askToFormat\",9),l=x(e,\"externalContent\",9),u=x(e,\"externalSelection\",9),f=x(e,\"history\",9),d=x(e,\"indentation\",9),h=x(e,\"tabSize\",9),g=x(e,\"escapeUnicodeCharacters\",9),p=x(e,\"parser\",9),m=x(e,\"validator\",9),y=x(e,\"validationParser\",9),v=x(e,\"onChange\",9),C=x(e,\"onChangeMode\",9),k=x(e,\"onSelect\",9),b=x(e,\"onUndo\",9),w=x(e,\"onRedo\",9),E=x(e,\"onError\",9),O=x(e,\"onFocus\",9),T=x(e,\"onBlur\",9),I=x(e,\"onRenderMenu\",9),D=x(e,\"onSortModal\",9),A=x(e,\"onTransformModal\",9);const M=Er(\"jsoneditor:TextMode\"),P={key:\"Mod-i\",run:be,shift:Ae,preventDefault:!0},_=typeof window>\"u\";M(\"isSSR:\",_);let N=Q(void 0,!0),F=Q(void 0,!0),B,L=Q(void 0,!0),z=Q(!1,!0),Z=Q(a(),!0),ae=Q([],!0);const ne=new qs,ie=new qs,U=new qs,ue=new qs,ce=new qs;let q=l(),se=Q(p1(q,d(),p()),!0),fe=dl.define(),G=null;function oe(){if(!G||G.length===0)return!1;const me=G[0].startState,Ke=G[G.length-1].state,xt=G.map(rn=>rn.changes).reduce((rn,Bt)=>rn.compose(Bt)),Et={type:\"text\",undo:{changes:xt.invert(me.doc).toJSON(),selection:or(me.selection)},redo:{changes:xt.toJSON(),selection:or(Ke.selection)}};return M(\"add history item\",Et),f().add(Et),G=null,!0}let $=Q(g(),!0);dr(async()=>{if(!_)try{B=vt({target:c(N),initialText:Oe(c(se),c(z))?\"\":c(t).escapeValue(c(se)),readOnly:i(),indentation:d()})}catch(me){console.error(me)}}),zr(()=>{bn(),B&&(M(\"Destroy CodeMirror editor\"),B.destroy())});const Y=Mu(),ee=Mu();function K(){B&&(M(\"focus\"),B.focus())}let je=!1;e2({onMount:dr,onDestroy:zr,getWindow:()=>ch(c(F)),hasFocus:()=>je&&document.hasFocus()||Iw(c(F)),onFocus:O(),onBlur:()=>{bn(),T()()}});function Ze(me){return Ce(me,!1)}function Ce(me,Ke){M(\"handlePatch\",me,Ke);const xt=p().parse(c(se)),Qt=Fo(xt,me),Et=YO(xt,me),rn={text:p().stringify(Qt,null,d())};return pt(rn,Ke,!1),{json:Qt,previousJson:xt,undo:Et,redo:me}}function be(){if(M(\"format\"),i())return!1;try{const me=p().parse(c(se)),Ke={text:p().stringify(me,null,d())};return pt(Ke,!0,!1),S(Z,a()),!0}catch(me){E()(me)}return!1}function Ae(){if(M(\"compact\"),i())return!1;try{const me=p().parse(c(se)),Ke={text:p().stringify(me)};return pt(Ke,!0,!1),S(Z,!1),!0}catch(me){E()(me)}return!1}function Ie(){if(M(\"repair\"),!i())try{const me={text:vs(c(se))};pt(me,!0,!1),S(At,T0),S(Vt,void 0)}catch(me){E()(me)}}function Ne(){if(!i())try{const me=p().parse(c(se));je=!0,D()({id:Y,json:me,rootPath:[],onSort:async({operations:Ke})=>{M(\"onSort\",Ke),Ce(Ke,!0)},onClose:()=>{je=!1,K()}})}catch(me){E()(me)}}function gt({id:me,rootPath:Ke,onTransform:xt,onClose:Qt}){try{const Et=p().parse(c(se));je=!0,A()({id:me||ee,json:Et,rootPath:Ke||[],onTransform:rn=>{xt?xt({operations:rn,json:Et,transformedJson:Fo(Et,rn)}):(M(\"onTransform\",rn),Ce(rn,!0))},onClose:()=>{je=!1,K(),Qt&&Qt()}})}catch(Et){E()(Et)}}function Xe(){i()||gt({rootPath:[]})}function dt(){B&&(c(N)&&c(N).querySelector(\".cm-search\")?D2(B):R2(B))}function ve(){if(i())return!1;bn();const me=f().undo();return M(\"undo\",me),y_(me)?(B.dispatch({annotations:fe.of(\"undo\"),changes:Sr.fromJSON(me.undo.changes),selection:Se.fromJSON(me.undo.selection),scrollIntoView:!0}),!0):(b()(me),!1)}function Je(){if(i())return!1;bn();const me=f().redo();return M(\"redo\",me),y_(me)?(B.dispatch({annotations:fe.of(\"redo\"),changes:Sr.fromJSON(me.redo.changes),selection:Se.fromJSON(me.redo.selection),scrollIntoView:!0}),!0):(w()(me),!1)}function _t(){S(z,!0),pt(l(),!0,!0)}function $e(){C()(_r.tree)}function mt(){Lt()}function lt(me){M(\"select validation error\",me);const{from:Ke,to:xt}=zn(me);Ke===void 0||xt===void 0||(Le(Ke,xt),K())}function Ue(me){M(\"select parse error\",me);const Ke=Vn(me,!1),xt=Ke.from!=null?Ke.from:0,Qt=Ke.to!=null?Ke.to:0;Le(xt,Qt),K()}function Le(me,Ke){M(\"setSelection\",{anchor:me,head:Ke}),B&&B.dispatch(B.state.update({selection:{anchor:me,head:Ke},scrollIntoView:!0}))}function pe(me,Ke){if(Ke.state.selection.ranges.length===1){const xt=Ke.state.selection.ranges[0],Qt=c(se).slice(xt.from,xt.to);if(Qt===\"{\"||Qt===\"[\"){const Et=ov.parse(c(se)),rn=Object.keys(Et.pointers).find(Rn=>{var Qr;return((Qr=Et.pointers[Rn].value)==null?void 0:Qr.pos)===xt.from}),Bt=Et.pointers[rn];if(rn&&Bt&&Bt.value&&Bt.valueEnd){M(\"pointer found, selecting inner contents of path:\",rn,Bt);const Rn=Bt.value.pos+1,sr=Bt.valueEnd.pos-1;Le(Rn,sr)}}}}function wt(){return _ne(ut,{delay:f_})}function vt({target:me,initialText:Ke,readOnly:xt,indentation:Qt}){M(\"Create CodeMirror editor\",{readOnly:xt,indentation:Qt});const Et=Gt(u(),Ke)?on(u()):void 0,rn=en.create({doc:Ke,selection:Et,extensions:[sm.of([gne,P]),ne.of(wt()),Ine(),oee(),lee(),O$(),Zee(),p$(),w$(),en.allowMultipleSelections.of(!0),Fee(),e5(nte,{fallback:!0}),cte(),Jre(),iie(),F$(),V$(),I$(),Qne(),sm.of([...Qre,...hne,...vre,{key:\"Mod-z\",run:ve,preventDefault:!0},{key:\"Mod-y\",mac:\"Mod-Shift-z\",run:Je,preventDefault:!0},{key:\"Ctrl-Shift-z\",run:Je,preventDefault:!0},...Xee,...iM,...wne]),fie,yie({hideFirstIndent:!0}),et.domEventHandlers({dblclick:pe}),et.updateListener.of(Bt=>{S(L,Bt.state),Bt.docChanged&&(Bt.transactions.some(sr=>!!sr.annotation(fe))||(G=[...G??[],Bt]),gn()),Bt.selectionSet&&cn()}),Une(),sre({top:!0}),et.lineWrapping,ie.of(en.readOnly.of(xt)),ue.of(en.tabSize.of(h())),U.of(Mn(Qt)),ce.of(et.theme({},{dark:ct()}))]});return B=new et({state:rn,parent:me}),Et&&B.dispatch(B.state.update({selection:Et.main,scrollIntoView:!0})),B}function On(){return B?c(t).unescapeValue(B.state.doc.toString()):\"\"}function ct(){return c(N)?getComputedStyle(c(N)).getPropertyValue(\"--jse-theme\").includes(\"dark\"):!1}function Gt(me,Ke){return I0(me)?me.ranges.every(xt=>xt.anchor<Ke.length&&xt.head<Ke.length):!1}function zn(me){const{path:Ke,message:xt,severity:Qt}=me,{line:Et,column:rn,from:Bt,to:Rn}=SW(c(t).escapeValue(c(se)),Ke);return{path:Ke,line:Et,column:rn,from:Bt,to:Rn,message:xt,severity:Qt,actions:[]}}function Vn(me,Ke){const{line:xt,column:Qt,position:Et,message:rn}=me;return{path:[],line:xt,column:Qt,from:Et,to:Et,severity:zo.error,message:rn,actions:Ke&&!i()?[{name:\"Auto repair\",apply:()=>Ie()}]:void 0}}function Xn(me){return{from:me.from||0,to:me.to||0,message:me.message||\"\",actions:me.actions,severity:me.severity}}function pt(me,Ke,xt){const Qt=p1(me,d(),p()),Et=!Ft(me,q),rn=q;M(\"setCodeMirrorContent\",{isChanged:Et,emitChange:Ke,forceUpdate:xt}),!(!B||!Et&&!xt)&&(q=me,S(se,Qt),Oe(c(se),c(z))||B.dispatch({changes:{from:0,to:B.state.doc.length,insert:c(t).escapeValue(c(se))}}),oe(),Et&&Ke&&hr(q,rn))}function nn(me){if(!I0(me))return;const Ke=on(me);B&&Ke&&(!c(L)||!c(L).selection.eq(Ke))&&(M(\"applyExternalSelection\",Ke),B.dispatch({selection:Ke}))}function on(me){return I0(me)?Se.fromJSON(me):void 0}async function Tn(){M(\"refresh\"),await un()}function kt(){M(\"forceUpdateText\",{escapeUnicodeCharacters:g()}),B&&B.dispatch({changes:{from:0,to:B.state.doc.length,insert:c(t).escapeValue(c(se))}})}function Lt(){if(!B)return;const me=On(),Ke=me!==c(se);if(M(\"onChangeCodeMirrorValue\",{isChanged:Ke}),!Ke)return;const xt=q;S(se,me),q={text:c(se)},oe(),hr(q,xt),Sn().then(cn)}function yr(me){M(\"updateLinter\",me),B&&B.dispatch({effects:ne.reconfigure(wt())})}function Rt(me){B&&(M(\"updateIndentation\",me),B.dispatch({effects:U.reconfigure(Mn(me))}))}function Yt(me){B&&(M(\"updateTabSize\",me),B.dispatch({effects:ue.reconfigure(en.tabSize.of(me))}))}function sn(me){B&&(M(\"updateReadOnly\",me),B.dispatch({effects:[ie.reconfigure(en.readOnly.of(me))]}))}async function un(){if(await Sn(),B){const me=ct();M(\"updateTheme\",{dark:me}),B.dispatch({effects:[ce.reconfigure(et.theme({},{dark:me}))]})}}function Mn(me){const Ke=Lv.of(typeof me==\"number\"?\" \".repeat(me):me);return me===\"\t\"?[Ke]:[Ke,wie]}const gn=Vp(Lt,f_);function bn(){gn.flush()}function hr(me,Ke){v()&&v()(me,Ke,{contentErrors:gr(),patchResult:void 0})}function cn(){k()(or(c(L).selection))}function or(me){return{type:vn.text,...me.toJSON()}}function Oe(me,Ke){return(me?me.length>h_:!1)&&!Ke}let At=Q(T0,!0),Vt=Q(void 0,!0);function ut(){if(Oe(c(se),c(z)))return[];const me=gr();if(v_(me)){const{parseError:Ke,isRepairable:xt}=me;return[Xn(Vn(Ke,xt))]}return GU(me)?me.validationErrors.map(zn).map(Xn):[]}function gr(){M(\"validate:start\"),bn();const me=Tr(c(t).escapeValue(c(se)),m(),p(),y());return v_(me)?(S(At,me.isRepairable?p_:qU),S(Vt,me.parseError),S(ae,[])):(S(At,T0),S(Vt,void 0),S(ae,(me==null?void 0:me.validationErrors)||[])),M(\"validate:end\"),me}const Tr=mh(LX);function Hr(){c(Vt)&&Ue(c(Vt))}const Mr={icon:tJ,text:\"Show me\",title:\"Move to the parse error location\",onClick:Hr};le(()=>J(g()),()=>{S(t,Mw({escapeControlCharacters:!1,escapeUnicodeCharacters:g()}))}),le(()=>J(l()),()=>{pt(l(),!1,!1)}),le(()=>J(u()),()=>{nn(u())}),le(()=>J(m()),()=>{yr(m())}),le(()=>J(d()),()=>{Rt(d())}),le(()=>J(h()),()=>{Yt(h())}),le(()=>J(i()),()=>{sn(i())}),le(()=>(c($),J(g())),()=>{c($)!==g()&&(S($,g()),kt())}),le(()=>(c(At),J(i()),Du),()=>{S(r,c(At)===p_&&!i()?[{icon:Du,text:\"Auto repair\",title:\"Automatically repair JSON\",onClick:Ie},Mr]:[Mr])}),Xt(),ft(!0);var Di=kie(),So=j(Di);{var Zi=me=>{const Ke=Me(()=>c(se).length===0),xt=Me(()=>!c(Ke)),Qt=Me(()=>!c(Ke)),Et=Me(()=>!c(Ke)),rn=Me(()=>!c(Ke));dQ(me,{get readOnly(){return i()},onFormat:be,onCompact:Ae,onSort:Ne,onTransform:Xe,onToggleSearch:dt,onUndo:ve,onRedo:Je,get canFormat(){return c(xt)},get canCompact(){return c(Qt)},get canSort(){return c(Et)},get canTransform(){return c(rn)},get canUndo(){return f().canUndo},get canRedo(){return f().canRedo},get onRenderMenu(){return I()}})};te(So,me=>{o()&&me(Zi)})}var Qn=H(So,2);{var br=me=>{var Ke=_ie();const xt=Me(()=>Oe(c(se),c(z)));var Qt=ye(Ke);yn(Qt,sr=>S(N,sr),()=>c(N));var Et=H(Qt,2);{var rn=sr=>{var Qr=xie(),Ci=ye(Qr);const Ps=Me(()=>`The JSON document is larger than ${H_(h_,1024)}, and may crash your browser when loading it in text mode. Actual size: ${H_(c(se).length,1024)}.`);qo(Ci,{icon:ec,type:\"error\",get message(){return c(Ps)},actions:[{text:\"Open anyway\",title:\"Open the document in text mode. This may freeze or crash your browser.\",onClick:_t},{text:\"Open in tree mode\",title:\"Open the document in tree mode. Tree mode can handle large documents.\",onClick:$e},{text:\"Cancel\",title:\"Cancel opening this large document.\",onClick:mt}],onClose:K});var ko=H(Ci,2),Oo=j(ko);he(Ni=>He(Oo,Ni),[()=>fh(c(se)||\"\",b1)],Me),R(sr,Qr)};te(Et,sr=>{c(xt)&&sr(rn)})}var Bt=H(Et,2);{var Rn=sr=>{var Qr=Cie(),Ci=ye(Qr);{var Ps=ar=>{uie(ar,{get editorState(){return c(L)}})};te(Ci,ar=>{s()&&ar(Ps)})}var ko=H(Ci,2);{var Oo=ar=>{qo(ar,{type:\"error\",icon:ec,get message(){return c(Vt).message},get actions(){return c(r)},onClick:Hr,onClose:K})};te(ko,ar=>{c(Vt)&&ar(Oo)})}var Ni=H(ko,2);{var eo=ar=>{qo(ar,{type:\"success\",message:\"Do you want to format the JSON?\",actions:[{icon:UE,text:\"Format\",title:\"Format JSON: add proper indentation and new lines (Ctrl+I)\",onClick:be},{icon:_v,text:\"No thanks\",title:\"Close this message\",onClick:()=>S(Z,!1)}],onClose:K})};te(Ni,ar=>{!c(Vt)&&c(Z)&&IW(c(se))&&ar(eo)})}var pl=H(Ni,2);t2(pl,{get validationErrors(){return c(ae)},selectError:lt}),R(sr,Qr)};te(Bt,sr=>{c(xt)||sr(Rn)})}he(()=>Re(Qt,\"jse-hidden\",c(xt))),R(me,Ke)},$i=me=>{var Ke=Sie();R(me,Ke)};te(Qn,me=>{_?me($i,!1):me(br)})}return yn(Di,me=>S(F,me),()=>c(F)),he(()=>Re(Di,\"no-main-menu\",!o())),R(n,Di),bt(e,\"focus\",K),bt(e,\"patch\",Ze),bt(e,\"handlePatch\",Ce),bt(e,\"openTransformModal\",gt),bt(e,\"refresh\",Tn),bt(e,\"flush\",bn),bt(e,\"validate\",gr),Te({focus:K,patch:Ze,handlePatch:Ce,openTransformModal:gt,refresh:Tn,flush:bn,validate:gr})}function Aie(n,e){Ee(e,!1);let t=x(e,\"containsValidArray\",9),r=x(e,\"readOnly\",9),i=x(e,\"showSearch\",13,!1),o=x(e,\"history\",9),s=x(e,\"onSort\",9),a=x(e,\"onTransform\",9),l=x(e,\"onContextMenu\",9),u=x(e,\"onUndo\",9),f=x(e,\"onRedo\",9),d=x(e,\"onRenderMenu\",9);function h(){i(!i())}let g=Q(void 0,!0),p=Q(void 0,!0);le(()=>(J(r()),J(s()),J(t()),J(a()),J(l()),J(u()),J(o()),J(f())),()=>{S(g,r()?[{type:\"space\"}]:[{type:\"button\",icon:xv,title:\"Sort\",className:\"jse-sort\",onClick:s(),disabled:r()||!t()},{type:\"button\",icon:wv,title:\"Transform contents (filter, sort, project)\",className:\"jse-transform\",onClick:a(),disabled:r()||!t()},{type:\"button\",icon:Cv,title:\"Search (Ctrl+F)\",className:\"jse-search\",onClick:h,disabled:!t()},{type:\"button\",icon:kE,title:Lw,className:\"jse-contextmenu\",onClick:l()},{type:\"separator\"},{type:\"button\",icon:Xw,title:\"Undo (Ctrl+Z)\",className:\"jse-undo\",onClick:u(),disabled:!o().canUndo},{type:\"button\",icon:Jw,title:\"Redo (Ctrl+Shift+Z)\",className:\"jse-redo\",onClick:f(),disabled:!o().canRedo},{type:\"space\"}])}),le(()=>(J(d()),c(g)),()=>{S(p,d()(c(g))||c(g))}),Xt(),ft(!0),Mv(n,{get items(){return c(p)}}),Te()}var Eie=X('<button type=\"button\" class=\"jse-inline-value svelte-h57m0p\"> </button>');function Tie(n,e){Ee(e,!1);let t=x(e,\"path\",9),r=x(e,\"value\",9),i=x(e,\"parser\",9),o=x(e,\"isSelected\",9),s=x(e,\"containsSearchResult\",9),a=x(e,\"containsActiveSearchResult\",9),l=x(e,\"onEdit\",9);ft(!0);var u=Eie(),f=j(u);he(d=>{Re(u,\"jse-selected\",o()),Re(u,\"jse-highlight\",s()),Re(u,\"jse-active\",a()),He(f,d)},[()=>fh(i().stringify(r())??\"\",FU)],Me),we(\"dblclick\",u,()=>l()(t())),R(n,u),Te()}var Mie=X('<span class=\"jse-column-sort-icon svelte-2i3vdx\"><!></span>'),Pie=X('<button type=\"button\" class=\"jse-column-header svelte-2i3vdx\"><span class=\"jse-column-name\"> </span> <!></button>');function Iie(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0);let o=x(e,\"path\",9),s=x(e,\"sortedColumn\",9),a=x(e,\"readOnly\",9),l=x(e,\"onSort\",9);function u(){a()||l()({path:o(),sortDirection:c(r)===Lo.asc?Lo.desc:Lo.asc})}le(()=>(J(o()),Wo),()=>{S(t,mn(o())?\"values\":Wo(o()))}),le(()=>(J(s()),J(o())),()=>{var m;S(r,s()&&Ft(o(),(m=s())==null?void 0:m.path)?s().sortDirection:void 0)}),le(()=>(c(r),m_),()=>{S(i,c(r)?m_[c(r)]:void 0)}),Xt(),ft(!0);var f=Pie(),d=j(f),h=j(d),g=H(d,2);{var p=m=>{var y=Mie(),v=j(y);const C=Me(()=>c(r)===Lo.asc?Qa:eJ);jt(v,{get data(){return c(C)}}),he(()=>ke(y,\"title\",`Currently sorted in ${c(i)} order`)),R(m,y)};te(g,m=>{c(r)!==void 0&&m(p)})}he(m=>{ke(f,\"title\",a()?c(t):c(t)+\" (Click to sort the data by this column)\"),Re(f,\"jse-readonly\",a()),He(h,m)},[()=>fh(c(t),jU)],Me),we(\"click\",f,u),R(n,f),Te()}let kg,Og;function Dc(n,e){return kg||(Og=new WeakMap,kg=new ResizeObserver(t=>{for(const r of t){const i=Og.get(r.target);i&&i(r.target)}})),Og.set(n,e),kg.observe(n),{destroy:()=>{Og.delete(n),kg.unobserve(n)}}}var Rie=X(\"You can open the document in tree mode instead, or paste a JSON Array using <b>Ctrl+V</b>.\",1),Die=X('<button type=\"button\" class=\"jse-nested-array-action svelte-1q0ce0e\"> <span class=\"jse-nested-array-count svelte-1q0ce0e\"> </span></button>'),Nie=X('<div class=\"jse-table-mode-welcome svelte-1q0ce0e\" role=\"none\"><div class=\"jse-space jse-before svelte-1q0ce0e\"></div> <div class=\"jse-nested-arrays svelte-1q0ce0e\"><div class=\"jse-nested-arrays-title\"> </div> <div class=\"jse-nested-arrays-info svelte-1q0ce0e\"><!> <!></div> <!> <button type=\"button\" class=\"jse-nested-array-action svelte-1q0ce0e\"> </button></div> <div class=\"jse-space jse-after svelte-1q0ce0e\"></div></div>');function Lie(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0);let s=x(e,\"text\",9),a=x(e,\"json\",9),l=x(e,\"readOnly\",9),u=x(e,\"parser\",9),f=x(e,\"openJSONEditorModal\",9),d=x(e,\"onChangeMode\",9),h=x(e,\"onClick\",9),g=Q(void 0,!0);function p(P){return Qe(a(),P).length}le(()=>J(l()),()=>{S(t,l()?\"View\":\"Edit\")}),le(()=>(J(a()),V_),()=>{S(g,a()?V_(a()).slice(0,99).filter(P=>P.length>0):[])}),le(()=>c(g),()=>{S(r,!mn(c(g)))}),le(()=>(J(a()),J(s())),()=>{S(i,a()===void 0&&(s()===\"\"||s()===void 0))}),le(()=>(c(r),c(i),J(a()),J(u())),()=>{S(o,c(r)?\"Object with nested arrays\":c(i)?\"An empty document\":rr(a())?\"An object\":Jn(a())?\"An empty array\":`A ${ww(a(),u())}`)}),Xt(),ft(!0);var m=Nie(),y=H(j(m),2),v=j(y),C=j(v),k=H(v,2),b=j(k);{var w=P=>{var _=Or(`An object cannot be opened in table mode. You can open a nested array instead, or open the\n        document in tree mode.`);R(P,_)},E=P=>{var _=Or();he(()=>He(_,`${c(o)??\"\"} cannot be opened in table mode.`)),R(P,_)};te(b,P=>{c(r)?P(w):P(E,!1)})}var O=H(b,2);{var T=P=>{var _=Rie();R(P,_)},I=P=>{var _=Or(\"You can open the document in tree mode instead.\");R(P,_)};te(O,P=>{c(i)&&!l()?P(T):P(I,!1)})}var D=H(k,2);Pt(D,1,()=>c(g),tn,(P,_)=>{var N=Die();const F=Me(()=>p(c(_)));var B=j(N),L=H(B),z=j(L);he(Z=>{He(B,`${c(t)??\"\"} \"${Z??\"\"}\" `),He(z,`(${c(F)??\"\"} ${(c(F)!==1?\"items\":\"item\")??\"\"})`)},[()=>Wo(c(_))],Me),we(\"click\",N,()=>f()(c(_))),R(P,N)});var A=H(D,2),M=j(A);he(()=>{He(C,c(o)),He(M,`${c(t)??\"\"} in tree mode`)}),we(\"click\",A,()=>d()(_r.tree)),we(\"click\",m,()=>h()()),R(n,m),Te()}var Bie=X('<button type=\"button\" class=\"jse-column-header svelte-fzj761\"><!></button>');function Fie(n,e){Ee(e,!1);let t=x(e,\"count\",9),r=x(e,\"maxSampleCount\",9),i=x(e,\"readOnly\",9),o=x(e,\"onRefresh\",9);ft(!0);var s=Bie(),a=j(s);jt(a,{data:gJ}),he(()=>{ke(s,\"title\",`The Columns are created by sampling ${r()} items out of ${t()}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`),Re(s,\"jse-readonly\",i())}),we(\"click\",s,()=>o()()),R(n,s),Te()}function jie({json:n,documentState:e,selection:t,readOnly:r,onEditValue:i,onEditRow:o,onToggleEnforceString:s,onCut:a,onCopy:l,onPaste:u,onRemove:f,onDuplicateRow:d,onInsertBeforeRow:h,onInsertAfterRow:g,onRemoveRow:p}){const m=n!==void 0,y=!!t,v=n!==void 0&&t?Qe(n,it(t)):void 0,C=m&&(In(t)||Ar(t)||hn(t)),k=!r&&m&&t!==void 0&&Wp(t),b=k&&!nr(v),w=!r&&C,E=t!==void 0?ua(n,e,it(t)):!1;return[{type:\"separator\"},{type:\"row\",items:[{type:\"column\",items:[{type:\"label\",text:\"Table cell:\"},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>i(),icon:cu,text:\"Edit\",title:\"Edit the value (Double-click on the value)\",disabled:!k},width:\"11em\",items:[{type:\"button\",icon:cu,text:\"Edit\",title:\"Edit the value (Double-click on the value)\",onClick:()=>i(),disabled:!k},{type:\"button\",icon:E?CE:SE,text:\"Enforce string\",title:\"Enforce keeping the value as string when it contains a numeric value\",onClick:()=>s(),disabled:!b}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>a(!0),icon:lu,text:\"Cut\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",disabled:!w},width:\"10em\",items:[{type:\"button\",icon:lu,text:\"Cut formatted\",title:\"Cut selected contents, formatted with indentation (Ctrl+X)\",onClick:()=>a(!0),disabled:r||!C},{type:\"button\",icon:lu,text:\"Cut compacted\",title:\"Cut selected contents, without indentation (Ctrl+Shift+X)\",onClick:()=>a(!1),disabled:r||!C}]},{type:\"dropdown-button\",main:{type:\"button\",onClick:()=>l(!0),icon:Ja,text:\"Copy\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",disabled:!C},width:\"12em\",items:[{type:\"button\",icon:Ja,text:\"Copy formatted\",title:\"Copy selected contents, formatted with indentation (Ctrl+C)\",onClick:()=>l(!1),disabled:!C},{type:\"button\",icon:Ja,text:\"Copy compacted\",title:\"Copy selected contents, without indentation (Ctrl+Shift+C)\",onClick:()=>l(!1),disabled:!C}]},{type:\"button\",onClick:()=>u(),icon:xE,text:\"Paste\",title:\"Paste clipboard contents (Ctrl+V)\",disabled:r||!y},{type:\"button\",onClick:()=>f(),icon:O1,text:\"Remove\",title:\"Remove selected contents (Delete)\",disabled:r||!C}]},{type:\"column\",items:[{type:\"label\",text:\"Table row:\"},{type:\"button\",onClick:()=>o(),icon:cu,text:\"Edit row\",title:\"Edit the current row\",disabled:r||!y||!m},{type:\"button\",onClick:()=>d(),icon:AE,text:\"Duplicate row\",title:\"Duplicate the current row (Ctrl+D)\",disabled:r||!y||!m},{type:\"button\",onClick:()=>h(),icon:Gc,text:\"Insert before\",title:\"Insert a row before the current row\",disabled:r||!y||!m},{type:\"button\",onClick:()=>g(),icon:Gc,text:\"Insert after\",title:\"Insert a row after the current row\",disabled:r||!y||!m},{type:\"button\",onClick:()=>p(),icon:O1,text:\"Remove row\",title:\"Remove current row\",disabled:r||!y||!m}]}]}]}var zie=X('<div class=\"jse-table-root-error svelte-u14cgx\"><!></div>'),Vie=X('<th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th>'),Hie=X('<th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th>'),qie=X('<th class=\"jse-table-cell jse-table-cell-gutter svelte-u14cgx\"> <!></th>'),Wie=X('<div class=\"jse-context-menu-anchor svelte-u14cgx\"><!></div>'),Uie=X('<td class=\"jse-table-cell svelte-u14cgx\"><div class=\"jse-value-outer svelte-u14cgx\"><!><!></div> <!></td>'),Kie=X('<td class=\"jse-table-cell svelte-u14cgx\"></td>'),Jie=X('<tr class=\"jse-table-row svelte-u14cgx\"><!><!><!></tr>'),Xie=X('<div class=\"jse-search-box-container svelte-u14cgx\"><!></div> <div class=\"jse-contents svelte-u14cgx\"><table class=\"jse-table-main svelte-u14cgx\"><tbody><tr class=\"jse-table-row jse-table-row-header svelte-u14cgx\"><th class=\"jse-table-cell jse-table-cell-header svelte-u14cgx\"><!></th><!><!></tr><tr class=\"jse-table-invisible-start-section svelte-u14cgx\"><td class=\"svelte-u14cgx\"></td></tr><!><tr class=\"jse-table-invisible-end-section svelte-u14cgx\"><td class=\"svelte-u14cgx\"></td></tr></tbody></table></div> <!> <!> <!>',1),Gie=X(\"<!> <!>\",1),Yie=X('<label class=\"jse-hidden-input-label svelte-u14cgx\"><input type=\"text\" tabindex=\"-1\" class=\"jse-hidden-input svelte-u14cgx\"></label> <!>',1),Qie=X('<div class=\"jse-contents jse-contents-loading svelte-u14cgx\"><div class=\"jse-loading-space svelte-u14cgx\"></div> <div class=\"jse-loading svelte-u14cgx\">loading...</div></div>'),Zie=X('<div role=\"table\" class=\"jse-table-mode svelte-u14cgx\"><!> <!></div> <!> <!>',1);function $ie(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Er(\"jsoneditor:TableMode\"),{openAbsolutePopup:s,closeAbsolutePopup:a}=Yi(\"absolute-popup\"),l=zE(),u=Mu(),f=Mu(),d=typeof window>\"u\";o(\"isSSR:\",d);let h=x(e,\"readOnly\",9),g=x(e,\"externalContent\",9),p=x(e,\"externalSelection\",9),m=x(e,\"history\",9),y=x(e,\"mainMenuBar\",9),v=x(e,\"escapeControlCharacters\",9),C=x(e,\"escapeUnicodeCharacters\",9),k=x(e,\"flattenColumns\",9),b=x(e,\"parser\",9),w=x(e,\"parseMemoizeOne\",9),E=x(e,\"validator\",9),O=x(e,\"validationParser\",9),T=x(e,\"indentation\",9),I=x(e,\"onChange\",9),D=x(e,\"onChangeMode\",9),A=x(e,\"onSelect\",9),M=x(e,\"onUndo\",9),P=x(e,\"onRedo\",9),_=x(e,\"onRenderValue\",9),N=x(e,\"onRenderMenu\",9),F=x(e,\"onRenderContextMenu\",9),B=x(e,\"onFocus\",9),L=x(e,\"onBlur\",9),z=x(e,\"onSortModal\",9),Z=x(e,\"onTransformModal\",9),ae=x(e,\"onJSONEditorModal\",9),ne=Q(void 0,!0),ie=Q(void 0,!0),U=Q(void 0,!0),ue=Q(void 0,!0),ce=Q(void 0,!0);e2({onMount:dr,onDestroy:zr,getWindow:()=>ch(c(ie)),hasFocus:()=>Ne&&document.hasFocus()||Iw(c(ie)),onFocus:()=>{gt=!0,B()&&B()()},onBlur:()=>{gt=!1,L()&&L()()}});let q=Q(void 0,!0),se=Q(void 0,!0),fe=Q(void 0,!0),G=Q(void 0,!0),oe,$=Q(void 0,!0),Y=Q(!1,!0),ee=Q(!1,!0);function K(W){if(!c(U))return;const xe=W?Rf:-100;c(U).scrollTo({top:Wi(U,c(U).scrollTop+=xe),left:c(U).scrollLeft})}function je(W){oe=W,S($,oe?bE(c(q),oe.items):void 0)}async function Ze(W){S(pe,void 0),await cn(W)}function Ce(){S(Y,!1),S(ee,!1),Yt()}let be=Q(1e4,!0),Ae=Q([],!0),Ie=Q(void 0,!0),Ne=!1,gt=!1,Xe=Q(!1,!0),dt=Q({},!0),ve=Q(600,!0),Je=Q(0,!0),_t=18;function $e(W){c(U)&&c(U).scrollTo({top:c(U).scrollTop,left:c(U).scrollLeft})}function mt(W){S(pe,W)}function lt(W){Ft(W,p())||(o(\"onSelect\",W),A()(W))}function Ue(W){!c(pe)||W===void 0||co(W,Zl(c(pe)))&&co(W,it(c(pe)))||(o(\"clearing selection: path does not exist anymore\",c(pe)),S(pe,void 0))}let Le=Q(c(q)!==void 0?x1({json:c(q)}):void 0,!0),pe=Q(kd(p())?p():void 0,!0),wt=Q(void 0,!0),vt=Q(!1,!0);dr(()=>{c(pe)&&At(it(c(pe)))});function On(W){if(h())return;o(\"onSortByHeader\",W);const xe=[],qe=W.sortDirection===Lo.desc?-1:1,Pe=JE(c(q),xe,W.path,qe);kt(Pe,(ot,Ge)=>({state:Ge,sortedColumn:W}))}let ct=Q(void 0,!0);function Gt(W){const xe={json:c(q)},qe=wd(W)?W.text!==c(se):!Ft(xe.json,W.json);if(o(\"update external content\",{isChanged:qe}),!qe)return;const Pe={json:c(q),documentState:c(Le),selection:c(pe),sortedColumn:c(wt),text:c(se),textIsRepaired:c(vt)};if(wd(W))try{S(q,w()(W.text)),S(Le,qi(c(q),c(Le))),S(se,W.text),S(vt,!1),S(fe,void 0)}catch(ot){try{S(q,w()(vs(W.text))),S(Le,qi(c(q),c(Le))),S(se,W.text),S(vt,!0),S(fe,void 0)}catch{S(q,void 0),S(Le,void 0),S(se,W.text),S(vt,!1),S(fe,c(se)!==\"\"?Pu(c(se),ot.message||String(ot)):void 0)}}else S(q,W.json),S(Le,qi(c(q),c(Le))),S(se,void 0),S(vt,!1),S(fe,void 0);Ue(c(q)),S(wt,void 0),Vn(Pe)}function zn(W){Ft(c(pe),W)||(o(\"applyExternalSelection\",{selection:c(pe),externalSelection:W}),kd(W)&&S(pe,W))}function Vn(W){if(W.json===void 0&&W.text===void 0)return;const xe=c(q)!==void 0&&W.json!==void 0;m().add({type:\"tree\",undo:{patch:xe?[{op:\"replace\",path:\"\",value:W.json}]:void 0,json:W.json,text:W.text,documentState:W.documentState,textIsRepaired:W.textIsRepaired,selection:ls(W.selection),sortedColumn:W.sortedColumn},redo:{patch:xe?[{op:\"replace\",path:\"\",value:c(q)}]:void 0,json:c(q),text:c(se),documentState:c(Le),textIsRepaired:c(vt),selection:ls(c(pe)),sortedColumn:c(wt)}})}let Xn=Q([],!0);const pt=mh(VE);function nn(W,xe,qe,Pe){Yc(()=>{let ot;try{ot=pt(W,xe,qe,Pe)}catch(Ge){ot=[{path:[],message:\"Failed to validate: \"+Ge.message,severity:zo.warning}]}Ft(ot,c(Xn))||(o(\"validationErrors changed:\",ot),S(Xn,ot))},ot=>o(`validationErrors updated in ${ot} ms`))}function on(){return o(\"validate\"),c(fe)?{parseError:c(fe),isRepairable:!1}:(nn(c(q),E(),b(),O()),mn(c(Xn))?void 0:{validationErrors:c(Xn)})}function Tn(W,xe){if(o(\"patch\",W,xe),c(q)===void 0)throw new Error(\"Cannot apply patch: no JSON\");const qe=c(q),Pe={json:void 0,text:c(se),documentState:c(Le),selection:ls(c(pe)),sortedColumn:c(wt),textIsRepaired:c(vt)},ot=vE(c(q),W),Ge=rE(c(q),c(Le),W),lr=MY(c(wt),W,c(Ae)),Ht=typeof xe==\"function\"?xe(Ge.json,Ge.documentState,c(pe)):void 0;return S(q,(Ht==null?void 0:Ht.json)!==void 0?Ht.json:Ge.json),S(Le,(Ht==null?void 0:Ht.state)!==void 0?Ht.state:Ge.documentState),S(pe,(Ht==null?void 0:Ht.selection)!==void 0?Ht.selection:c(pe)),S(wt,(Ht==null?void 0:Ht.sortedColumn)!==void 0?Ht.sortedColumn:lr),S(se,void 0),S(vt,!1),S(G,void 0),S(fe,void 0),m().add({type:\"tree\",undo:{patch:ot,...Pe},redo:{patch:W,json:void 0,text:void 0,documentState:c(Le),selection:ls(c(pe)),sortedColumn:c(wt),textIsRepaired:c(vt)}}),{json:c(q),previousJson:qe,undo:ot,redo:W}}function kt(W,xe){o(\"handlePatch\",W,xe);const qe={json:c(q),text:c(se)},Pe=Tn(W,xe);return Lt(qe,Pe),Pe}function Lt(W,xe){if(!(W.json===void 0&&(W==null?void 0:W.text)===void 0)&&I()){if(c(se)!==void 0){const qe={text:c(se),json:void 0};I()(qe,W,{contentErrors:on(),patchResult:xe})}else if(c(q)!==void 0){const qe={text:void 0,json:c(q)};I()(qe,W,{contentErrors:on(),patchResult:xe})}}}function yr(W){o(\"pasted json as text\",W),S(G,W)}function Rt(W){const xe=parseInt(W[0],10),qe=[String(xe+1),...W.slice(1)];return co(c(q),qe)?Dt(qe):Dt(W)}function Yt(){o(\"focus\"),c(ue)&&(c(ue).focus(),c(ue).select())}function sn(W){!Qu(W.target,qe=>qe===c(ie))&&vi(c(pe))&&(o(\"click outside the editor, exit edit mode\"),S(pe,ls(c(pe))),gt&&c(ue)&&(c(ue).focus(),c(ue).blur()),o(\"blur (outside editor)\"),c(ue)&&c(ue).blur())}function un(W){S(Je,W.target.scrollTop)}function Mn(W){if(W.buttons!==1&&W.buttons!==2)return;const xe=W.target;xe.isContentEditable||Yt();const qe=UA(xe);if(qe){if(vi(c(pe))&&Od(c(q),c(pe),qe))return;S(pe,Dt(qe)),W.preventDefault()}}function gn(){if(Jn(c(q))&&!mn(c(q))&&!mn(c(Ae))){const W=[\"0\",...c(Ae)[0]];return Dt(W)}else return}function bn(){c(pe)||S(pe,gn())}function hr(){if(c(vt)&&c(q)!==void 0){const W={json:c(q),text:c(se)},xe={json:c(q),documentState:c(Le),selection:c(pe),sortedColumn:c(wt),text:c(se),textIsRepaired:c(vt)};S(se,void 0),S(vt,!1),Ue(c(q)),Vn(xe),Lt(W,void 0)}return{json:c(q),text:c(se)}}function cn(W,xe=!0){const qe=c(Y)?Rf:0,Pe=z_(W,c(Ae),dt,_t),ot=Pe-c(Je)+qe+_t,Ge=Vt(W);if(o(\"scrollTo\",{path:W,top:Pe,scrollTop:c(Je),elem:Ge}),!c(U))return Promise.resolve();const lr=c(U).getBoundingClientRect();if(Ge&&!xe){const Cn=Ge.getBoundingClientRect();if(Cn.bottom>lr.top&&Cn.top<lr.bottom)return Promise.resolve()}const Ht=-Math.max(qe+2*_t,lr.height/4);return Ge?new Promise(Cn=>{l(Ge,{container:c(U),offset:Ht,duration:v1,callback:()=>{Oe(W),Cn()}})}):new Promise(Cn=>{l(ot,{container:c(U),offset:Ht,duration:v1,callback:async()=>{await Sn(),Oe(W),Cn()}})})}function or(W){if(!c(U))return;const{rowIndex:xe}=Co(W,c(Ae)),qe=z_(W,c(Ae),dt,_t),Pe=qe+(dt[xe]||_t),ot=_t,Ge=c(U).getBoundingClientRect(),lr=c(Je),Ht=c(Je)+Ge.height-ot;if(Pe>Ht){const Cn=Pe-Ht;Wi(U,c(U).scrollTop+=Cn)}if(qe<lr){const Cn=lr-qe;Wi(U,c(U).scrollTop-=Cn)}}function Oe(W){const xe=Vt(W);if(!xe||!c(U))return;const qe=c(U).getBoundingClientRect(),Pe=xe.getBoundingClientRect();if(Pe.right>qe.right){const ot=Pe.right-qe.right;Wi(U,c(U).scrollLeft+=ot)}if(Pe.left<qe.left){const ot=qe.left-Pe.left;Wi(U,c(U).scrollLeft-=ot)}}function At(W){or(W),Oe(W)}function Vt(W){var Pe;const xe=c(Ae).find(ot=>da(W.slice(1),ot)),qe=xe?W.slice(0,1).concat(xe):W;return((Pe=c(U))==null?void 0:Pe.querySelector(`td[data-path=\"${m1(qe)}\"]`))??void 0}function ut({anchor:W,left:xe,top:qe,width:Pe,height:ot,offsetTop:Ge,offsetLeft:lr,showTip:Ht}){const Cn=jie({json:c(q),documentState:c(Le),selection:c(pe),readOnly:h(),onEditValue:Hr,onEditRow:Mr,onToggleEnforceString:Di,onCut:$i,onCopy:me,onPaste:Zi,onRemove:Ke,onDuplicateRow:xt,onInsertBeforeRow:Qt,onInsertAfterRow:Et,onRemoveRow:rn}),V=F()(Cn)??Cn;if(V===!1)return;const ge={tip:Ht?\"Tip: you can open this context menu via right-click or with Ctrl+Q\":void 0,items:V,onRequestClose(){a(Ye),Yt()}},Be={left:xe,top:qe,offsetTop:Ge,offsetLeft:lr,width:Pe,height:ot,anchor:W,closeOnOuterClick:!0,onClose:()=>{Ne=!1,Yt()}};Ne=!0;const Ye=s(r6,ge,Be)}function gr(W){var xe,qe;if(!vi(c(pe)))if(W&&(W.stopPropagation(),W.preventDefault()),W&&W.type===\"contextmenu\"&&W.target!==c(ue))ut({left:W.clientX,top:W.clientY,width:Gs,height:Xs,showTip:!1});else{const Pe=(xe=c(U))==null?void 0:xe.querySelector(\".jse-table-cell.jse-selected-value\");if(Pe)ut({anchor:Pe,offsetTop:2,width:Gs,height:Xs,showTip:!1});else{const ot=(qe=c(U))==null?void 0:qe.getBoundingClientRect();ot&&ut({top:ot.top+2,left:ot.left+2,width:Gs,height:Xs,showTip:!1})}}}function Tr(W){ut({anchor:WA(W.target,\"BUTTON\"),offsetTop:0,width:Gs,height:Xs,showTip:!0})}function Hr(){if(h()||!c(pe))return;const W=it(c(pe)),xe=Qe(c(q),W);nr(xe)?eo(W):S(pe,Dt(W))}function Mr(){if(h()||!c(pe))return;const xe=it(c(pe)).slice(0,1);eo(xe)}function Di(){if(h()||!hn(c(pe)))return;const W=c(pe).path,xe=ht(W),qe=Qe(c(q),W),Pe=!ua(c(q),c(Le),W),ot=Pe?String(qe):Gu(String(qe),b());o(\"handleToggleEnforceString\",{enforceString:Pe,value:qe,updatedValue:ot}),kt([{op:\"replace\",path:xe,value:ot}],(Ge,lr)=>({state:yv(c(q),lr,W,{type:\"value\",enforceString:Pe})}))}async function So(){if(o(\"apply pasted json\",c(G)),!c(G))return;const{onPasteAsJson:W}=c(G);W(),setTimeout(Yt)}async function Zi(){try{const W=await navigator.clipboard.readText();Qr(W)}catch(W){console.error(W),S(Xe,!0)}}function Qn(){o(\"clear pasted json\"),S(G,void 0),Yt()}function br(){D()(_r.text)}async function $i(W){await QE({json:c(q),selection:c(pe),indentation:W?T():void 0,readOnly:h(),parser:b(),onPatch:kt})}async function me(W=!0){c(q)!==void 0&&await ZE({json:c(q),selection:c(pe),indentation:W?T():void 0,parser:b()})}function Ke(){e6({json:c(q),text:c(se),selection:c(pe),keepSelection:!0,readOnly:h(),onChange:I(),onPatch:kt})}function xt(){IY({json:c(q),selection:c(pe),columns:c(Ae),readOnly:h(),onPatch:kt})}function Qt(){RY({json:c(q),selection:c(pe),columns:c(Ae),readOnly:h(),onPatch:kt})}function Et(){DY({json:c(q),selection:c(pe),columns:c(Ae),readOnly:h(),onPatch:kt})}function rn(){NY({json:c(q),selection:c(pe),columns:c(Ae),readOnly:h(),onPatch:kt})}async function Bt(W){await t6({char:W,selectInside:!1,json:c(q),selection:c(pe),readOnly:h(),parser:b(),onPatch:kt,onReplaceJson:Ci,onSelect:mt})}function Rn(W){const xe=ca(W);if(o(\"keydown\",{combo:xe,key:W.key}),xe===\"Ctrl+X\"&&(W.preventDefault(),$i(!0)),xe===\"Ctrl+Shift+X\"&&(W.preventDefault(),$i(!1)),xe===\"Ctrl+C\"&&(W.preventDefault(),me(!0)),xe===\"Ctrl+Shift+C\"&&(W.preventDefault(),me(!1)),xe===\"Ctrl+D\"&&(W.preventDefault(),xt()),(xe===\"Delete\"||xe===\"Backspace\")&&(W.preventDefault(),Ke()),xe===\"Insert\"&&W.preventDefault(),xe===\"Ctrl+A\"&&W.preventDefault(),xe===\"Ctrl+Q\"&&gr(W),xe===\"ArrowLeft\"&&(W.preventDefault(),bn(),c(pe))){const Pe=kY(c(Ae),c(pe));S(pe,Pe),At(it(Pe))}if(xe===\"ArrowRight\"&&(W.preventDefault(),bn(),c(pe))){const Pe=OY(c(Ae),c(pe));S(pe,Pe),At(it(Pe))}if(xe===\"ArrowUp\"&&(W.preventDefault(),bn(),c(pe))){const Pe=_Y(c(Ae),c(pe));S(pe,Pe),At(it(Pe))}if(xe===\"ArrowDown\"&&(W.preventDefault(),bn(),c(pe))){const Pe=SY(c(q),c(Ae),c(pe));S(pe,Pe),At(it(Pe))}if(xe===\"Enter\"&&c(pe)&&hn(c(pe))){W.preventDefault();const Pe=c(pe).path,ot=Qe(c(q),Pe);nr(ot)?eo(Pe):h()||S(pe,{...c(pe),edit:!0})}if(xe.replace(/^Shift\\+/,\"\").length===1&&c(pe)){W.preventDefault(),Bt(W.key);return}if(xe===\"Ctrl+Enter\"&&hn(c(pe))){W.preventDefault();const Pe=Qe(c(q),c(pe).path);sv(Pe)&&window.open(String(Pe),\"_blank\")}xe===\"Escape\"&&c(pe)&&(W.preventDefault(),S(pe,void 0)),xe===\"Ctrl+F\"&&(W.preventDefault(),Ao(!1)),xe===\"Ctrl+H\"&&(W.preventDefault(),Ao(!0)),xe===\"Ctrl+Z\"&&(W.preventDefault(),ml()),xe===\"Ctrl+Shift+Z\"&&(W.preventDefault(),bc())}function sr(W){var qe;W.preventDefault();const xe=(qe=W.clipboardData)==null?void 0:qe.getData(\"text/plain\");Qr(xe)}function Qr(W){W!==void 0&&$E({clipboardText:W,json:c(q),selection:c(pe),readOnly:h(),parser:b(),onPatch:kt,onChangeText:Ps,openRepairModal:pl})}function Ci(W,xe){const qe={json:c(q),text:c(se)},Pe={json:c(q),documentState:c(Le),selection:c(pe),sortedColumn:c(wt),text:c(se),textIsRepaired:c(vt)},ot=qi(W,c(Le)),Ge=typeof xe==\"function\"?xe(W,ot,c(pe)):void 0;S(q,(Ge==null?void 0:Ge.json)!==void 0?Ge.json:W),S(Le,(Ge==null?void 0:Ge.state)!==void 0?Ge.state:ot),S(pe,(Ge==null?void 0:Ge.selection)!==void 0?Ge.selection:c(pe)),S(wt,void 0),S(se,void 0),S(vt,!1),S(fe,void 0),Ue(c(q)),Vn(Pe),Lt(qe,void 0)}function Ps(W,xe){o(\"handleChangeText\");const qe={json:c(q),text:c(se)},Pe={json:c(q),documentState:c(Le),selection:c(pe),sortedColumn:c(wt),text:c(se),textIsRepaired:c(vt)};try{S(q,w()(W)),S(Le,qi(c(q),c(Le))),S(se,void 0),S(vt,!1),S(fe,void 0)}catch(Ge){try{S(q,w()(vs(W))),S(Le,qi(c(q),c(Le))),S(se,W),S(vt,!0),S(fe,void 0)}catch{S(q,void 0),S(Le,void 0),S(se,W),S(vt,!1),S(fe,c(se)!==\"\"?Pu(c(se),Ge.message||String(Ge)):void 0)}}if(typeof xe==\"function\"){const Ge=xe(c(q),c(Le),c(pe));S(q,(Ge==null?void 0:Ge.json)!==void 0?Ge.json:c(q)),S(Le,(Ge==null?void 0:Ge.state)!==void 0?Ge.state:c(Le)),S(pe,(Ge==null?void 0:Ge.selection)!==void 0?Ge.selection:c(pe))}Ue(c(q)),Vn(Pe),Lt(qe,void 0)}function ko(W){o(\"select validation error\",W),S(pe,Dt(W.path)),cn(W.path)}function Oo(W){h()||c(q)===void 0||(Ne=!0,z()({id:u,json:c(q),rootPath:W,onSort:({operations:xe,itemPath:qe,direction:Pe})=>{o(\"onSort\",xe,W,qe,Pe),kt(xe,(ot,Ge)=>({state:Ge,sortedColumn:{path:qe,sortDirection:Pe===-1?Lo.desc:Lo.asc}}))},onClose:()=>{Ne=!1,setTimeout(Yt)}}))}function Ni(W){if(c(q)===void 0)return;const{id:xe,onTransform:qe,onClose:Pe}=W,ot=W.rootPath||[];Ne=!0,Z()({id:xe||f,json:c(q),rootPath:ot||[],onTransform:Ge=>{qe?qe({operations:Ge,json:c(q),transformedJson:Fo(c(q),Ge)}):(o(\"onTransform\",ot,Ge),kt(Ge))},onClose:()=>{Ne=!1,setTimeout(Yt),Pe&&Pe()}})}function eo(W){o(\"openJSONEditorModal\",{path:W}),Ne=!0,ae()({content:{json:Qe(c(q),W)},path:W,onPatch:kt,onClose:()=>{Ne=!1,setTimeout(Yt)}})}function pl(W,xe){S(ce,{text:W,onParse:qe=>pv(qe,Pe=>lh(Pe,b())),onRepair:LA,onApply:xe,onClose:Yt})}function ar(){Oo([])}function es(){Ni({rootPath:[]})}function Ao(W){o(\"openFind\",{findAndReplace:W}),S(Y,!1),S(ee,!1),Sn().then(()=>{S(Y,!0),S(ee,W)})}function ml(){if(h()||!m().canUndo)return;const W=m().undo();if(!qp(W)){M()(W);return}const xe={json:c(q),text:c(se)};S(q,W.undo.patch?Fo(c(q),W.undo.patch):W.undo.json),S(Le,W.undo.documentState),S(pe,W.undo.selection),S(wt,W.undo.sortedColumn),S(se,W.undo.text),S(vt,W.undo.textIsRepaired),S(fe,void 0),o(\"undo\",{item:W,json:c(q)});const qe=W.undo.patch&&W.redo.patch?{json:c(q),previousJson:xe.json,redo:W.undo.patch,undo:W.redo.patch}:void 0;Lt(xe,qe),Yt(),c(pe)&&cn(it(c(pe)),!1)}function bc(){if(h()||!m().canRedo)return;const W=m().redo();if(!qp(W)){P()(W);return}const xe={json:c(q),text:c(se)};S(q,W.redo.patch?Fo(c(q),W.redo.patch):W.redo.json),S(Le,W.redo.documentState),S(pe,W.redo.selection),S(wt,W.redo.sortedColumn),S(se,W.redo.text),S(vt,W.redo.textIsRepaired),S(fe,void 0),o(\"redo\",{item:W,json:c(q)});const qe=W.undo.patch&&W.redo.patch?{json:c(q),previousJson:xe.json,redo:W.redo.patch,undo:W.undo.patch}:void 0;Lt(xe,qe),Yt(),c(pe)&&cn(it(c(pe)),!1)}function wc(W){S(ve,W.getBoundingClientRect().height)}function xc(W,xe){dt[xe]=W.getBoundingClientRect().height}le(()=>(J(v()),J(C())),()=>{S(ne,Mw({escapeControlCharacters:v(),escapeUnicodeCharacters:C()}))}),le(()=>c(Y),()=>{K(c(Y))}),le(()=>J(g()),()=>{Gt(g())}),le(()=>J(p()),()=>{zn(p())}),le(()=>(c(Ae),c(q),J(k()),c(be)),()=>{S(Ae,Jn(c(q))?wY(bY(c(q),k(),c(be)),c(Ae)):[])}),le(()=>(c(q),c(Ae)),()=>{S(Ie,!!(c(q)&&!mn(c(Ae))))}),le(()=>(c(q),c(be)),()=>{S(t,Array.isArray(c(q))&&c(q).length>c(be))}),le(()=>(c(Je),c(ve),c(q),c(Y),Rf),()=>{S(r,xY(c(Je),c(ve),c(q),dt,_t,c(Y)?Rf:0))}),le(()=>c(q),()=>{$e(c(q))}),le(()=>c(pe),()=>{lt(c(pe))}),le(()=>(J(h()),J(b()),c(ne),c(q),c(Le),J(_())),()=>{S(ct,{mode:_r.table,readOnly:h(),parser:b(),normalization:c(ne),getJson:()=>c(q),getDocumentState:()=>c(Le),findElement:Vt,findNextInside:Rt,focus:Yt,onPatch:(W,xe)=>kt(SK(W,c(q)),xe),onSelect:mt,onFind:Ao,onPasteJson:yr,onRenderValue:_()})}),le(()=>(c(q),J(E()),J(b()),J(O())),()=>{nn(c(q),E(),b(),O())}),le(()=>(c(Xn),c(Ae)),()=>{S(i,AY(c(Xn),c(Ae)))}),Xt(),ft(!0);var Cc=Zie();we(\"mousedown\",ur,sn);var xn=ye(Cc),vl=j(xn);{var of=W=>{Aie(W,{get containsValidArray(){return c(Ie)},get readOnly(){return h()},get history(){return m()},onSort:ar,onTransform:es,onUndo:ml,onRedo:bc,onContextMenu:Tr,get onRenderMenu(){return N()},get showSearch(){return c(Y)},set showSearch(xe){S(Y,xe)},$$legacy:!0})};te(vl,W=>{y()&&W(of)})}var sf=H(vl,2);{var de=W=>{var xe=Yie(),qe=ye(xe),Pe=j(qe);Pe.readOnly=!0,yn(Pe,Ht=>S(ue,Ht),()=>c(ue));var ot=H(qe,2);{var Ge=Ht=>{var Cn=Xie(),V=ye(Cn),ge=j(V);XE(ge,{get json(){return c(q)},get documentState(){return c(Le)},get parser(){return b()},get showSearch(){return c(Y)},get showReplace(){return c(ee)},get readOnly(){return h()},get columns(){return c(Ae)},onSearch:je,onFocus:Ze,onPatch:kt,onClose:Ce});var Be=H(V,2),Ye=j(Be),Ve=j(Ye),nt=j(Ve),pn=j(nt),dn=j(pn);{var xr=Zn=>{var Pr=De();const Is=Me(()=>{var Ds;return j0([],(Ds=c(i))==null?void 0:Ds.root)});var xa=ye(Pr);{var Rs=Ds=>{var lf=zie(),Kv=j(lf);du(Kv,{get validationError(){return c(Is)},onExpand:to}),R(Ds,lf)};te(xa,Ds=>{c(Is)&&Ds(Rs)})}R(Zn,Pr)};te(dn,Zn=>{var Pr;mn((Pr=c(i))==null?void 0:Pr.root)||Zn(xr)})}var qr=H(pn);Pt(qr,1,()=>c(Ae),tn,(Zn,Pr)=>{var Is=Vie(),xa=j(Is);Iie(xa,{get path(){return c(Pr)},get sortedColumn(){return c(wt)},get readOnly(){return h()},onSort:On}),R(Zn,Is)});var Li=H(qr);{var ts=Zn=>{var Pr=Hie(),Is=j(Pr);const xa=Me(()=>Array.isArray(c(q))?c(q).length:0);Fie(Is,{get count(){return c(xa)},get maxSampleCount(){return c(be)},get readOnly(){return h()},onRefresh:()=>S(be,1/0)}),R(Zn,Pr)};te(Li,Zn=>{c(t)&&Zn(ts)})}var ui=H(nt),yl=j(ui),bl=H(ui);Pt(bl,1,()=>c(r).visibleItems,tn,(Zn,Pr,Is)=>{var xa=Jie();const Rs=Me(()=>c(r).startIndex+Is),Ds=Me(()=>c(i).rows[c(Rs)]),lf=Me(()=>{var ns;return j0([String(c(Rs))],(ns=c(Ds))==null?void 0:ns.row)}),Kv=Me(()=>jl(c(q),c($),[String(c(Rs))]));var W2=j(xa);Bk(W2,()=>c(Rs),ns=>{var Ns=qie(),kh=j(Ns),K2=H(kh);{var cf=di=>{du(di,{get validationError(){return c(lf)},onExpand:to})};te(K2,di=>{c(lf)&&di(cf)})}Ut(Ns,(di,kc)=>Dc==null?void 0:Dc(di,kc),()=>di=>xc(di,c(Rs))),he(()=>He(kh,`${c(Rs)??\"\"} `)),R(ns,Ns)});var U2=H(W2);Pt(U2,1,()=>c(Ae),tn,(ns,Ns,kh,K2)=>{var cf=Uie();const di=Me(()=>[String(c(Rs))].concat(c(Ns))),kc=Me(()=>Qe(c(Pr),c(Ns))),Oh=Me(()=>hn(c(pe))&&da(c(pe).path,c(di))),kM=Me(()=>{var Ir;return(Ir=c(Ds))==null?void 0:Ir.columns[kh]}),J2=Me(()=>j0(c(di),c(kM)));var Jv=j(cf),X2=j(Jv);{var OM=Ir=>{const Ca=Me(()=>k1(jl(c(Pr),c(Kv),c(Ns)))),uf=Me(()=>c(Ca)?c(Ca).some(Gv=>Gv.active):!1),Xv=Me(()=>!mn(c(Ca)));Tie(Ir,{get path(){return c(di)},get value(){return c(kc)},get parser(){return b()},get isSelected(){return c(Oh)},get containsSearchResult(){return c(Xv)},get containsActiveSearchResult(){return c(uf)},onEdit:eo})},AM=Ir=>{const Ca=Me(()=>{var G2;return(G2=jl(c(q),c($),c(di)))==null?void 0:G2.searchResults}),uf=Me(()=>c(kc)!==void 0?c(kc):\"\"),Xv=Me(()=>ua(c(q),c(Le),c(di))),Gv=Me(()=>c(Oh)?c(pe):void 0);WE(Ir,{get path(){return c(di)},get value(){return c(uf)},get enforceString(){return c(Xv)},get selection(){return c(Gv)},get searchResultItems(){return c(Ca)},get context(){return c(ct)}})};te(X2,Ir=>{nr(c(kc))?Ir(OM):Ir(AM,!1)})}var EM=H(X2);{var TM=Ir=>{var Ca=Wie(),uf=j(Ca);Ta(uf,{selected:!0,onContextMenu:ut}),R(Ir,Ca)};te(EM,Ir=>{!h()&&c(Oh)&&!vi(c(pe))&&Ir(TM)})}var MM=H(Jv,2);{var PM=Ir=>{du(Ir,{get validationError(){return c(J2)},onExpand:to})};te(MM,Ir=>{c(J2)&&Ir(PM)})}he(Ir=>{ke(cf,\"data-path\",Ir),Re(Jv,\"jse-selected-value\",c(Oh))},[()=>m1(c(di))],Me),R(ns,cf)});var _M=H(U2);{var SM=ns=>{var Ns=Kie();R(ns,Ns)};te(_M,ns=>{c(t)&&ns(SM)})}R(Zn,xa)});var _c=H(bl),Sc=j(_c);yn(Be,Zn=>S(U,Zn),()=>c(U)),Ut(Be,(Zn,Pr)=>Dc==null?void 0:Dc(Zn,Pr),()=>wc),fr(()=>we(\"scroll\",Be,un));var af=H(Be,2);{var Uv=Zn=>{const Pr=Me(()=>`You pasted a JSON ${Array.isArray(c(G).contents)?\"array\":\"object\"} as text`);qo(Zn,{type:\"info\",get message(){return c(Pr)},actions:[{icon:Du,text:\"Paste as JSON instead\",title:\"Paste the text as JSON instead of a single value\",onMouseDown:So},{text:\"Leave as is\",title:\"Keep the pasted content as a single value\",onClick:Qn}]})};te(af,Zn=>{c(G)&&Zn(Uv)})}var Sh=H(af,2);{var fi=Zn=>{const Pr=Me(()=>h()?[]:[{icon:Gw,text:\"Ok\",title:\"Accept the repaired document\",onClick:hr},{icon:Jp,text:\"Repair manually instead\",title:\"Leave the document unchanged and repair it manually instead\",onClick:br}]);qo(Zn,{type:\"success\",message:\"The loaded JSON document was invalid but is successfully repaired.\",get actions(){return c(Pr)},onClose:Yt})};te(Sh,Zn=>{c(vt)&&Zn(fi)})}var wl=H(Sh,2);t2(wl,{get validationErrors(){return c(Xn)},selectError:ko}),he(()=>{Re(ui,\"jse-search-box-background\",c(Y)),ke(yl,\"colspan\",c(Ae).length),Nn(yl,\"height\",c(r).startHeight+\"px\"),ke(Sc,\"colspan\",c(Ae).length),Nn(Sc,\"height\",c(r).endHeight+\"px\")}),R(Ht,Cn)},lr=Ht=>{var Cn=De(),V=ye(Cn);{var ge=Ye=>{var Ve=Gie(),nt=ye(Ve);const pn=Me(()=>h()?[]:[{icon:Jp,text:\"Repair manually\",title:'Open the document in \"code\" mode and repair it manually',onClick:br}]);qo(nt,{type:\"error\",message:\"The loaded JSON document is invalid and could not be repaired automatically.\",get actions(){return c(pn)}});var dn=H(nt,2);n6(dn,{get text(){return c(se)},get json(){return c(q)},get indentation(){return T()},get parser(){return b()}}),R(Ye,Ve)},Be=Ye=>{Lie(Ye,{get text(){return c(se)},get json(){return c(q)},get readOnly(){return h()},get parser(){return b()},openJSONEditorModal:eo,get onChangeMode(){return D()},onClick:()=>{Yt()}})};te(V,Ye=>{c(fe)&&c(se)!==void 0&&c(se)!==\"\"?Ye(ge):Ye(Be,!1)},!0)}R(Ht,Cn)};te(ot,Ht=>{c(Ie)?Ht(Ge):Ht(lr,!1)})}we(\"paste\",Pe,sr),R(W,xe)},_e=W=>{var xe=Qie();R(W,xe)};te(sf,W=>{d?W(_e,!1):W(de)})}yn(xn,W=>S(ie,W),()=>c(ie));var St=H(xn,2);{var fn=W=>{HE(W,{onClose:()=>S(Xe,!1)})};te(St,W=>{c(Xe)&&W(fn)})}var wr=H(St,2);{var Gn=W=>{qE(W,Xr(()=>c(ce),{onClose:()=>{var xe;(xe=c(ce))==null||xe.onClose(),S(ce,void 0)}}))};te(wr,W=>{c(ce)&&W(Gn)})}return he(()=>Re(xn,\"no-main-menu\",!y())),we(\"mousedown\",xn,Mn),we(\"keydown\",xn,Rn),we(\"contextmenu\",xn,gr),R(n,Cc),bt(e,\"validate\",on),bt(e,\"patch\",Tn),bt(e,\"focus\",Yt),bt(e,\"acceptAutoRepair\",hr),bt(e,\"scrollTo\",cn),bt(e,\"findElement\",Vt),bt(e,\"openTransformModal\",Ni),Te({validate:on,patch:Tn,focus:Yt,acceptAutoRepair:hr,scrollTo:cn,findElement:Vt,openTransformModal:Ni})}function oM(n,e){Ee(e,!1);let t=x(e,\"content\",8),r=x(e,\"selection\",12),i=x(e,\"readOnly\",8),o=x(e,\"indentation\",8),s=x(e,\"tabSize\",8),a=x(e,\"externalMode\",8),l=x(e,\"mainMenuBar\",8),u=x(e,\"navigationBar\",8),f=x(e,\"statusBar\",8),d=x(e,\"askToFormat\",8),h=x(e,\"escapeControlCharacters\",8),g=x(e,\"escapeUnicodeCharacters\",8),p=x(e,\"flattenColumns\",8),m=x(e,\"parser\",8),y=x(e,\"parseMemoizeOne\",8),v=x(e,\"validator\",8),C=x(e,\"validationParser\",8),k=x(e,\"pathParser\",8),b=x(e,\"insideModal\",8),w=x(e,\"onChange\",8),E=x(e,\"onChangeMode\",8),O=x(e,\"onSelect\",8),T=x(e,\"onRenderValue\",8),I=x(e,\"onClassName\",8),D=x(e,\"onRenderMenu\",8),A=x(e,\"onRenderContextMenu\",8),M=x(e,\"onError\",8),P=x(e,\"onFocus\",8),_=x(e,\"onBlur\",8),N=x(e,\"onSortModal\",8),F=x(e,\"onTransformModal\",8),B=x(e,\"onJSONEditorModal\",8),L=Q(),z=Q(),Z=Q();const ae=Er(\"jsoneditor:JSONEditorRoot\"),ne=o6({onChange:ve=>S(ie,ve)});let ie=Q(ne.get()),U=Q(a());function ue(ve){if(ve===c(U))return;const Je={type:\"mode\",undo:{mode:c(U),selection:void 0},redo:{mode:ve,selection:void 0}};c(U)===\"text\"&&c(Z)&&c(Z).flush(),ae(\"add history item\",Je),c(ie).add(Je),S(U,ve)}function ce(ve){if(b_(ve)){S(U,ve.undo.mode);const Je=c(ie).items(),_t=Je.findIndex(mt=>mt===ve),$e=_t!==-1?Je[_t-1]:void 0;ae(\"handleUndo\",{index:_t,item:ve,items:Je,prevItem:$e}),$e&&r($e.redo.selection),E()(c(U))}}function q(ve){if(b_(ve)){S(U,ve.redo.mode);const Je=c(ie).items(),_t=Je.findIndex(mt=>mt===ve),$e=_t!==-1?Je[_t+1]:void 0;ae(\"handleRedo\",{index:_t,item:ve,items:Je,nextItem:$e}),$e&&r($e.undo.selection),E()(c(U))}}let se=Q();const fe={type:\"separator\"};let G=Q(),oe=Q();function $(ve){if(c(L))return c(L).patch(ve);if(c(z))return c(z).patch(ve);if(c(Z))return c(Z).patch(ve);throw new Error(`Method patch is not available in mode \"${c(U)}\"`)}function Y(ve,Je){if(c(L))return c(L).expand(ve,Je);throw new Error(`Method expand is not available in mode \"${c(U)}\"`)}function ee(ve,Je){if(c(L))return c(L).collapse(ve,Je);throw new Error(`Method collapse is not available in mode \"${c(U)}\"`)}function K(ve){if(c(Z))c(Z).openTransformModal(ve);else if(c(L))c(L).openTransformModal(ve);else if(c(z))c(z).openTransformModal(ve);else throw new Error(`Method transform is not available in mode \"${c(U)}\"`)}function je(){if(c(Z))return c(Z).validate();if(c(L))return c(L).validate();if(c(z))return c(z).validate();throw new Error(`Method validate is not available in mode \"${c(U)}\"`)}function Ze(){return c(L)?c(L).acceptAutoRepair():t()}function Ce(ve){if(c(L))return c(L).scrollTo(ve);if(c(z))return c(z).scrollTo(ve);throw new Error(`Method scrollTo is not available in mode \"${c(U)}\"`)}function be(ve){if(c(L))return c(L).findElement(ve);if(c(z))return c(z).findElement(ve);throw new Error(`Method findElement is not available in mode \"${c(U)}\"`)}function Ae(){c(Z)?c(Z).focus():c(L)?c(L).focus():c(z)&&c(z).focus()}async function Ie(){c(Z)&&await c(Z).refresh()}le(()=>J(a()),()=>{ue(a())}),le(()=>(c(U),J(E())),()=>{S(se,[{type:\"button\",text:\"text\",title:`Switch to text mode (current mode: ${c(U)})`,className:\"jse-group-button jse-first\"+(c(U)===_r.text?\" jse-selected\":\"\"),onClick:()=>E()(_r.text)},{type:\"button\",text:\"tree\",title:`Switch to tree mode (current mode: ${c(U)})`,className:\"jse-group-button \"+(c(U)===_r.tree?\" jse-selected\":\"\"),onClick:()=>E()(_r.tree)},{type:\"button\",text:\"table\",title:`Switch to table mode (current mode: ${c(U)})`,className:\"jse-group-button jse-last\"+(c(U)===_r.table?\" jse-selected\":\"\"),onClick:()=>E()(_r.table)}])}),le(()=>(c(se),J(D()),c(U),J(b()),J(i())),()=>{S(G,ve=>{const Je=ZA(ve[0])?c(se).concat(ve):c(se).concat(fe,ve),_t=h1(Je);return D()(Je,{mode:c(U),modal:b(),readOnly:i()})||_t})}),le(()=>(J(A()),c(U),J(b()),J(i()),J(r())),()=>{S(oe,ve=>{const Je=h1(ve);return A()(ve,{mode:c(U),modal:b(),readOnly:i(),selection:r()})??(i()?!1:Je)})}),Xt(),ft();var Ne=De(),gt=ye(Ne);{var Xe=ve=>{yn(Oie(ve,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(ie)},get readOnly(){return i()},get indentation(){return o()},get tabSize(){return s()},get mainMenuBar(){return l()},get statusBar(){return f()},get askToFormat(){return d()},get escapeUnicodeCharacters(){return g()},get parser(){return m()},get validator(){return v()},get validationParser(){return C()},get onChange(){return w()},get onChangeMode(){return E()},get onSelect(){return O()},onUndo:ce,onRedo:q,get onError(){return M()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(G)},get onSortModal(){return N()},get onTransformModal(){return F()},$$legacy:!0}),Je=>S(Z,Je),()=>c(Z))},dt=ve=>{var Je=De(),_t=ye(Je);{var $e=lt=>{yn($ie(lt,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(ie)},get readOnly(){return i()},get mainMenuBar(){return l()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return g()},get flattenColumns(){return p()},get parser(){return m()},get parseMemoizeOne(){return y()},get validator(){return v()},get validationParser(){return C()},get indentation(){return o()},get onChange(){return w()},get onChangeMode(){return E()},get onSelect(){return O()},onUndo:ce,onRedo:q,get onRenderValue(){return T()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(G)},get onRenderContextMenu(){return c(oe)},get onSortModal(){return N()},get onTransformModal(){return F()},get onJSONEditorModal(){return B()},$$legacy:!0}),Ue=>S(z,Ue),()=>c(z))},mt=lt=>{yn(M1(lt,{get externalContent(){return t()},get externalSelection(){return r()},get history(){return c(ie)},get readOnly(){return i()},get indentation(){return o()},get mainMenuBar(){return l()},get navigationBar(){return u()},get escapeControlCharacters(){return h()},get escapeUnicodeCharacters(){return g()},get parser(){return m()},get parseMemoizeOne(){return y()},get validator(){return v()},get validationParser(){return C()},get pathParser(){return k()},get onError(){return M()},get onChange(){return w()},get onChangeMode(){return E()},get onSelect(){return O()},onUndo:ce,onRedo:q,get onRenderValue(){return T()},get onClassName(){return I()},get onFocus(){return P()},get onBlur(){return _()},get onRenderMenu(){return c(G)},get onRenderContextMenu(){return c(oe)},get onSortModal(){return N()},get onTransformModal(){return F()},get onJSONEditorModal(){return B()},$$legacy:!0}),Ue=>S(L,Ue),()=>c(L))};te(_t,lt=>{c(U)===_r.table?lt($e):lt(mt,!1)},!0)}R(ve,Je)};te(gt,ve=>{c(U)===_r.text||String(c(U))===\"code\"?ve(Xe):ve(dt,!1)})}return R(n,Ne),bt(e,\"patch\",$),bt(e,\"expand\",Y),bt(e,\"collapse\",ee),bt(e,\"transform\",K),bt(e,\"validate\",je),bt(e,\"acceptAutoRepair\",Ze),bt(e,\"scrollTo\",Ce),bt(e,\"findElement\",be),bt(e,\"focus\",Ae),bt(e,\"refresh\",Ie),Te({patch:$,expand:Y,collapse:ee,transform:K,validate:je,acceptAutoRepair:Ze,scrollTo:Ce,findElement:be,focus:Ae,refresh:Ie})}var eoe=X('<div class=\"jse-error svelte-v0el4e\"> </div>'),toe=X('<button type=\"button\" class=\"jse-secondary svelte-v0el4e\"><!> Back</button>'),noe=X('<button type=\"button\" class=\"jse-primary svelte-v0el4e\">Apply</button>'),roe=X('<button type=\"button\" class=\"jse-primary svelte-v0el4e\">Close</button>'),ioe=X('<!> <div class=\"jse-modal-contents svelte-v0el4e\"><div class=\"jse-label svelte-v0el4e\"><div class=\"jse-label-inner svelte-v0el4e\">Path</div></div> <input class=\"jse-path svelte-v0el4e\" type=\"text\" readonly=\"\" title=\"Selected path\"> <div class=\"jse-label svelte-v0el4e\"><div class=\"jse-label-inner svelte-v0el4e\">Contents</div></div> <div class=\"jse-modal-inline-editor svelte-v0el4e\"><!></div> <div class=\"jse-actions svelte-v0el4e\"><!> <!> <!></div></div>',1),ooe=X('<div class=\"jse-modal-wrapper svelte-v0el4e\"><!></div>');function soe(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0),s=Er(\"jsoneditor:JSONEditorModal\");let a=x(e,\"content\",9),l=x(e,\"path\",9),u=x(e,\"onPatch\",9),f=x(e,\"readOnly\",9),d=x(e,\"indentation\",9),h=x(e,\"tabSize\",9),g=x(e,\"mainMenuBar\",9),p=x(e,\"navigationBar\",9),m=x(e,\"statusBar\",9),y=x(e,\"askToFormat\",9),v=x(e,\"escapeControlCharacters\",9),C=x(e,\"escapeUnicodeCharacters\",9),k=x(e,\"flattenColumns\",9),b=x(e,\"parser\",9),w=x(e,\"validator\",9),E=x(e,\"validationParser\",9),O=x(e,\"pathParser\",9),T=x(e,\"onRenderValue\",9),I=x(e,\"onClassName\",9),D=x(e,\"onRenderMenu\",9),A=x(e,\"onRenderContextMenu\",9),M=x(e,\"onSortModal\",9),P=x(e,\"onTransformModal\",9),_=x(e,\"onClose\",9),N=Q(void 0,!0),F=Q(void 0,!0);const B={mode:Z(a()),content:a(),selection:void 0,relativePath:l()};let L=Q([B],!0),z=Q(void 0,!0);dr(()=>{var oe;(oe=c(N))==null||oe.focus()});function Z(oe){return xd(oe)&&Jn(oe.json)?_r.table:_r.tree}function ae(){var $;const oe=($=Nt(c(L)))==null?void 0:$.selection;kd(oe)&&c(N).scrollTo(it(oe))}function ne(){if(s(\"handleApply\"),!f())try{S(z,void 0);const oe=c(t).relativePath,$=c(t).content,Y=[{op:\"replace\",path:ht(oe),value:a_($,b()).json}];if(c(L).length>1){const ee=c(L)[c(L).length-2].content,K=a_(ee,b()).json,je={json:Fo(K,Y)},Ce={...c(L)[c(L).length-2]||B,content:je};S(L,[...c(L).slice(0,c(L).length-2),Ce]),Sn().then(ae)}else u()(Y),_()()}catch(oe){S(z,String(oe))}}function ie(){s(\"handleClose\"),c(F)?S(F,!1):c(L).length>1?(S(L,Jt(c(L))),Sn().then(()=>{var oe;(oe=c(N))==null||oe.focus(),ae()}),S(z,void 0)):_()()}function U(oe){s(\"handleChange\",oe),q($=>({...$,content:oe}))}function ue(oe){s(\"handleChangeSelection\",oe),q($=>({...$,selection:oe}))}function ce(oe){s(\"handleChangeMode\",oe),q($=>({...$,mode:oe}))}function q(oe){const $=Nt(c(L)),Y=oe($);S(L,[...Jt(c(L)),Y])}function se(oe){S(z,oe.toString()),console.error(oe)}function fe({content:oe,path:$}){s(\"handleJSONEditorModal\",{content:oe,path:$});const Y={mode:Z(oe),content:oe,selection:void 0,relativePath:$};S(L,[...c(L),Y]),Sn().then(()=>{var ee;return(ee=c(N))==null?void 0:ee.focus()})}function G(oe){oe.focus()}le(()=>c(L),()=>{S(t,Nt(c(L))||B)}),le(()=>c(L),()=>{S(r,c(L).flatMap(oe=>oe.relativePath))}),le(()=>(c(r),Wo),()=>{S(i,mn(c(r))?\"(document root)\":Wo(c(r)))}),le(()=>J(b()),()=>{S(o,mh(b().parse))}),Xt(),ft(!0),ph(n,{onClose:ie,className:\"jse-jsoneditor-modal\",get fullscreen(){return c(F)},children:(oe,$)=>{var Y=ooe(),ee=j(Y);Nw(ee,{children:(K,je)=>{var Ze=ioe(),Ce=ye(Ze);const be=Me(()=>c(L).length>1?` (${c(L).length})`:\"\");Tv(Ce,{get title(){return`Edit nested content ${c(be)??\"\"}`},fullScreenButton:!0,onClose:ie,get fullscreen(){return c(F)},set fullscreen(Ue){S(F,Ue)},$$legacy:!0});var Ae=H(Ce,2),Ie=H(j(Ae),2),Ne=H(Ie,4),gt=j(Ne);yn(oM(gt,{get externalMode(){return c(t).mode},get content(){return c(t).content},get selection(){return c(t).selection},get readOnly(){return f()},get indentation(){return d()},get tabSize(){return h()},get statusBar(){return m()},get askToFormat(){return y()},get mainMenuBar(){return g()},get navigationBar(){return p()},get escapeControlCharacters(){return v()},get escapeUnicodeCharacters(){return C()},get flattenColumns(){return k()},get parser(){return b()},get parseMemoizeOne(){return c(o)},get validator(){return w()},get validationParser(){return E()},get pathParser(){return O()},insideModal:!0,onError:se,onChange:U,onChangeMode:ce,onSelect:ue,get onRenderValue(){return T()},get onClassName(){return I()},onFocus:to,onBlur:to,get onRenderMenu(){return D()},get onRenderContextMenu(){return A()},get onSortModal(){return M()},get onTransformModal(){return P()},onJSONEditorModal:fe,$$legacy:!0}),Ue=>S(N,Ue),()=>c(N));var Xe=H(Ne,2),dt=j(Xe);{var ve=Ue=>{var Le=eoe(),pe=j(Le);he(()=>He(pe,c(z))),R(Ue,Le)};te(dt,Ue=>{c(z)&&Ue(ve)})}var Je=H(dt,2);{var _t=Ue=>{var Le=toe(),pe=j(Le);jt(pe,{data:JK}),we(\"click\",Le,ie),R(Ue,Le)};te(Je,Ue=>{c(L).length>1&&Ue(_t)})}var $e=H(Je,2);{var mt=Ue=>{var Le=noe();fr(()=>we(\"click\",Le,ne)),Ut(Le,pe=>G==null?void 0:G(pe)),R(Ue,Le)},lt=Ue=>{var Le=roe();we(\"click\",Le,ie),R(Ue,Le)};te($e,Ue=>{f()?Ue(lt,!1):Ue(mt)})}he(()=>sa(Ie,c(i))),R(K,Ze)},$$slots:{default:!0}}),R(oe,Y)},$$slots:{default:!0}}),Te()}const aoe={};var Nc=Km(()=>aoe),loe=X('<tr><th class=\"svelte-1v9c92j\">Property</th><td class=\"svelte-1v9c92j\"><!></td></tr>'),coe=X('<div class=\"jse-error svelte-1v9c92j\"> </div>'),uoe=X('<!> <div class=\"jse-modal-contents svelte-1v9c92j\"><table class=\"svelte-1v9c92j\"><colgroup><col width=\"25%\"><col width=\"75%\"></colgroup><tbody><tr><th class=\"svelte-1v9c92j\">Path</th><td class=\"svelte-1v9c92j\"><input class=\"jse-path svelte-1v9c92j\" type=\"text\" readonly=\"\" title=\"Selected path\"></td></tr><!><tr><th class=\"svelte-1v9c92j\">Direction</th><td class=\"svelte-1v9c92j\"><!></td></tr></tbody></table> <div class=\"jse-space svelte-1v9c92j\"><!></div> <div class=\"jse-actions svelte-1v9c92j\"><button type=\"button\" class=\"jse-primary svelte-1v9c92j\">Sort</button></div></div>',1);function foe(n,e){var w,E;Ee(e,!1);const t=Q(void 0,!0),r=Q(void 0,!0),i=Q(void 0,!0),o=Q(void 0,!0),s=Er(\"jsoneditor:SortModal\");let a=x(e,\"id\",9),l=x(e,\"json\",9),u=x(e,\"rootPath\",9),f=x(e,\"onSort\",9),d=x(e,\"onClose\",9);const h={value:1,label:\"ascending\"},p=[h,{value:-1,label:\"descending\"}],m=`${a()}:${ht(u())}`;let y=Q((w=Nc()[m])==null?void 0:w.selectedProperty,!0),v=Q(((E=Nc()[m])==null?void 0:E.selectedDirection)||h,!0),C=Q(void 0,!0);function k(){var O,T,I,D;try{S(C,void 0);const A=((O=c(y))==null?void 0:O.value)||((I=(T=c(o))==null?void 0:T[0])==null?void 0:I.value)||[],M=(D=c(v))==null?void 0:D.value,P=JE(l(),u(),A,M);f()!==void 0&&u()!==void 0&&f()({operations:P,rootPath:u(),itemPath:A,direction:M}),d()()}catch(A){S(C,String(A))}}function b(O){O.focus()}le(()=>(J(l()),J(u())),()=>{S(t,Qe(l(),u()))}),le(()=>c(t),()=>{S(r,Array.isArray(c(t)))}),le(()=>(c(r),c(t)),()=>{S(i,c(r)?g1(c(t)):void 0)}),le(()=>(c(i),Ea),()=>{S(o,c(i)?c(i).map(Ea):void 0)}),le(()=>(Nc(),c(y),c(v)),()=>{Nc(Nc()[m]={selectedProperty:c(y),selectedDirection:c(v)}),s(\"store state in memory\",m,Nc()[m])}),Xt(),ft(!0),ph(n,{get onClose(){return d()},className:\"jse-sort-modal\",children:(O,T)=>{var I=uoe(),D=ye(I);const A=Me(()=>c(r)?\"Sort array items\":\"Sort object keys\");Tv(D,{get title(){return c(A)},get onClose(){return d()}});var M=H(D,2),P=j(M),_=H(j(P)),N=j(_),F=H(j(N)),B=j(F),L=H(N);{var z=se=>{var fe=loe(),G=H(j(fe)),oe=j(G);Ol(oe,{showChevron:!0,get items(){return c(o)},get value(){return c(y)},set value($){S(y,$)},$$legacy:!0}),R(se,fe)};te(L,se=>{var fe;c(r)&&(c(o)&&((fe=c(o))==null?void 0:fe.length)>1||c(y)===void 0)&&se(z)})}var Z=H(L),ae=H(j(Z)),ne=j(ae);Ol(ne,{showChevron:!0,clearable:!1,items:p,get value(){return c(v)},set value(se){S(v,se)},$$legacy:!0});var ie=H(P,2),U=j(ie);{var ue=se=>{var fe=coe(),G=j(fe);he(()=>He(G,c(C))),R(se,fe)};te(U,se=>{c(C)&&se(ue)})}var ce=H(ie,2),q=j(ce);fr(()=>we(\"click\",q,k)),Ut(q,se=>b==null?void 0:b(se)),he(se=>{var fe;sa(B,se),q.disabled=c(r)&&c(o)&&((fe=c(o))==null?void 0:fe.length)>1?!c(y):!1},[()=>u()&&!mn(u())?Wo(u()):\"(document root)\"],Me),R(O,I)},$$slots:{default:!0}}),Te()}var doe=X('<div class=\"jse-main svelte-57bmz4\"><!></div> <!> <!> <!>',1);function hoe(n,e){Ee(e,!1);const t=Q(void 0,!0),r=Er(\"jsoneditor:JSONEditor\"),i={text:\"\"},o=void 0,s=!1,a=2,l=4,u=_r.tree,f=!0,d=!0,h=!0,g=!0,p=!1,m=!1,y=!0,v=JSON,C=void 0,k=JSON,b={parse:yJ,stringify:Wo},w=[dU],E=w[0].id,O=to,T=void 0,I=void 0,D=VK,A=to,M=to,P=to,_=to,N=Oe=>{console.error(Oe),alert(Oe.toString())},F=to,B=to;let L=x(e,\"content\",13,i),z=x(e,\"selection\",13,o),Z=x(e,\"readOnly\",13,s),ae=x(e,\"indentation\",13,a),ne=x(e,\"tabSize\",13,l),ie=x(e,\"mode\",13,u),U=x(e,\"mainMenuBar\",13,f),ue=x(e,\"navigationBar\",13,d),ce=x(e,\"statusBar\",13,h),q=x(e,\"askToFormat\",13,g),se=x(e,\"escapeControlCharacters\",13,p),fe=x(e,\"escapeUnicodeCharacters\",13,m),G=x(e,\"flattenColumns\",13,y),oe=x(e,\"parser\",13,v),$=x(e,\"validator\",13,C),Y=x(e,\"validationParser\",13,k),ee=x(e,\"pathParser\",13,b),K=x(e,\"queryLanguages\",13,w),je=x(e,\"queryLanguageId\",13,E),Ze=x(e,\"onChangeQueryLanguage\",13,O),Ce=x(e,\"onChange\",13,T),be=x(e,\"onSelect\",13,I),Ae=x(e,\"onRenderValue\",13,D),Ie=x(e,\"onClassName\",13,A),Ne=x(e,\"onRenderMenu\",13,M),gt=x(e,\"onRenderContextMenu\",13,P),Xe=x(e,\"onChangeMode\",13,_),dt=x(e,\"onError\",13,N),ve=x(e,\"onFocus\",13,F),Je=x(e,\"onBlur\",13,B),_t=Q(Jc(),!0),$e=Q(!1,!0),mt=Q(void 0,!0),lt=Q(void 0,!0),Ue=Q(void 0,!0),Le=Q(void 0,!0),pe=Q(oe(),!0);function wt(){return L()}async function vt(Oe){r(\"set\");const At=S0(Oe);if(At)throw new Error(At);S(_t,Jc()),L(Oe)}async function On(Oe){r(\"update\");const At=S0(Oe);if(At)throw new Error(At);L(Oe),await Sn()}async function ct(Oe){const At=c(mt).patch(Oe);return await Sn(),At}async function Gt(Oe){z(Oe),await Sn()}async function zn(Oe,At){c(mt).expand(Oe,At),await Sn()}async function Vn(Oe,At=!1){c(mt).collapse(Oe,At),await Sn()}function Xn(Oe){c(mt).transform(Oe)}function pt(){return c(mt).validate()}async function nn(){const Oe=c(mt).acceptAutoRepair();return await Sn(),Oe}async function on(Oe){await c(mt).scrollTo(Oe)}function Tn(Oe){return c(mt).findElement(Oe)}async function kt(){c(mt).focus(),await Sn()}async function Lt(){await c(mt).refresh()}async function yr(Oe){const At=Object.keys(Oe);for(const ut of At)switch(ut){case\"content\":L(Oe[ut]??i);break;case\"selection\":z(Oe[ut]??o);break;case\"readOnly\":Z(Oe[ut]??s);break;case\"indentation\":ae(Oe[ut]??a);break;case\"tabSize\":ne(Oe[ut]??l);break;case\"mode\":ie(Oe[ut]??u);break;case\"mainMenuBar\":U(Oe[ut]??f);break;case\"navigationBar\":ue(Oe[ut]??d);break;case\"statusBar\":ce(Oe[ut]??h);break;case\"askToFormat\":q(Oe[ut]??g);break;case\"escapeControlCharacters\":se(Oe[ut]??p);break;case\"escapeUnicodeCharacters\":fe(Oe[ut]??m);break;case\"flattenColumns\":G(Oe[ut]??y);break;case\"parser\":oe(Oe[ut]??v);break;case\"validator\":$(Oe[ut]??C);break;case\"validationParser\":Y(Oe[ut]??k);break;case\"pathParser\":ee(Oe[ut]??b);break;case\"queryLanguages\":K(Oe[ut]??w);break;case\"queryLanguageId\":je(Oe[ut]??E);break;case\"onChangeQueryLanguage\":Ze(Oe[ut]??O);break;case\"onChange\":Ce(Oe[ut]??T);break;case\"onRenderValue\":Ae(Oe[ut]??D);break;case\"onClassName\":Ie(Oe[ut]??A);break;case\"onRenderMenu\":Ne(Oe[ut]??M);break;case\"onRenderContextMenu\":gt(Oe[ut]??P);break;case\"onChangeMode\":Xe(Oe[ut]??_);break;case\"onSelect\":be(Oe[ut]??I);break;case\"onError\":dt(Oe[ut]??N);break;case\"onFocus\":ve(Oe[ut]??F);break;case\"onBlur\":Je(Oe[ut]??B);break;default:Vt(ut)}K().some(ut=>ut.id===je())||je(K()[0].id);function Vt(ut){r(`Unknown property \"${ut}\"`)}await Sn()}async function Rt(){throw new Error(\"class method destroy() is deprecated. It is replaced with a method destroy() in the vanilla library.\")}function Yt(Oe,At,Vt){L(Oe),Ce()&&Ce()(Oe,At,Vt)}function sn(Oe){z(Oe),be()&&be()(h1(Oe))}function un(){S($e,!0),ve()&&ve()()}function Mn(){S($e,!1),Je()&&Je()()}async function gn(Oe){ie()!==Oe&&(ie(Oe),await Sn(),await kt(),Xe()(Oe))}function bn(Oe){r(\"handleChangeQueryLanguage\",Oe),je(Oe),Ze()(Oe)}function hr({id:Oe,json:At,rootPath:Vt,onTransform:ut,onClose:gr}){Z()||S(Le,{id:Oe,json:At,rootPath:Vt,indentation:ae(),escapeControlCharacters:se(),escapeUnicodeCharacters:fe(),parser:oe(),parseMemoizeOne:c(t),validationParser:Y(),pathParser:ee(),queryLanguages:K(),queryLanguageId:je(),onChangeQueryLanguage:bn,onRenderValue:Ae(),onRenderMenu:Tr=>Ne()(Tr,{mode:ie(),modal:!0,readOnly:Z()}),onRenderContextMenu:Tr=>gt()(Tr,{mode:ie(),modal:!0,readOnly:Z(),selection:z()}),onClassName:Ie(),onTransform:ut,onClose:gr})}function cn(Oe){Z()||S(Ue,Oe)}function or({content:Oe,path:At,onPatch:Vt,onClose:ut}){r(\"onJSONEditorModal\",{content:Oe,path:At}),S(lt,{content:Oe,path:At,onPatch:Vt,readOnly:Z(),indentation:ae(),tabSize:ne(),mainMenuBar:U(),navigationBar:ue(),statusBar:ce(),askToFormat:q(),escapeControlCharacters:se(),escapeUnicodeCharacters:fe(),flattenColumns:G(),parser:oe(),validator:void 0,validationParser:Y(),pathParser:ee(),onRenderValue:Ae(),onClassName:Ie(),onRenderMenu:Ne(),onRenderContextMenu:gt(),onSortModal:cn,onTransformModal:hr,onClose:ut})}return le(()=>(J(oe()),c(pe),J(L()),Jc),()=>{if(!PW(oe(),c(pe))){if(r(\"parser changed, recreate editor\"),xd(L())){const Oe=c(pe).stringify(L().json);L({json:Oe!==void 0?oe().parse(Oe):void 0})}S(pe,oe()),S(_t,Jc())}}),le(()=>J(L()),()=>{const Oe=S0(L());Oe&&console.error(\"Error: \"+Oe)}),le(()=>J(z()),()=>{z()===null&&console.warn(\"selection is invalid: it is null but should be undefined\")}),le(()=>J(oe()),()=>{S(t,mh(oe().parse))}),le(()=>J(ie()),()=>{r(\"mode changed to\",ie())}),Xt(),ft(!0),Nw(n,{children:(Oe,At)=>{var Vt=doe(),ut=ye(Vt),gr=j(ut);Bk(gr,()=>c(_t),Qn=>{yn(oM(Qn,{get externalMode(){return ie()},get content(){return L()},get selection(){return z()},get readOnly(){return Z()},get indentation(){return ae()},get tabSize(){return ne()},get statusBar(){return ce()},get askToFormat(){return q()},get mainMenuBar(){return U()},get navigationBar(){return ue()},get escapeControlCharacters(){return se()},get escapeUnicodeCharacters(){return fe()},get flattenColumns(){return G()},get parser(){return oe()},get parseMemoizeOne(){return c(t)},get validator(){return $()},get validationParser(){return Y()},get pathParser(){return ee()},insideModal:!1,get onError(){return dt()},onChange:Yt,onChangeMode:gn,onSelect:sn,get onRenderValue(){return Ae()},get onClassName(){return Ie()},onFocus:un,onBlur:Mn,get onRenderMenu(){return Ne()},get onRenderContextMenu(){return gt()},onSortModal:cn,onTransformModal:hr,onJSONEditorModal:or,$$legacy:!0}),br=>S(mt,br),()=>c(mt))});var Tr=H(ut,2);{var Hr=Qn=>{foe(Qn,Xr(()=>c(Ue),{onClose:()=>{var br;(br=c(Ue))==null||br.onClose(),S(Ue,void 0)}}))};te(Tr,Qn=>{c(Ue)&&Qn(Hr)})}var Mr=H(Tr,2);{var Di=Qn=>{fQ(Qn,Xr(()=>c(Le),{onClose:()=>{var br;(br=c(Le))==null||br.onClose(),S(Le,void 0)}}))};te(Mr,Qn=>{c(Le)&&Qn(Di)})}var So=H(Mr,2);{var Zi=Qn=>{soe(Qn,Xr(()=>c(lt),{onClose:()=>{var br;(br=c(lt))==null||br.onClose(),S(lt,void 0)}}))};te(So,Qn=>{c(lt)&&Qn(Zi)})}he(()=>Re(ut,\"jse-focus\",c($e))),R(Oe,Vt)},$$slots:{default:!0}}),bt(e,\"get\",wt),bt(e,\"set\",vt),bt(e,\"update\",On),bt(e,\"patch\",ct),bt(e,\"select\",Gt),bt(e,\"expand\",zn),bt(e,\"collapse\",Vn),bt(e,\"transform\",Xn),bt(e,\"validate\",pt),bt(e,\"acceptAutoRepair\",nn),bt(e,\"scrollTo\",on),bt(e,\"findElement\",Tn),bt(e,\"focus\",kt),bt(e,\"refresh\",Lt),bt(e,\"updateProps\",yr),bt(e,\"destroy\",Rt),Te({get:wt,set:vt,update:On,patch:ct,select:Gt,expand:zn,collapse:Vn,transform:Xn,validate:pt,acceptAutoRepair:nn,scrollTo:on,findElement:Tn,focus:kt,refresh:Lt,updateProps:yr,destroy:Rt})}function goe(n,e){vo.close({success:!0,data:c(e)})}var poe=X('<div class=\"text-editor svelte-ln3sgl\"><textarea rows=\"10\" class=\"svelte-ln3sgl\"></textarea> <div class=\"actions svelte-ln3sgl\"><button class=\"primary svelte-ln3sgl\">Save</button></div></div>');function moe(n,e){Ee(e,!0);let t=Wt(at(e.text));var r=poe(),i=j(r),o=H(i,2),s=j(o);s.__click=[goe,t],pi(i,()=>c(t),a=>S(t,a)),R(n,r),Te()}li([\"click\"]);const Bs=n=>{const t=n.target.closest(\"td\");if(!t)return;const r=t.closest(\"tr\");if(!r)return;const i=Array.from(r.cells).indexOf(t);if(n.key===\"ArrowDown\"){const o=r.nextElementSibling;if(o){const s=o.cells[i];if(s){const a=s.querySelector(\"input, select\");a&&(n.preventDefault(),a.focus(),a instanceof HTMLSelectElement&&a.click())}}}else if(n.key===\"ArrowUp\"){const o=r.previousElementSibling;if(o){const s=o.cells[i];if(s){const a=s.querySelector(\"input, select\");a&&(n.preventDefault(),a.focus(),a instanceof HTMLSelectElement&&a.click())}}}};var voe=X('<input value=\"\" disabled class=\"read-only svelte-1jxuyml\">'),yoe=X('<input disabled class=\"read-only svelte-1jxuyml\">'),boe=(n,e,t)=>{vo.show({config:{title:\"Edit JSON\",width:\"90vw\"},component:hoe,props:{content:{json:e()??{}},onChange:t}})},woe=X('<button class=\"icon-button input-json svelte-1jxuyml\"><!></button>'),xoe=X(\"<select><option>False</option><option>True</option></select>\"),Coe=X(\"<option> </option>\"),_oe=X(\"<option> </option>\"),Soe=X(\"<select></select>\"),koe=X('<input type=\"number\" class=\"svelte-1jxuyml\">'),Ooe=X('<input type=\"color\">'),Aoe=X('<input type=\"date\" class=\"svelte-1jxuyml\">'),Eoe=async(n,e,t)=>{const r=await vo.show({config:{title:\"Edit Text\",width:\"50vw\"},component:moe,props:{text:e()}});r.success&&(e(r.data),t(\"change\",{value:e()}))},Toe=X('<button class=\"svelte-1jxuyml\">...</button>'),Moe=X('<span class=\"svelte-1jxuyml\"><input type=\"text\" class=\"svelte-1jxuyml\"> <!></span>');function Poe(n,e){Ee(e,!0);const t=hP();let r=x(e,\"value\",15,void 0),i=x(e,\"relationsToOneValues\",19,()=>({})),o=x(e,\"isNewRow\",3,!1);const s=Jm();let a=Wt(void 0),l=Wt(!1);function u(){c(a)&&S(l,c(a).scrollWidth>c(a).clientWidth+2)}dr(()=>(u(),window.addEventListener(\"resize\",u),()=>window.removeEventListener(\"resize\",u))),dP(()=>{r()!==void 0&&setTimeout(u,0)});const f=m=>{JSON.stringify(m.json)!=JSON.stringify(r())&&r(m.json),s(\"change\",{value:r()})};var d=De(),h=ye(d);{var g=m=>{WO(m,{get info(){return e.info},get relationsToOneValues(){return i()},get value(){return r()},set value(y){r(y)},$$events:{change(y){Ba.call(this,e,y)}}})},p=m=>{var y=De(),v=ye(y);{var C=b=>{var w=voe();w.__keydown=[Bs],R(b,w)},k=b=>{var w=De(),E=ye(w);{var O=I=>{var D=yoe();D.__keydown=[Bs],pi(D,r),R(I,D)},T=I=>{var D=De(),A=ye(D);{var M=_=>{var N=woe();N.__click=[boe,r,f],N.__keydown=[Bs];var F=j(N);FO(F),R(_,N)},P=_=>{var N=De(),F=ye(N);{var B=z=>{var Z=xoe();Z.__keydown=[Bs];var ae=j(Z);ae.value=(ae.__value=!1)==null?\"\":!1;var ne=H(ae);ne.value=(ne.__value=!0)==null?\"\":!0,qc(Z,r),R(z,Z)},L=z=>{var Z=De(),ae=ye(Z);{var ne=U=>{var ue=Soe();ue.__keydown=[Bs],Pt(ue,21,()=>e.info.values,tn,(ce,q)=>{var se=De(),fe=ye(se);{var G=$=>{var Y=Coe(),ee={},K=j(Y);he(je=>{ee!==(ee=je)&&(Y.value=(Y.__value=je)==null?\"\":je),He(K,c(q).caption)},[()=>String(c(q).id)]),R($,Y)},oe=$=>{var Y=_oe(),ee={},K=j(Y);he(je=>{ee!==(ee=je)&&(Y.value=(Y.__value=je)==null?\"\":je),He(K,c(q))},[()=>String(c(q))]),R($,Y)};te(fe,$=>{typeof c(q)==\"object\"?$(G):$(oe,!1)})}R(ce,se)}),qc(ue,r),R(U,ue)},ie=U=>{var ue=De(),ce=ye(ue);{var q=fe=>{var G=koe(),oe=re(()=>t(\"change\"));G.__change=function(...$){var Y;(Y=c(oe))==null||Y.apply(this,$)},G.__keydown=[Bs],pi(G,r),R(fe,G)},se=fe=>{var G=De(),oe=ye(G);{var $=ee=>{var K=Ooe(),je=re(()=>t(\"change\"));K.__change=function(...Ze){var Ce;(Ce=c(je))==null||Ce.apply(this,Ze)},K.__keydown=[Bs],pi(K,r),R(ee,K)},Y=ee=>{var K=De(),je=ye(K);{var Ze=be=>{var Ae=Aoe(),Ie=re(()=>t(\"change\"));Ae.__change=function(...Ne){var gt;(gt=c(Ie))==null||gt.apply(this,Ne)},Ae.__keydown=[Bs],pi(Ae,r),R(be,Ae)},Ce=be=>{var Ae=Moe(),Ie=j(Ae),Ne=re(()=>t(\"change\"));Ie.__change=function(...dt){var ve;(ve=c(Ne))==null||ve.apply(this,dt)},Ie.__keydown=[Bs],Ie.__input=u,yn(Ie,dt=>S(a,dt),()=>c(a));var gt=H(Ie,2);{var Xe=dt=>{var ve=Toe();ve.__click=[Eoe,r,s],R(dt,ve)};te(gt,dt=>{c(l)&&r()&&!/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z$/.test(r())&&dt(Xe)})}pi(Ie,r),R(be,Ae)};te(je,be=>{e.info.inputType==\"date\"?be(Ze):be(Ce,!1)},!0)}R(ee,K)};te(oe,ee=>{e.info.inputType==\"color\"?ee($):ee(Y,!1)},!0)}R(fe,G)};te(ce,fe=>{e.info.type==\"number\"?fe(q):fe(se,!1)},!0)}R(U,ue)};te(ae,U=>{e.info.values&&e.info.values.length>0?U(ne):U(ie,!1)},!0)}R(z,Z)};te(F,z=>{e.info.type==\"boolean\"?z(B):z(L,!1)},!0)}R(_,N)};te(A,_=>{e.info.type==\"json\"?_(M):_(P,!1)},!0)}R(I,D)};te(E,I=>{e.info.readOnly?I(O):I(T,!1)},!0)}R(b,w)};te(v,b=>{!o()&&r()===void 0||o()&&e.info.readOnly?b(C):b(k,!1)},!0)}R(m,y)};te(h,m=>{e.info.relationToOne?m(g):m(p,!1)})}R(n,d),Te()}li([\"keydown\",\"click\",\"change\",\"input\"]);function Ioe(n,e){S(e,!0)}var Roe=(n,e,t)=>S(e,at(c(e)?null:t.relations[0])),Doe=X('<button class=\"icon-button relations-button\" title=\"Relations\"><!></button>'),Noe=X('<span class=\"error-label svelte-kz9usa\"> </span>'),Loe=X('<td style=\"position: relative\" class=\"svelte-kz9usa\"><!> <!></td>'),Boe=X('<div class=\"margin-auto svelte-kz9usa\"><button class=\"icon-button save-button\" title=\"Save (/Ctrl+Enter, /Ctrl+Shift+Enter for all)\"><!></button> <button class=\"icon-button cancel-button\" title=\"Cancel (/Ctrl+Esc, /Ctrl+Shift+Esc for all)\"><!></button></div>'),Foe=async(n,e,t)=>{try{e().settings.confirmDelete?(await vo.confirmDelete(\"The full line ?\")).success&&await t()():await t()()}catch(r){alert(r.message)}},joe=X('<button class=\"icon-button delete-button margin-auto svelte-kz9usa\" title=\"Delete\"><!></button>'),zoe=(n,e,t)=>{S(e,at(c(t))),n.preventDefault()},Voe=X(\"<button> </button>\"),Hoe=X('<tr class=\"extended\"><td></td><td><div class=\"extended__holder\"><div class=\"extended__links\"></div> <!></div></td></tr>'),qoe=X('<tr><td><!></td><!><td><div class=\"row-actions\"><!> <!></div></td></tr> <!>',1);function BS(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(_s,\"$godStore\",t),o=()=>An(vr,\"$LSContext\",t);let s=x(e,\"relationsToOneValues\",19,()=>({})),a=x(e,\"deleteAction\",3,()=>Promise.resolve()),l=x(e,\"cancelAction\",3,()=>Promise.resolve()),u=x(e,\"isNewRow\",3,!1),f=Wt(void 0),d=Wt(null),h=Wt(!1),g=Wt(at({})),p=Wt(at({}));mo(()=>{S(g,at({...e.row}))}),mo(()=>{S(p,at(e.row))});let m=re(()=>c(d)&&typeof c(d)==\"object\"&&i().tables.find(ne=>ne.key===c(d).entityKey)),y=re(()=>!!e.columns.find(ne=>ne.type!==\"json\"&&c(p)[ne.key]!==c(g)[ne.key])||u()),v=re(()=>e.row&&c(d)&&typeof c(d)==\"object\"?{...Object.fromEntries(Object.entries(c(d).fields).map(([ne,ie])=>[ne,e.row[ie]])),...c(d).where}:{});function C(ne,ie){c(p)[ne]=ie}async function k(){try{S(f,void 0),await e.saveAction(c(p)),S(g,at({...c(p)}))}catch(ne){S(f,at(ne))}}async function b(){S(p,at({...c(g)})),S(f,void 0),await l()()}function w(ne,ie){return ne||ie}function E(ne){const U=navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?ne.metaKey:ne.ctrlKey;w(c(y),u())&&(ne.key===\"Enter\"&&U?(ne.preventDefault(),ne.shiftKey?document.querySelectorAll(\"tr\").forEach(ue=>{const ce=ue.querySelector(\".save-button\");ce==null||ce.click()}):c(h)&&k()):ne.key===\"Escape\"&&U&&(ne.preventDefault(),ne.shiftKey?document.querySelectorAll(\"tr\").forEach(ue=>{const ce=ue.querySelector(\".cancel-button\");ce==null||ce.click()}):c(h)&&b()))}function O(ne){var ue;const ie=ne.target.closest(\"tr\"),U=(ue=ne.relatedTarget)==null?void 0:ue.closest(\"tr\");ie!==U&&S(h,!1)}var T=qoe();we(\"keydown\",ur,E);var I=ye(T);I.__focusin=[Ioe,h],I.__focusout=O;var D=j(I),A=j(D);{var M=ne=>{var ie=Doe();ie.__click=[Roe,d,e];var U=j(ie);VO(U),he(()=>Re(ie,\"open\",c(d))),R(ne,ie)};te(A,ne=>{e.relations.length>0&&!u()&&ne(M)})}var P=H(D);Pt(P,17,()=>e.columns,tn,(ne,ie)=>{var U=Loe(),ue=j(U);Poe(ue,{get isNewRow(){return u()},get info(){return c(ie)},get relationsToOneValues(){return s()},get value(){return c(p)[c(ie).valFieldKey]},$$events:{input:se=>C(c(ie).valFieldKey,se.detail),change:()=>{var se,fe;(fe=(se=c(f))==null?void 0:se.modelState)!=null&&fe[c(ie).valFieldKey]&&S(f,at({...c(f),modelState:{...c(f).modelState,[c(ie).valFieldKey]:void 0}}))}}});var ce=H(ue,2);{var q=se=>{var fe=Noe(),G=j(fe);he(()=>He(G,c(f).modelState[c(ie).valFieldKey])),R(se,fe)};te(ce,se=>{var fe,G;(G=(fe=c(f))==null?void 0:fe.modelState)!=null&&G[c(ie).valFieldKey]&&se(q)})}he(()=>Re(U,\"changeHi\",c(ie).type!==\"json\"&&c(p)[c(ie).key]!==c(g)[c(ie).key])),R(ne,U)});var _=H(P),N=j(_),F=j(N);{var B=ne=>{var ie=Boe(),U=j(ie);U.__click=k;var ue=j(U);FB(ue);var ce=H(U,2);ce.__click=b;var q=j(ce);DB(q),R(ne,ie)};te(F,ne=>{w(c(y),u())&&ne(B)})}var L=H(F,2);{var z=ne=>{var ie=joe();ie.__click=[Foe,o,a];var U=j(ie);HO(U,{}),R(ne,ie)};te(L,ne=>{a()&&!w(c(y),u())&&ne(z)})}var Z=H(I,2);{var ae=ne=>{var ie=Hoe(),U=H(j(ie)),ue=j(U),ce=j(ue);Pt(ce,21,()=>e.relations,tn,(fe,G)=>{var oe=Voe();oe.__click=[zoe,d,G];var $=j(oe);he(Y=>{Nr(oe,`${\"tab \"+(c(G)===c(d)?\"active\":\"\")+\" entityColor\"} svelte-kz9usa`),ke(oe,\"style\",`--color: ${Y??\"\"}`),He($,o().settings.dispayCaption?c(G).caption:c(G).key)},[()=>{var Y;return(Y=i().tables.find(ee=>ee.key===c(G).entityKey))==null?void 0:Y.color}]),R(fe,oe)});var q=H(ce,2);{var se=fe=>{aM(fe,{get fields(){return c(m).fields},get relations(){return c(m).relations},get repo(){return c(m).repo},get parentRelation(){return c(v)},get color(){return c(m).color},get defaultOrderBy(){return c(m).defaultOrderBy}})};te(q,fe=>{c(m)&&typeof c(d)==\"object\"&&fe(se)})}he(()=>ke(U,\"colspan\",e.columns.length+2)),R(ne,ie)};te(Z,ne=>{c(d)&&ne(ae)})}he(ne=>{Nr(I,Lr(ne),\"svelte-kz9usa\"),Nr(_,`action-tab ${ne??\"\"} svelte-kz9usa`)},[()=>w(c(y),u())?\"change\":\"\"]),R(n,T),Te(),r()}li([\"focusin\",\"focusout\",\"click\"]);var Woe=X('<div class=\"actions svelte-ixlb6t\"><!></div>');function sM(n,e){var t=Woe(),r=j(t);bi(r,()=>e.children??tr),R(n,t)}var Uoe=(n,e,t)=>e(n,c(t),\"key\"),Koe=X(\"<option> </option>\"),Joe=(n,e,t)=>e(n,c(t),\"operator\"),Xoe=X(\"<option> </option>\"),Goe=(n,e,t)=>e(n,c(t),\"value\"),Yoe=X('<select class=\"svelte-147r7fx\"><option>False</option><option>True</option></select>'),Qoe=(n,e,t)=>e(n,c(t),\"value\"),Zoe=X(\"<option> </option>\"),$oe=X(\"<option> </option>\"),ese=X('<select class=\"svelte-147r7fx\"></select>'),tse=(n,e,t)=>e(n,c(t),\"value\"),nse=X('<input type=\"number\" class=\"svelte-147r7fx\">'),rse=(n,e,t)=>e(n,c(t),\"value\"),ise=X('<input type=\"text\" class=\"svelte-147r7fx\">'),ose=(n,e,t)=>{S(e,at(c(e).filter(r=>r.key!==c(t).key)))},sse=X('<div class=\"filter__group svelte-147r7fx\"><select class=\"svelte-147r7fx\"></select> <select class=\"svelte-147r7fx\"></select> <!> <button class=\"icon-button svelte-147r7fx\"><!></button></div>'),ase=X('<button class=\"primary svelte-147r7fx\">Apply</button>'),lse=X('<div><!> <br> <button class=\"primary svelte-147r7fx\">+</button> <!></div>');function cse(n,e){Ee(e,!0);const t={key:\"\",operator:\"$contains\",value:\"\"},r={string:[[\"$contains\",\"contains\"],[\"\",\"is\"],[\"$ne\",\"is not\"]],number:[[\"\",\"is\"],[\"$ne\",\"is not\"],[\"$lt\",\"<\"],[\"$lte\",\"<=\"],[\"$gte\",\">=\"],[\"$gt\",\">\"]],date:[[\"\",\"is\"],[\"$ne\",\"is not\"],[\"$lt\",\"<\"],[\"$lte\",\"<=\"],[\"$gte\",\">=\"],[\"$gt\",\">\"]],boolean:[[\"\",\"is\"],[\"$ne\",\"is not\"]],json:[[\"$contains\",\"contains\"],[\"\",\"is\"],[\"$ne\",\"is not\"]],list:[[\"\",\"is\"],[\"$ne\",\"is not\"]]};let i=x(e,\"fields\",19,()=>[]),o=x(e,\"filter\",31,()=>at({})),s=Wt(at([]));function a(){var y;S(s,at([...c(s),{...t,key:((y=i().find(v=>v.key!=\"id\"&&!c(s).find(C=>C.key==v.key)))==null?void 0:y.key)||\"\"}]))}function l(){let y={};for(const v of c(s))v.operator===\"\"?y[v.key]=v.value:y[v.key]={[v.operator]:v.value};o(y),Sn(),u(),vo.close({success:!0,data:o()})}function u(){let y=[];for(const v in o())if(Object.prototype.hasOwnProperty.call(o(),v)){const C=o()[v];if(typeof C==\"object\"){for(const k in C)if(Object.prototype.hasOwnProperty.call(C,k)){const b=C[k];y.push({key:v,operator:k,value:b})}}else C!=null&&y.push({key:v,operator:\"\",value:C})}S(s,at(y)),y.length===0&&a()}const f=(y,v,C)=>{if(v[C]=y.target.value,C===\"key\"){const k=y.target.value,b=c(d)(void 0,k);v.operator=b[0][0];const w=i().find(E=>E.key==k);w.values&&w.values.length>0?v.value=typeof w.values[0]==\"object\"?w.values[0].id:w.values[0]:v.value=\"\"}S(s,at(c(s)))};let d=re(()=>(y,v)=>{const C=i().find(k=>k.key==v);return C!=null&&C.values&&C.values.length>0||C!=null&&C.relationToOne?r.list:C!=null&&C.type?C.values&&C.values.length>0?r[typeof C.values[0]]:r[C.type]:r.string});dr(()=>{u()});var h=lse(),g=j(h);Pt(g,17,()=>c(s),tn,(y,v)=>{var C=sse();const k=re(()=>i().find(A=>A.key==c(v).key));var b=j(C);b.__change=[Uoe,f,v],Pt(b,21,()=>i().filter(A=>A.key==c(v).key||!c(s).find(M=>M.key==A.key)),tn,(A,M)=>{var P=Koe(),_={},N=j(P);he(()=>{_!==(_=c(M).key)&&(P.value=(P.__value=c(M).key)==null?\"\":c(M).key),Ay(P,c(M).key===c(v).key),He(N,c(M).caption)}),R(A,P)});var w=H(b,2);w.__change=[Joe,f,v],Pt(w,21,()=>c(d)(c(s),c(v).key)??[],tn,(A,M)=>{let P=()=>c(M)[0],_=()=>c(M)[1];var N=Xoe(),F={},B=j(N);he(()=>{F!==(F=P())&&(N.value=(N.__value=P())==null?\"\":P()),Ay(N,P()===c(v).operator),He(B,_())}),R(A,N)});var E=H(w,2);{var O=A=>{WO(A,{get info(){return c(k)},get value(){return c(v).value},$$events:{change:M=>{f({target:{value:M.detail._data}},c(v),\"value\")}}})},T=A=>{var M=De(),P=ye(M);{var _=F=>{var B=Yoe();Ty(B,()=>c(v).value);var L;B.__change=[Goe,f,v];var z=j(B);z.value=(z.__value=!1)==null?\"\":!1;var Z=H(z);Z.value=(Z.__value=!0)==null?\"\":!0,he(()=>{L!==(L=c(v).value)&&(B.value=(B.__value=c(v).value)==null?\"\":c(v).value,od(B,c(v).value))}),R(F,B)},N=F=>{var B=De(),L=ye(B);{var z=ae=>{var ne=ese();Ty(ne,()=>c(v).value);var ie;ne.__change=[Qoe,f,v],Pt(ne,21,()=>c(k).values,tn,(U,ue)=>{var ce=De(),q=ye(ce);{var se=G=>{var oe=Zoe(),$={},Y=j(oe);he(ee=>{$!==($=ee)&&(oe.value=(oe.__value=ee)==null?\"\":ee),He(Y,c(ue).caption)},[()=>String(c(ue).id)]),R(G,oe)},fe=G=>{var oe=$oe(),$={},Y=j(oe);he(ee=>{$!==($=ee)&&(oe.value=(oe.__value=ee)==null?\"\":ee),He(Y,c(ue))},[()=>String(c(ue))]),R(G,oe)};te(q,G=>{typeof c(ue)==\"object\"?G(se):G(fe,!1)})}R(U,ce)}),he(()=>{ie!==(ie=c(v).value)&&(ne.value=(ne.__value=c(v).value)==null?\"\":c(v).value,od(ne,c(v).value))}),R(ae,ne)},Z=ae=>{var ne=De(),ie=ye(ne);{var U=ce=>{var q=nse();q.__change=[tse,f,v],he(()=>sa(q,c(v).value)),R(ce,q)},ue=ce=>{var q=ise();q.__change=[rse,f,v],he(()=>sa(q,c(v).value)),R(ce,q)};te(ie,ce=>{c(k).type==\"number\"?ce(U):ce(ue,!1)},!0)}R(ae,ne)};te(L,ae=>{c(k).values&&c(k).values.length>0?ae(z):ae(Z,!1)},!0)}R(F,B)};te(P,F=>{c(k).type==\"boolean\"?F(_):F(N,!1)},!0)}R(A,M)};te(E,A=>{c(k).relationToOne?A(O):A(T,!1)})}var I=H(E,2);I.__click=[ose,s,v];var D=j(I);HO(D,{}),R(y,C)});var p=H(g,4);p.__click=a;var m=H(p,2);sM(m,{children:(y,v)=>{var C=ase();C.__click=l,R(y,C)}}),R(n,h),Te()}li([\"change\",\"click\"]);var use=It('<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"w-6 h-6\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5 8.25 12l7.5-7.5\"></path></svg>');function fse(n){var e=use();ke(e,\"stroke-width\",1.5),R(n,e)}var dse=It('<svg class=\"hamburger-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect y=\"4.68134\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect><rect y=\"10.9847\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect><rect y=\"17.2882\" width=\"24\" height=\"2.03049\" fill=\"black\"></rect></svg>');function hse(n){var e=dse();R(n,e)}var gse=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"gray\" d=\"M18.2 13.3L12 7l-6.2 6.3c-.2.2-.3.5-.3.7s.1.5.3.7s.4.3.7.3h11c.3 0 .5-.1.7-.3s.3-.5.3-.7s-.1-.5-.3-.7\"></path></svg>');function pse(n){var e=gse();R(n,e)}var mse=It('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path fill=\"gray\" d=\"M5.8 9.7L12 16l6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7s-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3s-.3.4-.3.7s.1.5.3.7\"></path></svg>');function vse(n){var e=mse();R(n,e)}var yse=()=>{const n=document.querySelector(\"body\");n==null||n.classList.toggle(\"hide-navigation\")},bse=X('<span style=\"color: coral; font-size: smaller;\">Forbidden</span>'),wse=(n,e,t,r)=>e(t.fields,c(r)),xse=(n,e)=>{S(e,at({...c(e),page:(c(e).page||2)-1}))},Cse=(n,e)=>{S(e,at({...c(e),page:(c(e).page||1)+1}))},_se=(n,e,t,r)=>{S(e,at(t.repo.create({...r()})))},Sse=X('<button class=\"icon-button new-entry svelte-di43ln\">+</button>'),kse=(n,e)=>{S(e,void 0)},Ose=X('<button class=\"icon-button new-entry svelte-di43ln\">-</button>'),Ase=(n,e,t)=>e(c(t).key),Ese=X(\"<span></span>\"),Tse=X('<span class=\"w-20 svelte-di43ln\"></span>'),Mse=X('<th class=\"svelte-di43ln\"><span class=\"th-span svelte-di43ln\"><!> <span class=\"flexItemCenter svelte-di43ln\"> <!></span> <!></span></th>'),Pse=(n,e,t)=>e(c(t).key),Ise=X('<td class=\"loading-skeleton svelte-di43ln\"><!></td>'),Rse=X(\"<tr><td></td><!></tr>\"),Dse=X('<div class=\"page-bar\"><button class=\"icon-button svelte-di43ln\"><!></button> <div class=\"page-bar__title title svelte-di43ln\"> <!></div> <button class=\"svelte-di43ln\">Filter</button> <span class=\"page-bar__results\"> <b style=\"font-weight: 600;\"> </b></span> <button class=\"icon-button svelte-di43ln\"><!></button> <button class=\"icon-button svelte-di43ln\"><!></button></div> <div class=\"table-container\"><table><thead><tr><td><!></td><!><th class=\"action-tab svelte-di43ln\">Actions</th></tr></thead><tbody><!><!></tbody></table></div>',1);function aM(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(vr,\"$LSContext\",t),o=()=>An(_s,\"$godStore\",t),s=()=>An(Jl,\"$SSContext\",t);let a=x(e,\"parentRelation\",19,()=>({})),l=x(e,\"defaultNumberOfRows\",3,25),u=Wt(at({limit:i().settings.numberOfRows,page:1,orderBy:e.defaultOrderBy})),f=Wt(at({})),d=Wt(null),h=Wt(at({})),g=Wt(-1),p=Wt(void 0);mo(()=>{const Ce={$and:[c(f),{...a()}]};if(i().settings.withLiveQuery)return e.repo.liveQuery({...c(u),where:Ce}).subscribe(async be=>{let Ae=c(d),Ie=!1;c(d)!==null&&be.changes.forEach(Ne=>{Ne.type===\"add\"&&(Ie=!0,Ae=[Ne.data.item,...c(d)])}),Ie||(Ae=be.applyChanges(c(d))),Ae&&Ae.length>0&&await C(Ae,Ce),S(d,at(Ae))});m(Ce)});const m=Ce=>{i().settings.withLiveQuery||e.repo.find({...c(u),where:Ce}).then(async be=>{S(d,at(be)),await C(c(d),Ce)})};let y=re(()=>((c(u).page||1)-1)*c(u).limit+1),v=re(()=>{var Ce;return((c(u).page||1)-1)*c(u).limit+(((Ce=c(d))==null?void 0:Ce.length)||0)});const C=async(Ce,be)=>{const Ae=e.fields.filter(Ne=>Ne.relationToOne).map(Ne=>o().displayValueForEach(Ne,Ce));(await Promise.all(Ae)).forEach(Ne=>{S(h,at({...c(h),...Ne}))}),S(g,at(await e.repo.count(be)))},k=Ce=>{var Ae;let be=(Ae=c(u).orderBy)==null?void 0:Ae[Ce];be===void 0?be=\"desc\":be===\"desc\"?be=\"asc\":be=void 0,S(u,at({...c(u),orderBy:{[Ce]:be}}))},b=()=>{const Ce=Math.random();return Ce>.6?120:Ce>.3?100:70},w=async(Ce,be)=>{const Ae=await vo.show({config:{title:\"Filter\",width:\"600px\"},component:cse,props:{fields:Ce,filter:be}});Ae.success&&S(f,at(Ae.data))};var E=Dse(),O=ye(E),T=j(O);T.__click=[yse];var I=j(T);hse(I);var D=H(T,2),A=j(D),M=H(A);{var P=Ce=>{var be=bse();R(Ce,be)};te(M,Ce=>{s().forbiddenEntities.includes(e.repo.metadata.key)&&Ce(P)})}var _=H(D,2);_.__click=[wse,w,e,f];var N=H(_,2),F=j(N),B=H(F),L=j(B),z=H(N,2);z.__click=[xse,u];var Z=j(z);fse(Z);var ae=H(z,2);ae.__click=[Cse,u];var ne=j(ae);VO(ne);var ie=H(O,2),U=j(ie),ue=j(U),ce=j(ue),q=j(ce),se=j(q);{var fe=Ce=>{var be=Sse();be.__click=[_se,p,e,a],R(Ce,be)},G=Ce=>{var be=Ose();be.__click=[kse,p],R(Ce,be)};te(se,Ce=>{c(p)===void 0?Ce(fe):Ce(G,!1)})}var oe=H(q);Pt(oe,17,()=>e.fields,tn,(Ce,be)=>{var Ae=Mse();Ae.__click=[Ase,k,be];var Ie=j(Ae),Ne=j(Ie);{var gt=Ue=>{zO(Ue)},Xe=Ue=>{var Le=Ese();R(Ue,Le)};te(Ne,Ue=>{Object.keys(e.repo.metadata.options.id).includes(c(be).key)?Ue(gt):Ue(Xe,!1)})}var dt=H(Ne,2),ve=j(dt),Je=H(ve);{var _t=Ue=>{pse(Ue)},$e=Ue=>{var Le=De(),pe=ye(Le);{var wt=On=>{vse(On)},vt=On=>{var ct=Tse();R(On,ct)};te(pe,On=>{var ct;((ct=c(u).orderBy)==null?void 0:ct[c(be).key])===\"desc\"?On(wt):On(vt,!1)},!0)}R(Ue,Le)};te(Je,Ue=>{var Le;((Le=c(u).orderBy)==null?void 0:Le[c(be).key])===\"asc\"?Ue(_t):Ue($e,!1)})}var mt=H(dt,2);const lt=re(()=>c(be).values&&c(be).values.length>0);jO(mt,{get type(){return c(be).type},get isSelect(){return c(lt)}}),he(()=>He(ve,`${(i().settings.dispayCaption?c(be).caption:c(be).key)??\"\"} `)),R(Ce,Ae)});var $=H(ue),Y=j($);{var ee=Ce=>{BS(Ce,{isNewRow:!0,rowId:void 0,get row(){return c(p)},get relationsToOneValues(){return c(h)},get columns(){return e.fields},get relations(){return e.relations},saveAction:async be=>{await e.repo.insert(be),S(p,void 0),m(c(f))},deleteAction:async()=>{S(p,void 0),m(c(f))},cancelAction:async()=>{S(p,void 0),m(c(f))}})};te(Y,Ce=>{c(p)&&Ce(ee)})}var K=H(Y);{var je=Ce=>{var be=De(),Ae=ye(be);Pt(Ae,19,()=>c(d),Ie=>e.repo.metadata.idMetadata.getId(Ie),(Ie,Ne)=>{const gt=re(()=>e.repo.metadata.idMetadata.getId(c(Ne)));BS(Ie,{get rowId(){return c(gt)},get row(){return c(Ne)},get relationsToOneValues(){return c(h)},saveAction:async Xe=>{await e.repo.update(c(Ne),Xe),m(c(f))},deleteAction:async()=>{await e.repo.delete(c(Ne)),m(c(f))},get columns(){return e.fields},get relations(){return e.relations}})}),R(Ce,be)},Ze=Ce=>{var be=De(),Ae=ye(be);Pt(Ae,17,()=>Array.from({length:l()}).map((Ie,Ne)=>Ne),tn,(Ie,Ne)=>{var gt=Rse(),Xe=H(j(gt));Pt(Xe,17,()=>e.fields,tn,(dt,ve)=>{var Je=Ise();Je.__click=[Pse,k,ve];var _t=j(Je);const $e=re(b);qO(_t,{get width(){return c($e)}}),R(dt,Je)}),R(Ie,gt)}),R(Ce,be)};te(K,Ce=>{c(d)?Ce(je):Ce(Ze,!1)})}he(()=>{ke(D,\"style\",`--color: ${e.color??\"\"}`),He(A,`${(i().settings.dispayCaption?e.repo.metadata.caption:e.repo.metadata.key)??\"\"} `),He(F,`${c(y)+\" - \"+c(v)} of `),He(L,c(g)),z.disabled=(c(u).page||1)===1,ae.disabled=c(v)>=c(g)}),R(n,E),Te(),r()}li([\"click\"]);function Nse(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(_s,\"$godStore\",t);let o=x(e,\"params\",19,()=>({})),s=re(()=>i()&&i().tables.find(f=>f.key===o().wild));var a=De(),l=ye(a);{var u=f=>{aM(f,{get fields(){return c(s).fields},get repo(){return c(s).repo},get relations(){return c(s).relations},get color(){return c(s).color},get defaultOrderBy(){return c(s).defaultOrderBy}})};te(l,f=>{c(s)&&f(u)})}R(n,a),Te(),r()}const lp=[];let lM;function cM(n){const e=n.pattern.test(lM);FS(n,n.className,e),FS(n,n.inactiveClassName,!e)}function FS(n,e,t){(e||\"\").split(\" \").forEach(r=>{r&&(n.node.classList.remove(r),t&&n.node.classList.add(r))})}Qd.subscribe(n=>{lM=n.location+(n.querystring?\"?\"+n.querystring:\"\"),lp.map(cM)});function Lc(n,e){if(e&&(typeof e==\"string\"||typeof e==\"object\"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute(\"href\")&&(e.path=n.getAttribute(\"href\"),e.path&&e.path.length>1&&e.path.charAt(0)==\"#\"&&(e.path=e.path.substring(1))),e.className||(e.className=\"active\"),!e.path||typeof e.path==\"string\"&&(e.path.length<1||e.path.charAt(0)!=\"/\"&&e.path.charAt(0)!=\"*\"))throw Error('Invalid value for \"path\" argument');const{pattern:t}=typeof e.path==\"string\"?qk(e.path):{pattern:e.path},r={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return lp.push(r),cM(r),{destroy(){lp.splice(lp.indexOf(r),1)}}}function Lse(n,e){var a;Ee(e,!1);const[t,r]=xo(),i=()=>An(vr,\"$LSContext\",t),o=()=>An(_s,\"$godStore\",t);i().currentLocationHash===\"/\"?hx(((a=o())==null?void 0:a.tables.length)>0?`/entity/${o().tables[0].key}`:\"/diagram\"):hx(i().currentLocationHash),ft();var s=Or(\"Loading...\");R(n,s),Te(),r()}function Ab(n){return Object.keys(n).reduce((e,t)=>n[t]===void 0?e:e+`${t}:${n[t]};`,\"\")}Ab({position:\"absolute\",opacity:0,\"pointer-events\":\"none\",margin:0,transform:\"translateX(-100%)\"});function Bse(n){if(n!==null)return\"\"}function uM(n,...e){const t={};for(const r of Object.keys(n))e.includes(r)||(t[r]=n[r]);return t}function Ag(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=r)}return e}function jS(n){function e(t){return t(n),()=>{}}return{subscribe:e}}const Eg=n=>new Proxy(n,{get(e,t,r){return Reflect.get(e,t,r)},ownKeys(e){return Reflect.ownKeys(e).filter(t=>t!==\"action\")}}),zS=n=>typeof n==\"function\";ka(\"empty\");function ka(n,e){const{stores:t,action:r,returned:i}=e??{},o=(()=>{if(t&&i)return Yd(t,a=>{const l=i(a);if(zS(l)){const u=(...f)=>Eg(Ag({...l(...f),[`data-melt-${n}`]:\"\",action:r??er}));return u.action=r??er,u}return Eg(Ag({...l,[`data-melt-${n}`]:\"\",action:r??er}))});{const a=i,l=a==null?void 0:a();if(zS(l)){const u=(...f)=>Eg(Ag({...l(...f),[`data-melt-${n}`]:\"\",action:r??er}));return u.action=r??er,jS(u)}return jS(Eg(Ag({...l,[`data-melt-${n}`]:\"\",action:r??er})))}})(),s=r??(()=>{});return s.subscribe=o.subscribe,s}function Fse(n){const e=o=>o?`${n}-${o}`:n,t=o=>`data-melt-${n}${o?`-${o}`:\"\"}`,r=o=>`[data-melt-${n}${o?`-${o}`:\"\"}]`;return{name:e,attribute:t,selector:r,getEl:o=>document.querySelector(r(o))}}const VS=typeof document<\"u\",fM=n=>typeof n==\"function\";function z2(n){return n instanceof Element}function ol(n){return n instanceof HTMLElement}function jse(n){return n!==null&&typeof n==\"object\"}function zse(n){return jse(n)&&\"subscribe\"in n}function Am(...n){return(...e)=>{for(const t of n)typeof t==\"function\"&&t(...e)}}function er(){}function Eb(n,e,t,r){const i=Array.isArray(e)?e:[e];return i.forEach(o=>n.addEventListener(o,t,r)),()=>{i.forEach(o=>n.removeEventListener(o,t,r))}}function Tg(n,e,t,r){const i=Array.isArray(e)?e:[e];if(typeof t==\"function\"){const o=Hse(s=>t(s));return i.forEach(s=>n.addEventListener(s,o,r)),()=>{i.forEach(s=>n.removeEventListener(s,o,r))}}return()=>void 0}function Vse(n){const e=n.currentTarget;if(!ol(e))return null;const t=new CustomEvent(`m-${n.type}`,{detail:{originalEvent:n},cancelable:!0});return e.dispatchEvent(t),t}function Hse(n){return e=>{const t=Vse(e);if(!(t!=null&&t.defaultPrevented))return n(e)}}const qse=n=>{try{zr(n)}catch{return n}};function rf(n){return{...n,get:()=>vp(n)}}rf.writable=function(n){const e=ao(n);let t=n;return{subscribe:e.subscribe,set(r){e.set(r),t=r},update(r){const i=r(t);e.set(i),t=i},get(){return t}}};rf.derived=function(n,e){const t=new Map,r=()=>{const o=Array.isArray(n)?n.map(s=>s.get()):n.get();return e(o)};return{get:r,subscribe:o=>{const s=[];return(Array.isArray(n)?n:[n]).forEach(l=>{s.push(l.subscribe(()=>{o(r())}))}),o(r()),t.set(o,s),()=>{const l=t.get(o);if(l)for(const u of l)u();t.delete(o)}}}};const Wse=(n,e)=>{const t=rf(n),r=(o,s)=>{t.update(a=>{const l=o(a);let u=l;return e&&(u=e({curr:a,next:l})),s==null||s(u),u})};return{...t,update:r,set:o=>{r(()=>o)}}};function Use(n){return new Promise(e=>setTimeout(e,n))}let Kse=\"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\",Jse=(n=21)=>{let e=\"\",t=n|0;for(;t--;)e+=Kse[Math.random()*64|0];return e};function Xse(){return Jse(10)}function Gse(n){return n.reduce((e,t)=>(e[t]=Xse(),e),{})}const zf={ENTER:\"Enter\",ESCAPE:\"Escape\",SPACE:\" \"};function hy(n,e=500){let t;const r=(...i)=>{clearTimeout(t),t=setTimeout(()=>n(...i),e)};return r.destroy=()=>clearTimeout(t),r}const dM=()=>typeof window<\"u\";function Yse(){const n=navigator.userAgentData;return(n==null?void 0:n.platform)??navigator.platform}const hM=n=>dM()&&n.test(Yse().toLowerCase()),Qse=()=>dM()&&!!navigator.maxTouchPoints,Zse=()=>hM(/^mac/)&&!Qse(),$se=()=>hM(/mac|iphone|ipad|ipod/i),eae=()=>$se()&&!Zse(),gy=\"data-melt-scroll-lock\";function HS(n,e){if(!n)return;const t=n.style.cssText;return Object.assign(n.style,e),()=>{n.style.cssText=t}}function tae(n,e,t){if(!n)return;const r=n.style.getPropertyValue(e);return n.style.setProperty(e,t),()=>{r?n.style.setProperty(e,r):n.style.removeProperty(e)}}function nae(n){const e=n.getBoundingClientRect().left;return Math.round(e)+n.scrollLeft?\"paddingLeft\":\"paddingRight\"}function rae(n){const e=document,t=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(gy))return er;i.setAttribute(gy,\"\");const s=t.innerWidth-r.clientWidth,a=()=>tae(r,\"--scrollbar-width\",`${s}px`),l=nae(r),u=t.getComputedStyle(i)[l],f=()=>HS(i,{overflow:\"hidden\",[l]:`calc(${u} + ${s}px)`}),d=()=>{const{scrollX:g,scrollY:p,visualViewport:m}=t,y=(m==null?void 0:m.offsetLeft)??0,v=(m==null?void 0:m.offsetTop)??0,C=HS(i,{position:\"fixed\",overflow:\"hidden\",top:`${-(p-Math.floor(v))}px`,left:`${-(g-Math.floor(y))}px`,right:\"0\",[l]:`calc(${u} + ${s}px)`});return()=>{C==null||C(),t.scrollTo(g,p)}},h=[a(),eae()?d():f()];return()=>{h.forEach(g=>g==null?void 0:g()),i.removeAttribute(gy)}}function Vf(n,e,t={}){const{skipFirstRun:r}=t;let i=!0,o;const s=Yd(n,l=>{o==null||o(),i&&r?i=!1:o=e(l)}).subscribe(er),a=()=>{s(),o==null||o()};return qse(a),a}function qS(n){const e={};return Object.keys(n).forEach(t=>{const r=t,i=n[r];e[r]=rf(ao(i))}),e}function iae(n){let e=n.parentElement;for(;ol(e)&&!e.hasAttribute(\"data-portal\");)e=e.parentElement;return e||\"body\"}function oae(n,e){return e!==void 0?e:iae(n)===\"body\"?document.body:null}function gM(n,e){return n===e||n.contains(e)}function sae(n){return(n==null?void 0:n.ownerDocument)??document}async function WS(n){const{prop:e,defaultEl:t}=n;if(await Promise.all([Use(1),Sn]),e===void 0){t==null||t.focus();return}const r=fM(e)?e(t):e;if(typeof r==\"string\"){const i=document.querySelector(r);if(!ol(i))return;i.focus()}else ol(r)&&r.focus()}Pl(!1),Pl(!1),Pl(void 0),Pl(void 0);const cp=new Map,aae=(n,e={})=>{let t=er;function r(i={}){t();const o={behaviorType:\"close\",...i},s=zse(o.behaviorType)?o.behaviorType:rf(Pl(o.behaviorType));cp.set(n,s),t=Am(Eb(document,\"keydown\",l=>{var f;if(l.key!==zf.ESCAPE||!lae(n))return;const u=l.target;ol(u)&&(l.preventDefault(),!cae(l,o.ignore)&&uae(s.get())&&((f=o.handler)==null||f.call(o,l)))},{passive:!1}),Vf(s,l=>{l===\"close\"||l===\"defer-otherwise-close\"&&[...cp.keys()][0]===n?n.dataset.escapee=\"\":delete n.dataset.escapee}),s.destroy||er)}return r(e),{update:r,destroy(){cp.delete(n),delete n.dataset.escapee,t()}}},lae=n=>{const e=[...cp],t=e.findLast(([i,o])=>{const s=o.get();return s===\"close\"||s===\"ignore\"});if(t)return t[0]===n;const[r]=e[0];return r===n},cae=(n,e)=>e?!!(fM(e)&&e(n)||Array.isArray(e)&&e.some(t=>n.target===t)):!1,uae=n=>n===\"close\"||n===\"defer-otherwise-close\";/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/var pM=[\"input:not([inert])\",\"select:not([inert])\",\"textarea:not([inert])\",\"a[href]:not([inert])\",\"button:not([inert])\",\"[tabindex]:not(slot):not([inert])\",\"audio[controls]:not([inert])\",\"video[controls]:not([inert])\",'[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\"details>summary:first-of-type:not([inert])\",\"details:not([inert])\"],Em=pM.join(\",\"),mM=typeof Element>\"u\",lc=mM?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tm=!mM&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Mm=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,\"inert\"),o=i===\"\"||i===\"true\",s=o||t&&e&&n(e.parentNode);return s},fae=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,\"contenteditable\");return r===\"\"||r===\"true\"},vM=function(e,t,r){if(Mm(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Em));return t&&lc.call(e,Em)&&i.unshift(e),i=i.filter(r),i},yM=function n(e,t,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!Mm(s,!1))if(s.tagName===\"SLOT\"){var a=s.assignedElements(),l=a.length?a:s.children,u=n(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else{var f=lc.call(s,Em);f&&r.filter(s)&&(t||!e.includes(s))&&i.push(s);var d=s.shadowRoot||typeof r.getShadowRoot==\"function\"&&r.getShadowRoot(s),h=!Mm(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(d&&h){var g=n(d===!0?s.children:d.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:s,candidates:g})}else o.unshift.apply(o,s.children)}}return i},bM=function(e){return!isNaN(parseInt(e.getAttribute(\"tabindex\"),10))},Tl=function(e){if(!e)throw new Error(\"No node provided\");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||fae(e))&&!bM(e)?0:e.tabIndex},dae=function(e,t){var r=Tl(e);return r<0&&t&&!bM(e)?0:r},hae=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},wM=function(e){return e.tagName===\"INPUT\"},gae=function(e){return wM(e)&&e.type===\"hidden\"},pae=function(e){var t=e.tagName===\"DETAILS\"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName===\"SUMMARY\"});return t},mae=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},vae=function(e){if(!e.name)return!0;var t=e.form||Tm(e),r=function(a){return t.querySelectorAll('input[type=\"radio\"][name=\"'+a+'\"]')},i;if(typeof window<\"u\"&&typeof window.CSS<\"u\"&&typeof window.CSS.escape==\"function\")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\",s.message),!1}var o=mae(i,e.form);return!o||o===e},yae=function(e){return wM(e)&&e.type===\"radio\"},bae=function(e){return yae(e)&&!vae(e)},wae=function(e){var t,r=e&&Tm(e),i=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var s,a,l;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&i;){var u,f,d;r=Tm(i),i=(u=r)===null||u===void 0?void 0:u.host,o=!!((f=i)!==null&&f!==void 0&&(d=f.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return o},US=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},xae=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility===\"hidden\")return!0;var o=lc.call(e,\"details>summary:first-of-type\"),s=o?e.parentElement:e;if(lc.call(s,\"details:not([open]) *\"))return!0;if(!r||r===\"full\"||r===\"legacy-full\"){if(typeof i==\"function\"){for(var a=e;e;){var l=e.parentElement,u=Tm(e);if(l&&!l.shadowRoot&&i(l)===!0)return US(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(wae(e))return!e.getClientRects().length;if(r!==\"legacy-full\")return!0}else if(r===\"non-zero-area\")return US(e);return!1},Cae=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName===\"FIELDSET\"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName===\"LEGEND\")return lc.call(t,\"fieldset[disabled] *\")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},Pm=function(e,t){return!(t.disabled||Mm(t)||gae(t)||xae(t,e)||pae(t)||Cae(t))},Tb=function(e,t){return!(bae(t)||Tl(t)<0||!Pm(e,t))},_ae=function(e){var t=parseInt(e.getAttribute(\"tabindex\"),10);return!!(isNaN(t)||t>=0)},Sae=function n(e){var t=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,l=dae(a,s),u=s?n(i.candidates):a;l===0?s?t.push.apply(t,u):t.push(a):r.push({documentOrder:o,tabIndex:l,item:i,isScope:s,content:u})}),r.sort(hae).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(t)},kae=function(e,t){t=t||{};var r;return t.getShadowRoot?r=yM([e],t.includeContainer,{filter:Tb.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:_ae}):r=vM(e,t.includeContainer,Tb.bind(null,t)),Sae(r)},Oae=function(e,t){t=t||{};var r;return t.getShadowRoot?r=yM([e],t.includeContainer,{filter:Pm.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=vM(e,t.includeContainer,Pm.bind(null,t)),r},Bc=function(e,t){if(t=t||{},!e)throw new Error(\"No node provided\");return lc.call(e,Em)===!1?!1:Tb(t,e)},Aae=pM.concat(\"iframe\").join(\",\"),py=function(e,t){if(t=t||{},!e)throw new Error(\"No node provided\");return lc.call(e,Aae)===!1?!1:Pm(t,e)};/*!\n* focus-trap 7.6.4\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/function Mb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Eae(n){if(Array.isArray(n))return Mb(n)}function Tae(n,e,t){return(e=Dae(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mae(n){if(typeof Symbol<\"u\"&&n[Symbol.iterator]!=null||n[\"@@iterator\"]!=null)return Array.from(n)}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function JS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(t),!0).forEach(function(r){Tae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Iae(n){return Eae(n)||Mae(n)||Nae(n)||Pae()}function Rae(n,e){if(typeof n!=\"object\"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!=\"object\")return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(e===\"string\"?String:Number)(n)}function Dae(n){var e=Rae(n,\"string\");return typeof e==\"symbol\"?e:e+\"\"}function Nae(n,e){if(n){if(typeof n==\"string\")return Mb(n,e);var t={}.toString.call(n).slice(8,-1);return t===\"Object\"&&n.constructor&&(t=n.constructor.name),t===\"Map\"||t===\"Set\"?Array.from(n):t===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mb(n,e):void 0}}var XS={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r._setPausedState(!0)}var i=e.indexOf(t);i===-1||e.splice(i,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Lae=function(e){return e.tagName&&e.tagName.toLowerCase()===\"input\"&&typeof e.select==\"function\"},Bae=function(e){return(e==null?void 0:e.key)===\"Escape\"||(e==null?void 0:e.key)===\"Esc\"||(e==null?void 0:e.keyCode)===27},ed=function(e){return(e==null?void 0:e.key)===\"Tab\"||(e==null?void 0:e.keyCode)===9},Fae=function(e){return ed(e)&&!e.shiftKey},jae=function(e){return ed(e)&&e.shiftKey},GS=function(e){return setTimeout(e,0)},Of=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return typeof e==\"function\"?e.apply(void 0,r):e},Mg=function(e){return e.target.shadowRoot&&typeof e.composedPath==\"function\"?e.composedPath()[0]:e.target},zae=[],Vae=function(e,t){var r=(t==null?void 0:t.document)||document,i=(t==null?void 0:t.trapStack)||zae,o=JS({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Fae,isKeyBackward:jae},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(P,_,N){return P&&P[_]!==void 0?P[_]:o[N||_]},u=function(P,_){var N=typeof(_==null?void 0:_.composedPath)==\"function\"?_.composedPath():void 0;return s.containerGroups.findIndex(function(F){var B=F.container,L=F.tabbableNodes;return B.contains(P)||(N==null?void 0:N.includes(B))||L.find(function(z){return z===P})})},f=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=_.hasFallback,F=N===void 0?!1:N,B=_.params,L=B===void 0?[]:B,z=o[P];if(typeof z==\"function\"&&(z=z.apply(void 0,Iae(L))),z===!0&&(z=void 0),!z){if(z===void 0||z===!1)return z;throw new Error(\"`\".concat(P,\"` was specified but was not a node, or did not return a node\"))}var Z=z;if(typeof z==\"string\"){try{Z=r.querySelector(z)}catch(ae){throw new Error(\"`\".concat(P,'` appears to be an invalid selector; error=\"').concat(ae.message,'\"'))}if(!Z&&!F)throw new Error(\"`\".concat(P,\"` as selector refers to no known node\"))}return Z},d=function(){var P=f(\"initialFocus\",{hasFallback:!0});if(P===!1)return!1;if(P===void 0||P&&!py(P,o.tabbableOptions))if(u(r.activeElement)>=0)P=r.activeElement;else{var _=s.tabbableGroups[0],N=_&&_.firstTabbableNode;P=N||f(\"fallbackFocus\")}else P===null&&(P=f(\"fallbackFocus\"));if(!P)throw new Error(\"Your focus-trap needs to have at least one focusable element\");return P},h=function(){if(s.containerGroups=s.containers.map(function(P){var _=kae(P,o.tabbableOptions),N=Oae(P,o.tabbableOptions),F=_.length>0?_[0]:void 0,B=_.length>0?_[_.length-1]:void 0,L=N.find(function(ae){return Bc(ae)}),z=N.slice().reverse().find(function(ae){return Bc(ae)}),Z=!!_.find(function(ae){return Tl(ae)>0});return{container:P,tabbableNodes:_,focusableNodes:N,posTabIndexesFound:Z,firstTabbableNode:F,lastTabbableNode:B,firstDomTabbableNode:L,lastDomTabbableNode:z,nextTabbableNode:function(ne){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=_.indexOf(ne);return U<0?ie?N.slice(N.indexOf(ne)+1).find(function(ue){return Bc(ue)}):N.slice(0,N.indexOf(ne)).reverse().find(function(ue){return Bc(ue)}):_[U+(ie?1:-1)]}}}),s.tabbableGroups=s.containerGroups.filter(function(P){return P.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!f(\"fallbackFocus\"))throw new Error(\"Your focus-trap must have at least one container with at least one tabbable node in it at all times\");if(s.containerGroups.find(function(P){return P.posTabIndexesFound})&&s.containerGroups.length>1)throw new Error(\"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\")},g=function(P){var _=P.activeElement;if(_)return _.shadowRoot&&_.shadowRoot.activeElement!==null?g(_.shadowRoot):_},p=function(P){if(P!==!1&&P!==g(document)){if(!P||!P.focus){p(d());return}P.focus({preventScroll:!!o.preventScroll}),s.mostRecentlyFocusedNode=P,Lae(P)&&P.select()}},m=function(P){var _=f(\"setReturnFocus\",{params:[P]});return _||(_===!1?!1:P)},y=function(P){var _=P.target,N=P.event,F=P.isBackward,B=F===void 0?!1:F;_=_||Mg(N),h();var L=null;if(s.tabbableGroups.length>0){var z=u(_,N),Z=z>=0?s.containerGroups[z]:void 0;if(z<0)B?L=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:L=s.tabbableGroups[0].firstTabbableNode;else if(B){var ae=s.tabbableGroups.findIndex(function(q){var se=q.firstTabbableNode;return _===se});if(ae<0&&(Z.container===_||py(_,o.tabbableOptions)&&!Bc(_,o.tabbableOptions)&&!Z.nextTabbableNode(_,!1))&&(ae=z),ae>=0){var ne=ae===0?s.tabbableGroups.length-1:ae-1,ie=s.tabbableGroups[ne];L=Tl(_)>=0?ie.lastTabbableNode:ie.lastDomTabbableNode}else ed(N)||(L=Z.nextTabbableNode(_,!1))}else{var U=s.tabbableGroups.findIndex(function(q){var se=q.lastTabbableNode;return _===se});if(U<0&&(Z.container===_||py(_,o.tabbableOptions)&&!Bc(_,o.tabbableOptions)&&!Z.nextTabbableNode(_))&&(U=z),U>=0){var ue=U===s.tabbableGroups.length-1?0:U+1,ce=s.tabbableGroups[ue];L=Tl(_)>=0?ce.firstTabbableNode:ce.firstDomTabbableNode}else ed(N)||(L=Z.nextTabbableNode(_))}}else L=f(\"fallbackFocus\");return L},v=function(P){var _=Mg(P);if(!(u(_,P)>=0)){if(Of(o.clickOutsideDeactivates,P)){a.deactivate({returnFocus:o.returnFocusOnDeactivate});return}Of(o.allowOutsideClick,P)||P.preventDefault()}},C=function(P){var _=Mg(P),N=u(_,P)>=0;if(N||_ instanceof Document)N&&(s.mostRecentlyFocusedNode=_);else{P.stopImmediatePropagation();var F,B=!0;if(s.mostRecentlyFocusedNode)if(Tl(s.mostRecentlyFocusedNode)>0){var L=u(s.mostRecentlyFocusedNode),z=s.containerGroups[L].tabbableNodes;if(z.length>0){var Z=z.findIndex(function(ae){return ae===s.mostRecentlyFocusedNode});Z>=0&&(o.isKeyForward(s.recentNavEvent)?Z+1<z.length&&(F=z[Z+1],B=!1):Z-1>=0&&(F=z[Z-1],B=!1))}}else s.containerGroups.some(function(ae){return ae.tabbableNodes.some(function(ne){return Tl(ne)>0})})||(B=!1);else B=!1;B&&(F=y({target:s.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(s.recentNavEvent)})),p(F||s.mostRecentlyFocusedNode||d())}s.recentNavEvent=void 0},k=function(P){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s.recentNavEvent=P;var N=y({event:P,isBackward:_});N&&(ed(P)&&P.preventDefault(),p(N))},b=function(P){(o.isKeyForward(P)||o.isKeyBackward(P))&&k(P,o.isKeyBackward(P))},w=function(P){Bae(P)&&Of(o.escapeDeactivates,P)!==!1&&(P.preventDefault(),a.deactivate())},E=function(P){var _=Mg(P);u(_,P)>=0||Of(o.clickOutsideDeactivates,P)||Of(o.allowOutsideClick,P)||(P.preventDefault(),P.stopImmediatePropagation())},O=function(){if(s.active)return XS.activateTrap(i,a),s.delayInitialFocusTimer=o.delayInitialFocus?GS(function(){p(d())}):p(d()),r.addEventListener(\"focusin\",C,!0),r.addEventListener(\"mousedown\",v,{capture:!0,passive:!1}),r.addEventListener(\"touchstart\",v,{capture:!0,passive:!1}),r.addEventListener(\"click\",E,{capture:!0,passive:!1}),r.addEventListener(\"keydown\",b,{capture:!0,passive:!1}),r.addEventListener(\"keydown\",w),a},T=function(){if(s.active)return r.removeEventListener(\"focusin\",C,!0),r.removeEventListener(\"mousedown\",v,!0),r.removeEventListener(\"touchstart\",v,!0),r.removeEventListener(\"click\",E,!0),r.removeEventListener(\"keydown\",b,!0),r.removeEventListener(\"keydown\",w),a},I=function(P){var _=P.some(function(N){var F=Array.from(N.removedNodes);return F.some(function(B){return B===s.mostRecentlyFocusedNode})});_&&p(d())},D=typeof window<\"u\"&&\"MutationObserver\"in window?new MutationObserver(I):void 0,A=function(){D&&(D.disconnect(),s.active&&!s.paused&&s.containers.map(function(P){D.observe(P,{subtree:!0,childList:!0})}))};return a={get active(){return s.active},get paused(){return s.paused},activate:function(P){if(s.active)return this;var _=l(P,\"onActivate\"),N=l(P,\"onPostActivate\"),F=l(P,\"checkCanFocusTrap\");F||h(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=r.activeElement,_==null||_();var B=function(){F&&h(),O(),A(),N==null||N()};return F?(F(s.containers.concat()).then(B,B),this):(B(),this)},deactivate:function(P){if(!s.active)return this;var _=JS({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},P);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,T(),s.active=!1,s.paused=!1,A(),XS.deactivateTrap(i,a);var N=l(_,\"onDeactivate\"),F=l(_,\"onPostDeactivate\"),B=l(_,\"checkCanReturnFocus\"),L=l(_,\"returnFocus\",\"returnFocusOnDeactivate\");N==null||N();var z=function(){GS(function(){L&&p(m(s.nodeFocusedBeforeActivation)),F==null||F()})};return L&&B?(B(m(s.nodeFocusedBeforeActivation)).then(z,z),this):(z(),this)},pause:function(P){return s.active?(s.manuallyPaused=!0,this._setPausedState(!0,P)):this},unpause:function(P){return s.active?(s.manuallyPaused=!1,i[i.length-1]!==this?this:this._setPausedState(!1,P)):this},updateContainerElements:function(P){var _=[].concat(P).filter(Boolean);return s.containers=_.map(function(N){return typeof N==\"string\"?r.querySelector(N):N}),s.active&&h(),A(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return s.manuallyPaused}},_setPausedState:{value:function(P,_){if(s.paused===P)return this;if(s.paused=P,P){var N=l(_,\"onPause\"),F=l(_,\"onPostPause\");N==null||N(),T(),A(),F==null||F()}else{var B=l(_,\"onUnpause\"),L=l(_,\"onPostUnpause\");B==null||B(),h(),O(),A(),L==null||L()}return this}}}),a.updateContainerElements(e),a};const Hae=(n,e={})=>{let t=er;const r=i=>{t();const o=Vae(n,{returnFocusOnDeactivate:!1,allowOutsideClick:!0,escapeDeactivates:!1,clickOutsideDeactivates:!1,...i});t=o.deactivate,o.activate()};return r(e),{destroy:t,update:r}},qae=(n,e)=>{let t=er;function r(i){t();const{onClose:o,shouldCloseOnInteractOutside:s,closeOnInteractOutside:a}=i;function l(){o==null||o()}function u(d){const h=d.target;z2(h)&&d.stopImmediatePropagation()}function f(d){s!=null&&s(d)&&(d.stopImmediatePropagation(),l())}t=Uae(n,{onInteractOutsideStart:u,onInteractOutside:a?f:void 0,enabled:a}).destroy}return r(e),{update:r,destroy(){t()}}},Wae=(n,e=\"body\")=>{let t;if(!ol(e)&&typeof e!=\"string\")return{destroy:er};async function r(o=\"body\"){if(e=o,typeof e==\"string\"){if(t=document.querySelector(e),t===null&&(await Sn(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: \"${e}\"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?\"null\":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);n.dataset.portal=\"\",t.appendChild(n),n.hidden=!1}function i(){n.remove()}return r(e),{update:r,destroy:i}},Pb=new Set,Uae=(n,e={})=>{let t=er,r=er,i=er,o=er;Pb.add(n);const s=sae(n);let a=!1,l=!1;const u={pointerdown:!1,pointerup:!1,mousedown:!1,mouseup:!1,touchstart:!1,touchend:!1,click:!1},f=()=>{for(const v in u)u[v]=!1},d=()=>{for(const v of Object.values(u))if(v)return!0;return!1},h=(v,C)=>Eb(s,v,k=>{u[v]=!0,C==null||C(k)},!0),g=(v,C)=>Eb(s,v,k=>{u[v]=!1,C==null||C(k)});function p(v){t(),r(),i(),o(),f();const{onInteractOutside:C,onInteractOutsideStart:k,enabled:b}={enabled:!0,...v};if(!b)return;let w=!1;const E=hy(D=>{if(!w||d())return;C&&YS(D,n)&&(k==null||k(D));const A=D.target;z2(A)&&gM(n,A)&&(l=!0),a=!0},10);r=E.destroy;const O=hy(D=>{w&&!d()&&m(D)&&(C==null||C(D)),y()},10);i=O.destroy;const T=hy(f,20);o=T.destroy;const I=()=>{w=Kae(n)};t=Am(h(\"pointerdown\",I),h(\"mousedown\",I),h(\"touchstart\",I),h(\"pointerup\",T),h(\"mouseup\",T),h(\"touchend\",T),h(\"click\",T),g(\"pointerdown\",E),g(\"mousedown\",E),g(\"touchstart\",E),g(\"pointerup\",O),g(\"mouseup\",O),g(\"touchend\",O),g(\"click\",O))}function m(v){return!!(a&&!l&&YS(v,n))}function y(){a=!1,l=!1}return p(e),{update:p,destroy(){t(),r(),i(),o(),Pb.delete(n)}}};function YS(n,e){if(\"button\"in n&&n.button>0)return!1;const t=n.target;if(!z2(t))return!1;const r=t.ownerDocument;return!r||!r.documentElement.contains(t)?!1:e&&!gM(e,t)}function Kae(n){return Array.from(Pb).at(-1)===n}const Jae={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:\"Event Date\",locale:\"en\",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:\"narrow\"};({...uM(Jae,\"isDateDisabled\",\"isDateUnavailable\",\"value\",\"locale\",\"disabled\",\"readonly\",\"minValue\",\"maxValue\",\"weekdayFormat\")});const{name:_l}=Fse(\"dialog\"),Xae={preventScroll:!0,escapeBehavior:\"close\",closeOnOutsideClick:!0,role:\"dialog\",defaultOpen:!1,portal:\"body\",forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},Gae=[\"content\",\"title\",\"description\"];function Yae(n){const e={...Xae,...n},t=qS(uM(e,\"ids\")),{preventScroll:r,escapeBehavior:i,closeOnOutsideClick:o,role:s,portal:a,forceVisible:l,openFocus:u,closeFocus:f,onOutsideClick:d}=t,h=rf.writable(null),g=qS({...Gse(Gae),...e.ids}),p=e.open??ao(e.defaultOpen),m=Wse(p,e==null?void 0:e.onOpenChange),y=Yd([m,l],([A,M])=>A||M);let v=er;function C(A){const M=A.currentTarget,P=A.currentTarget;!ol(M)||!ol(P)||(m.set(!0),h.set(P))}function k(){m.set(!1)}const b=ka(_l(\"trigger\"),{stores:[m],returned:([A])=>({\"aria-haspopup\":\"dialog\",\"aria-expanded\":A,type:\"button\"}),action:A=>({destroy:Am(Tg(A,\"click\",P=>{C(P)}),Tg(A,\"keydown\",P=>{P.key!==zf.ENTER&&P.key!==zf.SPACE||(P.preventDefault(),C(P))}))})}),w=ka(_l(\"overlay\"),{stores:[y,m],returned:([A,M])=>({hidden:A?void 0:!0,tabindex:-1,style:A?void 0:Ab({display:\"none\"}),\"aria-hidden\":!0,\"data-state\":M?\"open\":\"closed\"})}),E=ka(_l(\"content\"),{stores:[y,g.content,g.description,g.title,m],returned:([A,M,P,_,N])=>({id:M,role:s.get(),\"aria-describedby\":P,\"aria-labelledby\":_,\"aria-modal\":A?\"true\":void 0,\"data-state\":N?\"open\":\"closed\",tabindex:-1,hidden:A?void 0:!0,style:A?void 0:Ab({display:\"none\"})}),action:A=>{let M=er,P=er,_=er;const N=Vf([y,o],([F,B])=>{P(),M(),_(),F&&(P=qae(A,{closeOnInteractOutside:B,onClose:k,shouldCloseOnInteractOutside(L){var z;return(z=d.get())==null||z(L),!L.defaultPrevented}}).destroy,M=aae(A,{handler:k,behaviorType:i}).destroy,_=Hae(A,{fallbackFocus:A}).destroy)});return{destroy:()=>{v(),N(),P(),M(),_()}}}}),O=ka(_l(\"portalled\"),{stores:a,returned:A=>({\"data-portal\":Bse(A)}),action:A=>{const M=Vf([a],([P])=>{if(P===null)return er;const _=oae(A,P);return _===null?er:Wae(A,_).destroy});return{destroy(){M()}}}}),T=ka(_l(\"title\"),{stores:[g.title],returned:([A])=>({id:A})}),I=ka(_l(\"description\"),{stores:[g.description],returned:([A])=>({id:A})}),D=ka(_l(\"close\"),{returned:()=>({type:\"button\"}),action:A=>({destroy:Am(Tg(A,\"click\",()=>{k()}),Tg(A,\"keydown\",P=>{P.key!==zf.SPACE&&P.key!==zf.ENTER||(P.preventDefault(),k())}))})});return Vf([m,r],([A,M])=>{if(VS){if(M&&A&&(v=rae()),A){const P=document.getElementById(g.content.get());WS({prop:u.get(),defaultEl:P})}return()=>{l.get()||v()}}}),Vf(m,A=>{!VS||A||WS({prop:f.get(),defaultEl:h.get()})},{skipFirstRun:!0}),{ids:g,elements:{content:E,trigger:b,title:T,description:I,overlay:w,close:D,portalled:O},states:{open:m},options:t}}function Qae(n){const e=n-1;return e*e*e+1}function Zae(n){return Object.keys(n).reduce((e,t)=>n[t]===void 0?e:e+`${t}:${n[t]};`,\"\")}const QS=(n,e,t)=>{const[r,i]=e,[o,s]=t;return(n-r)/(i-r)*(s-o)+o},$ae=(n,e)=>{const t=getComputedStyle(n),r=t.transform===\"none\"?\"\":t.transform;return{duration:e.duration??150,delay:0,css:i=>{const o=QS(i,[0,1],[e.y,0]),s=QS(i,[0,1],[e.start,1]);return Zae({transform:`${r} translate3d(0, ${o}px, 0) scale(${s})`,opacity:i})},easing:Qae}};var ele=X(\"<button> </button>\"),tle=X('<div><div></div> <div><h2> </h2> <p><!></p> <div class=\"slot-content svelte-11r9kjw\"><!></div> <!> <button><svg width=\"117\" height=\"118\" viewBox=\"0 0 117 118\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"svelte-11r9kjw\"><rect x=\"0.163696\" y=\"11.2703\" width=\"15\" height=\"150\" transform=\"rotate(-45 0.163696 11.2703)\" fill=\"#3230A3\"></rect><rect x=\"106.23\" y=\"0.663696\" width=\"15\" height=\"150\" transform=\"rotate(45 106.23 0.663696)\" fill=\"#3230A3\"></rect></svg></button></div></div>');function my(n,e){Ee(e,!0);const[t,r]=xo(),i=()=>An(y,\"$portalled\",t),o=()=>An(d,\"$overlay\",t),s=()=>An(h,\"$content\",t),a=()=>An(g,\"$title\",t),l=()=>An(p,\"$description\",t),u=()=>An(m,\"$close\",t);let f=Wt(!1);dr(()=>{S(f,!0)}),zr(()=>{Sn(),S(f,!1)});const{elements:{overlay:d,content:h,title:g,description:p,close:m,portalled:y}}=Yae({defaultOpen:!0,onOpenChange:b=>(vo.close({success:!1}),b.next)});var v=De(),C=ye(v);{var k=b=>{var w=tle();let E;var O=j(w);let T;Ut(O,U=>d==null?void 0:d(U));var I=H(O,2);let D;var A=j(I);let M;var P=j(A);Ut(A,U=>g==null?void 0:g(U));var _=H(A,2);let N;var F=j(_);{var B=U=>{var ue=Or();he(()=>He(ue,e.config.description)),R(U,ue)};te(F,U=>{e.config.description&&U(B)})}Ut(_,U=>p==null?void 0:p(U));var L=H(_,2),z=j(L);bi(z,()=>e.children??tr);var Z=H(L,2);{var ae=U=>{sM(U,{children:(ue,ce)=>{var q=ele(),se=()=>{vo.close({success:!0})};let fe;var G=j(q);he(()=>{fe=ki(q,fe,{...u(),onclick:se,class:e.config.isWarning?\"warning\":\"primary\"},\"svelte-11r9kjw\"),He(G,e.config.buttonSuccess)}),R(ue,q)}})};te(Z,U=>{e.config.buttonSuccess&&U(ae)})}var ne=H(Z,2);let ie;Ut(ne,U=>m==null?void 0:m(U)),Ut(I,U=>h==null?void 0:h(U)),Ut(w,U=>y==null?void 0:y(U)),he(()=>{E=ki(w,E,{...i()},\"svelte-11r9kjw\"),T=ki(O,T,{...o(),class:\"overlay\"},\"svelte-11r9kjw\"),D=ki(I,D,{style:`--dialog-width: ${e.config.width??\"550px\"}`,class:\"content\",...s()},\"svelte-11r9kjw\"),M=ki(A,M,{...a(),class:\"title\"},\"svelte-11r9kjw\"),He(P,e.config.title),N=ki(_,N,{...l(),class:\"description\"},\"svelte-11r9kjw\"),ie=ki(ne,ie,{...u(),\"aria-label\":\"close\",class:\"close\"},\"svelte-11r9kjw\")}),tP(3,I,()=>$ae,()=>({duration:150,y:8,start:.96})),R(b,w)};te(C,b=>{c(f)&&b(k)})}R(n,v),Te(),r()}var nle=X(\"<div><p>Option 1, use built in dialog like this:</p> <pre></pre> <br> <p>Option 2, give your own component</p> <pre></pre> <p>Good luck </p></div>\");function rle(n){const[e,t]=xo(),r=()=>An(vo,\"$dialog\",e);var i=De(),o=ye(i);Pt(o,1,r,tn,(s,a)=>{var l=De(),u=ye(l);{var f=h=>{my(h,{get config(){return c(a).config},children:(g,p)=>{var m=De(),y=ye(m);Wb(y,()=>c(a).children,!1,!1),R(g,m)},$$slots:{default:!0}})},d=h=>{var g=De(),p=ye(g);{var m=v=>{my(v,{get config(){return c(a).config},children:(C,k)=>{c(a).component(C,Xr(()=>c(a).props))},$$slots:{default:!0}})},y=v=>{const C=Me(()=>({title:c(a).config.title??\"FOR DEV\",description:c(a).config.description??\"Hey  developer, you are missing a few things !\",buttonSuccess:c(a).config.buttonSuccess??\"Ok, got it, I'll try!\"}));my(v,{get config(){return c(C)},children:(k,b)=>{var w=nle(),E=H(j(w),2);E.textContent=\"await dialog.confirmDelete('The Car')\";var O=H(E,6);O.textContent=`await dialog.show({\n  config: { title: 'Interlocuteur' },\n  component: CreateCarForm,\n  props: { isEdit: false },\n})`,R(k,w)},$$slots:{default:!0}})};te(p,v=>{c(a).component?v(m):v(y,!1)},!0)}R(h,g)};te(u,h=>{c(a).type===\"confirm\"||c(a).type===\"confirmDelete\"?h(f):h(d,!1)})}R(s,l)}),R(n,i),t()}var ile=It('<svg width=\"1491\" height=\"887\" viewBox=\"0 0 1491 887\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M233 1.66666C201.933 4.59999 173.267 15.9333 150.867 33.9333C121.667 57.5333 102.733 94.3333 94.8667 143C93.1333 154.2 92.4667 171.4 91.6667 229.667C90.7333 308.2 90.2 313.267 82.7333 334.067C77.1333 349.933 69.6666 361.267 56.4666 374.333C46.7333 384.067 41.9333 387.667 32.0666 392.733C25.2666 396.2 15.2666 400.2 10.0666 401.533L0.333313 404.067V437.133V470.2L9.66665 472.467C41.8 480.6 70.8667 507.133 82.3333 538.867C90.4667 561.133 90.6 561.8 91.6667 649.667C92.6 731.133 93 738.467 98.3333 762.333C101.4 776.6 106.867 792.2 113.267 805.4C132.867 845.8 165.267 871.533 209.8 882.467C222.333 885.533 227.267 886.067 245.667 886.2L267 886.333V856.333V826.333L251.667 825.533C207.133 823.267 177.533 796.333 165 746.733C159.4 724.6 158.333 704.467 158.333 624.2C158.333 548.6 157.933 542.6 150.2 519.667C138.733 485.533 115.133 458.2 83.2667 442.467C77.5333 439.667 73 437.267 73 437C73 436.733 77.6667 434.067 83.4 431C103.933 420.333 122.333 403.533 135.4 383.667C143.533 371.267 149.4 357.8 154.067 340.467L157.533 327.667L158.467 248.333C159.4 165.133 160.067 155.667 166.067 135C172.867 112.2 181.667 96.8667 195.8 83.8C211.533 69.2667 228.467 62.7333 254.733 60.8667L267.667 59.9333L267.4 30.4667L267 0.999995L255.667 0.866661C249.4 0.733328 239.267 1.13333 233 1.66666Z\" fill=\"#00003B\"></path><path d=\"M1223.67 30.2V59.9333L1236.73 60.8666C1254.47 62.0666 1264.87 64.7333 1277.27 71.1333C1300.2 83.1333 1315.8 103.667 1324.33 133.267C1330.87 155.533 1331.67 166.2 1331.67 238.067C1331.67 308.067 1332.47 321.933 1337.67 342.467C1347.4 380.733 1375 414.867 1410.6 432.6C1414.87 434.733 1418.33 436.867 1418.33 437.133C1418.33 437.4 1415 439.133 1411 440.867C1393.93 448.467 1371.53 466.6 1360.33 481.8C1348.87 497.267 1340.33 516.733 1335.53 538.467C1332.73 551 1332.6 555.933 1331.67 639.667C1330.73 721.8 1330.6 728.467 1327.93 739.667C1317.53 785.4 1297.93 809.8 1261.67 822.333C1257.4 823.8 1249.27 825 1239.4 825.4L1223.67 825.933V856.467V887H1240.07C1284.73 887 1321.67 873 1349.13 845.667C1372.6 822.333 1386.87 793.4 1394.2 754.333C1398.87 729.267 1399.67 714.067 1399.67 647.133C1399.67 610.6 1400.33 577.4 1401 571C1405.13 537.267 1419.8 509.4 1442.6 491.933C1453.8 483.4 1472.33 474.2 1483 471.933L1490.33 470.467L1490.07 437.267L1489.67 404.067L1479.67 401C1467 397.267 1461 394.6 1451.8 388.733C1430.87 375.267 1416.47 357 1408.2 333.533C1400.73 312.467 1400.73 311.533 1399.67 232.333C1398.6 155 1398.2 147.933 1391.8 121.133C1377.4 60.7333 1339.27 20.3333 1283.67 6.33329C1270.47 2.99995 1248.07 0.333287 1232.73 0.333287H1223.67V30.2Z\" fill=\"#00003B\"></path><path d=\"M671 95.5333C627 112.6 539.133 146.733 475.667 171.267C412.2 195.933 338.333 224.6 311.267 235C284.333 245.533 262.467 254.333 262.867 254.6C263.133 254.867 272.867 258.6 284.467 262.867C296.2 267.133 323.133 277.133 344.333 285C402.6 306.6 448.067 323.4 477.667 334.333C492.333 339.8 524.733 351.8 549.667 361C574.6 370.333 607 382.333 621.667 387.667C636.333 393.133 671.133 405.933 699 416.2C726.733 426.6 750.333 435 751.133 435C752.733 435 764.867 430.6 823 409C858.333 395.933 899.4 380.733 956.333 359.667C975.4 352.6 1004.6 341.8 1021.4 335.667C1038.07 329.4 1065.67 319.267 1082.73 312.867C1099.67 306.6 1124.73 297.4 1138.33 292.333C1151.93 287.267 1178.6 277.4 1197.67 270.333C1216.73 263.4 1234.2 256.867 1236.6 255.933C1240.73 254.333 1237.8 253.133 1147.27 218.067C1095.8 198.067 1004.73 162.867 945 139.533C885.267 116.333 831.267 95.4 825 93C818.733 90.7333 800.2 83.5333 783.667 77C767.133 70.6 753.133 65.1333 752.333 64.8666C751.667 64.6 715 78.4666 671 95.5333Z\" fill=\"#0066C8\"></path><path d=\"M324.333 359.133C307.533 365.667 286.6 373.8 277.8 377.267C267.533 381.267 262.6 383.667 263.8 384.333C264.867 385 274.067 388.467 284.333 392.333C294.6 396.067 316.867 404.333 333.667 410.6C350.6 416.733 372.467 424.867 382.333 428.6C392.2 432.2 413.8 440.2 430.333 446.333C459.533 457.133 481.933 465.4 533 484.333C546.6 489.4 573.267 499.267 592.333 506.333C629 519.8 658.467 530.733 714.733 551.667C733.667 558.6 750.067 564.333 751.267 564.333C752.467 564.333 768.2 558.867 786.2 552.2C804.2 545.4 834.067 534.467 852.333 527.667C870.733 520.867 916.867 503.8 955 489.667C993.133 475.533 1031.27 461.4 1039.67 458.333C1053.13 453.4 1138.47 421.8 1215.4 393.267C1233.13 386.733 1240.33 383.533 1238.73 382.867C1228.47 378.867 1161.27 352.733 1154.73 350.2L1146.47 346.867L1128.73 353.533C1100.47 363.933 999.267 401.4 980.333 408.333C970.867 411.8 949.8 419.667 933.667 425.667C898.467 438.733 857.267 453.933 807.667 472.333C787.533 479.667 766.467 487.533 761 489.667L751.133 493.4L744.333 490.733C740.733 489.267 725.667 483.667 711 478.333C687.667 469.8 491.533 397.133 459 385C452.467 382.6 438.6 377.4 428.333 373.667C418.067 369.933 397.667 362.333 383.133 356.867C368.6 351.4 356.2 347 355.8 347.133C355.4 347.133 341.267 352.6 324.333 359.133Z\" fill=\"#004A92\"></path><path d=\"M324.333 488.467C307.533 495 286.6 503.133 277.933 506.6C266.6 511 262.6 513.133 264.067 513.933C265.133 514.467 276.467 518.867 289.267 523.533C301.933 528.2 323.133 536.067 336.333 541C349.533 545.933 368.2 552.867 377.667 556.333C387.267 559.8 426.2 574.2 464.333 588.333C502.467 602.467 548.733 619.533 567 626.333C683.533 669.4 739.267 690.067 744.733 692.2L751 694.6L775.667 685.533C789.267 680.467 813.267 671.533 829 665.8C844.733 659.933 891.933 642.467 933.667 627C975.533 611.4 1013.53 597.4 1018.33 595.667C1023.13 593.933 1036.6 589 1048.33 584.6C1085.13 570.867 1207.67 525.533 1224.2 519.533C1232.87 516.333 1240.33 513.533 1240.47 513.267C1240.73 513 1219.67 504.6 1193.67 494.6L1146.33 476.333L1077.4 501.8C1039.4 515.8 993.4 532.867 975 539.667C934.2 554.733 812.467 599.8 777 613L751 622.6L744.333 620.067C740.733 618.6 706.733 606.067 669 592.067C631.267 578.067 590.733 563.133 579 558.733C567.267 554.333 552.333 548.867 545.667 546.467C539.133 544.067 502.467 530.467 464.333 516.333C362.067 478.467 356.333 476.333 355.667 476.467C355.267 476.467 341.267 481.933 324.333 488.467Z\" fill=\"#002D6D\"></path><path d=\"M309 623.667C283.667 633.533 262.467 641.8 261.8 642.067C261.133 642.2 280.733 649.8 305.133 658.867C329.667 667.933 364.733 680.867 383 687.667C401.4 694.467 491.4 727.8 583 761.667C674.733 795.667 750.6 823.4 751.667 823.267C752.733 823.267 792.733 808.733 840.333 791C888.067 773.267 939 754.467 953.667 749C968.333 743.667 1009.4 728.467 1045 715.267C1080.6 702.067 1118.07 688.2 1128.33 684.333C1157 673.8 1206.47 655.533 1224.73 648.733C1233.67 645.4 1240.87 642.467 1240.73 642.333C1239 640.6 1148.87 606.6 1146.33 606.6C1144.47 606.6 1131.27 611 1117 616.333C1102.73 621.667 1084.07 628.6 1075.67 631.667C1067.27 634.733 1046.6 642.467 1029.67 648.6C1012.87 654.867 967.8 671.533 929.667 685.667C757.667 749.4 753.267 751 751.133 751C749.267 751 735.933 746.2 601.667 696.333C565.8 683 524.333 667.8 509.667 662.333C495 657 454.467 641.933 419.667 629.133C384.867 616.2 356.067 605.667 355.667 605.667C355.267 605.8 334.333 613.8 309 623.667Z\" fill=\"#00003B\"></path></svg>');function ole(n){var e=ile();R(n,e)}var sle=(n,e)=>{Hi(vr,Ot(e).schema={},Ot(e)),window.location.reload()},ale=()=>{_s.reloadEntities()},lle=X('<div class=\"dialog\"><header class=\"svelte-1amnogv\">Local Storage</header> <label class=\"svelte-1amnogv\"><span>With confirm delete</span> <select class=\"svelte-1amnogv\"><option>No</option><option>Yes</option></select></label> <label class=\"svelte-1amnogv\"><span>Display fields with</span> <select class=\"svelte-1amnogv\"><option>Caption</option><option>key</option></select></label> <label class=\"svelte-1amnogv\"><span>Number of rows</span> <input type=\"number\" class=\"svelte-1amnogv\"></label> <label class=\"svelte-1amnogv\"><span>With live query</span> <select class=\"svelte-1amnogv\"><option>Yes</option><option>No</option></select></label> <label class=\"svelte-1amnogv\"><span>Diagram layout algorithm</span> <select class=\"svelte-1amnogv\"><option>grid-dfs</option><option>grid-bfs</option><option>line</option></select></label> <label class=\"svelte-1amnogv\"><span>Local Storage Key for Auth</span> <input type=\"text\" placeholder=\"Local Storage Key\" class=\"svelte-1amnogv\"></label> <br> <label class=\"svelte-1amnogv\"><span></span> <button class=\"svelte-1amnogv\">Reset all settings to default</button></label> <br> <br> <hr style=\"border-top: 1px solid black;\"> <br> <header class=\"svelte-1amnogv\">Session Storage</header> <label class=\"svelte-1amnogv\"><span>Auth</span> <div><input type=\"text\" placeholder=\"bearer\" class=\"svelte-1amnogv\"> <button class=\"svelte-1amnogv\">Reload entities</button></div></label></div>');function cle(n,e){Ee(e,!1);const[t,r]=xo(),i=()=>An(vr,\"$LSContext\",t),o=()=>An(Jl,\"$SSContext\",t);ft();var s=lle(),a=H(j(s),2),l=H(j(a),2);he(()=>{i(),Ah(()=>{})});var u=j(l);u.value=(u.__value=!1)==null?\"\":!1;var f=H(u);f.value=(f.__value=!0)==null?\"\":!0;var d=H(a,2),h=H(j(d),2);he(()=>{i(),Ah(()=>{})});var g=j(h);g.value=(g.__value=!0)==null?\"\":!0;var p=H(g);p.value=(p.__value=!1)==null?\"\":!1;var m=H(d,2),y=H(j(m),2),v=H(m,2),C=H(j(v),2);he(()=>{i(),Ah(()=>{})});var k=j(C);k.value=(k.__value=!0)==null?\"\":!0;var b=H(k);b.value=(b.__value=!1)==null?\"\":!1;var w=H(v,2),E=H(j(w),2);he(()=>{i(),Ah(()=>{})}),E.__change=[sle,i];var O=j(E);O.value=(O.__value=\"grid-dfs\")==null?\"\":\"grid-dfs\";var T=H(O);T.value=(T.__value=\"grid-bfs\")==null?\"\":\"grid-bfs\";var I=H(T);I.value=(I.__value=\"line\")==null?\"\":\"line\";var D=H(w,2),A=H(j(D),2),M=H(D,4),P=H(j(M),2);P.__click=()=>{vr.reset()};var _=H(M,12),N=H(j(_),2),F=j(N),B=H(F,2);B.__click=[ale],qc(l,()=>i().settings.confirmDelete,L=>Hi(vr,Ot(i).settings.confirmDelete=L,Ot(i))),qc(h,()=>i().settings.dispayCaption,L=>Hi(vr,Ot(i).settings.dispayCaption=L,Ot(i))),pi(y,()=>i().settings.numberOfRows,L=>Hi(vr,Ot(i).settings.numberOfRows=L,Ot(i))),qc(C,()=>i().settings.withLiveQuery,L=>Hi(vr,Ot(i).settings.withLiveQuery=L,Ot(i))),qc(E,()=>i().settings.diagramLayoutAlgorithm,L=>Hi(vr,Ot(i).settings.diagramLayoutAlgorithm=L,Ot(i))),pi(A,()=>i().settings.keyForBearerAuth,L=>Hi(vr,Ot(i).settings.keyForBearerAuth=L,Ot(i))),pi(F,()=>o().settings.bearerAuth,L=>Hi(Jl,Ot(o).settings.bearerAuth=L,Ot(o))),R(n,s),Te(),r()}li([\"change\",\"click\"]);var ule=()=>vo.show({config:{title:\"Remult Settings\"},component:cle}),fle=X('<a class=\"tab svelte-cg4813\"> </a>'),dle=X(`<div class=\"app-holder\"><div class=\"main-navigation\"><div class=\"main-navigation__title\">Remult Admin <button class=\"icon-button\"><!></button></div> <input class=\"tab svelte-cg4813\" style=\"content: 'inner'; margin-left: 4px; background-color: white;\" type=\"text\" placeholder=\"Search\"> <!>  <a href=\"#/diagram\" class=\"tab main-navigation__diagram svelte-cg4813\"> Diagram</a></div> <div class=\"main-content\"><!></div></div> <!>`,1);function hle(n,e){var I;Ee(e,!0);const[t,r]=xo(),i=()=>An(Qd,\"$loc\",t),o=()=>An(vr,\"$LSContext\",t),s=()=>An(Jl,\"$SSContext\",t),a=()=>An(_s,\"$godStore\",t);mo(()=>{i().location!==\"/\"&&Hi(vr,Ot(o).currentLocationHash=i().location,Ot(o))});const l={\"/\":Lse,\"/diagram\":MB,\"/entity/*\":Nse,\"*\":IB};function u(D,A){const M=(A==null?void 0:A.len)||30;if(D.length>M){const P=(A==null?void 0:A.midStr)||\"...\",_=M-P.length,N=Math.floor(_/2);return`${D.slice(0,N).trim()}${P}${D.slice(-N).trim()}`}return D}const f=new Map,d=1e3*2;Pi.apiClient.url=((I=window.optionsFromServer)==null?void 0:I.rootPath)??\"/api\",Pi.apiClient.httpClient=async(D,A)=>{if(A!=null&&A.method&&A.method!==\"GET\"){const B=await fetch(D,{...A,headers:$y(s(),o(),A)});return F(B),B}const M=D.toString(),P=Date.now(),_=f.get(M);if(_&&P-_.timestamp<d)return _.promise.then(B=>B.clone());for(const[B,L]of f.entries())P-L.timestamp>=d&&f.delete(B);const N=fetch(D,{...A,headers:$y(s(),o(),A)}).then(B=>(F(B),B));return f.set(M,{promise:N,timestamp:P}),N.then(B=>B.clone());function F(B){if(B.status===403){const Z=new URL(B.url).pathname.split(\"/\").pop()||\"\";Hi(Jl,Ot(s).forbiddenEntities=[...new Set([...s().forbiddenEntities,Z])],Ot(s))}}};var h=dle(),g=ye(h),p=j(g),m=j(p),y=H(j(m));y.__click=[ule];var v=j(y);ole(v);var C=H(m,2),k=H(C,2);Pt(k,1,()=>{var D;return((D=a())==null?void 0:D.getTables(o()))??[]},tn,(D,A)=>{var M=fle(),P=j(M);Ut(M,(_,N)=>Lc==null?void 0:Lc(_,N),()=>({path:`/entity/${c(A).key}`,className:\"active\"})),he(_=>{ke(M,\"style\",`--color: ${c(A).color??\"\"}`),ke(M,\"href\",`#/entity/${c(A).key??\"\"}`),He(P,_)},[()=>u(o().settings.dispayCaption?c(A).caption:c(A).key)]),R(D,M)});var b=H(k,2);Ut(b,(D,A)=>Lc==null?void 0:Lc(D,A),()=>({path:\"/diagram\",className:\"active\"}));var w=H(p,2),E=j(w);vP(E,{routes:l});var O=H(g,2);rle(O),pi(C,()=>o().settings.search,D=>Hi(vr,Ot(o).settings.search=D,Ot(o))),R(n,h);var T=Te({midTrim:u});return r(),T}li([\"click\"]);H8(hle,{target:document.getElementById(\"app\")});/*!\n * vanilla-picker v2.12.3\n * https://vanilla-picker.js.org\n *\n * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)\n * Released under the ISC license.\n */var V2=function(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")},H2=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Pg=function(){function n(e,t){var r=[],i=!0,o=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,e){for(var t=this;t.length<n;)t=e+t;return t};var gle={cb:\"0f8ff\",tqw:\"aebd7\",q:\"-ffff\",qmrn:\"7fffd4\",zr:\"0ffff\",bg:\"5f5dc\",bsq:\"e4c4\",bck:\"---\",nch:\"ebcd\",b:\"--ff\",bvt:\"8a2be2\",brwn:\"a52a2a\",brw:\"deb887\",ctb:\"5f9ea0\",hrt:\"7fff-\",chcT:\"d2691e\",cr:\"7f50\",rnw:\"6495ed\",crns:\"8dc\",crms:\"dc143c\",cn:\"-ffff\",Db:\"--8b\",Dcn:\"-8b8b\",Dgnr:\"b8860b\",Dgr:\"a9a9a9\",Dgrn:\"-64-\",Dkhk:\"bdb76b\",Dmgn:\"8b-8b\",Dvgr:\"556b2f\",Drng:\"8c-\",Drch:\"9932cc\",Dr:\"8b--\",Dsmn:\"e9967a\",Dsgr:\"8fbc8f\",DsTb:\"483d8b\",DsTg:\"2f4f4f\",Dtrq:\"-ced1\",Dvt:\"94-d3\",ppnk:\"1493\",pskb:\"-bfff\",mgr:\"696969\",grb:\"1e90ff\",rbrc:\"b22222\",rwht:\"af0\",stg:\"228b22\",chs:\"-ff\",gnsb:\"dcdcdc\",st:\"8f8ff\",g:\"d7-\",gnr:\"daa520\",gr:\"808080\",grn:\"-8-0\",grnw:\"adff2f\",hnw:\"0fff0\",htpn:\"69b4\",nnr:\"cd5c5c\",ng:\"4b-82\",vr:\"0\",khk:\"0e68c\",vnr:\"e6e6fa\",nrb:\"0f5\",wngr:\"7cfc-\",mnch:\"acd\",Lb:\"add8e6\",Lcr:\"08080\",Lcn:\"e0ffff\",Lgnr:\"afad2\",Lgr:\"d3d3d3\",Lgrn:\"90ee90\",Lpnk:\"b6c1\",Lsmn:\"a07a\",Lsgr:\"20b2aa\",Lskb:\"87cefa\",LsTg:\"778899\",Lstb:\"b0c4de\",Lw:\"e0\",m:\"-ff-\",mgrn:\"32cd32\",nn:\"af0e6\",mgnt:\"-ff\",mrn:\"8--0\",mqm:\"66cdaa\",mmb:\"--cd\",mmrc:\"ba55d3\",mmpr:\"9370db\",msg:\"3cb371\",mmsT:\"7b68ee\",\"\":\"-fa9a\",mtr:\"48d1cc\",mmvt:\"c71585\",mnLb:\"191970\",ntc:\"5fffa\",mstr:\"e4e1\",mccs:\"e4b5\",vjw:\"dead\",nv:\"--80\",c:\"df5e6\",v:\"808-0\",vrb:\"6b8e23\",rng:\"a5-\",rngr:\"45-\",rch:\"da70d6\",pgnr:\"eee8aa\",pgrn:\"98fb98\",ptrq:\"afeeee\",pvtr:\"db7093\",ppwh:\"efd5\",pchp:\"dab9\",pr:\"cd853f\",pnk:\"c0cb\",pm:\"dda0dd\",pwrb:\"b0e0e6\",prp:\"8-080\",cc:\"663399\",r:\"--\",sbr:\"bc8f8f\",rb:\"4169e1\",sbrw:\"8b4513\",smn:\"a8072\",nbr:\"4a460\",sgrn:\"2e8b57\",ssh:\"5ee\",snn:\"a0522d\",svr:\"c0c0c0\",skb:\"87ceeb\",sTb:\"6a5acd\",sTgr:\"708090\",snw:\"afa\",n:\"-ff7f\",stb:\"4682b4\",tn:\"d2b48c\",t:\"-8080\",thst:\"d8bfd8\",tmT:\"6347\",trqs:\"40e0d0\",vt:\"ee82ee\",whT:\"5deb3\",wht:\"\",hts:\"5f5f5\",w:\"-\",wgrn:\"9acd32\"};function ZS(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?n.toFixed(e).replace(/0+$/,\"\").replace(/\\.$/,\"\"):n.toString();return t||\"0\"}var ple=function(){function n(e,t,r,i){V2(this,n);var o=this;function s(l){if(l.startsWith(\"hsl\")){var u=l.match(/([\\-\\d\\.e]+)/g).map(Number),f=Pg(u,4),d=f[0],h=f[1],g=f[2],p=f[3];p===void 0&&(p=1),d/=360,h/=100,g/=100,o.hsla=[d,h,g,p]}else if(l.startsWith(\"rgb\")){var m=l.match(/([\\-\\d\\.e]+)/g).map(Number),y=Pg(m,4),v=y[0],C=y[1],k=y[2],b=y[3];b===void 0&&(b=1),o.rgba=[v,C,k,b]}else l.startsWith(\"#\")?o.rgba=n.hexToRgb(l):o.rgba=n.nameToRgb(l)||n.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var a=e&&\"\"+e;a&&s(a.toLowerCase())}else this.rgba=[e,t,r,i===void 0?1:i]}return H2(n,[{key:\"printRGB\",value:function(t){var r=t?this.rgba:this.rgba.slice(0,3),i=r.map(function(o,s){return ZS(o,s===3?3:0)});return t?\"rgba(\"+i+\")\":\"rgb(\"+i+\")\"}},{key:\"printHSL\",value:function(t){var r=[360,100,100,1],i=[\"\",\"%\",\"%\",\"\"],o=t?this.hsla:this.hsla.slice(0,3),s=o.map(function(a,l){return ZS(a*r[l],l===3?3:1)+i[l]});return t?\"hsla(\"+s+\")\":\"hsl(\"+s+\")\"}},{key:\"printHex\",value:function(t){var r=this.hex;return t?r:r.substring(0,7)}},{key:\"rgba\",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error(\"No color is set\");return this._rgba=n.hslToRgb(this._hsla)},set:function(t){t.length===3&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:\"rgbString\",get:function(){return this.printRGB()}},{key:\"rgbaString\",get:function(){return this.printRGB(!0)}},{key:\"hsla\",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error(\"No color is set\");return this._hsla=n.rgbToHsl(this._rgba)},set:function(t){t.length===3&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:\"hslString\",get:function(){return this.printHSL()}},{key:\"hslaString\",get:function(){return this.printHSL(!0)}},{key:\"hex\",get:function(){var t=this.rgba,r=t.map(function(i,o){return o<3?i.toString(16):Math.round(i*255).toString(16)});return\"#\"+r.map(function(i){return i.padStart(2,\"0\")}).join(\"\")},set:function(t){this.rgba=n.hexToRgb(t)}}],[{key:\"hexToRgb\",value:function(t){var r=(t.startsWith(\"#\")?t.slice(1):t).replace(/^(\\w{3})$/,\"$1F\").replace(/^(\\w)(\\w)(\\w)(\\w)$/,\"$1$1$2$2$3$3$4$4\").replace(/^(\\w{6})$/,\"$1FF\");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error(\"Unknown hex color; \"+t);var i=r.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1).map(function(o){return parseInt(o,16)});return i[3]=i[3]/255,i}},{key:\"nameToRgb\",value:function(t){var r=t.toLowerCase().replace(\"at\",\"T\").replace(/[aeiouyldf]/g,\"\").replace(\"ght\",\"L\").replace(\"rk\",\"D\").slice(-5,4),i=gle[r];return i===void 0?i:n.hexToRgb(i.replace(/\\-/g,\"00\").padStart(6,\"f\"))}},{key:\"rgbToHsl\",value:function(t){var r=Pg(t,4),i=r[0],o=r[1],s=r[2],a=r[3];i/=255,o/=255,s/=255;var l=Math.max(i,o,s),u=Math.min(i,o,s),f=void 0,d=void 0,h=(l+u)/2;if(l===u)f=d=0;else{var g=l-u;switch(d=h>.5?g/(2-l-u):g/(l+u),l){case i:f=(o-s)/g+(o<s?6:0);break;case o:f=(s-i)/g+2;break;case s:f=(i-o)/g+4;break}f/=6}return[f,d,h,a]}},{key:\"hslToRgb\",value:function(t){var r=Pg(t,4),i=r[0],o=r[1],s=r[2],a=r[3],l=void 0,u=void 0,f=void 0;if(o===0)l=u=f=s;else{var d=function(y,v,C){return C<0&&(C+=1),C>1&&(C-=1),C<.16666666666666666?y+(v-y)*6*C:C<.5?v:C<.6666666666666666?y+(v-y)*(.6666666666666666-C)*6:y},h=s<.5?s*(1+o):s+o-s*o,g=2*s-h;l=d(g,h,i+1/3),u=d(g,h,i),f=d(g,h,i-1/3)}var p=[l*255,u*255,f*255].map(Math.round);return p[3]=a,p}}]),n}(),mle=function(){function n(){V2(this,n),this._events=[]}return H2(n,[{key:\"add\",value:function(t,r,i){t.addEventListener(r,i,!1),this._events.push({target:t,type:r,handler:i})}},{key:\"remove\",value:function(t,r,i){this._events=this._events.filter(function(o){var s=!0;return t&&t!==o.target&&(s=!1),r&&r!==o.type&&(s=!1),i&&i!==o.handler&&(s=!1),s&&n._doRemove(o.target,o.type,o.handler),!s})}},{key:\"destroy\",value:function(){this._events.forEach(function(t){return n._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:\"_doRemove\",value:function(t,r,i){t.removeEventListener(r,i,!1)}}]),n}();function vle(n){var e=document.createElement(\"div\");return e.innerHTML=n,e.firstElementChild}function vy(n,e,t){var r=!1;function i(l,u,f){return Math.max(u,Math.min(l,f))}function o(l,u,f){if(f&&(r=!0),!!r){l.preventDefault();var d=e.getBoundingClientRect(),h=d.width,g=d.height,p=u.clientX,m=u.clientY,y=i(p-d.left,0,h),v=i(m-d.top,0,g);t(y/h,v/g)}}function s(l,u){var f=l.buttons===void 0?l.which:l.buttons;f===1?o(l,l,u):r=!1}function a(l,u){l.touches.length===1?o(l,l.touches[0],u):r=!1}n.add(e,\"mousedown\",function(l){s(l,!0)}),n.add(e,\"touchstart\",function(l){a(l,!0)}),n.add(window,\"mousemove\",s),n.add(e,\"touchmove\",a),n.add(window,\"mouseup\",function(l){r=!1}),n.add(e,\"touchend\",function(l){r=!1}),n.add(e,\"touchcancel\",function(l){r=!1})}var yle=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,ble=360,xM=\"keydown\",Ig=\"mousedown\",yy=\"focusin\";function ss(n,e){return(e||document).querySelector(n)}function wle(n){n.preventDefault(),n.stopPropagation()}function by(n,e,t,r,i){n.add(e,xM,function(o){t.indexOf(o.key)>=0&&r(o)})}var CM=function(){function n(e){V2(this,n),this.settings={popup:\"right\",layout:\"default\",alpha:!0,editor:!0,editorFormat:\"hex\",cancelButton:!1,defaultColor:\"#0cf\"},this._events=new mle,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return H2(n,[{key:\"setOptions\",value:function(t){var r=this;if(!t)return;var i=this.settings;function o(u,f,d){for(var h in u)f[h]=u[h]}if(t instanceof HTMLElement)i.parent=t;else{i.parent&&t.parent&&i.parent!==t.parent&&(this._events.remove(i.parent),this._popupInited=!1),o(t,i),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var s=t.color||t.colour;s&&this._setColor(s)}var a=i.parent;if(a&&i.popup&&!this._popupInited){var l=function(f){return r.openHandler(f)};this._events.add(a,\"click\",l),by(this._events,a,[\" \",\"Spacebar\",\"Enter\"],l),this._popupInited=!0}else t.parent&&!i.popup&&this.show()}},{key:\"openHandler\",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents=\"none\";var r=t&&t.type===xM?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:\"closeHandler\",value:function(t){var r=t&&t.type,i=!1;if(!t)i=!0;else if(r===Ig||r===yy){var o=(this.__containedEvent||0)+100;t.timeStamp>o&&(i=!0)}else wle(t),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents=\"\",r!==Ig&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:\"movePopup\",value:function(t,r){this.closeHandler(),this.setOptions(t),r&&this.openHandler()}},{key:\"setColor\",value:function(t,r){this._setColor(t,{silent:r})}},{key:\"_setColor\",value:function(t,r){if(typeof t==\"string\"&&(t=t.trim()),!!t){r=r||{};var i=void 0;try{i=new ple(t)}catch(s){if(r.failSilently)return;throw s}if(!this.settings.alpha){var o=i.hsla;o[3]=1,i.hsla=o}this.colour=this.color=i,this._setHSLA(null,null,null,null,r)}}},{key:\"setColour\",value:function(t,r){this.setColor(t,r)}},{key:\"show\",value:function(){var t=this.settings.parent;if(!t)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var i=this.settings.template||'<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div><div class=\"picker_cancel\"><button>Cancel</button></div></div>',o=vle(i);return this.domElement=o,this._domH=ss(\".picker_hue\",o),this._domSL=ss(\".picker_sl\",o),this._domA=ss(\".picker_alpha\",o),this._domEdit=ss(\".picker_editor input\",o),this._domSample=ss(\".picker_sample\",o),this._domOkay=ss(\".picker_done button\",o),this._domCancel=ss(\".picker_cancel button\",o),o.classList.add(\"layout_\"+this.settings.layout),this.settings.alpha||o.classList.add(\"no_alpha\"),this.settings.editor||o.classList.add(\"no_editor\"),this.settings.cancelButton||o.classList.add(\"no_cancel\"),this._ifPopup(function(){return o.classList.add(\"popup\")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:\"hide\",value:function(){return this._toggleDOM(!1)}},{key:\"destroy\",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:\"_bindEvents\",value:function(){var t=this,r=this,i=this.domElement,o=this._events;function s(u,f,d){o.add(u,f,d)}s(i,\"click\",function(u){return u.preventDefault()}),vy(o,this._domH,function(u,f){return r._setHSLA(u)}),vy(o,this._domSL,function(u,f){return r._setHSLA(null,u,1-f)}),this.settings.alpha&&vy(o,this._domA,function(u,f){return r._setHSLA(null,null,null,1-f)});var a=this._domEdit;s(a,\"input\",function(u){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),s(a,\"focus\",function(u){var f=this;f.selectionStart===f.selectionEnd&&f.select()}),this._ifPopup(function(){var u=function(h){return t.closeHandler(h)};s(window,Ig,u),s(window,yy,u),by(o,i,[\"Esc\",\"Escape\"],u);var f=function(h){t.__containedEvent=h.timeStamp};s(i,Ig,f),s(i,yy,f),s(t._domCancel,\"click\",u)});var l=function(f){t._ifPopup(function(){return t.closeHandler(f)}),t.onDone&&t.onDone(t.colour)};s(this._domOkay,\"click\",l),by(o,i,[\"Enter\"],l)}},{key:\"_setPosition\",value:function(){var t=this.settings.parent,r=this.domElement;t!==r.parentNode&&t.appendChild(r),this._ifPopup(function(i){getComputedStyle(t).position===\"static\"&&(t.style.position=\"relative\");var o=i===!0?\"popup_right\":\"popup_\"+i;[\"popup_top\",\"popup_bottom\",\"popup_left\",\"popup_right\"].forEach(function(s){s===o?r.classList.add(s):r.classList.remove(s)}),r.classList.add(o)})}},{key:\"_setHSLA\",value:function(t,r,i,o,s){s=s||{};var a=this.colour,l=a.hsla;[t,r,i,o].forEach(function(u,f){(u||u===0)&&(l[f]=u)}),a.hsla=l,this._updateUI(s),this.onChange&&!s.silent&&this.onChange(a)}},{key:\"_updateUI\",value:function(t){if(!this.domElement)return;t=t||{};var r=this.colour,i=r.hsla,o=\"hsl(\"+i[0]*ble+\", 100%, 50%)\",s=r.hslString,a=r.hslaString,l=this._domH,u=this._domSL,f=this._domA,d=ss(\".picker_selector\",l),h=ss(\".picker_selector\",u),g=ss(\".picker_selector\",f);function p(E,O,T){O.style.left=T*100+\"%\"}function m(E,O,T){O.style.top=T*100+\"%\"}p(l,d,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,p(u,h,i[1]),m(u,h,1-i[2]),u.style.color=s,m(f,g,1-i[3]);var y=s,v=y.replace(\"hsl\",\"hsla\").replace(\")\",\", 0)\"),C=\"linear-gradient(\"+[y,v]+\")\";if(this._domA.style.background=C+\", \"+yle,!t.fromEditor){var k=this.settings.editorFormat,b=this.settings.alpha,w=void 0;switch(k){case\"rgb\":w=r.printRGB(b);break;case\"hsl\":w=r.printHSL(b);break;default:w=r.printHex(b)}this._domEdit.value=w}this._domSample.style.color=a}},{key:\"_ifPopup\",value:function(t,r){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):r&&r()}},{key:\"_toggleDOM\",value:function(t){var r=this.domElement;if(!r)return!1;var i=t?\"\":\"none\",o=r.style.display!==i;return o&&(r.style.display=i),o}}]),n}();{var wy=document.createElement(\"style\");wy.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:\"\";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:\"\";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:\"\";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(wy),CM.StyleElement=wy}const xle=Object.freeze(Object.defineProperty({__proto__:null,default:CM},Symbol.toStringTag,{value:\"Module\"}))});export default Cle();\n\n</script>\n    <style>\n*:where(:not(html,iframe,canvas,img,svg,video,audio):not(svg *,symbol *)){all:unset;display:revert}*,*:before,*:after{box-sizing:border-box}html{-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none}a,button{cursor:revert}ol,ul,menu,summary{list-style:none}img{max-inline-size:100%;max-block-size:100%}table{border-collapse:collapse}input,textarea{-webkit-user-select:auto}textarea{white-space:revert}meter{-webkit-appearance:revert;-moz-appearance:revert;appearance:revert}:where(pre){all:revert;box-sizing:border-box}::placeholder{color:unset}:where([hidden]){display:none}:where([contenteditable]:not([contenteditable=false])){-moz-user-modify:read-write;-webkit-user-modify:read-write;overflow-wrap:break-word;-webkit-line-break:after-white-space;-webkit-user-select:auto}:where([draggable=true]){-webkit-user-drag:element}:where(dialog:modal){all:revert;box-sizing:border-box}::-webkit-details-marker{display:none}*{box-sizing:border-box}body,html{margin:0;padding:0}body{--border-color: #0000001a;--background-color: white;--background-color-gray: #f5f5f7;--cell-height: 28px;--navigation-width: 200px;background:var(--background-color-gray);color:#323338;height:100vh;font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",Segoe UI Symbol}.root{display:flex;flex-direction:column;height:100%}table{min-width:100%}thead{height:var(--cell-height);position:sticky;top:0;background-color:var(--background-color);z-index:2;font-weight:600}thead:before{content:\"\";position:absolute;top:0;left:0;width:100%;height:1px;background:var(--background-color);z-index:1;border-bottom:1px solid var(--border-color)}th{text-align:center;white-space:nowrap;padding:0 .5rem}tr{height:var(--cell-height);position:relative}td>div:not(.extended__holder){padding:0 .5rem}tbody tr:nth-child(odd):not(.extended),tbody tr:nth-child(odd):not(.extended) td:first-child,tbody tr:nth-child(odd):not(.extended) .action-tab{background:var(--background-color-gray)}tr.extended{background:var(--background-color-gray)}tr.extended>td:first-child{display:none}tr.extended td{border-left:0;max-width:calc(100vw - var(--navigation-width))}.hide-navigation tr.extended td{max-width:100vw}tr.extended th{background:#fff!important;padding:0 .5rem;white-space:nowrap}.extended__holder{background:var(--background-color);border:1px solid var(--border-color);margin:0 0 0 var(--cell-height);display:flex;width:calc(100vw - var(--navigation-width) - var(--cell-height));flex-wrap:wrap}.extended__holder .extended__holder{width:calc(100vw - var(--navigation-width) - var(--cell-height) - var(--cell-height))}.extended__holder .extended__holder .extended__holder{width:calc(100vw - var(--navigation-width) - var(--cell-height) - var(--cell-height) - var(--cell-height))}.hide-navigation .extended__holder{width:calc(100vw - 1rem)}.extended__holder .icon-button:has(.hamburger-icon){display:none}.extended__links{display:flex;justify-content:flex-start;align-items:center;background:var(--background-color-gray);flex:0 0 calc(100% - 250px);width:100%}.extended__holder .page-bar{height:var(--cell-height);flex:0 0 250px;width:250px}.extended__holder .page-bar__title{display:none}.extended__links .tab{border-radius:0;border:none;width:auto}.extended__holder .table-container{flex:0 0 100%}th,td{height:calc(var(--cell-height) - 1px);border:1px solid var(--border-color);vertical-align:middle}td:first-child:has(button){min-width:calc(var(--cell-height) - 1px);border-left:0;position:sticky;background-color:var(--background-color);z-index:1}td:first-child:has(button):after{content:\"\";position:absolute;top:0;right:-1px;width:1px;height:100%;background:var(--background-color);z-index:1;border-right:1px solid var(--border-color)}td:has(.icon-button),td:has(.icon-button) button:has(svg){width:calc(var(--cell-height) - 1px)}td input{height:calc(var(--cell-height) - 1px);padding:0 .5rem;display:flex;height:100%;min-width:100%}td select{height:calc(var(--cell-height) - 1px);padding-left:.5rem;padding-right:1.5rem;display:flex;height:100%;min-width:100%}select{display:flex;align-items:center;position:relative;background-image:url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%20viewBox%3D%220%200%2012%2012%22%3E%3Ctitle%3Edown-arrow%3C%2Ftitle%3E%3Cg%20fill%3D%22%23000000%22%3E%3Cpath%20d%3D%22M10.293%2C3.293%2C6%2C7.586%2C1.707%2C3.293A1%2C1%2C0%2C0%2C0%2C.293%2C4.707l5%2C5a1%2C1%2C0%2C0%2C0%2C1.414%2C0l5-5a1%2C1%2C0%2C1%2C0-1.414-1.414Z%22%20fill%3D%22%23000000%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E);background-size:.6em;background-position:calc(100% - .5rem) center;background-repeat:no-repeat;padding-right:1.5rem}select:focus{box-shadow:0 0 0 2px #007bff inset}td .field-spacer{height:0;padding:0 .5rem;display:block;overflow:hidden;pointer-events:none;min-width:100px;max-width:400px}td input:focus{box-shadow:0 0 0 2px #007bff inset}.table-container{overflow-x:auto}.action-tab{padding:0 .5rem;position:sticky;right:0;background-color:var(--background-color);white-space:nowrap}.action-tab:before{content:\"\";position:absolute;top:0;left:-1px;width:1px;height:100%;background:var(--background-color);z-index:1;border-right:1px solid var(--border-color)}td.action-tab{padding:0rem}button{cursor:pointer;padding:.5rem;border:1px solid var(--border-color);border-radius:.5rem;white-space:nowrap;height:2.5rem}button:focus{box-shadow:0 0 0 2px #007bff inset}.icon-button{width:var(--cell-height);height:var(--cell-height);padding:.3rem;border:0;border-radius:0}.icon-button:focus,.naked-button:focus{box-shadow:0 0 0 2px #007bff inset}.icon-button svg{transition:transform .2s;transform-origin:center}.icon-button.open svg{transform:rotate(90deg)}button:hover,button:active,.tab:hover,.tab:active,.tab.active{background:#e4e4e6}.tab{height:var(--cell-height);display:inline-flex;justify-content:flex-start;align-items:center;padding:.5rem;display:flex;width:100%}.page-bar{background:var(--background-color-gray);height:calc(var(--cell-height) - 1px);display:flex;align-items:center;justify-content:flex-end}.page-bar__title{height:100%;display:flex;align-items:center;font-weight:600;padding:0 .5rem;margin-right:auto}button.new-entry{height:calc(var(--cell-height) - 1px);width:100%;text-align:center;font-weight:400;line-height:calc(var(--cell-height) - 1px);display:flex;justify-content:center;align-items:center}.page-bar__results{white-space:nowrap}.page-bar span{display:block;padding:0 .5rem}.page-bar button{height:100%;display:flex;justify-content:center;align-items:center;border-radius:0;border-top:none;border-bottom:0}.page-bar .icon-button{width:var(--cell-height);height:calc(var(--cell-height) - 1px);border-right:1px solid var(--border-color);border-left:1px solid var(--border-color)}.page-bar button+button,.page-bar .icon-button+button,.page-bar button:first-child{border-left:none}.page-bar button:last-child{border-right:none}#root{justify-content:flex-start;align-items:center}.app-holder{display:flex;flex:1;border-radius:10px;overflow:hidden;background:#fff;margin:0 auto;width:100%}.main-navigation{height:100vh;min-height:100%;position:fixed;left:0;display:flex;flex-direction:column;flex:0 0 var(--navigation-width);width:var(--navigation-width);align-items:flex-start;background:#f5f5f7;border-right:1px solid #e5e7eb;transition:.2s ease-in-out all;overflow-y:auto;padding-top:var(--cell-height);overflow-x:hidden}.main-navigation__title{top:0;position:fixed;background:var(--background-color-gray);height:var(--cell-height);border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;padding:.5rem;padding-left:calc(.5rem + 3px);padding-right:0;align-items:center;font-size:.8rem;font-weight:600;width:calc(var(--navigation-width) - 1px);text-align:center}.main-navigation__title .icon-button{display:flex;justify-content:center;align-items:center}.main-navigation__diagram{border-top:1px solid #e5e7eb;margin-top:auto;font-size:.8rem;font-weight:600;padding-left:.7rem}.main-content{max-height:100vh;transition:.2s ease-in-out all;transform:translate(var(--navigation-width));display:flex;flex-direction:column;flex:1;max-width:calc(100% - var(--navigation-width))}body.hide-navigation .main-navigation{transform:translate(calc(-1 * var(--navigation-width)))}body.hide-navigation .main-content{max-width:100%;transform:translate(0)}.hamburger-icon rect{transition:.2s ease-in-out all}body:not(.hide-navigation) .hamburger-icon rect:first-child{transform:rotate(35deg) translate(-3px,4px)}body:not(.hide-navigation) .hamburger-icon rect:nth-child(2){transform:translate(1px)}body:not(.hide-navigation) .hamburger-icon rect:last-child{transform:rotate(-35deg) translate(-17px,-8px)}.row-actions{display:flex;padding:0!important}.naked-button{height:calc(var(--cell-height) - 1px);padding:0;border:0;border-radius:0}.naked-button:hover{background-color:transparent}.filter strong{display:block;margin-top:.5rem;margin-bottom:1rem;font-weight:600;text-align:center}.filter__group{display:flex;flex-direction:row;width:100%}.filter__group .icon-button{margin-left:auto;border:none}.filter__actions{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;padding:.5rem;width:100%}.filter__actions button{border:none;padding:.5rem;margin:0}.filter__actions button:last-of-type{background:#e4e4e6}.filter__add{margin-left:auto;border:none}.svelte-flow__zoom.svelte-4xkw84{width:100%;height:100%;position:absolute;top:0;left:0;z-index:4}.svelte-flow__pane.svelte-1esy7hx{position:absolute;top:0;left:0;width:100%;height:100%}.svelte-flow__viewport.svelte-1floaup{width:100%;height:100%;position:absolute;top:0;left:0}.svelte-flow__nodes.svelte-tf4uy4{width:100%;height:100%;position:absolute;left:0;top:0}.svelte-flow__selection.svelte-1iugwpu{position:absolute;top:0;left:0}.selection-wrapper.svelte-5pxri{position:absolute;top:0;left:0;z-index:7;pointer-events:all}.svelte-flow.svelte-12wlba6{width:100%;height:100%;overflow:hidden;position:relative;z-index:0;background-color:var(--background-color, var(--background-color-default))}:root{--background-color-default: #fff;--background-pattern-color-default: #ddd;--minimap-mask-color-default: rgb(240, 240, 240, .6);--minimap-mask-stroke-color-default: none;--minimap-mask-stroke-width-default: 1;--controls-button-background-color-default: #fefefe;--controls-button-background-color-hover-default: #f4f4f4;--controls-button-color-default: inherit;--controls-button-color-hover-default: inherit;--controls-button-border-color-default: #eee}.svelte-flow__background.svelte-1r7pe8d{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow{direction:ltr;--xy-edge-stroke-default: #b1b1b7;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #555;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(255, 255, 255, .5);--xy-minimap-background-color-default: #fff;--xy-minimap-mask-background-color-default: rgb(240, 240, 240, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #e2e2e2;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: transparent;--xy-background-pattern-dots-color-default: #91919a;--xy-background-pattern-lines-color-default: #eee;--xy-background-pattern-cross-color-default: #e2e2e2;background-color:var(--xy-background-color, var(--xy-background-color-default));--xy-node-color-default: inherit;--xy-node-border-default: 1px solid #1a192b;--xy-node-background-color-default: #fff;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(0, 0, 0, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #1a192b;--xy-node-border-radius-default: 3px;--xy-handle-background-color-default: #1a192b;--xy-handle-border-color-default: #fff;--xy-selection-background-color-default: rgba(0, 89, 220, .08);--xy-selection-border-default: 1px dotted rgba(0, 89, 220, .8);--xy-controls-button-background-color-default: #fefefe;--xy-controls-button-background-color-hover-default: #f4f4f4;--xy-controls-button-color-default: inherit;--xy-controls-button-color-hover-default: inherit;--xy-controls-button-border-color-default: #eee;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #ffffff;--xy-edge-label-color-default: inherit;--xy-resize-background-color-default: #3367d9}.svelte-flow.dark{--xy-edge-stroke-default: #3e3e3e;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #727272;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(150, 150, 150, .25);--xy-minimap-background-color-default: #141414;--xy-minimap-mask-background-color-default: rgb(60, 60, 60, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #2b2b2b;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: #141414;--xy-background-pattern-dots-color-default: #777;--xy-background-pattern-lines-color-default: #777;--xy-background-pattern-cross-color-default: #777;--xy-node-color-default: #f8f8f8;--xy-node-border-default: 1px solid #3c3c3c;--xy-node-background-color-default: #1e1e1e;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(255, 255, 255, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #999;--xy-handle-background-color-default: #bebebe;--xy-handle-border-color-default: #1e1e1e;--xy-selection-background-color-default: rgba(200, 200, 220, .08);--xy-selection-border-default: 1px dotted rgba(200, 200, 220, .8);--xy-controls-button-background-color-default: #2b2b2b;--xy-controls-button-background-color-hover-default: #3e3e3e;--xy-controls-button-color-default: #f8f8f8;--xy-controls-button-color-hover-default: #fff;--xy-controls-button-border-color-default: #5b5b5b;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #141414;--xy-edge-label-color-default: #f8f8f8}.svelte-flow__background{background-color:var(--xy-background-color, var(--xy-background-color-props, var(--xy-background-color-default)));pointer-events:none;z-index:-1}.svelte-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow__pane{z-index:1}.svelte-flow__pane.draggable{cursor:grab}.svelte-flow__pane.dragging{cursor:grabbing}.svelte-flow__pane.selection{cursor:pointer}.svelte-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.svelte-flow__renderer{z-index:4}.svelte-flow__selection{z-index:6}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible{outline:none}.svelte-flow__edge-path{stroke:var(--xy-edge-stroke, var(--xy-edge-stroke-default));stroke-width:var(--xy-edge-stroke-width, var(--xy-edge-stroke-width-default));fill:none}.svelte-flow__connection-path{stroke:var(--xy-connectionline-stroke, var(--xy-connectionline-stroke-default));stroke-width:var(--xy-connectionline-stroke-width, var(--xy-connectionline-stroke-width-default));fill:none}.svelte-flow .svelte-flow__edges{position:absolute}.svelte-flow .svelte-flow__edges svg{overflow:visible;position:absolute;pointer-events:none}.svelte-flow__edge{pointer-events:visibleStroke}.svelte-flow__edge.selectable{cursor:pointer}.svelte-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.svelte-flow__edge.animated path.svelte-flow__edge-interaction{stroke-dasharray:none;animation:none}.svelte-flow__edge.inactive{pointer-events:none}.svelte-flow__edge.selected,.svelte-flow__edge:focus,.svelte-flow__edge:focus-visible{outline:none}.svelte-flow__edge.selected .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus-visible .svelte-flow__edge-path{stroke:var(--xy-edge-stroke-selected, var(--xy-edge-stroke-selected-default))}.svelte-flow__edge-textwrapper{pointer-events:all}.svelte-flow__edge .svelte-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__connection{pointer-events:none}.svelte-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}svg.svelte-flow__connectionline{z-index:1001;overflow:visible;position:absolute}.svelte-flow__nodes{pointer-events:none;transform-origin:0 0}.svelte-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:default}.svelte-flow__node.selectable{cursor:pointer}.svelte-flow__node.draggable{cursor:grab;pointer-events:all}.svelte-flow__node.draggable.dragging{cursor:grabbing}.svelte-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.svelte-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.svelte-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background-color:var(--xy-handle-background-color, var(--xy-handle-background-color-default));border:1px solid var(--xy-handle-border-color, var(--xy-handle-border-color-default));border-radius:100%}.svelte-flow__handle.connectingfrom{pointer-events:all}.svelte-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.svelte-flow__handle-bottom{top:auto;left:50%;bottom:0;transform:translate(-50%,50%)}.svelte-flow__handle-top{top:0;left:50%;transform:translate(-50%,-50%)}.svelte-flow__handle-left{top:50%;left:0;transform:translate(-50%,-50%)}.svelte-flow__handle-right{top:50%;right:0;transform:translate(50%,-50%)}.svelte-flow__edgeupdater{cursor:move;pointer-events:all}.svelte-flow__panel{position:absolute;z-index:5;margin:15px}.svelte-flow__panel.top{top:0}.svelte-flow__panel.bottom{bottom:0}.svelte-flow__panel.left{left:0}.svelte-flow__panel.right{right:0}.svelte-flow__panel.center{left:50%;transform:translate(-50%)}.svelte-flow__attribution{font-size:10px;background:var(--xy-attribution-background-color, var(--xy-attribution-background-color-default));padding:2px 3px;margin:0}.svelte-flow__attribution a{text-decoration:none;color:#999}@keyframes dashdraw{0%{stroke-dashoffset:10}}.svelte-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:0;top:0}.svelte-flow__viewport-portal{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__minimap{background:var( --xy-minimap-background-color-props, var(--xy-minimap-background-color, var(--xy-minimap-background-color-default)) )}.svelte-flow__minimap-svg{display:block}.svelte-flow__minimap-mask{fill:var( --xy-minimap-mask-background-color-props, var(--xy-minimap-mask-background-color, var(--xy-minimap-mask-background-color-default)) );stroke:var( --xy-minimap-mask-stroke-color-props, var(--xy-minimap-mask-stroke-color, var(--xy-minimap-mask-stroke-color-default)) );stroke-width:var( --xy-minimap-mask-stroke-width-props, var(--xy-minimap-mask-stroke-width, var(--xy-minimap-mask-stroke-width-default)) )}.svelte-flow__minimap-node{fill:var( --xy-minimap-node-background-color-props, var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default)) );stroke:var( --xy-minimap-node-stroke-color-props, var(--xy-minimap-node-stroke-color, var(--xy-minimap-node-stroke-color-default)) );stroke-width:var( --xy-minimap-node-stroke-width-props, var(--xy-minimap-node-stroke-width, var(--xy-minimap-node-stroke-width-default)) )}.svelte-flow__background-pattern.dots{fill:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-dots-color-default)) )}.svelte-flow__background-pattern.lines{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-lines-color-default)) )}.svelte-flow__background-pattern.cross{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-cross-color-default)) )}.svelte-flow__controls{display:flex;flex-direction:column;box-shadow:var(--xy-controls-box-shadow, var(--xy-controls-box-shadow-default))}.svelte-flow__controls.horizontal{flex-direction:row}.svelte-flow__controls-button{display:flex;justify-content:center;align-items:center;height:26px;width:26px;padding:4px;border:none;background:var(--xy-controls-button-background-color, var(--xy-controls-button-background-color-default));border-bottom:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) );color:var( --xy-controls-button-color-props, var(--xy-controls-button-color, var(--xy-controls-button-color-default)) );cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__controls-button svg{width:100%;max-width:12px;max-height:12px;fill:currentColor}.svelte-flow__edge.updating .svelte-flow__edge-path{stroke:#777}.svelte-flow__edge-text{font-size:10px}.svelte-flow__node.selectable:focus,.svelte-flow__node.selectable:focus-visible{outline:none}.svelte-flow__node-input,.svelte-flow__node-default,.svelte-flow__node-output,.svelte-flow__node-group{padding:10px;border-radius:var(--xy-node-border-radius, var(--xy-node-border-radius-default));width:150px;font-size:12px;color:var(--xy-node-color, var(--xy-node-color-default));text-align:center;border:var(--xy-node-border, var(--xy-node-border-default));background-color:var(--xy-node-background-color, var(--xy-node-background-color-default))}.svelte-flow__node-input.selectable:hover,.svelte-flow__node-default.selectable:hover,.svelte-flow__node-output.selectable:hover,.svelte-flow__node-group.selectable:hover{box-shadow:var(--xy-node-boxshadow-hover, var(--xy-node-boxshadow-hover-default))}.svelte-flow__node-input.selectable.selected,.svelte-flow__node-input.selectable:focus,.svelte-flow__node-input.selectable:focus-visible,.svelte-flow__node-default.selectable.selected,.svelte-flow__node-default.selectable:focus,.svelte-flow__node-default.selectable:focus-visible,.svelte-flow__node-output.selectable.selected,.svelte-flow__node-output.selectable:focus,.svelte-flow__node-output.selectable:focus-visible,.svelte-flow__node-group.selectable.selected,.svelte-flow__node-group.selectable:focus,.svelte-flow__node-group.selectable:focus-visible{box-shadow:var(--xy-node-boxshadow-selected, var(--xy-node-boxshadow-selected-default))}.svelte-flow__node-group{background-color:var(--xy-node-group-background-color, var(--xy-node-group-background-color-default))}.svelte-flow__nodesselection-rect,.svelte-flow__selection{background:var(--xy-selection-background-color, var(--xy-selection-background-color-default));border:var(--xy-selection-border, var(--xy-selection-border-default))}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible,.svelte-flow__selection:focus,.svelte-flow__selection:focus-visible{outline:none}.svelte-flow__controls-button:hover{background:var( --xy-controls-button-background-color-hover-props, var(--xy-controls-button-background-color-hover, var(--xy-controls-button-background-color-hover-default)) );color:var( --xy-controls-button-color-hover-props, var(--xy-controls-button-color-hover, var(--xy-controls-button-color-hover-default)) )}.svelte-flow__controls-button:disabled{pointer-events:none}.svelte-flow__controls-button:disabled svg{fill-opacity:.4}.svelte-flow__controls-button:last-child{border-bottom:none}.svelte-flow__resize-control{position:absolute}.svelte-flow__resize-control.left,.svelte-flow__resize-control.right{cursor:ew-resize}.svelte-flow__resize-control.top,.svelte-flow__resize-control.bottom{cursor:ns-resize}.svelte-flow__resize-control.top.left,.svelte-flow__resize-control.bottom.right{cursor:nwse-resize}.svelte-flow__resize-control.bottom.left,.svelte-flow__resize-control.top.right{cursor:nesw-resize}.svelte-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));transform:translate(-50%,-50%)}.svelte-flow__resize-control.handle.left{left:0;top:50%}.svelte-flow__resize-control.handle.right{left:100%;top:50%}.svelte-flow__resize-control.handle.top{left:50%;top:0}.svelte-flow__resize-control.handle.bottom{left:50%;top:100%}.svelte-flow__resize-control.handle.top.left,.svelte-flow__resize-control.handle.bottom.left{left:0}.svelte-flow__resize-control.handle.top.right,.svelte-flow__resize-control.handle.bottom.right{left:100%}.svelte-flow__resize-control.line{border-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));border-width:0;border-style:solid}.svelte-flow__resize-control.line.left,.svelte-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.svelte-flow__resize-control.line.left{left:0;border-left-width:1px}.svelte-flow__resize-control.line.right{left:100%;border-right-width:1px}.svelte-flow__resize-control.line.top,.svelte-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.svelte-flow__resize-control.line.top{top:0;border-top-width:1px}.svelte-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.svelte-flow__edge-label{text-align:center;position:absolute;padding:2px;font-size:10px;cursor:pointer;color:var(--xy-edge-label-color, var(--xy-edge-label-color-default));background:var(--xy-edge-label-background-color, var(--xy-edge-label-background-color-default))}.svelte-flow__nodes,.svelte-flow__edgelabel-renderer{z-index:0}.entity-fields.svelte-6slv8o{border:1px solid #cbd2d9;border-top:0;border-radius:0 0 4px 4px}.entity-node.svelte-6slv8o{--entity-color: rgb(145, 196, 242);border-radius:4px;background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;border-top:8px solid hsla(var(--color),70%,50%,1);min-width:200px}.entity-node.svelte-6slv8o:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.entity-name.svelte-6slv8o{position:relative;padding:8px;background-color:#f8fafc;border:1px solid rgb(203 213 225);font-size:1.25rem;line-height:1.75rem;font-weight:400;text-align:center}.entity-field.svelte-6slv8o{position:relative;padding:8px;font-size:.9rem;color:#606f7b;padding-inline-start:16px}.entity-field.svelte-6slv8o:hover{background:#f5f7fa}.svelte-flow__handle.connectionindicator{visibility:hidden}.msg.svelte-yni9t8{width:100%;font:4em sans-serif;margin-top:5rem;margin-left:auto;margin-right:auto;text-align:center}body{--primary-color: #007bff;--hover-color: #0056b3}.result-count.svelte-177wg27{text-align:right;margin-top:-.5rem;margin-bottom:.5rem;margin-right:.5rem;font-size:.7rem;color:rgb(var(--color-black) / .8)}input.svelte-177wg27{width:100%;padding:.5rem;margin-bottom:.5rem;border:.1rem solid rgb(var(--color-black) / .5)}input.svelte-177wg27:focus{border-color:var(--primary-color);outline:0;box-shadow:.2rem #007bff40}.dialog-list.svelte-177wg27{display:flex;flex-direction:column;justify-content:stretch;gap:.2rem}button.svelte-177wg27:focus{box-shadow:0 0 0 2px #007bff inset}.skeleton.svelte-1syc90w{background-color:#eee;background-image:linear-gradient(90deg,#eee,#f5f5f5,#eee);background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:var(--width);height:12px;animation:svelte-1syc90w-skeleton-animation 1.5s ease-in-out infinite}@keyframes svelte-1syc90w-skeleton-animation{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}button.svelte-1ualm2c{padding:.3rem;width:100%}.btn-txt.svelte-1ualm2c{width:100%;text-align:left}.jse-absolute-popup.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input:where(.svelte-1r8q3m8){position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content:where(.svelte-1r8q3m8){position:absolute}.fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scaleX(-1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scaleY(-1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.jse-boolean-toggle.svelte-1ryp01u{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean, #ff8c00)}.jse-boolean-toggle.svelte-1ryp01u:not(.jse-readonly){cursor:pointer}.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow:before,.jse-color-picker-popup.svelte-s1wu8v .picker_wrapper.popup .picker_arrow:after{background:var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));line-height:normal}.jse-color-picker-popup.svelte-s1wu8v .picker_slider,.jse-color-picker-popup.svelte-s1wu8v .picker_sl,.jse-color-picker-popup.svelte-s1wu8v .picker_editor input,.jse-color-picker-popup.svelte-s1wu8v .picker_sample,.jse-color-picker-popup.svelte-s1wu8v .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-s1wu8v .picker_editor input{background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-color-picker-popup.svelte-s1wu8v .picker_done button{background:var(--jse-button-background, #e0e0e0);color:var(--jse-button-color, var(--jse-text-color, #4d4d4d))}.jse-color-picker-popup.svelte-s1wu8v .picker_done button:hover{background:var(--jse-button-background-highlight, #e7e7e7)}.jse-color-picker-button.svelte-xeg9n6{font-size:var(--jse-font-size-mono, 14px);width:var(--jse-color-picker-button-size, 1em);height:var(--jse-color-picker-button-size, 1em);box-sizing:border-box;padding:0;margin:2px 0 0 calc(.5 * var(--jse-padding, 10px));display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color, #4d4d4d);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-xeg9n6:not(.jse-readonly){cursor:pointer}.jse-value.jse-string.svelte-f9kmxj{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-f9kmxj,.jse-value.jse-array.svelte-f9kmxj{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-value.jse-number.svelte-f9kmxj{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-f9kmxj{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-f9kmxj{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-f9kmxj{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-f9kmxj{color:var(--jse-value-color-url, #008000);text-decoration:underline}div.jse-editable-div.svelte-f9kmxj{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text!important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-f9kmxj{overflow-wrap:normal}div.jse-editable-div.jse-table-cell.svelte-f9kmxj{overflow-wrap:normal;white-space:nowrap}div.jse-editable-div[contenteditable=true].svelte-f9kmxj{outline:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff);position:relative;display:inline-block;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-f9kmxj:not(:focus){outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-f9kmxj:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2))}.jse-highlight.svelte-5fb7bl{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-highlight.jse-active.svelte-5fb7bl{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-value.jse-string.svelte-c0g9qz{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-c0g9qz,.jse-value.jse-array.svelte-c0g9qz{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-value.jse-number.svelte-c0g9qz{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-c0g9qz{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-c0g9qz{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-c0g9qz{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-c0g9qz{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-value.svelte-c0g9qz{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.jse-table-cell.svelte-c0g9qz{overflow-wrap:normal;white-space:nowrap}.jse-value.jse-empty.svelte-c0g9qz{min-width:4em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}.jse-value.jse-empty.svelte-c0g9qz:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2));content:\"value\"}.jse-tooltip.svelte-14y3y8t{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);border-radius:3px;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-timestamp.svelte-1jla5ec{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number, #ee422e)}svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}.loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate .75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{to{transform:rotate(360deg)}}.svelte-select.svelte-82qwg8{--borderRadius: var(--border-radius);--clearSelectColor: var(--clear-select-color);--clearSelectWidth: var(--clear-select-width);--disabledBackground: var(--disabled-background);--disabledBorderColor: var(--disabled-border-color);--disabledColor: var(--disabled-color);--disabledPlaceholderColor: var(--disabled-placeholder-color);--disabledPlaceholderOpacity: var(--disabled-placeholder-opacity);--errorBackground: var(--error-background);--errorBorder: var(--error-border);--groupItemPaddingLeft: var(--group-item-padding-left);--groupTitleColor: var(--group-title-color);--groupTitleFontSize: var(--group-title-font-size);--groupTitleFontWeight: var(--group-title-font-weight);--groupTitlePadding: var(--group-title-padding);--groupTitleTextTransform: var(--group-title-text-transform);--groupTitleBorderColor: var(--group-title-border-color);--groupTitleBorderWidth: var(--group-title-border-width);--groupTitleBorderStyle: var(--group-title-border-style);--indicatorColor: var(--chevron-color);--indicatorHeight: var(--chevron-height);--indicatorWidth: var(--chevron-width);--inputColor: var(--input-color);--inputLeft: var(--input-left);--inputLetterSpacing: var(--input-letter-spacing);--inputMargin: var(--input-margin);--inputPadding: var(--input-padding);--itemActiveBackground: var(--item-active-background);--itemColor: var(--item-color);--itemFirstBorderRadius: var(--item-first-border-radius);--itemHoverBG: var(--item-hover-bg);--itemHoverColor: var(--item-hover-color);--itemIsActiveBG: var(--item-is-active-bg);--itemIsActiveColor: var(--item-is-active-color);--itemIsNotSelectableColor: var(--item-is-not-selectable-color);--itemPadding: var(--item-padding);--listBackground: var(--list-background);--listBorder: var(--list-border);--listBorderRadius: var(--list-border-radius);--listEmptyColor: var(--list-empty-color);--listEmptyPadding: var(--list-empty-padding);--listEmptyTextAlign: var(--list-empty-text-align);--listMaxHeight: var(--list-max-height);--listPosition: var(--list-position);--listShadow: var(--list-shadow);--listZIndex: var(--list-z-index);--multiItemBG: var(--multi-item-bg);--multiItemBorderRadius: var(--multi-item-border-radius);--multiItemDisabledHoverBg: var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor: var(--multi-item-disabled-hover-color);--multiItemHeight: var(--multi-item-height);--multiItemMargin: var(--multi-item-margin);--multiItemPadding: var(--multi-item-padding);--multiSelectInputMargin: var(--multi-select-input-margin);--multiSelectInputPadding: var(--multi-select-input-padding);--multiSelectPadding: var(--multi-select-padding);--placeholderColor: var(--placeholder-color);--placeholderOpacity: var(--placeholder-opacity);--selectedItemPadding: var(--selected-item-padding);--spinnerColor: var(--spinner-color);--spinnerHeight: var(--spinner-height);--spinnerWidth: var(--spinner-width);--internal-padding: 0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8,.indicators.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container:where(.svelte-82qwg8)>input:where(.svelte-82qwg8){width:100%;height:100%}input.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input:where(.svelte-82qwg8)::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item:where(.svelte-82qwg8){position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input:where(.svelte-82qwg8){padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px,1px,1px,1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap}.multi-item.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color: var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, .24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all .2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8,.item.not-selectable.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}table.jse-transform-wizard.svelte-qbze6z{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-qbze6z input:where(.svelte-qbze6z){font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) th:where(.svelte-qbze6z){font-weight:400;text-align:left;width:60px}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z){width:100%;display:flex;flex-direction:row;margin-bottom:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select .value-container{gap:0!important}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-path{flex:4;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-path{flex:3;margin-right:calc(.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z){flex:4;padding:4px 8px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);outline:none;background:var(--jse-input-background, var(--jse-background-color, #fff));color:inherit}table.jse-transform-wizard.svelte-qbze6z tr:where(.svelte-qbze6z) td:where(.svelte-qbze6z) .jse-horizontal:where(.svelte-qbze6z) .jse-filter-value:where(.svelte-qbze6z):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-select-query-language.svelte-atm4um{position:relative;width:32px}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um){position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;text-align:left;padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));white-space:nowrap;color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));background:var(--jse-context-menu-background, #656565)}.jse-select-query-language.svelte-atm4um .jse-select-query-language-container:where(.svelte-atm4um) .jse-query-language:where(.svelte-atm4um):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-header.svelte-1y24war{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1y24war .jse-title:where(.svelte-1y24war){flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1y24war button:where(.svelte-1y24war){border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1y24war button:where(.svelte-1y24war):hover{background:#ffffff1a}.jse-config.svelte-1kpylsp{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-config.svelte-1kpylsp:hover{background:#ffffff1a}.jse-config.hide.svelte-1kpylsp{display:none}.jse-message.svelte-czprfx{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);padding:var(--jse-padding, 10px);display:flex;gap:var(--jse-padding, 10px);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-czprfx{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff)}.jse-message.svelte-czprfx .jse-text:where(.svelte-czprfx){display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx){cursor:pointer}.jse-message.svelte-czprfx .jse-text.jse-clickable:where(.svelte-czprfx):hover{background-color:#ffffff1a}.jse-message.jse-error.svelte-czprfx{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-message.jse-warning.svelte-czprfx{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-message.jse-info.svelte-czprfx{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx){display:flex;gap:var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx){border:none;background:transparent;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-message-action-background, rgba(255, 255, 255, .2));color:inherit;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-message.svelte-czprfx .jse-actions:where(.svelte-czprfx) button.jse-action:where(.svelte-czprfx):hover{background:var(--jse-message-action-background-highlight, rgba(255, 255, 255, .3))}.jse-validation-errors-overview.svelte-1uindol{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol){border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol){cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-error:where(.svelte-1uindol){background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol){background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-warning:where(.svelte-1uindol):hover{filter:brightness(105%)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr.jse-validation-info:where(.svelte-1uindol){background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol):hover{filter:brightness(110%)}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol){padding:4px var(--jse-padding, 10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-icon:where(.svelte-1uindol){width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol){width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol){border:none;background:transparent;color:inherit;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td.jse-validation-error-action:where(.svelte-1uindol) button.jse-validation-errors-collapse:where(.svelte-1uindol):hover{background-color:#fff3}.jse-validation-errors-overview.svelte-1uindol table:where(.svelte-1uindol) tr:where(.svelte-1uindol) td:where(.svelte-1uindol) div.jse-validation-errors-expand:where(.svelte-1uindol){display:inline-block;position:relative;top:3px}dialog.jse-modal.svelte-1s9c2ql{border-radius:3px;font-size:var(--jse-padding, 10px);border:none;padding:0;display:flex;min-width:0;margin:auto;overflow:visible;transition:width .1s ease-in-out,height .1s ease-in-out}dialog.jse-modal.jse-sort-modal.svelte-1s9c2ql{width:400px}dialog.jse-modal.jse-repair-modal.svelte-1s9c2ql{width:600px;height:500px}dialog.jse-modal.jse-jsoneditor-modal.svelte-1s9c2ql{width:800px;height:600px}dialog.jse-modal.jse-transform-modal.svelte-1s9c2ql{width:1200px;height:800px}dialog.jse-modal.jse-fullscreen.svelte-1s9c2ql{width:100%;height:100%}dialog.jse-modal.svelte-1s9c2ql::backdrop{background:var(--jse-overlay-background, rgba(0, 0, 0, .3))}dialog.jse-modal[open].svelte-1s9c2ql{animation:svelte-1s9c2ql-zoom .3s cubic-bezier(.34,1.56,.64,1)}dialog.jse-modal[open].svelte-1s9c2ql::backdrop{animation:svelte-1s9c2ql-fade .2s ease-out}dialog.jse-modal.svelte-1s9c2ql .jse-modal-inner:where(.svelte-1s9c2ql){flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;padding:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}@keyframes svelte-1s9c2ql-zoom{0%{transform:scale(.95)}to{transform:scale(1)}}@keyframes svelte-1s9c2ql-fade{0%{opacity:0}to{opacity:1}}dialog.jse-modal.svelte-1s9c2ql .svelte-select{--border: var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg: var(--jse-item-is-active-bg, #3883fa);--border-radius: var(--jse-svelte-select-border-radius, 3px);--background: var(--jse-svelte-select-background, #fff);--padding: var(--jse-svelte-select-padding, 0 10px);--multi-select-padding: var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size: var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height: 36px;--multi-item-height: 28px;--multi-item-margin: 2px;--multi-item-padding: 2px 8px;--multi-item-border-radius: 6px;--indicator-top: 8px}.jse-modal-contents.svelte-189qksl{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-189qksl .jse-actions:where(.svelte-189qksl) button.jse-primary:where(.svelte-189qksl):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-shortcuts.svelte-189qksl{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding, 10px)) 0}.jse-shortcuts.svelte-189qksl .jse-shortcut:where(.svelte-189qksl) .jse-key:where(.svelte-189qksl){font-size:200%;color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-pf7s2l{background:var(--jse-theme-color, #3883fa);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-main-menu, 14px);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l){font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size, 32px);height:var(--jse-menu-button-size, 32px);padding:calc(.5 * var(--jse-padding, 10px));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):hover,.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button:where(.svelte-pf7s2l):disabled{color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:.5;background:transparent}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l){width:auto;height:calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));margin:calc(.5 * var(--jse-padding, 10px)) 0;padding:0 calc(.5 * var(--jse-padding, 10px)) 1px;border:1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):not(.jse-last){border-right:none}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-first:where(.svelte-pf7s2l){margin-left:calc(.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-last:where(.svelte-pf7s2l){margin-right:calc(.5 * var(--jse-padding, 10px))}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):hover,.jse-menu.svelte-pf7s2l .jse-button.jse-group-button:where(.svelte-pf7s2l):focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-pf7s2l .jse-button.jse-group-button.jse-selected:where(.svelte-pf7s2l){background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-pf7s2l .jse-space:where(.svelte-pf7s2l){flex:1}.jse-menu.svelte-pf7s2l .jse-separator:where(.svelte-pf7s2l){background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:.3;width:1px;margin:3px}.jse-json-repair-component.svelte-3golau{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-json-repair-component.svelte-3golau .jse-info:where(.svelte-3golau){padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);vertical-align:center}.jse-json-repair-component.svelte-3golau .jse-json-text:where(.svelte-3golau){flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-input-background, var(--jse-background-color, #fff));color:var(--jse-text-color, #4d4d4d);resize:none;outline:none}div.jse-collapsed-items.svelte-1h6hzoq{margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, .38));padding:calc(.5 * var(--jse-padding, 10px));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color, transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5),var(--jse-collapsed-items-background-color, #f5f5f5)),linear-gradient(to bottom right,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to bottom left,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to top right,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%),linear-gradient(to top left,transparent 50.5%,var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);background-repeat:repeat,repeat-x,repeat-x,repeat-x,repeat-x;background-position:0 0,8px 0,8px 0,8px 100%,8px 100%;background-size:auto auto,16px 16px,16px 16px,16px 16px,16px 16px;background-clip:padding-box,border-box,border-box,border-box,border-box;background-origin:padding-box,border-box,border-box,border-box,border-box;display:flex}div.jse-collapsed-items.jse-selected.svelte-1h6hzoq{background-color:var(--jse-selection-background-color, #d3d3d3);--jse-collapsed-items-background-color: var(--jse-collapsed-items-selected-background-color, #c2c2c2)}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq),div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq){margin:0 calc(.5 * var(--jse-padding, 10px))}div.jse-collapsed-items.svelte-1h6hzoq div.jse-text:where(.svelte-1h6hzoq){display:inline}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq){font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, .38));background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):hover,div.jse-collapsed-items.svelte-1h6hzoq button.jse-expand-items:where(.svelte-1h6hzoq):focus{color:var(--jse-collapsed-items-link-color-highlight, #ee5341)}.jse-context-menu-pointer.svelte-137iwnw{position:absolute;top:calc(-.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px) ));right:calc(-.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px) ));width:var(--jse-context-menu-pointer-size, calc(1em + 4px) );height:var(--jse-context-menu-pointer-size, calc(1em + 4px) );padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-hover-background, #b2b2b2);color:var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));border:none;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-context-menu-pointer.jse-root.svelte-137iwnw{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px) ))}.jse-context-menu-pointer.jse-insert.svelte-137iwnw{right:-1px}.jse-context-menu-pointer.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw{background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-context-menu-pointer.jse-selected.svelte-137iwnw:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-key.svelte-2iqnqn{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color, #1a1a1a);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.jse-empty.svelte-2iqnqn{min-width:3em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, .2));-moz-outline-radius:2px}.jse-key.jse-empty.svelte-2iqnqn:after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, .2));content:\"key\"}button.jse-validation-error.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-error-color, #ee5341)}button.jse-validation-info.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-info-color, #4f91ff)}button.jse-validation-warning.svelte-1a8aobl{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color, #fdc539)}.jse-expand.svelte-wovgt4{width:var(--jse-indent-size, calc(1em + 4px) );padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38));font-size:var(--jse-font-size-mono, 14px);height:var(--jse-line-height, calc(1em + 4px) )}.jse-expand.svelte-wovgt4:hover{opacity:.8}.jse-meta.svelte-wovgt4,.jse-separator.svelte-wovgt4,.jse-index.svelte-wovgt4,.jse-bracket.svelte-wovgt4{vertical-align:top;color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-index.svelte-wovgt4{padding:0 calc(.5 * var(--jse-padding, 10px))}.jse-bracket.svelte-wovgt4{padding:0 2px}.jse-bracket.jse-expanded.svelte-wovgt4{padding-right:var(--jse-padding, 10px)}.jse-tag.svelte-wovgt4{border:none;font-size:80%;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tag-background, rgba(0, 0, 0, .2));border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-wovgt4:hover{opacity:.8}.jse-tag.jse-expanded.svelte-wovgt4{opacity:.7;cursor:inherit}.jse-identifier.svelte-wovgt4{vertical-align:top;position:relative}.jse-json-node.svelte-wovgt4{position:relative;color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-root.svelte-wovgt4{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-wovgt4>.jse-contents-outer:where(.svelte-wovgt4)>.jse-contents:where(.svelte-wovgt4){padding-left:0}.jse-json-node.svelte-wovgt4 .jse-props:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-items:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-header-outer:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-footer-outer:where(.svelte-wovgt4){display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ))}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4) .jse-meta:where(.svelte-wovgt4)>.jse-meta-inner:where(.svelte-wovgt4){display:flex;justify-content:center}.jse-json-node.svelte-wovgt4 .jse-contents-outer:where(.svelte-wovgt4){display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ))}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4){display:flex;flex-direction:row;align-items:flex-start}.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4){padding-left:var(--jse-indent-size, calc(1em + 4px) );cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4) .jse-value-outer:where(.svelte-wovgt4){display:inline-flex}.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){display:inline-flex;padding-left:calc(var(--jse-indent-size, calc(1em + 4px) ) + 5px)}.jse-json-node.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){background:var(--jse-contents-background-color, transparent)}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area:where(.svelte-wovgt4){padding:0 calc(.5 * var(--jse-padding, 10px));flex:1}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-inside:where(.svelte-wovgt4){display:inline-flex;align-items:center}.jse-json-node.svelte-wovgt4 .jse-insert-selection-area.jse-after:where(.svelte-wovgt4){display:flex;align-items:flex-end}.jse-json-node.svelte-wovgt4 .jse-context-menu-pointer-anchor:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-insert-area:where(.svelte-wovgt4){display:flex;position:relative;z-index:1;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px) ));max-width:250px;min-width:100px;height:0;margin-right:calc(.5 * var(--jse-padding, 10px));outline:1px solid}.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-hovered:where(.svelte-wovgt4){outline-color:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4){position:relative}.jse-json-node.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,.jse-json-node.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06));cursor:var(--jse-contents-cursor, pointer)}.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-value-outer .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-meta .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-items .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-header .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-props .jse-contents .jse-meta,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-value-outer,.jse-json-node.jse-hovered.svelte-wovgt4:not(.jse-selected):not(.jse-selected-value) .jse-footer .jse-meta{background:none}.jse-json-node.jse-selected.svelte-wovgt4 .jse-header:where(.svelte-wovgt4),.jse-json-node.jse-selected.svelte-wovgt4 .jse-contents:where(.svelte-wovgt4),.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4){background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected.svelte-wovgt4 .jse-key-outer:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-value-outer:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-meta:where(.svelte-wovgt4):hover,.jse-json-node.jse-selected.svelte-wovgt4 .jse-footer:where(.svelte-wovgt4):hover{background:inherit;cursor:inherit}.jse-json-node.svelte-wovgt4 .jse-key-outer.jse-selected-key:where(.svelte-wovgt4){background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-value-outer .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-meta .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-items .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-header .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-props .jse-contents .jse-key-outer:hover,.jse-json-node.jse-selected-value.svelte-wovgt4 .jse-footer .jse-key-outer:hover{background:inherit;cursor:inherit}.jse-json-node.jse-readonly.svelte-wovgt4{--jse-contents-selected-cursor: pointer}.jse-json-node.svelte-wovgt4 .jse-insert-area.jse-selected:where(.svelte-wovgt4){outline-color:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-welcome.svelte-1eamlhk{flex:1;overflow:auto;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-1eamlhk .jse-space.jse-before:where(.svelte-1eamlhk){flex:1}.jse-welcome.svelte-1eamlhk .jse-space.jse-after:where(.svelte-1eamlhk){flex:2}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk){display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding, 10px);gap:var(--jse-padding, 10px)}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) .jse-welcome-info:where(.svelte-1eamlhk){color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-welcome.svelte-1eamlhk .jse-contents:where(.svelte-1eamlhk) button:where(.svelte-1eamlhk):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-navigation-bar-dropdown.svelte-2nnd2m{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m){font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px)) 36px}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):focus,.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item:where(.svelte-2nnd2m):hover{background:var(--jse-navigation-bar-background-highlight, #e5e5e5)}.jse-navigation-bar-dropdown.svelte-2nnd2m button.jse-navigation-bar-dropdown-item.jse-selected:where(.svelte-2nnd2m){background:var(--jse-navigation-bar-dropdown-color, #656565);color:var(--jse-navigation-bar-background, var(--jse-background-color, #fff))}.jse-navigation-bar-item.svelte-752ro1{position:relative;display:flex}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1){font-family:inherit;font-size:inherit;padding:calc(.5 * var(--jse-padding, 10px)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):focus,.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button:where(.svelte-752ro1):hover{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d))}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow:where(.svelte-752ro1){padding:2px var(--jse-padding, 10px) 0}.jse-navigation-bar-item.svelte-752ro1 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open:where(.svelte-752ro1){background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565)}.jse-navigation-bar-item.svelte-752ro1:last-child{padding-right:var(--jse-padding, 10px)}.jse-navigation-bar-path-editor.svelte-zc2wx7{flex:1;display:flex;border:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff)}.jse-navigation-bar-path-editor.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7){flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-zc2wx7 button:where(.svelte-zc2wx7){border:none;background:var(--jse-background-color, #fff);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-copy.copied:where(.svelte-zc2wx7){color:var(--message-success-background, #9ac45d)}.jse-navigation-bar-path-editor.svelte-zc2wx7 button.jse-navigation-bar-validation-error:where(.svelte-zc2wx7){color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7{border-color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-zc2wx7 input.jse-navigation-bar-text:where(.svelte-zc2wx7){color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.svelte-zc2wx7 .jse-copied-text:where(.svelte-zc2wx7){background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff);position:relative;margin:2px;padding:0 5px;border-radius:3px}.jse-navigation-bar.svelte-xs03gj{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-button-color, inherit);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj){font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);color:var(--jse-panel-color-readonly, #b2b2b2);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.flex:where(.svelte-xs03gj){flex:1}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):focus,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj):hover,.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit.editing:where(.svelte-xs03gj){background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));transition:color .2s ease-in,background .2s ease-in}.jse-navigation-bar.svelte-xs03gj .jse-navigation-bar-edit:where(.svelte-xs03gj) .jse-navigation-bar-space:where(.svelte-xs03gj){flex:1;text-align:left}.jse-search-box.svelte-1mxl2uo{border:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-radius:3px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo){display:flex;align-items:stretch}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo),.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo){font-family:inherit;font-size:inherit}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo){display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo):hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) input:where(.svelte-1mxl2uo){color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:3px;background:var(--jse-input-background, var(--jse-background-color, #fff));height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-replace-toggle:where(.svelte-1mxl2uo){padding:var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px));min-width:20px;background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo){flex:1;display:flex;flex-direction:column;padding:calc(.5 * var(--jse-padding, 10px));gap:calc(.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo){flex:1;display:flex;align-items:center;position:relative}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-icon:where(.svelte-1mxl2uo){color:inherit;cursor:inherit;background:inherit;width:32px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) label.jse-search-input-label:where(.svelte-1mxl2uo){flex:1;display:flex}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count:where(.svelte-1mxl2uo){color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-search-section:where(.svelte-1mxl2uo) .jse-search-count.jse-visible:where(.svelte-1mxl2uo){visibility:visible}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo){flex:1;display:flex;padding-left:32px}.jse-search-box.svelte-1mxl2uo .jse-search-form:where(.svelte-1mxl2uo) .jse-search-contents:where(.svelte-1mxl2uo) .jse-replace-section:where(.svelte-1mxl2uo) button:where(.svelte-1mxl2uo){width:auto}.jse-json-preview.svelte-1vjn89h{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-dropdown-button.svelte-11rxb2m{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m){margin:0;padding:0}.jse-dropdown-button.svelte-11rxb2m ul:where(.svelte-11rxb2m) li:where(.svelte-11rxb2m){margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));border-radius:0}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown.jse-visible:where(.svelte-11rxb2m){background:var(--jse-context-menu-background, #656565)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):focus{z-index:1}.jse-dropdown-button.svelte-11rxb2m button.jse-open-dropdown:where(.svelte-11rxb2m):disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m){display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24))}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items.jse-visible:where(.svelte-11rxb2m){display:block}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;width:100%;text-align:left;padding:var(--jse-padding, 10px);margin:0}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-11rxb2m .jse-dropdown-items:where(.svelte-11rxb2m) button:where(.svelte-11rxb2m):disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.svelte-1idfykj{border:none;background:transparent;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-1idfykj:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-1idfykj:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-1idfykj:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-1idfykj{text-align:left}button.jse-context-menu-button.svelte-1idfykj svg{width:16px}.jse-contextmenu.svelte-12z7bz1{box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, .24));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff))}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1){display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-label:where(.svelte-12z7bz1){flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:var(--jse-context-menu-color-disabled, #9d9d9d);line-height:normal}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1){flex:1;background:var(--jse-context-menu-tip-background, rgba(255, 255, 255, .2));color:var(--context-menu-tip-color, inherit);margin:calc(.5 * var(--jse-padding, 10px));padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:flex-start;gap:var(--jse-padding, 10px);border-radius:3px}.jse-contextmenu.svelte-12z7bz1 .jse-row:where(.svelte-12z7bz1) div.jse-tip:where(.svelte-12z7bz1) div.jse-tip-icon:where(.svelte-12z7bz1){padding-top:calc(.5 * var(--jse-padding, 10px))}.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1){flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-12z7bz1 .jse-column:where(.svelte-12z7bz1):not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color, #7a7a7a)}.jse-contextmenu.svelte-12z7bz1 .jse-separator:where(.svelte-12z7bz1){width:100%;height:1px;background:var(--jse-context-menu-separator-color, #7a7a7a)}.jse-tree-mode.svelte-vrx1dr{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px) )}.jse-tree-mode.svelte-vrx1dr .jse-hidden-input-label:where(.svelte-vrx1dr) .jse-hidden-input:where(.svelte-vrx1dr){position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.no-main-menu.svelte-vrx1dr{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-search-box-container:where(.svelte-vrx1dr){position:relative;height:0;top:var(--jse-padding, 10px);margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr){flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading-space:where(.svelte-vrx1dr){flex:1}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-loading:where(.svelte-vrx1dr){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-tree-mode.svelte-vrx1dr .jse-contents:where(.svelte-vrx1dr) .jse-search-box-background:where(.svelte-vrx1dr){border:50px solid var(--jse-modal-background, #f5f5f5);margin:-2px -2px 2px;display:inline-block}.jse-transform-modal-inner.svelte-rrrjnb{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb){color:inherit;flex:1;display:flex;flex-direction:column;padding:0;overflow:auto;min-width:0;min-height:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb) button.jse-primary:where(.svelte-rrrjnb):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb){flex:1;display:flex;gap:calc(2 * var(--jse-padding, 10px));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p{margin:var(--jse-padding, 10px) 0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:first-child{margin-top:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) p:last-child{margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .jse-description:where(.svelte-rrrjnb) code{background:var(--jse-modal-code-background, rgba(0, 0, 0, .05));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) .query-error:where(.svelte-rrrjnb){color:var(--jse-error-color, #ee5341)}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb){flex:1;outline:none;resize:vertical}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-original-data.jse-hide:where(.svelte-rrrjnb){flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-preview-data:where(.svelte-rrrjnb){flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents.jse-hide-original-data:where(.svelte-rrrjnb){flex-direction:column;gap:0;margin-bottom:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-actions:where(.svelte-rrrjnb){padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px))}@media screen and (max-width: 1200px){.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb){flex-direction:column;overflow:auto}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-query-contents:where(.svelte-rrrjnb) textarea.jse-query:where(.svelte-rrrjnb){min-height:150px;flex:none}.jse-transform-modal-inner.svelte-rrrjnb .jse-modal-contents:where(.svelte-rrrjnb) .jse-main-contents:where(.svelte-rrrjnb) .jse-data-contents:where(.svelte-rrrjnb) .jse-tree-mode{height:300px;flex:none}}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb){font-weight:700;display:block;box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb){margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-transform-modal-inner.svelte-rrrjnb .jse-label:where(.svelte-rrrjnb) .jse-label-inner:where(.svelte-rrrjnb) button:where(.svelte-rrrjnb){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);margin:0;font-weight:700;padding:0}.jse-transform-modal-inner.svelte-rrrjnb .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly, transparent);box-shadow:none;box-sizing:border-box;--jse-main-border: var(--jse-input-border, 1px solid #d8dbdf)}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb),.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb){border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):focus,.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-transform-modal-inner.svelte-rrrjnb input:where(.svelte-rrrjnb):read-only,.jse-transform-modal-inner.svelte-rrrjnb textarea:where(.svelte-rrrjnb):read-only{background:var(--jse-input-background-readonly, transparent)}.jse-transform-modal-inner.svelte-rrrjnb .jse-preview.jse-error:where(.svelte-rrrjnb){flex:1;background:var(--jse-input-background-readonly, transparent);border:var(--jse-input-border, 1px solid #d8dbdf);color:var(--jse-error-color, #ee5341);padding:calc(.5 * var(--jse-padding, 10px))}.jse-transform-modal-inner.svelte-rrrjnb a{color:var(--jse-a-color, #156fc5)}.jse-transform-modal-inner.svelte-rrrjnb a:hover{color:var(--jse-a-color-highlight, #0f508d)}.jse-status-bar.svelte-1ulj7zd{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);margin:0;border-top:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);display:flex;gap:var(--jse-padding, 10px)}.jse-status-bar.svelte-1ulj7zd:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-status-bar.svelte-1ulj7zd .jse-status-bar-info:where(.svelte-1ulj7zd){padding:2px}.jse-text-mode.svelte-xt61xw{--internal-key-color: var(--jse-key-color, #1a1a1a);--internal-value-color-number: var(--jse-value-color-number, #ee422e);--internal-value-color-boolean: var(--jse-value-color-boolean, #ff8c00);--internal-value-color-string: var(--jse-value-color-string, #008000);--internal-value-color-null: var(--jse-value-color-null, #004ed0);flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color, #fff)}.jse-text-mode.no-main-menu.svelte-xt61xw{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw){flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-hidden:where(.svelte-xt61xw){visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px) );color:var(--jse-delimiter-color, rgba(0, 0, 0, .38))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-gutters{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);border-right:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLine,.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color, rgba(0, 0, 0, .06))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color, #d3d3d3)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color, rgba(153, 255, 119, .5019607843))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background, rgba(0, 0, 0, .2));color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));border:none;padding:0 var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-tooltip{font-size:var(--jse-font-size, 16px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);color:var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));background:var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));border:var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tooltip-action-button-background, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-panels{border-bottom:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search input{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-input-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);background:var(--jse-input-background, var(--jse-background-color, #fff));margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent);border:none;cursor:pointer;text-transform:capitalize;padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);margin:0}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);padding-left:var(--jse-padding, 10px)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-search button[name=close]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color, #4d4d4d)}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading-space:where(.svelte-xt61xw){flex:1}.jse-text-mode.svelte-xt61xw .jse-contents:where(.svelte-xt61xw) .jse-loading:where(.svelte-xt61xw){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-xt61xw .jse-contents.jse-preview:where(.svelte-xt61xw){flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}.jse-inline-value.svelte-h57m0p{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px) );border:none;padding:0 calc(.5 * var(--jse-padding, 10px));background:transparent;color:inherit;cursor:inherit}.jse-inline-value.jse-highlight.svelte-h57m0p{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, none)}.jse-inline-value.jse-highlight.jse-active.svelte-h57m0p{background-color:var(--jse-search-match-active-color, var(--jse-search-match-color, #ffe665));outline:var(--jse-search-match-outline, 2px solid #e0be00)}.jse-column-header.svelte-2i3vdx{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-2i3vdx:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-2i3vdx:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-2i3vdx span.jse-column-sort-icon:where(.svelte-2i3vdx){height:1em}.jse-table-mode-welcome.svelte-1q0ce0e{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-before:where(.svelte-1q0ce0e){flex:1}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e){display:flex;flex-direction:column;gap:var(--jse-padding, 10px);max-width:300px;margin:2em var(--jse-padding, 10px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) .jse-nested-arrays-info:where(.svelte-1q0ce0e){color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e){text-align:left;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-table-mode-welcome.svelte-1q0ce0e .jse-nested-arrays:where(.svelte-1q0ce0e) button.jse-nested-array-action:where(.svelte-1q0ce0e) .jse-nested-array-count:where(.svelte-1q0ce0e){opacity:.5;white-space:nowrap}.jse-table-mode-welcome.svelte-1q0ce0e .jse-space.jse-after:where(.svelte-1q0ce0e){flex:2}.jse-column-header.svelte-fzj761{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-fzj761:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-fzj761:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-table-mode.svelte-u14cgx{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px) )}.jse-table-mode.no-main-menu.svelte-u14cgx{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-search-box-container:where(.svelte-u14cgx){position:relative;height:0;top:calc(var(--jse-line-height, calc(1em + 4px) ) + 2 * var(--jse-padding, 10px));margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx){position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-u14cgx .jse-hidden-input-label:where(.svelte-u14cgx) .jse-hidden-input:where(.svelte-u14cgx){width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx){flex:1;align-items:flex-start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;scrollbar-gutter:stable;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx):last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx){border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-start-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx),.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx){margin:0;padding:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-search-box-background:where(.svelte-u14cgx){background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-invisible-end-section:where(.svelte-u14cgx) td:where(.svelte-u14cgx){padding-bottom:var(--jse-padding, 10px)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx):hover{background-color:var(--jse-table-row-odd-background, rgba(0, 0, 0, .05))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx){padding:0 var(--jse-padding, 10px) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height, calc(1em + 4px) )}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx),.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx){font-weight:400;text-align:left;color:var(--jse-text-readonly, #8d8d8d);background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx){padding:0;position:sticky;top:0}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-header:where(.svelte-u14cgx) .jse-table-root-error:where(.svelte-u14cgx){padding:calc(.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(.5 * var(--jse-padding, 10px)) calc(.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell.jse-table-cell-gutter:where(.svelte-u14cgx){padding:0 var(--jse-padding, 10px) 0 calc(.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx){display:inline-block;cursor:var(--jse-contents-cursor, pointer)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer:where(.svelte-u14cgx):hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, .06))}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-value-outer.jse-selected-value:where(.svelte-u14cgx){background:var(--jse-selection-background-color, #d3d3d3)}.jse-table-mode.svelte-u14cgx .jse-contents:where(.svelte-u14cgx) table.jse-table-main:where(.svelte-u14cgx) .jse-table-row:where(.svelte-u14cgx) .jse-table-cell:where(.svelte-u14cgx) .jse-context-menu-anchor:where(.svelte-u14cgx){display:inline-flex;position:relative;vertical-align:top}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx){align-items:unset}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading-space:where(.svelte-u14cgx){flex:1}.jse-table-mode.svelte-u14cgx .jse-contents.jse-contents-loading:where(.svelte-u14cgx) .jse-loading:where(.svelte-u14cgx){flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-modal-wrapper.svelte-v0el4e{flex:1;display:flex;min-width:0;min-height:0;flex-direction:column}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e){flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-actions:where(.svelte-v0el4e) button.jse-primary:where(.svelte-v0el4e):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e){font-weight:700;display:block;box-sizing:border-box}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-label:where(.svelte-v0el4e) .jse-label-inner:where(.svelte-v0el4e){margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal-wrapper.svelte-v0el4e .jse-modal-contents:where(.svelte-v0el4e) .jse-modal-inline-editor:where(.svelte-v0el4e){flex:1;min-height:150px;min-width:0;max-width:100%;display:flex;--jse-theme-color: var(--jse-modal-editor-theme-color, #707070);--jse-theme-color-highlight: var(--jse-modal-editor-theme-color-highlight, #646464)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e){gap:var(--jse-padding, 10px);align-items:center}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) .jse-error:where(.svelte-v0el4e){flex:1;color:var(--jse-error-color, #ee5341)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-secondary-background, #d3d3d3);color:var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):hover{background:var(--jse-button-secondary-background-highlight, #e1e1e1)}.jse-modal-wrapper.svelte-v0el4e .jse-actions:where(.svelte-v0el4e) button.jse-secondary:where(.svelte-v0el4e):disabled{background:var(--jse-button-secondary-background-disabled, #9d9d9d)}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e){border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, \"Ubuntu Mono\", \"source-code-pro\", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal-wrapper.svelte-v0el4e input:where(.svelte-v0el4e):read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal-contents.svelte-1v9c92j{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j){display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j){border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal-contents.svelte-1v9c92j .jse-actions:where(.svelte-1v9c92j) button.jse-primary:where(.svelte-1v9c92j):disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j){width:100%;border-collapse:collapse;border-spacing:0}.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) th:where(.svelte-1v9c92j),.jse-modal-contents.svelte-1v9c92j table:where(.svelte-1v9c92j) td:where(.svelte-1v9c92j){text-align:left;vertical-align:middle;font-weight:400;padding-bottom:var(--jse-padding, 10px)}.jse-modal-contents.svelte-1v9c92j input.jse-path:where(.svelte-1v9c92j){width:100%;box-sizing:border-box;padding:5px 10px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);font-family:inherit;font-size:inherit;background:inherit;background:var(--jse-input-background-readonly, transparent);color:inherit;outline:none}.jse-modal-contents.svelte-1v9c92j .svelte-select input{box-sizing:border-box}.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j){height:200px}.jse-modal-contents.svelte-1v9c92j .jse-space:where(.svelte-1v9c92j) .jse-error:where(.svelte-1v9c92j){color:var(--jse-error-color, #ee5341)}.jse-main.svelte-57bmz4{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;position:relative;display:flex;flex-direction:row}.jse-main.svelte-57bmz4:not(.jse-focus){--jse-selection-background-color: var(--jse-selection-background-inactive-color, #e8e8e8);--jse-context-menu-pointer-background: var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.text-editor.svelte-ln3sgl{width:100%;height:100%}textarea.svelte-ln3sgl{width:100%;height:100%;padding:.5rem;border:1px solid var(--border-color);border-radius:0;resize:vertical}.actions.svelte-ln3sgl{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}button.svelte-ln3sgl{border:1px solid var(--border-color);border-radius:0;padding:.2rem .5rem;height:var(--cell-height)}.input-json.svelte-1jxuyml{margin-left:auto;margin-right:auto;width:100%}input[type=number].svelte-1jxuyml{text-align:right}input[type=date].svelte-1jxuyml{text-align:center}span.svelte-1jxuyml{display:flex;align-items:stretch;gap:1px;width:100%;height:100%}span.svelte-1jxuyml input:where(.svelte-1jxuyml){flex:1;min-width:0;height:100%;margin:0;padding:0 4px;overflow:hidden;white-space:nowrap}span.svelte-1jxuyml button:where(.svelte-1jxuyml){border:none;background:none;padding:0 4px;height:100%;cursor:pointer;opacity:.5;transition:opacity .2s,background-color .2s;border-radius:0;flex-shrink:0;display:flex;align-items:center}span.svelte-1jxuyml button:where(.svelte-1jxuyml):hover{opacity:1;background-color:#f3f4f6}.read-only.svelte-1jxuyml{opacity:.5;background-color:#dcdcdc;cursor:not-allowed}.entityColor.svelte-kz9usa{border-bottom:2px solid hsla(var(--color),70%,50%,1)}.margin-auto.svelte-kz9usa{margin-left:auto;margin-right:auto}.change.svelte-kz9usa{background-color:#ddfde6!important}.changeHi.svelte-kz9usa{background-color:#bbfbcd!important}.error-label.svelte-kz9usa{border-top:1px solid red;border-bottom:1px solid red;position:absolute;top:-6px;width:100%;font-size:.8em;color:#d32f2f;margin-top:-2px;text-align:center;background-color:#ffebee;border-radius:2px;transition:opacity .3s ease-in-out;z-index:77}.actions.svelte-ixlb6t{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}.filter__group.svelte-147r7fx{display:grid;grid-template-columns:1fr 1fr 1fr auto;align-items:center;gap:.2rem}input.svelte-147r7fx,select.svelte-147r7fx,button.svelte-147r7fx{border:1px solid var(--border-color);border-radius:0;padding:.2rem .5rem;margin-bottom:.5rem;min-width:0!important;height:var(--cell-height)}.icon-button.svelte-147r7fx{background:none;border:none;cursor:pointer}.w-20.svelte-di43ln{width:20px}.flexItemCenter.svelte-di43ln{display:flex;align-items:center}th.svelte-di43ln{cursor:pointer}.th-span.svelte-di43ln{display:flex;gap:.3rem;align-items:center;justify-content:space-between}.title.svelte-di43ln{border-left:2px solid hsla(var(--color),70%,50%,1)}.loading-skeleton.svelte-di43ln{padding:0 .5rem}button.svelte-di43ln:disabled{opacity:.2;cursor:not-allowed}:root{--dialog-width: 550px;--color-black: 0 0 0;--color-white: 255 255 255;--color-indigo-100: 224 231 255;--color-indigo-400: 129 140 248;--color-indigo-700: 67 56 202;--color-indigo-800: 55 48 163;--color-indigo-900: 49 46 129;--color-magnum-100: 254 242 214;--color-magnum-400: 247 177 85;--color-magnum-700: 189 87 17;--color-magnum-800: 150 69 22;--color-magnum-900: 121 58 21;--color-zinc-100: 244 244 245;--color-zinc-600: 82 82 91;--font-family-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";--font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace}.trigger.svelte-11r9kjw{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1rem;border-radius:.375rem;background-color:rgb(var(--color-white) / 1);font-weight:500;line-height:1;color:rgb(var(--color-indigo-700) / 1);box-shadow:0 10px 15px -3px rgb(var(--color-black) / .1),0 4px 6px -4px rgb(var(--color-black) / .1)}.trigger.svelte-11r9kjw:hover{opacity:.75}.overlay.svelte-11r9kjw{position:fixed;top:0;right:0;bottom:0;left:0;z-index:40;background-color:rgb(var(--color-black) / .5)}.content.svelte-11r9kjw{position:fixed;left:50%;top:50%;z-index:50;max-height:85vh;width:90vw;max-width:var(--dialog-width);transform:translate(-50%,-50%);border-radius:.375rem;background-color:rgb(var(--color-white) / 1);padding:1.5rem;box-shadow:0 10px 15px -3px rgb(var(--color-black) / .1),0 4px 6px -4px rgb(var(--color-black) / .1)}.content.svelte-11r9kjw:focus{outline:2px solid transparent;outline-offset:2px}.close.svelte-11r9kjw{display:inline-flex;align-items:center;justify-content:center;position:absolute;right:10px;top:10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:1.5rem;width:1.5rem;padding:0;border-radius:9999px;color:rgb(var(--color-indigo-800) / 1)}.close.svelte-11r9kjw svg:where(.svelte-11r9kjw){width:.7rem;height:.7rem}.close.svelte-11r9kjw:hover{background-color:rgb(var(--color-indigo-100) / 1)}.close.svelte-11r9kjw:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 3px rgb(var(--color-indigo-400) / 1)}.title.svelte-11r9kjw{margin:0;font-size:1.125rem;line-height:1.75rem;font-weight:500;color:rgb(var(--color-black) / 1)}.description.svelte-11r9kjw{margin-bottom:1.25rem;margin-top:.5rem;line-height:1.5;color:rgb(var(--color-zinc-600) / 1)}button{display:inline-flex;align-items:center;justify-content:center;height:2rem;border-radius:.25rem;padding:0 1rem;font-weight:500;line-height:1}button.warning{background-color:rgb(var(--color-magnum-100) / 1);color:rgb(var(--color-magnum-900) / 1)}button.primary{background-color:rgb(var(--color-indigo-100) / 1);color:rgb(var(--color-indigo-900) / 1)}.slot-content.svelte-11r9kjw{flex:1;overflow-y:auto;max-height:calc(85vh - 12rem);margin-bottom:1rem;padding-right:16px}.slot-content.svelte-11r9kjw::-webkit-scrollbar{width:8px}.slot-content.svelte-11r9kjw::-webkit-scrollbar-track{background:transparent}.slot-content.svelte-11r9kjw::-webkit-scrollbar-thumb{background-color:rgb(var(--color-zinc-300) / .5);border-radius:4px;border:2px solid transparent;background-clip:content-box}.slot-content.svelte-11r9kjw::-webkit-scrollbar-thumb:hover{background-color:rgb(var(--color-zinc-400) / .7)}.slot-content.svelte-11r9kjw{scrollbar-width:thin;scrollbar-color:rgb(var(--color-zinc-300) / .5) transparent}header.svelte-1amnogv{font-size:1rem;font-weight:700;margin-bottom:1rem}input.svelte-1amnogv,select.svelte-1amnogv,button.svelte-1amnogv{border:1px solid var(--border-color);border-radius:0;padding:.2rem .5rem;margin-bottom:.5rem;min-width:auto!important;height:var(--cell-height)}input.svelte-1amnogv::placeholder{color:gray;font-style:italic}label.svelte-1amnogv{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-top:10px}select.svelte-1amnogv{width:180px}a.svelte-cg4813{border-left:3px solid hsla(var(--color),70%,50%,1);white-space:nowrap}input.svelte-cg4813::placeholder{color:#888}\n\n</style>\n  </head>\n  <body>\n    <!--PLACE_HERE_BODY-->\n    <div id=\"app\"></div>\n  </body>\n</html>\n"
}